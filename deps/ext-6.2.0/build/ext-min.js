var Ext=Ext||{};Ext.Toolbar||(Ext.Toolbar={}),Ext.app||(Ext.app={}),Ext.app.bind||(Ext.app.bind={}),Ext.app.domain||(Ext.app.domain={}),Ext.app.route||(Ext.app.route={}),Ext.button||(Ext.button={}),Ext.container||(Ext.container={}),Ext.core||(Ext.core={}),Ext.dashboard||(Ext.dashboard={}),Ext.data||(Ext.data={}),Ext.data.field||(Ext.data.field={}),Ext.data.flash||(Ext.data.flash={}),Ext.data.identifier||(Ext.data.identifier={}),Ext.data.matrix||(Ext.data.matrix={}),Ext.data.operation||(Ext.data.operation={}),Ext.data.proxy||(Ext.data.proxy={}),Ext.data.reader||(Ext.data.reader={}),Ext.data.request||(Ext.data.request={}),Ext.data.schema||(Ext.data.schema={}),Ext.data.session||(Ext.data.session={}),Ext.data.validator||(Ext.data.validator={}),Ext.data.writer||(Ext.data.writer={}),Ext.dd||(Ext.dd={}),Ext.direct||(Ext.direct={}),Ext.dom||(Ext.dom={}),Ext.dom.Element||(Ext.dom.Element={}),Ext.drag||(Ext.drag={}),Ext.drag.proxy||(Ext.drag.proxy={}),Ext.draw||(Ext.draw={}),Ext.event||(Ext.event={}),Ext.event.gesture||(Ext.event.gesture={}),Ext.event.publisher||(Ext.event.publisher={}),Ext.flash||(Ext.flash={}),Ext.form||(Ext.form={}),Ext.form.Action||(Ext.form.Action={}),Ext.form.action||(Ext.form.action={}),Ext.form.field||(Ext.form.field={}),Ext.form.trigger||(Ext.form.trigger={}),Ext.fx||(Ext.fx={}),Ext.fx.animation||(Ext.fx.animation={}),Ext.fx.easing||(Ext.fx.easing={}),Ext.fx.layout||(Ext.fx.layout={}),Ext.fx.layout.card||(Ext.fx.layout.card={}),Ext.fx.runner||(Ext.fx.runner={}),Ext.fx.target||(Ext.fx.target={}),Ext.grid||(Ext.grid={}),Ext.grid.column||(Ext.grid.column={}),Ext.grid.feature||(Ext.grid.feature={}),Ext.grid.filters||(Ext.grid.filters={}),Ext.grid.filters.filter||(Ext.grid.filters.filter={}),Ext.grid.header||(Ext.grid.header={}),Ext.grid.locking||(Ext.grid.locking={}),Ext.grid.plugin||(Ext.grid.plugin={}),Ext.grid.property||(Ext.grid.property={}),Ext.grid.selection||(Ext.grid.selection={}),Ext.layout||(Ext.layout={}),Ext.layout.boxOverflow||(Ext.layout.boxOverflow={}),Ext.layout.component||(Ext.layout.component={}),Ext.layout.component.field||(Ext.layout.component.field={}),Ext.layout.container||(Ext.layout.container={}),Ext.layout.container.border||(Ext.layout.container.border={}),Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={}),Ext.list||(Ext.list={}),Ext.menu||(Ext.menu={}),Ext.mixin||(Ext.mixin={}),Ext.override||(Ext.override={}),Ext.override.sparkline||(Ext.override.sparkline={}),Ext.overrides||(Ext.overrides={}),Ext.overrides.app||(Ext.overrides.app={}),Ext.overrides.app.domain||(Ext.overrides.app.domain={}),Ext.overrides.dom||(Ext.overrides.dom={}),Ext.overrides.event||(Ext.overrides.event={}),Ext.overrides.event.publisher||(Ext.overrides.event.publisher={}),Ext.overrides.list||(Ext.overrides.list={}),Ext.overrides.plugin||(Ext.overrides.plugin={}),Ext.overrides.util||(Ext.overrides.util={}),Ext.panel||(Ext.panel={}),Ext.parse||(Ext.parse={}),Ext.parse.symbol||(Ext.parse.symbol={}),Ext.perf||(Ext.perf={}),Ext.picker||(Ext.picker={}),Ext.plugin||(Ext.plugin={}),Ext.promise||(Ext.promise={}),Ext.resizer||(Ext.resizer={}),Ext.scroll||(Ext.scroll={}),Ext.selection||(Ext.selection={}),Ext.slider||(Ext.slider={}),Ext.sparkline||(Ext.sparkline={}),Ext.state||(Ext.state={}),Ext.tab||(Ext.tab={}),Ext.tip||(Ext.tip={}),Ext.toolbar||(Ext.toolbar={}),Ext.tree||(Ext.tree={}),Ext.tree.plugin||(Ext.tree.plugin={}),Ext.util||(Ext.util={}),Ext.util.paintmonitor||(Ext.util.paintmonitor={}),Ext.util.sizemonitor||(Ext.util.sizemonitor={}),Ext.util.translatable||(Ext.util.translatable={}),Ext.ux||(Ext.ux={}),Ext.ux.form||(Ext.ux.form={}),Ext.ux.layout||(Ext.ux.layout={}),Ext.view||(Ext.view={}),Ext.window||(Ext.window={}),function(e){var b,n,k,s,i,a,h,o,c,j,m=["constructor","toString","valueOf","toLocaleString"],g={},q={},d=0,r=function(){var v,u;for(k=Ext.Base,s=Ext.ClassManager,v=m.length;v-- >0;)u=1<<v,q[g[u]=m[v]]=u;for(v in q)d|=q[v];if(d=~d,Function.prototype.$isFunction=1,j=!(!s||!s.addAlias),i=Ext.Class.getPreprocessor("config").fn,a=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn,h=Ext.Class.getPreprocessor("platformConfig")&&Ext.Class.getPreprocessor("platformConfig").fn,c=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn,o=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn,!(b=k.$staticMembers)){b=[];for(n in k)k.hasOwnProperty(n)&&b.push(n)}return e.derive=l,l.apply(this,arguments)},t=function(D,z,C){var y,B,x,v,u,w=C.enumerableMembers,A=D.prototype;if(z)if(j)D.addMembers(z);else{for(y in z)v=z[y],v&&v.$isFunction&&!v.$isClass&&v!==Ext.emptyFn&&v!==Ext.identityFn?(u=A.hasOwnProperty(y)&&A[y],u&&(v.$previous=u),A[y]=B=v,B.$owner=D,B.$name=y):A[y]=v;for(x=1;w;x<<=1)w&x&&(w&=~x,y=g[x],A[y]=B=z[y],B.$owner=D,B.$name=y)}},l=function(z,C,X,u,B,L,A,U,x,N,G){var O,R,T,I,Q,aa,Z,P,E,V,M,H,Y,v=function(){return this.constructor.apply(this,arguments)||null},W=v,w={enumerableMembers:u&d,onCreated:G,onBeforeCreated:t,aliases:U},J=X.alternateClassName||[],S=Ext.global,K=s.alternateToName||s.maps.alternateToName,D=s.nameToAlternates||s.maps.nameToAlternates;for(T=b.length;T-- >0;)Z=b[T],v[Z]=k[Z];if(X.$isFunction&&(X=X(v)),w.data=X,E=X.statics,delete X.statics,X.$className=z,"$className"in X&&(v.$className=X.$className),v.extend(C),P=v.prototype,B&&(v.xtype=X.xtype=B[0],P.xtypes=B),P.xtypesChain=L,P.xtypesMap=A,X.alias=U,W.triggerExtended(v,X,w),X.onClassExtended&&(v.onExtended(X.onClassExtended,v),delete X.onClassExtended),X.privates&&c&&c.call(Ext.Class,v,X),E)if(j)v.addStatics(E);else for(V in E)E.hasOwnProperty(V)&&(Y=E[V],Y&&Y.$isFunction&&!Y.$isClass&&Y!==Ext.emptyFn&&Y!==Ext.identityFn&&(v[V]=H=Y,H.$owner=v,H.$name=V),v[V]=Y);for(X.inheritableStatics&&(v.addInheritableStatics(X.inheritableStatics),delete X.inheritableStatics),P.onClassExtended&&(W.onExtended(P.onClassExtended,W),delete P.onClassExtended),X.platformConfig&&h&&(h.call(Ext.Class,v,X),delete X.platformConfig),X.config&&i.call(Ext.Class,v,X),X.cachedConfig&&a&&(a.call(Ext.Class,v,X),delete X.cachedConfig),X.deprecated&&o&&o.call(Ext.ClassManager,z,v,X),w.onBeforeCreated(v,w.data,w),T=0,Q=x&&x.length;T<Q;++T)v.mixin.apply(v,x[T]);for(T=0,Q=U.length;T<Q;T++)O=U[T],s.setAlias?s.setAlias(v,O):s.addAlias(v,O);for(X.singleton&&(W=new v),J instanceof Array||(J=[J]),M=s.getName(W),T=0,I=J.length;T<I;T++)R=J[T],s.classes[R]=W,j?s.addAlternate(v,R):M&&(K[R]=M,J=D[M]||(D[M]=[]),J.push(R));for(T=0,Q=N.length;T<Q;T+=2)aa=N[T],aa||(aa=S),aa[N[T+1]]=W;return s.classes[z]=W,j||M&&M!==z&&(K[z]=M,J=D[M]||(D[M]=[]),J.push(z)),delete P.alternateClassName,w.onCreated&&w.onCreated.call(W,W),z&&s.triggerCreated(z),W};e.derive=r}(Ext.cmd={});var Ext=Ext||{};Ext.Boot=Ext.Boot||function(h){function b(r){if(r.$isRequest)return r;var r=r.url?r:{url:r},s=r.url,t=s.charAt?[s]:s,u=r.charset||d.config.charset;a(this,r),delete this.url,this.urls=t,this.charset=u}function j(s){if(s.$isEntry)return s;var v,u,x=s.charset||d.config.charset,w=Ext.manifest,r=w&&w.loader,t=void 0!==s.cache?s.cache:r&&r.cache;d.config.disableCaching&&(void 0===t&&(t=!d.config.disableCaching),!1===t?v=+new Date:!0!==t&&(v=t),v&&(u=r&&r.cacheParam||d.config.disableCachingParam,v=u+"="+v)),a(this,s),this.charset=x,this.buster=v,this.requests=[]}var o=document,e=[],k={disableCaching:!(/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(o.cookie)),disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:"UTF-8"},q={},g=/\.css(?:\?|$)/i,n=o.createElement("a"),l="undefined"!=typeof window,i={browser:l,node:!l&&"function"==typeof require,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},m=Ext.platformTags={},a=function(s,r,u){if(u&&a(s,u),s&&r&&"object"==typeof r)for(var t in r)s[t]=r[t];return s},p=function(){var s,u,r,v,t=!1,w=Array.prototype.shift.call(arguments);for("boolean"==typeof arguments[arguments.length-1]&&(t=Array.prototype.pop.call(arguments)),r=arguments.length,s=0;s<r;s++)if("object"==typeof(v=arguments[s]))for(u in v)w[t?u.toLowerCase():u]=v[u];return w},c="function"==typeof Object.keys?function(r){return r?Object.keys(r):[]}:function(r){var t,s=[];for(t in r)r.hasOwnProperty(t)&&s.push(t);return s},d={loading:0,loaded:0,apply:a,env:i,config:k,assetConfig:q,scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,useElements:!0,listeners:[],Request:b,Entry:j,allowMultipleBrowsers:!1,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",edge:"Edge",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},osNames:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chromeOS:"ChromeOS",other:"Other"},browserPrefixes:{ie:"MSIE ",edge:"Edge/",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},browserPriority:["edge","opera","dolfin","webosbrowser","silk","chromeiOS","chromeMobile","ie","firefox","safari","chrome"],osPrefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chromeOS:"CrOS "},fallbackOSPrefixes:{windows:"win",mac:"mac",linux:"linux"},devicePrefixes:{iPhone:"iPhone",iPod:"iPod",iPad:"iPad"},maxIEVersion:12,detectPlatformTags:function(){var w=this,r=navigator.userAgent,x=/Mobile(\/|\s)/.test(r),v=document.createElement("div"),t=function(){var L,H,M,N,I,J,F,K,D,E={};for(J=w.browserPriority.length,I=0;I<J;I++)N=w.browserPriority[I],D?K=0:(M=w.browserPrefixes[N],F=r.match(new RegExp("("+M+")([\\w\\._]+)")),(K=F&&F.length>1?parseInt(F[2]):0)&&(D=!0)),E[N]=K;if(E.ie){var G=document.documentMode;G>=8&&(E.ie=G)}for(K=E.ie||!1,L=Math.max(K,w.maxIEVersion),I=8;I<=L;++I)H="ie"+I,E[H+"m"]=K?K<=I:0,E[H]=K?K===I:0,E[H+"p"]=K?K>=I:0;return E}(),u=function(){var J,K,M,G,H,F,D,I,L,E={};for(M=c(w.osPrefixes),H=M.length,G=0,L=0;G<H;G++)K=M[G],J=w.osPrefixes[K],F=r.match(new RegExp("("+J+")([^\\s;]+)")),D=F?F[1]:null,I=!D||"HTC_"!==D&&"Silk/"!==D?F&&F.length>1?parseFloat(F[F.length-1]):0:2.3,I&&L++,E[K]=I;for(M=c(w.fallbackOSPrefixes),H=M.length,G=0;G<H;G++)K=M[G],0===L?(J=w.fallbackOSPrefixes[K],F=r.toLowerCase().match(new RegExp(J)),E[K]=!!F||0):E[K]=0;return E}(),C=function(){var J,H,I,G,D,F,E={};for(I=c(w.devicePrefixes),D=I.length,G=0;G<D;G++)H=I[G],J=w.devicePrefixes[H],F=r.match(new RegExp(J)),E[H]=!!F||0;return E}(),s=d.loadPlatformsParam();p(m,t,u,C,s,!0),m.phone=!!(m.iphone||m.ipod||!m.silk&&m.android&&(m.android<3||x)||m.blackberry&&x||m.windowsphone),m.tablet=!(m.phone||!(m.ipad||m.android||m.silk||m.rimtablet||m.ie10&&/; Touch/.test(r))),m.touch=function(F,D){void 0===D&&(D=window);var E="on"+F.toLowerCase(),G=E in v;return G||v.setAttribute&&v.removeAttribute&&(v.setAttribute(E,""),G="function"==typeof v[E],void 0!==v[E]&&(v[E]=void 0),v.removeAttribute(E)),G}("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints,m.desktop=!m.phone&&!m.tablet,m.cordova=m.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova),m.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(r),m.androidstock=m.android<=4.3&&(m.safari||m.silk),p(m,s,!0)},loadPlatformsParam:function(){var x,A,w,u,s,z,r=window.location.search.substr(1),t=r.split("&"),v={},y={};for(x=0;x<t.length;x++)A=t[x].split("="),v[A[0]]=A[1];if(v.platformTags)for(A=v.platformTags.split(","),w=A.length,x=0;x<w;x++)u=A[x].split(":"),s=u[0],z=!0,u.length>1&&("false"!==(z=u[1])&&"0"!==z||(z=!1)),y[s]=z;return y},filterPlatform:function(t,x){t=e.concat(t||e),x=e.concat(x||e);var u,r,w=t.length,v=x.length,s=!w&&v;for(u=0;u<w&&!s;u++)r=t[u],s=!!m[r];for(u=0;u<v&&s;u++)r=x[u],s=!m[r];return s},init:function(){var r,s,w,A,t,y,u=o.getElementsByTagName("script"),x=u[0],v=u.length,B=/\/ext(\-[a-z\-]+)?\.js$/;d.hasReadyState="readyState"in x,d.hasAsync="async"in x,d.hasDefer="defer"in x,d.hasOnLoad="onload"in x,d.isIE8=d.hasReadyState&&!d.hasAsync&&d.hasDefer&&!d.hasOnLoad,d.isIE9=d.hasReadyState&&!d.hasAsync&&d.hasDefer&&d.hasOnLoad,d.isIE10p=d.hasReadyState&&d.hasAsync&&d.hasDefer&&d.hasOnLoad,d.isIE10=10===new Function("/*@cc_on return @_jscript_version @*/")(),d.isIE10m=d.isIE10||d.isIE9||d.isIE8,d.isIE11=d.isIE10p&&!d.isIE10;for(t=0;t<v;t++)(r=(x=u[t]).src)&&(s=x.readyState||null,!w&&B.test(r)&&(w=r),d.scripts[A=d.canonicalUrl(r)]||new j({key:A,url:r,done:null===s||"loaded"===s||"complete"===s,el:x,prop:"src"}));w||(x=u[u.length-1],w=x.src),d.baseUrl=w.substring(0,w.lastIndexOf("/")+1),y=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),d.origin=y,d.detectPlatformTags(),Ext.filterPlatform=d.filterPlatform},canonicalUrl:function(u){n.href=u;var v,r,t=n.href,s=k.disableCachingParam,w=s?t.indexOf(s+"="):-1;return w>0&&("?"===(v=t.charAt(w-1))||"&"===v)&&(r=t.indexOf("&",w),r=r<0?"":t.substring(r),r&&"?"===v&&(++w,r=r.substring(1)),t=t.substring(0,w-1)+r),t},getConfig:function(r){return r?d.config[r]:d.config},setConfig:function(r,u){if("string"==typeof r)d.config[r]=u;else for(var t in r)d.setConfig(t,r[t]);return d},getHead:function(){return d.docHead||(d.docHead=o.head||o.getElementsByTagName("head")[0])},create:function(t,u,r){var s=r||{};return s.url=t,s.key=u,d.scripts[u]=new j(s)},getEntry:function(t,s,r){var u,v;return u=r?t:d.canonicalUrl(t),v=d.scripts[u],v||(v=d.create(t,u,s),r&&(v.canonicalPath=!0)),v},registerContent:function(s,t,u){var r={content:u,loaded:!0,css:"css"===t};return d.getEntry(s,r)},processRequest:function(s,r){s.loadEntries(r)},load:function(r){var r=new b(r);return r.sync||d.syncMode?d.loadSync(r):(d.currentRequest?(r.getEntries(),d.suspendedQueue.push(r)):(d.currentRequest=r,d.processRequest(r,!1)),d)},loadSync:function(r){var r=new b(r);return d.syncMode++,d.processRequest(r,!0),d.syncMode--,d},loadBasePrefix:function(r){return r=new b(r),r.prependBaseUrl=!0,d.load(r)},loadSyncBasePrefix:function(r){return r=new b(r),r.prependBaseUrl=!0,d.loadSync(r)},requestComplete:function(s){var r;if(d.currentRequest===s)for(d.currentRequest=null;d.suspendedQueue.length>0;)if(r=d.suspendedQueue.shift(),!r.done){d.load(r);break}d.currentRequest||0!=d.suspendedQueue.length||d.fireListeners()},isLoading:function(){return!d.currentRequest&&0==d.suspendedQueue.length},fireListeners:function(){for(var r;d.isLoading()&&(r=d.listeners.shift());)r()},onBootReady:function(r){d.isLoading()?d.listeners.push(r):r()},getPathsFromIndexes:function(u,r){if(!("length"in u)){var s,t=[];for(s in u)isNaN(+s)||(t[+s]=u[s]);u=t}return b.prototype.getPathsFromIndexes(u,r)},createLoadOrderMap:function(r){return b.prototype.createLoadOrderMap(r)},fetch:function(r,s,A,u){u=void 0===u?!!s:u;var B,w,x,z=new XMLHttpRequest,t=!1,y=function(){z&&4==z.readyState&&(w=1223===z.status?204:0!==z.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?z.status:200,x=z.responseText,B={content:x,status:w,exception:t},s&&s.call(A,B),z.onreadystatechange=h,z=null)};u&&(z.onreadystatechange=y);try{z.open("GET",r,u),z.send(null)}catch(v){return t=v,y(),B}return u||y(),B},notifyAll:function(r){r.notifyRequests()}};return b.prototype={$isRequest:!0,createLoadOrderMap:function(s){var v,u,r=s.length,t={};for(v=0;v<r;v++)u=s[v],t[u.path]=u;return t},getLoadIndexes:function(D,z,s,t,C){var v,A,y,x,u,w,B=[],v=[D],r=D.idx;if(z[r])return B;for(z[r]=B[r]=!0;D=v.shift();)if(A=D.canonicalPath?d.getEntry(D.path,null,!0):d.getEntry(this.prepareUrl(D.path)),!C||!A.done)for(y=t&&D.uses&&D.uses.length?D.requires.concat(D.uses):D.requires,u=0,w=y.length;u<w;u++)x=y[u],z[x]||(z[x]=B[x]=!0,v.push(s[x]));return B},getPathsFromIndexes:function(u,s){var t,r,v=[];for(t=0,r=u.length;t<r;t++)u[t]&&v.push(s[t].path);return v},expandUrl:function(w,r,u,y,v,t){var x,s;return r&&(x=u[w])&&(s=this.getLoadIndexes(x,y,r,v,t),s.length)?this.getPathsFromIndexes(s,r):[w]},expandUrls:function(A,v){var C,F,w,x,E,u,D,B=this,r=B.loadOrder,y=[],s={},z=[];for("string"==typeof A&&(A=[A]),r&&((C=B.loadOrderMap)||(C=B.loadOrderMap=B.createLoadOrderMap(r))),w=0,x=A.length;w<x;w++)for(F=this.expandUrl(A[w],r,C,z,v,!1),E=0,u=F.length;E<u;E++)D=F[E],s[D]||(s[D]=!0,y.push(D));return 0===y.length&&(y=A),y},expandLoadOrder:function(){var r,s=this,t=s.urls;return s.expanded?r=t:(r=this.expandUrls(t,!0),s.expanded=!0),s.urls=r,t.length!=r.length&&(s.sequential=!0),s},getUrls:function(){return this.expandLoadOrder(),this.urls},prepareUrl:function(r){return this.prependBaseUrl?d.baseUrl+r:r},getEntries:function(){var s,w,u,v,y,t,x=this,r=x.entries;if(!r){for(r=[],y=x.getUrls(),x.loadOrder&&(s=x.loadOrderMap),u=0;u<y.length;u++)t=x.prepareUrl(y[u]),s&&(w=s[t]),v=d.getEntry(t,{buster:x.buster,charset:x.charset},w&&w.canonicalPath),v.requests.push(x),r.push(v);x.entries=r}return r},loadEntries:function(x){var s,v,u,w=this,s=w.getEntries(),r=s.length,y=w.loadStart||0;for(void 0!==x&&(w.sync=x),w.loaded=w.loaded||0,w.loading=w.loading||r,u=y;u<r;u++)if(v=s[u],!(v.loaded||s[u].load(w.sync))){w.loadStart=u,v.onDone(function(){w.loadEntries(x)});break}w.processLoadedEntries()},processLoadedEntries:function(){var t,u,v=this,s=v.getEntries(),r=s.length,w=v.startIndex||0;if(!v.done){for(t=w;t<r;t++){if(u=s[t],!u.loaded)return void(v.startIndex=t);u.evaluated||u.evaluate(),u.error&&(v.error=!0)}v.notify()}},notify:function(){var v=this;if(!v.done){var s=v.error,u=v[s?"failure":"success"],r="delay"in v?v.delay:s?1:d.config.chainDelay,t=v.scope||v;v.done=!0,u&&(0===r||r>0?setTimeout(function(){u.call(t,v)},r):u.call(t,v)),v.fireListeners(),d.requestComplete(v)}},onDone:function(t){var s=this,r=s.listeners||(s.listeners=[]);s.done?t(s):r.push(t)},fireListeners:function(){var s,r=this.listeners;if(r)for(;s=r.shift();)s(this)}},j.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){var r=this;return void 0===r.crossDomain&&(r.crossDomain=0!==r.getLoadUrl().indexOf(d.origin)),r.crossDomain},isCss:function(){var s=this;if(void 0===s.css)if(s.url){var r=d.assetConfig[s.url];s.css=r?"css"===r.type:g.test(s.url)}else s.css=!1;return this.css},getElement:function(r){var t=this,s=t.el;return s||(t.isCss()?(r=r||"link",s=o.createElement(r),"link"==r?(s.rel="stylesheet",t.prop="href"):t.prop="textContent",s.type="text/css"):(r=r||"script",s=o.createElement(r),s.type="text/javascript",t.prop="src",t.charset&&(s.charset=t.charset),d.hasAsync&&(s.async=!1)),t.el=s),s},getLoadUrl:function(){var r,s=this;return r=s.canonicalPath?s.url:d.canonicalUrl(s.url),s.loadUrl||(s.loadUrl=s.buster?r+(-1===r.indexOf("?")?"?":"&")+s.buster:r),s.loadUrl},fetch:function(u){var s=this.getLoadUrl(),t=!!u.async,r=u.complete;d.fetch(s,r,this,t)},onContentLoaded:function(s){var w=this,r=s.status,v=s.content,u=s.exception;this.getLoadUrl(),w.loaded=!0,(!u&&0!==r||i.phantom)&&(r>=200&&r<300||304===r||i.phantom||0===r&&v.length>0)?w.content=v:(w.error=!0,w.evaluated=!0)},createLoadElement:function(t){var s=this,r=s.getElement();s.preserve=!0,r.onerror=function(){s.error=!0,t&&(t(),t=null)},d.isIE10m?r.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t&&(t(),t=this.onreadystatechange=this.onerror=null)}:r.onload=function(){t(),t=this.onload=this.onerror=null},r[s.prop]=s.getLoadUrl()},onLoadElementReady:function(){d.getHead().appendChild(this.getElement()),this.evaluated=!0},inject:function(w,v){var s,t,u,A,x=this,y=d.getHead(),r=x.url,z=x.key;return x.isCss()?(x.preserve=!0,A=z.substring(0,z.lastIndexOf("/")+1),s=o.createElement("base"),s.href=A,y.firstChild?y.insertBefore(s,y.firstChild):y.appendChild(s),s.href=s.href,r&&(w+="\n/*# sourceURL="+z+" */"),t=x.getElement("style"),u="styleSheet"in t,y.appendChild(s),u?(y.appendChild(t),t.styleSheet.cssText=w):(t.textContent=w,y.appendChild(t)),y.removeChild(s)):(r&&(w+="\n//# sourceURL="+z),Ext.globalEval(w)),x},loadCrossDomain:function(){var s=this,r=function(){s.el.onerror=s.el.onload=h,s.el=null,s.loaded=s.evaluated=s.done=!0,s.notifyRequests()};return s.createLoadElement(function(){r()}),s.evaluateLoadElement(),!1},loadElement:function(){var s=this,r=function(){s.el.onerror=s.el.onload=h,s.el=null,s.loaded=s.evaluated=s.done=!0,s.notifyRequests()};return s.createLoadElement(function(){r()}),s.evaluateLoadElement(),!0},loadSync:function(){var r=this;r.fetch({async:!1,complete:function(s){r.onContentLoaded(s)}}),r.evaluate(),r.notifyRequests()},load:function(s){var r=this;if(!r.loaded){if(r.loading)return!1;if(r.loading=!0,s)r.loadSync();else{if(d.isIE10||r.isCrossDomain())return r.loadCrossDomain();if(!r.isCss()&&d.hasReadyState)r.createLoadElement(function(){r.loaded=!0,r.notifyRequests()});else{if(!(!d.useElements||r.isCss()&&i.phantom))return r.loadElement();r.fetch({async:!s,complete:function(t){r.onContentLoaded(t),r.notifyRequests()}})}}}return!0},evaluateContent:function(){this.inject(this.content),this.content=null},evaluateLoadElement:function(){d.getHead().appendChild(this.getElement())},evaluate:function(){var r=this;if(!r.evaluated){if(r.evaluating)return;r.evaluating=!0,void 0!==r.content?r.evaluateContent():r.error||r.evaluateLoadElement(),r.evaluated=r.done=!0,r.cleanup()}},cleanup:function(){var u,t=this,s=t.el;if(s){if(!t.preserve){t.el=null,s.parentNode.removeChild(s);for(u in s)try{u!==t.prop&&(s[u]=null),delete s[u]}catch(r){}}s.onload=s.onerror=s.onreadystatechange=h}},notifyRequests:function(){var s,t,u=this.requests,r=u.length;for(s=0;s<r;s++)t=u[s],t.processLoadedEntries();this.done&&this.fireListeners()},onDone:function(t){var s=this,r=s.listeners||(s.listeners=[]);s.done?t(s):r.push(t)},fireListeners:function(){var s,r=this.listeners;if(r&&r.length>0)for(;s=r.shift();)s(this)}},Ext.disableCacheBuster=function(s,t){var r=new Date;r.setTime(r.getTime()+24*(s?3650:-1)*60*60*1e3),r=r.toGMTString(),o.cookie="ext-cache=1; expires="+r+"; path="+(t||"/")},d.init(),d}(function(){}),Ext.globalEval=Ext.globalEval||(this.execScript?function(a){execScript(a)}:function($$code){eval.call(window,$$code)}),Function.prototype.bind||function(){var a=Array.prototype.slice,b=function(d){var c=a.call(arguments,1),e=this;return c.length?function(){var g=arguments;return e.apply(d,g.length?c.concat(a.call(g)):c)}:(c=null,function(){return e.apply(d,arguments)})};Function.prototype.bind=b,b.$extjs=!0}(),Ext.setResourcePath=function(c,b){var a=Ext.manifest||(Ext.manifest={}),d=a.resources||(a.resources={});a&&("string"!=typeof c?Ext.apply(d,c):d[c]=b,a.resources=d)},Ext.getResourcePath=function(g,e,a){"string"!=typeof g&&(e=g.pool,a=g.packageName,g=g.path);var d=Ext.manifest,h=d&&d.resources,c=h[e],b=[];return null==c&&null==(c=h.path)&&(c="resources"),c&&b.push(c),a&&b.push(a),b.push(g),b.join("/")};var Ext=Ext||{};!function(){function m(r,i,s){var p,q;for(p in s)s.hasOwnProperty(p)&&(q=s[p],"function"==typeof q&&(q.$name=p,q.$owner=i,q.$previous=r.hasOwnProperty(p)?r[p]:n),r[p]=q)}var k,b=this,h=Object.prototype,c=h.toString,o=["valueOf","toLocaleString","toString","constructor"],l=function(){},g=function(){},j=function(i){return i},n=function(){var i=n.caller.caller;return i.$owner.prototype[i.$name].apply(this,arguments)},a=Ext.manifest||{},d=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,e=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=b,Ext.now=Date.now||(Date.now=function(){return+new Date}),Ext.ticks=b.performance&&b.performance.now?function(){return performance.now()}:Ext.now,Ext._startTime=Ext.ticks(),l.$nullFn=j.$nullFn=l.$emptyFn=j.$identityFn=g.$nullFn=!0,g.$privacy="framework",l.$noClearOnDestroy=j.$noClearOnDestroy=!0,g.$noClearOnDestroy=!0,Ext.suspendLayouts=Ext.resumeLayouts=l;for(k in{toString:1})o=null;Ext.enumerables=o,Ext.apply=function(s,r,u){if(u&&Ext.apply(s,u),s&&r&&"object"==typeof r){var t,q,p;for(t in r)s[t]=r[t];if(o)for(q=o.length;q--;)p=o[q],r.hasOwnProperty(p)&&(s[p]=r[p])}return s},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:g,emptyFn:l,identityFn:j,frameStartTime:Ext.now(),manifest:a,enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(i){return"#"+i},id:function(p,i){if(p&&p.id)return p.id;var q=(i||Ext.idPrefix)+ ++Ext.idSeed;return p&&(p.id=q),q},returnId:function(i){return i.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(i){return Ext.$eventNameMap[i]||(Ext.$eventNameMap[i]=Ext.$vendorEventRe.test(i)?i:i.toLowerCase())},applyIf:function(p,i){var q;if(p)for(q in i)void 0===p[q]&&(p[q]=i[q]);return p},destroy:function(){var q,p,r=arguments.length;for(q=0;q<r;q++)(p=arguments[q])&&(Ext.isArray(p)?this.destroy.apply(this,p):Ext.isFunction(p.destroy)&&p.destroy());return null},destroyMembers:function(s){for(var u,r,t=1,q=arguments,p=q.length;t<p;t++)null!=(u=s[r=q[t]])&&(s[r]=Ext.destroy(u))},override:function(q,r){if(q.$isClass)q.override(r);else if("function"==typeof q)Ext.apply(q.prototype,r);else{var p,i=q.self;i&&i.$isClass?(p=r.privates,p&&(r=Ext.apply({},r),delete r.privates,m(q,i,p)),m(q,i,r)):Ext.apply(q,r)}return q},valueFrom:function(q,i,p){return Ext.isEmpty(q,p)?i:q},isEmpty:function(i,p){return null==i||!p&&""===i||Ext.isArray(i)&&0===i.length},isArray:"isArray"in Array?Array.isArray:function(i){return"[object Array]"===c.call(i)},isDate:function(i){return"[object Date]"===c.call(i)},isMSDate:function(i){return!!Ext.isString(i)&&e.test(i)},isObject:"[object Object]"===c.call(null)?function(i){return null!==i&&void 0!==i&&"[object Object]"===c.call(i)&&void 0===i.ownerDocument}:function(i){return"[object Object]"===c.call(i)},isSimpleObject:function(i){return i instanceof Object&&i.constructor===Object},isPrimitive:function(p){var i=typeof p;return"string"===i||"number"===i||"boolean"===i},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(i){return!!i&&"[object Function]"===c.call(i)}:function(i){return!!i&&"function"==typeof i},isNumber:function(i){return"number"==typeof i&&isFinite(i)},isNumeric:function(i){return!isNaN(parseFloat(i))&&isFinite(i)},isString:function(i){return"string"==typeof i},isBoolean:function(i){return"boolean"==typeof i},isElement:function(i){return!!i&&1===i.nodeType},isTextNode:function(i){return!!i&&"#text"===i.nodeName},isDefined:function(i){return void 0!==i},isIterable:function(i){return!(!i||"number"!=typeof i.length||"string"==typeof i||Ext.isFunction(i))&&(i.propertyIsEnumerable?!(!i.hasOwnProperty("length")||i.propertyIsEnumerable("length"))||d.test(c.call(i)):!!i.item)},isDebugEnabled:l,clone:function(v,t){if(null===v||void 0===v)return v;if(!1!==t&&v.nodeType&&v.cloneNode)return v.cloneNode(!0);var s,q,p,w,r,u=c.call(v);if("[object Date]"===u)return new Date(v.getTime());if("[object Array]"===u)for(s=v.length,w=[];s--;)w[s]=Ext.clone(v[s],t);else if("[object Object]"===u&&v.constructor===Object){w={};for(r in v)w[r]=Ext.clone(v[r],t);if(o)for(q=o.length;q--;)p=o[q],v.hasOwnProperty(p)&&(w[p]=v[p])}return w||v},getUniqueGlobalNamespace:function(){var p,q=this.uniqueGlobalNamespace;if(void 0===q){p=0;do{q="ExtBox"+ ++p}while(void 0!==b[q]);b[q]=Ext,this.uniqueGlobalNamespace=q}return q},functionFactoryCache:{},cacheableFunctionFactory:function(){var i,r,s,t=this,q=Array.prototype.slice.call(arguments),p=t.functionFactoryCache;return Ext.isSandboxed&&(s=q.length)>0&&(s--,q[s]="var Ext=window."+Ext.name+";"+q[s]),i=q.join(""),r=p[i],r||(r=Function.prototype.constructor.apply(Function.prototype,q),p[i]=r),r},functionFactory:function(){var p,i=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(p=i.length)>0&&(p--,i[p]="var Ext=window."+Ext.name+";"+i[p]),Function.prototype.constructor.apply(Function.prototype,i)},Logger:{log:function(p,i){p&&b.console&&(i&&i in b.console||(i="log"),p="["+i.toUpperCase()+"] "+p,b.console[i](p))},verbose:function(i){this.log(i,"verbose")},info:function(i){this.log(i,"info")},warn:function(i){this.log(i,"warn")},error:function(i){throw new Error(i)},deprecate:function(i){this.log(i,"warn")}}||{verbose:l,log:l,info:l,warn:l,error:function(i){throw new Error(i)},deprecate:l},ariaWarn:function(i,p){Ext.enableAria&&!Ext.slicer&&(Ext.ariaWarn.first||(Ext.ariaWarn.first=!0,Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:"),Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")),Ext.log.warn({msg:p,dump:i}))},getElementById:function(i){return document.getElementById(i)},splitAndUnescape:function(){var i={};return function(r,q){if(!r)return[];if(!q)return[r];var u,s,t=i[q]||(i[q]=new RegExp("\\\\"+q,"g")),p=[];for(u=r.split(q);void 0!==(s=u.shift());){for(;"\\"===s.charAt(s.length-1)&&u.length>0;)s=s+q+u.shift();s=s.replace(t,q),p.push(s)}return p}}()}),Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0}(),Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=!0),function(){function a(){var c=this,b=c.sourceClass,e=c.sourceMethod,d=c.msg;return e&&(d?(e+="(): ",e+=d):e+="()"),b&&(e=e?b+"."+e:b),e||d||""}Ext.Error=function(c){Ext.isString(c)&&(c={msg:c});var b=new Error;return Ext.apply(b,c),b.message=b.message||b.msg,b.toString=a,b},Ext.apply(Ext.Error,{ignore:!1,raise:function(d){d=d||{},Ext.isString(d)&&(d={msg:d});var b,c=this,g=c.raise.caller;if(g===Ext.raise&&(g=g.caller),g&&(!d.sourceMethod&&(b=g.$name)&&(d.sourceMethod=b),!d.sourceClass&&(b=g.$owner)&&(b=b.$className)&&(d.sourceClass=b)),!0!==c.handle(d))throw a.call(d),new Ext.Error(d)},handle:function(){return this.ignore}})}(),Ext.deprecated=function(a){return Ext.emptyFn},Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)},Ext.Array=function(){function k(x,u){var v,e=x.length,w=new Array(e);for(v=0;v<e;v++)w[v]=v;for(w.sort(function(z,y){return u(x[z],x[y])||z-y}),v=0;v<e;v++)w[v]=x[w[v]];for(v=0;v<e;v++)x[v]=w[v];return x}var c=Array.prototype,l=c.slice,n=function(){var e,v=[],u=20;if(!v.splice)return!1;for(;u--;)v.push("A");return v.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=v.length,v.splice(13,0,"XXX"),e+1===v.length}(),m="indexOf"in c,h=!0;try{"undefined"!=typeof document&&l.call(document.getElementsByTagName("body"))}catch(p){h=!1}var j=function(u,e){return e<0?Math.max(0,u.length+e):Math.min(u.length,e)},t=function(B,A,u,E){var F=E?E.length:0,w=B.length,C=j(B,A);if(C===w)F&&B.push.apply(B,E);else{var y,z=Math.min(u,w-C),D=C+z,v=D+F-z,e=w-D,x=w-z;if(v<D)for(y=0;y<e;++y)B[v+y]=B[D+y];else if(v>D)for(y=e;y--;)B[v+y]=B[D+y];if(F&&C===x)B.length=x,B.push.apply(B,E);else for(B.length=x+F,y=0;y<F;++y)B[C+y]=E[y]}return B},g=function(w,e,v,u){return u&&u.length?0!==e||v?e<w.length?w.splice.apply(w,[e,v].concat(u)):w.push.apply(w,u):w.unshift.apply(w,u):w.splice(e,v),w},b=function(v,e,u){return t(v,e,u)},o=function(v,e,u){return v.splice(e,u),v},i=function(y,u,w){var v,e=arguments.length,x=j(y,u);return e<3&&(w=y.length-x),v=y.slice(u,j(y,x+w)),e<4?t(y,x,w):t(y,x,w,l.call(arguments,3)),v},d=function(e){return e.splice.apply(e,l.call(arguments,1))},s=n?o:b,q=n?g:t,r=n?d:i,a={binarySearch:function(A,x,v,e,z){var u,y,w=A.length;for(v instanceof Function?(z=v,v=0,e=w):e instanceof Function?(z=e,
e=w):(void 0===v&&(v=0),void 0===e&&(e=w),z=z||a.lexicalCompare),--e;v<=e;)u=v+e>>1,y=z(x,A[u]),y>=0?v=u+1:y<0&&(e=u-1);return v},defaultCompare:function(e,u){return e<u?-1:e>u?1:0},lexicalCompare:function(e,u){return e=String(e),u=String(u),e<u?-1:e>u?1:0},each:function(y,w,v,e){y=a.from(y);var u,x=y.length;if(!0!==e){for(u=0;u<x;u++)if(!1===w.call(v||y[u],y[u],u,y))return u}else for(u=x-1;u>-1;u--)if(!1===w.call(v||y[u],y[u],u,y))return u;return!0},forEach:"forEach"in c?function(v,u,e){return v.forEach(u,e)}:function(x,v,u){for(var e=0,w=x.length;e<w;e++)v.call(u,x[e],e,x)},indexOf:m?function(v,e,u){return v?c.indexOf.call(v,e,u):-1}:function(x,v,w){var e,u=x?x.length:0;for(e=w<0?Math.max(0,u+w):w||0;e<u;e++)if(x[e]===v)return e;return-1},contains:m?function(u,e){return-1!==c.indexOf.call(u,e)}:function(w,v){var e,u;for(e=0,u=w.length;e<u;e++)if(w[e]===v)return!0;return!1},toArray:function(v,x,e){if(!v||!v.length)return[];if("string"==typeof v&&(v=v.split("")),h)return l.call(v,x||0,e||v.length);var u,w=[];for(x=x||0,e=e?e<0?v.length+e:e:v.length,u=x;u<e;u++)w.push(v[u]);return w},pluck:function(y,e){var v,x,w,u=[];for(v=0,x=y.length;v<x;v++)w=y[v],u.push(w[e]);return u},map:"map"in c?function(v,u,e){return v.map(u,e)}:function(y,x,w){var u,e=y.length,v=new Array(e);for(u=0;u<e;u++)v[u]=x.call(w,y[u],u,y);return v},every:"every"in c?function(v,u,e){return v.every(u,e)}:function(x,v,u){for(var e=0,w=x.length;e<w;++e)if(!v.call(u,x[e],e,x))return!1;return!0},some:"some"in c?function(v,u,e){return v.some(u,e)}:function(x,v,u){for(var e=0,w=x.length;e<w;++e)if(v.call(u,x[e],e,x))return!0;return!1},equals:function(x,w){var v,u=x.length,e=w.length;if(x===w)return!0;if(u!==e)return!1;for(v=0;v<u;++v)if(x[v]!==w[v])return!1;return!0},clean:function(x){for(var v,u=[],e=0,w=x.length;e<w;e++)v=x[e],Ext.isEmpty(v)||u.push(v);return u},unique:function(x){for(var u,w=[],e=0,v=x.length;e<v;e++)u=x[e],-1===a.indexOf(w,u)&&w.push(u);return w},filter:"filter"in c?function(v,u,e){return v.filter(u,e)}:function(y,w,v){for(var u=[],e=0,x=y.length;e<x;e++)w.call(v,y[e],e,y)&&u.push(y[e]);return u},findBy:function(x,w,v){for(var u=0,e=x.length;u<e;u++)if(w.call(v||x,x[u],u))return x[u];return null},from:function(v,u){if(void 0===v||null===v)return[];if(Ext.isArray(v))return u?l.call(v):v;var e=typeof v;return!v||void 0===v.length||"string"===e||"function"===e&&v.apply?[v]:a.toArray(v)},remove:function(v,u){var e=a.indexOf(v,u);return-1!==e&&s(v,e,1),v},removeAt:function(w,u,v){var e=w.length;return u>=0&&u<e&&(v=v||1,v=Math.min(v,e-u),s(w,u,v)),w},include:function(u,e){a.contains(u,e)||u.push(e)},clone:function(e){return l.call(e)},merge:function(){var u,v,e=l.call(arguments),w=[];for(u=0,v=e.length;u<v;u++)w=w.concat(e[u]);return a.unique(w)},intersect:function(){var G,E,A,D,H,w,u,C,F,x,B,z,y,e=[],v=l.call(arguments);if(!v.length)return e;for(G=v.length,B=H=0;B<G;B++)w=v[B],(!D||w.length<D.length)&&(D=w,H=B);for(D=a.unique(D),s(v,H,1),u=D.length,G=v.length,B=0;B<u;B++){for(C=D[B],x=0,z=0;z<G;z++)for(E=v[z],A=E.length,y=0;y<A;y++)if(F=E[y],C===F){x++;break}x===G&&e.push(C)}return e},difference:function(u,e){var w,v,y,z=l.call(u),x=z.length;for(w=0,y=e.length;w<y;w++)for(v=0;v<x;v++)z[v]===e[w]&&(s(z,v,1),v--,x--);return z},reduce:Array.prototype.reduce?function(v,u,e){return 3===arguments.length?Array.prototype.reduce.call(v,u,e):Array.prototype.reduce.call(v,u)}:function(y,x,e){y=Object(y);var v=0,w=y.length>>>0,u=e;if(arguments.length<3)for(;;){if(v in y){u=y[v++];break}if(++v>=w)throw new TypeError("Reduce of empty array with no initial value")}for(;v<w;++v)v in y&&(u=x(u,y[v],v,y));return u},slice:[1,2].slice(1,void 0).length?function(v,u,e){return l.call(v,u,e)}:function(v,u,e){return void 0===u?l.call(v):void 0===e?l.call(v,u):l.call(v,u,e)},sort:function(u,e){return k(u,e||a.lexicalCompare)},flatten:function(v){function e(w){var y,z,x;for(y=0,z=w.length;y<z;y++)x=w[y],Ext.isArray(x)?e(x):u.push(x);return u}var u=[];return e(v)},min:function(y,x){var e,w,v,u=y[0];for(e=0,w=y.length;e<w;e++)v=y[e],x?1===x(u,v)&&(u=v):v<u&&(u=v);return u},max:function(y,x){var u,w,v,e=y[0];for(u=0,w=y.length;u<w;u++)v=y[u],x?-1===x(e,v)&&(e=v):v>e&&(e=v);return e},mean:function(e){return e.length>0?a.sum(e)/e.length:void 0},sum:function(x){var e,w,v,u=0;for(e=0,w=x.length;e<w;e++)v=x[e],u+=v;return u},toMap:function(x,e,v){var w={},u=x.length;if(e)if("string"==typeof e)for(;u--;)w[x[u][e]]=u+1;else for(;u--;)w[e.call(v,x[u])]=u+1;else for(;u--;)w[x[u]]=u+1;return w},toValueMap:function(z,w,E,y){var u,x,C,A,D,B,e={},v=z.length;if(w)for((A="string"!=typeof w)||(y=E),x=1===y,u=2===y;v--;)B=z[v],D=A?w.call(E,B):B[w],x?D in e?e[D].push(B):e[D]=[B]:u&&D in e?(C=e[D])instanceof Array?C.push(B):e[D]=[C,B]:e[D]=B;else for(;v--;)B=z[v],e[B]=B;return e},erase:s,insert:function(v,u,e){return q(v,u,0,e)},move:function(y,u,w){if(w!==u){var e,v=y[u],x=w>u?1:-1;for(e=u;e!=w;e+=x)y[e]=y[e+x];y[w]=v}},replace:q,splice:r,push:function(w){var u,e=arguments.length,v=1;for(void 0===w?w=[]:Ext.isArray(w)||(w=[w]);v<e;v++)u=arguments[v],Array.prototype.push[Ext.isIterable(u)?"apply":"call"](w,u);return w},numericSortFn:function(u,e){return u-e}};return Ext.each=a.each,a.union=a.merge,Ext.min=a.min,Ext.max=a.max,Ext.sum=a.sum,Ext.mean=a.mean,Ext.flatten=a.flatten,Ext.clean=a.clean,Ext.unique=a.unique,Ext.pluck=a.pluck,Ext.toArray=function(){return a.toArray.apply(a,arguments)},a}(),Ext.String=function(){var e,a,h,d,o,i=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,n=/('|\\)/g,b=/([-.*+?\^${}()|\[\]\/\\])/g,p=/^\s+|\s+$/g,j=/\s+/,l=/(^[^a-z]*|[^\w])/gi,g=function(r,q){return e[q]},k=function(r,q){return q in a?a[q]:String.fromCharCode(parseInt(q.substr(2),10))},c=function(r,q){return null!==r&&void 0!==r&&null!==q&&void 0!==q&&q.length<=r.length},m=String.fromCharCode;return o={fromCodePoint:String.fromCodePoint||function(){for(var s,q="",t=[],r=-1,u=arguments.length;++r<u;)s=Number(arguments[r]),(!isFinite(s)||s<0||s>1114111||Math.floor(s)!==s)&&Ext.raise("Invalid code point: "+s),s<=65535?t.push(s):(s-=65536,t.push(55296+(s>>10),s%1024+56320)),r+1===u&&(q+=m(t),t.length=0);return q},insert:function(t,u,r){if(!t)return u;if(!u)return t;var q=t.length;return r||0===r||(r=q),r<0&&(r*=-1,r=r>=q?0:q-r),0===r?t=u+t:r>=t.length?t+=u:t=t.substr(0,r)+u+t.substr(r),t},startsWith:function(t,u,r){var q=c(t,u);return q&&(r&&(t=t.toLowerCase(),u=u.toLowerCase()),q=0===t.lastIndexOf(u,0)),q},endsWith:function(u,r,t){var q=c(u,r);return q&&(t&&(u=u.toLowerCase(),r=r.toLowerCase()),q=-1!==u.indexOf(r,u.length-r.length)),q},createVarName:function(q){return q.replace(l,"")},htmlEncode:function(q){return q?String(q).replace(h,g):q},htmlDecode:function(q){return q?String(q).replace(d,k):q},hasHtmlCharacters:function(q){return h.test(q)},addCharacterEntities:function(r){var s,t,q=[],u=[];for(s in r)t=r[s],a[s]=t,e[t]=s,q.push(t),u.push(s);h=new RegExp("("+q.join("|")+")","g"),d=new RegExp("("+u.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){e={},a={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(r,q){return Ext.isEmpty(q)?r:r+(-1===r.indexOf("?")?"?":"&")+q},trim:function(q){return q&&(q=q.replace(i,"")),q||""},capitalize:function(q){return q&&(q=q.charAt(0).toUpperCase()+q.substr(1)),q||""},uncapitalize:function(q){return q&&(q=q.charAt(0).toLowerCase()+q.substr(1)),q||""},ellipsis:function(s,r,t){if(s&&s.length>r){if(t){var u=s.substr(0,r-2),q=Math.max(u.lastIndexOf(" "),u.lastIndexOf("."),u.lastIndexOf("!"),u.lastIndexOf("?"));if(-1!==q&&q>=r-15)return u.substr(0,q)+"..."}return s.substr(0,r-3)+"..."}return s},escapeRegex:function(q){return q.replace(b,"\\$1")},createRegex:function(u,t,r,q){var s=u;return null==u||u.exec||(s=o.escapeRegex(String(u)),!1!==t&&(s="^"+s),!1!==r&&(s+="$"),s=new RegExp(s,!1!==q?"i":"")),s},escape:function(q){return q.replace(n,"\\$1")},toggle:function(r,s,q){return r===s?q:s},leftPad:function(r,s,t){var q=String(r);for(t=t||" ";q.length<s;)q=t+q;return q},repeat:function(u,t,r){t<1&&(t=0);for(var q=[],s=t;s--;)q.push(u);return q.join(r||"")},splitWords:function(q){return q&&"string"==typeof q?q.replace(p,"").split(j):q||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Date=function(){function j(n){var m=Array.prototype.slice.call(arguments,1);return n.replace(c,function(o,p){return m[p]})}var g,e=Date,l=/(\\.)/g,a=/([gGhHisucUOPZ]|MS)/,h=/([djzmnYycU]|MS)/,k=/\\/gi,c=/\{(\d+)\}/g,i=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=Ext.String.leftPad,b=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");return Date.prototype.toISOString||(Date.prototype.toISOString=function(){var m=this;return d(m.getUTCFullYear(),4,"0")+"-"+d(m.getUTCMonth()+1,2,"0")+"-"+d(m.getUTCDate(),2,"0")+"T"+d(m.getUTCHours(),2,"0")+":"+d(m.getUTCMinutes(),2,"0")+":"+d(m.getUTCSeconds(),2,"0")+"."+d(m.getUTCMilliseconds(),3,"0")+"Z"}),g={now:e.now,toString:function(m){return m||(m=new e),m.getFullYear()+"-"+d(m.getMonth()+1,2,"0")+"-"+d(m.getDate(),2,"0")+"T"+d(m.getHours(),2,"0")+":"+d(m.getMinutes(),2,"0")+":"+d(m.getSeconds(),2,"0")},getElapsed:function(n,m){return Math.abs(n-(m||g.now()))},useStrict:!1,formatCodeToRegex:function(n,m){var o=g.parseCodes[n];return o&&(o="function"==typeof o?o():o,g.parseCodes[n]=o),o?Ext.applyIf({c:o.c?j(o.c,m||"{0}"):o.c},o):{g:0,c:null,s:Ext.String.escapeRegex(n)}},parseFunctions:{MS:function(n,m){var o=(n||"").match(i);return o?new e(1*((o[1]||"")+o[2])):null},time:function(n,m){var o=parseInt(n,10);return o||0===o?new e(o):null},timestamp:function(n,m){var o=parseInt(n,10);return o||0===o?new e(1e3*o):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return g.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(m){return g.monthNames[m].substring(0,3)},getShortDayName:function(m){return g.dayNames[m].substring(0,3)},getMonthNumber:function(m){return g.monthNumbers[m.substring(0,1).toUpperCase()+m.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(m){return a.test(m.replace(l,""))},formatContainsDateInfo:function(m){return h.test(m.replace(l,""))},unescapeFormat:function(m){return m.replace(k,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var n,p,q="Y-m-dTH:i:sP",o=[],m=q.length;for(n=0;n<m;++n)p=q.charAt(n),o.push("T"===p?"'T'":g.getFormatCode(p));return o.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(p,s,n,m,t,o,r){m=m||0,t=t||0,o=o||0,r=r||0;var q=g.add(new e(p<100?100:p,s-1,n,m,t,o,r),g.YEAR,p<100?p-100:0);return p===q.getFullYear()&&s===q.getMonth()+1&&n===q.getDate()&&m===q.getHours()&&t===q.getMinutes()&&o===q.getSeconds()&&r===q.getMilliseconds()},parse:function(n,q,m){var o=g.parseFunctions;return null==o[q]&&g.createParser(q),o[q].call(g,n,Ext.isDefined(m)?m:g.useStrict)},parseDate:function(n,o,m){return g.parse(n,o,m)},getFormatCode:function(n){var m=g.formatCodes[n];return m&&(m="function"==typeof m?m():m,g.formatCodes[n]=m),m||"'"+Ext.String.escape(n)+"'"},createFormat:function(q){var n,p=[],m=!1,o="";for(n=0;n<q.length;++n)o=q.charAt(n),m||"\\"!==o?m?(m=!1,p.push("'"+Ext.String.escape(o)+"'")):"\n"===o?p.push("'\\n'"):p.push(g.getFormatCode(o)):m=!0;g.formatFunctions[q]=Ext.functionFactory("var m=this;return "+p.join("+"))},createParser:function(v){for(var p,n=g.parseRegexes.length,w=1,o=[],u=[],s=!1,m="",q=0,r=v.length,t=[];q<r;++q)m=v.charAt(q),s||"\\"!==m?s?(s=!1,u.push(Ext.String.escape(m))):(p=g.formatCodeToRegex(m,w),w+=p.g,u.push(p.s),p.g&&p.c&&(p.calcAtEnd?t.push(p.c):o.push(p.c))):s=!0;o=o.concat(t),g.parseRegexes[n]=new RegExp("^"+u.join("")+"$","i"),g.parseFunctions[v]=Ext.functionFactory("input","strict",j(b,n,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var m=[],n=0;n<7;m.push(g.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+m.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+g.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+g.monthNames.join("|")+")"}},M:function(){for(var m=[],n=0;n<12;m.push(g.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+m.join("|")+")"},g.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var p,n,o=[],m=[g.formatCodeToRegex("Y",1),g.formatCodeToRegex("m",2),g.formatCodeToRegex("d",3),g.formatCodeToRegex("H",4),g.formatCodeToRegex("i",5),g.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",g.formatCodeToRegex("P",8).c,"}else{",g.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(p=0,n=m.length;p<n;++p)o.push(m[p].c);return{g:1,c:o.join(""),s:[m[0].s,"(?:","-",m[1].s,"(?:","-",m[2].s,"(?:","(?:T| )?",m[3].s,":",m[4].s,"(?::",m[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(m,n){return g.format(m,n)},isEqual:function(n,m){return n&&m?n.getTime()===m.getTime():!(n||m)},format:function(n,o){var m=g.formatFunctions;return Ext.isDate(n)?(null==m[o]&&g.createFormat(o),m[o].call(n)+""):""},getTimezone:function(m){return m.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(m,n){var o=m.getTimezoneOffset();return(o>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(o)/60),2,"0")+(n?":":"")+Ext.String.leftPad(Math.abs(o%60),2,"0")},getDayOfYear:function(p){var q,o=0,r=g.clone(p),n=p.getMonth();for(q=0,r.setDate(1),r.setMonth(0);q<n;r.setMonth(++q))o+=g.getDaysInMonth(r);return o+p.getDate()-1},getWeekOfYear:function(){var n=6048e5;return function(p){var q=e.UTC(p.getFullYear(),p.getMonth(),p.getDate()+3)/864e5,o=Math.floor(q/7),r=new e(o*n).getUTCFullYear();return o-Math.floor(e.UTC(r,0,7)/n)+1}}(),isLeapYear:function(m){var n=m.getFullYear();return!(0!=(3&n)||!(n%100||n%400==0&&n))},getFirstDayOfMonth:function(n){var m=(n.getDay()-(n.getDate()-1))%7;return m<0?m+7:m},getLastDayOfMonth:function(m){return g.getLastDateOfMonth(m).getDay()},getFirstDateOfMonth:function(m){return new e(m.getFullYear(),m.getMonth(),1)},getLastDateOfMonth:function(m){return new e(m.getFullYear(),m.getMonth(),g.getDaysInMonth(m))},getDaysInMonth:function(){var m=[31,28,31,30,31,30,31,31,30,31,30,31];return function(o){var n=o.getMonth();return 1===n&&g.isLeapYear(o)?29:m[n]}}(),getSuffix:function(m){switch(m.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(m){return new e(m.getTime())},isDST:function(m){return new e(m.getFullYear(),0,1).getTimezoneOffset()!==m.getTimezoneOffset()},clearTime:function(m,q){if(isNaN(m.getTime()))return m;if(q)return g.clearTime(g.clone(m));var n,p,o=m.getDate();if(m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0),m.getDate()!==o){for(n=1,p=g.add(m,g.HOUR,n);p.getDate()!==o;n++,p=g.add(m,g.HOUR,n));m.setDate(o),m.setHours(p.getHours())}return m},add:function(o,n,r){var m,p,s=g.clone(o),q=0;if(!n||0===r)return s;if(p=r-parseInt(r,10),r=parseInt(r,10))switch(n.toLowerCase()){case g.MILLI:s.setTime(s.getTime()+r);break;case g.SECOND:s.setTime(s.getTime()+1e3*r);break;case g.MINUTE:s.setTime(s.getTime()+60*r*1e3);break;case g.HOUR:s.setTime(s.getTime()+60*r*60*1e3);break;case g.DAY:s.setTime(s.getTime()+24*r*60*60*1e3);break;case g.MONTH:m=o.getDate(),m>28&&(m=Math.min(m,g.getLastDateOfMonth(g.add(g.getFirstDateOfMonth(o),g.MONTH,r)).getDate())),s.setDate(m),s.setMonth(o.getMonth()+r);break;case g.YEAR:m=o.getDate(),m>28&&(m=Math.min(m,g.getLastDateOfMonth(g.add(g.getFirstDateOfMonth(o),g.YEAR,r)).getDate())),s.setDate(m),s.setFullYear(o.getFullYear()+r)}if(p){switch(n.toLowerCase()){case g.MILLI:q=1;break;case g.SECOND:q=1e3;break;case g.MINUTE:q=6e4;break;case g.HOUR:q=36e5;break;case g.DAY:q=864e5;break;case g.MONTH:m=g.getDaysInMonth(s),q=864e5*m;break;case g.YEAR:m=g.isLeapYear(s)?366:365,q=864e5*m}q&&s.setTime(s.getTime()+q*p)}return s},subtract:function(n,m,o){return g.add(n,m,-o)},between:function(n,p,m){var o=n.getTime();return p.getTime()<=o&&o<=m.getTime()},isWeekend:function(m){return Ext.Array.indexOf(this.weekendDays,m.getDay())>-1},utcToLocal:function(m){return new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds())},localToUtc:function(m){return g.utc(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds())},utc:function(r,t,n,m,p,q,o){return new Date(Date.UTC(r,t,n,m||0,p||0,q||0,o||0))},compat:function(){var u,q,r,o,v=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],t=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],n=v.length,m=t.length;for(o=0;o<n;o++)q=v[o],e[q]=g[q];for(u=0;u<m;u++)r=t[u],e.prototype[r]=function(){var p=Array.prototype.slice.call(arguments);return p.unshift(this),g[r].apply(g,p)}},diff:function(n,m,p){var o,q=+m-n;switch(p){case g.MILLI:return q;case g.SECOND:return Math.floor(q/1e3);case g.MINUTE:return Math.floor(q/6e4);case g.HOUR:return Math.floor(q/36e5);case g.DAY:return Math.floor(q/864e5);case"w":return Math.floor(q/6048e5);case g.MONTH:return o=12*m.getFullYear()+m.getMonth()-(12*n.getFullYear()+n.getMonth()),g.add(n,p,o)>m?o-1:o;case g.YEAR:return o=m.getFullYear()-n.getFullYear(),g.add(n,p,o)>m?o-1:o}},align:function(n,p,o){var m=new e(+n);switch(p.toLowerCase()){case g.MILLI:return m;case g.SECOND:return m.setUTCSeconds(m.getUTCSeconds()-m.getUTCSeconds()%o),m.setUTCMilliseconds(0),m;case g.MINUTE:return m.setUTCMinutes(m.getUTCMinutes()-m.getUTCMinutes()%o),m.setUTCSeconds(0),m.setUTCMilliseconds(0),m;case g.HOUR:return m.setUTCHours(m.getUTCHours()-m.getUTCHours()%o),m.setUTCMinutes(0),m.setUTCSeconds(0),m.setUTCMilliseconds(0),m;case g.DAY:return 7!==o&&14!==o||m.setUTCDate(m.getUTCDate()-m.getUTCDay()+1),m.setUTCHours(0),m.setUTCMinutes(0),m.setUTCSeconds(0),m.setUTCMilliseconds(0),m;case g.MONTH:return m.setUTCMonth(m.getUTCMonth()-(m.getUTCMonth()-1)%o,1),m.setUTCHours(0),m.setUTCMinutes(0),m.setUTCSeconds(0),m.setUTCMilliseconds(0),m;case g.YEAR:return m.setUTCFullYear(m.getUTCFullYear()-m.getUTCFullYear()%o,1,1),m.setUTCHours(0),m.setUTCMinutes(0),m.setUTCSeconds(0),m.setUTCMilliseconds(0),n}}},g.parseCodes.C=g.parseCodes.c,g}(),Ext.Function=function(){var m,b=0,e=[],n=[],i=0,j={},h=window,d=Ext.global,g=!(!d.setImmediate||!d.clearImmediate),l=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(r){var o=Ext.now(),p=Math.max(0,16-(o-b)),q=h.setTimeout(function(){r(o+p)},p);return b=o+p,q},c=function(){var r,p,q,o=e.length;for(m=null,p=0;p<o;p++)q=e[p],r=q[3],j[r]&&(q[0].apply(q[1]||d,q[2]||n),delete j[r]);e=e.slice(o)},a=function(){Ext.elevateFunction(c)},k={flexSetter:function(o){return function(q,s){var p,r;if(null!==q)if("string"!=typeof q){for(p in q)q.hasOwnProperty(p)&&o.call(this,p,q[p]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)p=Ext.enumerables[r],q.hasOwnProperty(p)&&o.call(this,p,q[p])}else o.call(this,q,s);return this}},bind:function(r,q,p,o){if(2===arguments.length)return function(){return r.apply(q,arguments)};var t=r,s=Array.prototype.slice;return function(){var u=p||arguments;return!0===o?(u=s.call(arguments,0),u=u.concat(p)):"number"==typeof o&&(u=s.call(arguments,0),Ext.Array.insert(u,o,p)),t.apply(q||d,u)}},bindCallback:function(s,r,q,p,o){return function(){var t=Ext.Array.slice(arguments);return Ext.callback(s,r,q?q.concat(t):t,p,o)}},pass:function(q,o,p){return Ext.isArray(o)||(o=Ext.isIterable(o)?Ext.Array.clone(o):void 0!==o?[o]:[]),function(){var r=o.slice();return r.push.apply(r,arguments),q.apply(p||this,r)}},alias:function(p,o){return function(){return p[o].apply(p,arguments)}},clone:function(o){return function(){return o.apply(this,arguments)}},createInterceptor:function(r,q,p,o){return Ext.isFunction(q)?(o=Ext.isDefined(o)?o:null,function(){var t=this,s=arguments;return!1!==q.apply(p||t||d,s)?r.apply(t||d,s):o}):r},createDelayed:function(s,q,r,p,o){return(r||p)&&(s=Ext.Function.bind(s,r,p,o)),function(){var u=this,t=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(s,u,t):s.apply(u,t)},q)}},defer:function(s,q,r,p,o){return s=Ext.Function.bind(s,r,p,o),q>0?setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(s):s()},q):(s(),0)},interval:function(s,q,r,p,o){return s=Ext.Function.bind(s,r,p,o),setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(s):s()},q)},createSequence:function(p,q,o){return q?function(){var r=p.apply(this,arguments);return q.apply(o||this,arguments),r}:p},createBuffered:function(s,p,r,q){var o;return function(){var u=q||Array.prototype.slice.call(arguments,0),t=r||this;o&&clearTimeout(o),o=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(s,t,u):s.apply(t,u)},p)}},createAnimationFrame:function(r,q,p,s){var o;return s=s||3,function(){var t=p||Array.prototype.slice.call(arguments,0);q=q||this,3===s&&o&&k.cancelAnimationFrame(o),(1&s||!o)&&(o=k.requestAnimationFrame(function(){o=null,r.apply(q,t)}))}},requestAnimationFrame:function(r,q,o){var s=++i,p=Array.prototype.slice.call(arguments,0);return p[3]=s,j[s]=1,e.push(p),m||(m=l(Ext.elevateFunction?a:c)),s},cancelAnimationFrame:function(o){delete j[o]},createThrottled:function(s,p,r){var o,q,v,t=0,u=function(){Ext.elevateFunction?Ext.elevateFunction(s,r,q):s.apply(r,q),t=Ext.now(),v=null};return function(){r||(r=this),o=Ext.now()-t,q=arguments,o>=p?(clearTimeout(v),u()):v||(v=Ext.defer(u,p-o))}},createBarrier:function(q,p,o){return function(){--q||p.apply(o,arguments)}},interceptBefore:function(p,o,r,q){var s=p[o]||Ext.emptyFn;return p[o]=function(){var t=r.apply(q||this,arguments);return s.apply(this,arguments),t}},interceptAfter:function(p,o,r,q){var s=p[o]||Ext.emptyFn;return p[o]=function(){return s.apply(this,arguments),r.apply(q||this,arguments)}},interceptAfterOnce:function(q,p,s,r){var o,t=q[p];return o=function(){var u;return t&&t.apply(this,arguments),u=s.apply(r||this,arguments),q[p]=t,q=p=s=r=t=o=null,u},q[p]=o,o},makeCallback:function(p,o){return function(){return o[p].apply(o,arguments)}},memoize:function(r,q,o){var p={},s=o&&Ext.isFunction(o);return function(u){var t=s?o.apply(q,arguments):u;return t in p||(p[t]=r.apply(q,arguments)),p[t]}}};return Ext.asap=g?function(p,o,q){return null==o&&null==q||(p=k.bind(p,o,q)),setImmediate(function(){Ext.elevateFunction?Ext.elevateFunction(p):p()})}:function(p,o,q){return null==o&&null==q||(p=k.bind(p,o,q)),setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(p):p()},0,!0)},Ext.asapCancel=g?function(o){clearImmediate(o)}:function(o){clearTimeout(o)},Ext.defer=k.defer,Ext.interval=k.interval,Ext.pass=k.pass,Ext.bind=k.bind,Ext.deferCallback=k.requestAnimationFrame,k}(),Ext.Number=new function(){var d=this,c="1"!==.9.toFixed(),b=Math,a={count:!1,inclusive:!1,wrap:!0};Ext.apply(d,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(b.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||b.pow(2,53)-1,Clip:{DEFAULT:a,COUNT:Ext.applyIf({count:!0},a),INCLUSIVE:Ext.applyIf({inclusive:!0},a),NOWRAP:Ext.applyIf({wrap:!1},a)},clipIndices:function(m,n,h){h=h||a;var k,e,j,g=0,l=h.wrap;for(n=n||[],j=0;j<2;++j)k=e,e=n[j],null==e?e=g:j&&h.count?(e+=k,e=e>m?m:e):(l&&(e=e<0?m+e:e),j&&h.inclusive&&++e,e=e<0?0:e>m?m:e),g=m;return n[0]=k,n[1]=e<k?k:e,n},constrain:function(i,h,g){var e=parseFloat(i);return null===h&&(h=i),null===g&&(g=i),e<h?h:e>g?g:e},snap:function(i,g,h,j){var e;return void 0===i||i<h?h||0:(g&&0!=(e=i%g)&&(i-=e,2*e>=g?i+=g:2*e<-g&&(i-=g)),d.constrain(i,h,j))},snapInRange:function(i,e,h,j){var g;return h=h||0,void 0===i||i<h?h:(e&&(g=(i-h)%e)&&(i-=g,(g*=2)>=e&&(i+=e)),void 0!==j&&i>(j=d.snapInRange(j,e,h))&&(i=j),i)},roundToNearest:function(g,e){return(e=e||1)*b.round(g/e)},sign:b.sign||function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},log10:b.log10||function(e){return b.log(e)*b.LOG10E},isEqual:function(g,e,h){return b.abs(g-e)<h},isFinite:Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},toFixed:c?function(h,e){e=e||0;var g=b.pow(10,e);return(b.round(h*g)/g).toFixed(e)}:function(g,e){return g.toFixed(e)},from:function(g,e){return isFinite(g)&&(g=parseFloat(g)),isNaN(g)?e:g},randomInt:function(g,e){return b.floor(b.random()*(e-g+1)+g)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return d.from.apply(this,arguments)}},function(){var d=function(){},b=/^\?/,c=/(\[):?([^\]]*)\]/g,a=/^([^\[]+)/,g=/\+/g,e=Ext.Object={chain:Object.create||function(i){d.prototype=i;var h=new d;return d.prototype=null,h},clear:function(h){for(var i in h)delete h[i];return h},freeze:Object.freeze?function(j,h){if(j&&"object"==typeof j&&!Object.isFrozen(j)&&(Object.freeze(j),h))for(var i in j)e.freeze(j[i],h);return j}:Ext.identityFn,toQueryObjects:function(k,o,j){
var l,m,h=e.toQueryObjects,n=[];if(Ext.isArray(o))for(l=0,m=o.length;l<m;l++)j?n=n.concat(h(k+"["+l+"]",o[l],!0)):n.push({name:k,value:o[l]});else if(Ext.isObject(o))for(l in o)o.hasOwnProperty(l)&&(j?n=n.concat(h(k+"["+l+"]",o[l],!0)):n.push({name:k,value:o[l]}));else n.push({name:k,value:o});return n},toQueryString:function(m,k){var p,o,q,h,r,n=[],l=[];for(p in m)m.hasOwnProperty(p)&&(n=n.concat(e.toQueryObjects(p,m[p],k)));for(o=0,q=n.length;o<q;o++)h=n[o],r=h.value,Ext.isEmpty(r)?r="":Ext.isDate(r)&&(r=Ext.Date.toString(r)),l.push(encodeURIComponent(h.name)+"="+encodeURIComponent(String(r)));return l.join("&")},fromQueryString:function(k,v){var w,o,A,r,u,m,s,t,h,n,x,p,z,l,q=k.replace(b,"").split("&"),y={};for(u=0,m=q.length;u<m;u++)if(s=q[u],s.length>0)if(o=s.split("="),A=o[0],A=A.replace(g,"%20"),A=decodeURIComponent(A),r=o[1],void 0!==r?(r=r.replace(g,"%20"),r=decodeURIComponent(r)):r="",v){if(n=A.match(c),x=A.match(a),A=x[0],p=[],null===n){y[A]=r;continue}for(t=0,h=n.length;t<h;t++)z=n[t],z=2===z.length?"":z.substring(1,z.length-1),p.push(z);for(p.unshift(A),w=y,t=0,h=p.length;t<h;t++)z=p[t],t===h-1?Ext.isArray(w)&&""===z?w.push(r):w[z]=r:(void 0!==w[z]&&"string"!=typeof w[z]||(l=p[t+1],w[z]=Ext.isNumeric(l)||""===l?[]:{}),w=w[z])}else y.hasOwnProperty(A)?(Ext.isArray(y[A])||(y[A]=[y[A]]),y[A].push(r)):y[A]=r;return y},each:function(j,m,l){var k,n,h=Ext.enumerables;if(j){l=l||j;for(n in j)if(j.hasOwnProperty(n)&&!1===m.call(l,n,j[n],j))return;if(h)for(k=h.length;k--;)if(j.hasOwnProperty(n=h[k])&&!1===m.call(l,n,j[n],j))return}},eachValue:function(j,m,l){var k,n,h=Ext.enumerables;l=l||j;for(n in j)if(j.hasOwnProperty(n)&&!1===m.call(l,j[n]))return;if(h)for(k=h.length;k--;)if(j.hasOwnProperty(n=h[k])&&!1===m.call(l,j[n]))return},merge:function(o){for(var l,q,p,j,m=1,n=arguments.length,h=e.merge,k=Ext.clone;m<n;m++){l=arguments[m];for(q in l)p=l[q],p&&p.constructor===Object?(j=o[q],j&&j.constructor===Object?h(j,p):o[q]=k(p)):o[q]=p}return o},mergeIf:function(h){for(var j,l,o,m=1,n=arguments.length,k=Ext.clone;m<n;m++){j=arguments[m];for(l in j)l in h||(o=j[l],o&&o.constructor===Object?h[l]=k(o):h[l]=o)}return h},getAllKeys:function(h){var j,i=[];for(j in h)i.push(j);return i},getKey:function(h,j){for(var i in h)if(h.hasOwnProperty(i)&&h[i]===j)return i;return null},getValues:function(i){var j,h=[];for(j in i)i.hasOwnProperty(j)&&h.push(i[j]);return h},getKeys:"function"==typeof Object.keys?function(h){return h?Object.keys(h):[]}:function(h){var j,i=[];for(j in h)h.hasOwnProperty(j)&&i.push(j);return i},getSize:function(h){var j,i=0;for(j in h)h.hasOwnProperty(j)&&i++;return i},isEmpty:function(h){for(var i in h)if(h.hasOwnProperty(i))return!1;return!0},equals:function(){var h=function(k,j){var i;for(i in k)if(k.hasOwnProperty(i)&&k[i]!==j[i])return!1;return!0};return function(j,i){return j===i||(j&&i?h(j,i)&&h(i,j):!j&&!i&&j===i)}}(),fork:function(k){var h,i,j;if(k&&k.constructor===Object){h=e.chain(k);for(i in k)(j=k[i])&&(j.constructor===Object?h[i]=e.fork(j):j instanceof Array&&(h[i]=Ext.Array.clone(j)))}else h=k;return h},defineProperty:"defineProperty"in Object?Object.defineProperty:function(i,h,j){Object.prototype.__defineGetter__&&(j.get&&i.__defineGetter__(h,j.get),j.set&&i.__defineSetter__(h,j.set))},classify:function(k){var l,n,j=k,m=[],i={},h=function(){for(var q,o=0,p=m.length;o<p;o++)q=m[o],this[q]=new i[q]};for(l in k)k.hasOwnProperty(l)&&(n=k[l])&&n.constructor===Object&&(m.push(l),i[l]=e.classify(n));return h.prototype=j,h}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf}(),Ext.apply(Ext,{_namedScopes:{this:{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,d=/([\W]{1})/g,b=/^(\d)/g,a=function(h,g){return"\\"+g},e=function(h,g){return"\\00"+g.charCodeAt(0).toString(16)+" "};return function(g){return c.test(g)?g:g.replace(d,a).replace(b,e)}}(),callback:function(i,g,d,c,b,h){if(i){var e=g in Ext._namedScopes;i.charAt?(g&&!e||!b||(g=b.resolveListenerScope(e?g:h)),i=g[i]):e?g=h||b:g||(g=b);var a;return i&&Ext.isFunction(i)&&(g=g||Ext.global,c?Ext.defer(i,c,g,d):a=Ext.elevateFunction?Ext.elevateFunction(i,g,d):d?i.apply(g,d):i.call(g)),a}},coerce:function(e,d){var c=Ext.typeOf(e),b=Ext.typeOf(d),a="string"==typeof e;if(c!==b)switch(b){case"string":return String(e);case"number":return Number(e);case"boolean":return!(a&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return!(!a||e&&"null"!==e)&&null;case"undefined":return!(!a||e&&"undefined"!==e)&&void 0;case"date":return a&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},copyTo:function(b,d,g,e){"string"==typeof g&&(g=g.split(Ext.propertyNameSplitRe));for(var a,c=0,h=g?g.length:0;c<h;c++)a=g[c],(e||d.hasOwnProperty(a))&&(b[a]=d[a]);return b},copy:function(b,d,g,e){"string"==typeof g&&(g=g.split(Ext.propertyNameSplitRe));for(var a,c=0,h=g?g.length:0;c<h;c++)a=g[c],(d.hasOwnProperty(a)||e&&a in d)&&(b[a]=d[a]);return b},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(a,d,e){"string"==typeof e&&(e=e.split(Ext.propertyNameSplitRe));for(var b,c=0,g=e?e.length:0;c<g;c++)b=e[c],void 0===a[b]&&(a[b]=d[b]);return a},copyIf:function(a,d,e){"string"==typeof e&&(e=e.split(Ext.propertyNameSplitRe));for(var b,c=0,g=e?e.length:0;c<g;c++)!((b=e[c])in a)&&b in d&&(a[b]=d[b]);return a},extend:function(){var a=Object.prototype.constructor,b=function(d){var c;for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c])};return function(c,i,g){Ext.isObject(i)&&(g=i,i=c,c=g.constructor!==a?g.constructor:function(){i.apply(this,arguments)});var d,e=function(){},h=i.prototype;return e.prototype=h,d=c.prototype=new e,d.constructor=c,c.superclass=h,h.constructor===a&&(h.constructor=i),c.override=function(j){Ext.override(c,j)},d.override=b,d.proto=d,c.override(g),c.extend=function(j){return Ext.extend(c,j)},c}}(),iterate:function(a,c,b){Ext.isEmpty(a)||(void 0===b&&(b=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,c,b):Ext.Object.each.call(Ext.Object,a,c,b))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(c){var a,b=c;return c&&"<"===c.charAt(0)&&(a=Ext._resourcePoolRe.exec(c))&&(b=Ext.getResourcePath(a[3],a[1],a[2])),b},urlEncode:function(){var a=Ext.Array.from(arguments),b="";return Ext.isString(a[1])&&(b=a[1]+"&",a[1]=!1),b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(c){var b=Ext._scrollbarSize;if(c||!b){var a=document.body,d=document.createElement("div");d.style.width=d.style.height="100px",d.style.overflow="scroll",d.style.position="absolute",a.appendChild(d),Ext._scrollbarSize=b={width:d.offsetWidth-d.clientWidth,height:d.offsetHeight-d.clientHeight},a.removeChild(d)}return b},typeOf:function(){var a=/\S/,c=Object.prototype.toString,d={number:1,string:1,boolean:1,undefined:1},b={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(h){if(null===h)return"null";var i,g=typeof h;return d[g]?g:b[i=c.call(h)]||("function"===g?"function":"object"===g?void 0!==h.nodeType?3===h.nodeType?a.test(h.nodeValue)?"textnode":"whitespace":"element":"object":i)}}(),factory:function(b,e,a,g){var c,d=Ext.ClassManager;if(!b||b.isInstance)return a&&a!==b&&a.destroy(),b;if(g){if("string"==typeof b)return d.instantiateByAlias(g+"."+b);if(Ext.isObject(b)&&"type"in b)return d.instantiateByAlias(g+"."+b.type,b)}return!0===b?a||Ext.create(e):("xtype"in b?c=d.instantiateByAlias("widget."+b.xtype,b):"xclass"in b&&(c=Ext.create(b.xclass,b)),c?(a&&a.destroy(),c):a?a.setConfig(b):Ext.create(e,b))},log:function(){var a=function(){};return a.info=a.warn=a.error=Ext.emptyFn,a}()}),function(){var e,d=[""],i=/([^\d\.])/,b=/[^\d]/g,a=/[\-+]/g,h=/\s/g,c=/_/g,g={classic:1,modern:1};Ext.Version=e=function(r,n){var j,p,m,o,t,k,q,s=this,l=s.padModes;r.isVersion&&(r=r.version),s.version=q=String(r).toLowerCase().replace(c,".").replace(a,""),j=q.charAt(0),j in l?(q=q.substring(1),m=l[j]):m=n?l[n]:0,s.pad=m,k=q.search(i),s.shortVersion=q,-1!==k&&(s.release=t=q.substr(k,r.length),s.shortVersion=q.substr(0,k),t=e.releaseValueMap[t]||t),s.releaseValue=t||m,s.shortVersion=s.shortVersion.replace(b,""),s.parts=o=q.split(".");for(p=o.length;p--;)o[p]=parseInt(o[p],10);return m===1/0&&o.push(m),s.major=o[0]||m,s.minor=o[1]||m,s.patch=o[2]||m,s.build=o[3]||m,s},e.prototype={isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",compareTo:function(t){var o,l,s,u=this,n=u.pad,r=u.parts,v=r.length,m=t.isVersion?t:new e(t),k=m.pad,q=m.parts,p=q.length,j=Math.max(v,p);for(o=0;o<j;o++){if(l=o<v?r[o]:n,s=o<p?q[o]:k,l<s)return-1;if(l>s)return 1}return l=u.releaseValue,s=m.releaseValue,l<s?-1:l>s?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(j){return this.compareTo(j)>0},isGreaterThanOrEqual:function(j){return this.compareTo(j)>=0},isLessThan:function(j){return this.compareTo(j)<0},isLessThanOrEqual:function(j){return this.compareTo(j)<=0},equals:function(j){return 0===this.compareTo(j)},match:function(j){return j=String(j),this.version.substr(0,j.length)===j},toArray:function(){var j=this;return[j.getMajor(),j.getMinor(),j.getPatch(),j.getBuild(),j.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(j){return this.compareTo(j)>0},lt:function(j){return this.compareTo(j)<0},gtEq:function(j){return this.compareTo(j)>=0},ltEq:function(j){return this.compareTo(j)<=0}},Ext.apply(e,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(j){return j?isNaN(j)?this.releaseValueMap[j]||j:parseInt(j,10):0},compare:function(l,k){return(l.isVersion?l:new e(l)).compareTo(k)},set:function(o,m,l){var n,k=e.aliases.to[m],j=l.isVersion?l:new e(l);if(o[m]=j,k)for(n=k.length;n-- >0;)o[k[n]]=j;return j}}),Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(k){var j=Ext.compatVersions;return(k?j[e.aliases.from[k]||k]:j.ext||j.touch||j.core)||Ext.getVersion(k)},setCompatVersion:function(k,j){e.set(Ext.compatVersions,k,j)},setVersion:function(k,j){return k in g&&(Ext.toolkit=k),Ext.lastRegisteredVersion=e.set(Ext.versions,k,j),this},getVersion:function(k){var j=Ext.versions;return k?j[e.aliases.from[k]||k]:j.ext||j.touch||j.core},checkVersion:function(p,x){var q,v,s,n,o,j,z,r,u,t=Ext.isArray(p),l=e.aliases.from,y=t?p:d,k=y.length,m=Ext.versions,w=m.ext||m.touch;for(t||(d[0]=p),q=0;q<k;++q){if(Ext.isString(z=y[q])){if(z.indexOf(" ")>=0&&(z=z.replace(h,"")),(v=z.indexOf("@"))<0)r=z,u=w;else{if(j=z.substring(0,v),!(u=m[l[j]||j])){if(x)return!1;continue}r=z.substring(v+1)}v=r.indexOf("-"),v<0?"+"===r.charAt(v=r.length-1)?(n=r.substring(0,v),o=null):n=o=r:v>0?(n=r.substring(0,v),o=r.substring(v+1)):(n=null,o=r.substring(v+1)),s=!0,n&&(n=new e(n,"~"),s=n.ltEq(u)),s&&o&&(o=new e(o,"~"),s=o.gtEq(u))}else s=Ext.checkVersion(z.and||z.or,!z.or),z.not&&(s=!s);if(s){if(!x)return!0}else if(x)return!1}return!!x},deprecate:function(j,l,m,k){e.compare(Ext.getVersion(j),l)<1&&m.call(k)}})}(),function(d){var b,a,e=d&&d.packages||{},c=d&&d.compatibility;for(b in e)a=e[b],Ext.setVersion(b,a.version);if(c)if(Ext.isString(c))Ext.setCompatVersion("core",c);else for(b in c)Ext.setCompatVersion(b,c[b]);e.ext||e.touch||(Ext.setVersion("ext","6.2.0.981"),Ext.setVersion("core","6.2.0.981"))}(Ext.manifest),Ext.Config=function(b){var c=this,a=b.charAt(0).toUpperCase()+b.substr(1);c.name=b,c.names={internal:"_"+b,initializing:"is"+a+"Initializing",apply:"apply"+a,update:"update"+a,get:"get"+a,set:"set"+a,initGet:"initGet"+a,changeEvent:b.toLowerCase()+"change"},c.root=c},Ext.Config.map={},Ext.Config.get=function(b){var c=Ext.Config.map;return c[b]||(c[b]=new Ext.Config(b))},Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},mergeNew:function(g,b,e,d){var a,c;if(b)if(g){a=Ext.Object.chain(b);for(c in g)d&&c in a||(a[c]=g[c])}else a=b;else a=g;return a},mergeSets:function(e,c,a){var d,g,b=c?Ext.Object.chain(c):{};if(e instanceof Array)for(d=e.length;d--;)g=e[d],a&&g in b||(b[g]=!0);else if(e)if(e.constructor===Object)for(d in e)g=e[d],a&&d in b||(b[d]=g);else a&&e in b||(b[e]=!0);return b},makeGetter:function(){var a=this.name,b=this.names.internal;return function(){return this[this.$configPrefixed?b:a]}},makeInitGetter:function(){var a=this.name,e=this.names,d=e.set,b=e.get,c=e.initializing;return function(){var g=this;return g[c]=!0,delete g[b],g[d](g.config[a]),delete g[c],g[b].apply(g,arguments)}},makeSetter:function(){var g,a=this.name,e=this.names,c=e.internal,d=e.get,b=e.apply,h=e.update;return g=function(l){var k=this,j=k.$configPrefixed?c:a,i=k[j];return delete k[d],k[b]&&void 0===(l=k[b](l,i))||l!==(i=k[j])&&(k[j]=l,k[h]&&k[h](l,i)),k},g.$isDefault=!0,g},makeEventedSetter:function(){var c,b=this.name,h=this.names,j=h.internal,a=h.get,i=h.apply,d=h.update,g=h.changeEvent,e=function(m,n,k,l){m[l]=n,m[d]&&m[d](n,k)};return c=function(n){var m=this,l=m.$configPrefixed?j:b,k=m[l];return delete m[a],m[i]&&void 0===(n=m[i](n,k))||n!==(k=m[l])&&(m.isConfiguring?(m[l]=n,m[d]&&m[d](n,k)):m.fireEventedAction(g,[m,n,k],e,m,[m,n,k,l])),m},c.$isDefault=!0,c}},function(){var b=Ext.Config,c=b.map,a=Ext.Object;Ext.Configurator=function(d){var g=this,e=d.prototype,h=d.superclass?d.superclass.self.$config:null;g.cls=d,g.superCfg=h,h?(g.configs=a.chain(h.configs),g.cachedConfigs=a.chain(h.cachedConfigs),g.initMap=a.chain(h.initMap),g.values=a.chain(h.values),g.needsFork=h.needsFork):(g.configs={},g.cachedConfigs={},g.initMap={},g.values={}),e.config=e.defaultConfig=g.values,d.$config=g},Ext.Configurator.prototype={self:Ext.Configurator,needsFork:!1,initList:null,add:function(u,d){var k,m,t,g,h,j,y,p,o,r,v=this,i=v.cls,l=v.configs,w=v.cachedConfigs,n=v.initMap,q=i.prototype,x=d&&d.$config.configs,e=v.values;for(y in u){if(r=u[y],k=r&&r.constructor===Object,m=k&&"$value"in r?r:null,t=!1,m&&(t=!!m.cached,r=m.$value,k=r&&r.constructor===Object),g=m&&m.merge,h=l[y]){if(d){if(!(g=h.merge))continue;m=null}else g=g||h.merge;j=e[y],g?r=g.call(h,r,j,i,d):k&&j&&j.constructor===Object&&(r=a.merge({},j,r))}else x?(h=x[y],m=null):h=b.get(y),l[y]=h,(h.cached||t)&&(w[y]=!0),p=h.names,q[o=p.get]||(q[o]=h.getter||h.getGetter()),q[o=p.set]||(q[o]=m&&m.evented?h.eventedSetter||h.getEventedSetter():h.setter||h.getSetter());m&&(h.owner!==i&&(l[y]=h=Ext.Object.chain(h),h.owner=i),Ext.apply(h,m),delete h.$value),!v.needsFork&&r&&(r.constructor===Object||r instanceof Array)&&(v.needsFork=!0),null!==r?n[y]=!0:(q.$configPrefixed?q[l[y].names.internal]=null:q[l[y].name]=null,y in n&&(n[y]=!1)),e[y]=r}},configure:function(y,m){var g,h,j,v,u,k,o,B,s,z,x,A=this,l=A.configs,n=A.initMap,p=A.initListMap,w=A.initList,q=A.cls.prototype,e=A.values,r=0,t=!w;if(e=A.needsFork?a.fork(e):a.chain(e),y.isConfiguring=!0,t){A.initList=w=[],A.initListMap=p={},y.isFirstInstance=!0;for(B in n)h=l[B],z=h.cached,n[B]?(o=h.names,s=e[B],!q[o.set].$isDefault||q[o.apply]||q[o.update]||"object"==typeof s?(z?(g||(g=[])).push(h):(w.push(h),p[B]=!0),y[o.get]=h.initGetter||h.getInitGetter()):q[h.getInternalName(q)]=s):z&&(q[h.getInternalName(q)]=void 0)}if(k=g&&g.length){for(v=0;v<k;++v)u=g[v].getInternalName(q),y[u]=null;for(v=0;v<k;++v)o=(h=g[v]).names,j=o.get,y.hasOwnProperty(j)&&(y[o.set](e[h.name]),delete y[j]);for(v=0;v<k;++v)u=g[v].getInternalName(q),q[u]=y[u],delete y[u]}for(m&&m.platformConfig&&(m=A.resolvePlatformConfig(y,m)),t&&y.afterCachedConfig&&!y.afterCachedConfig.$nullFn&&y.afterCachedConfig(m),y.config=e,v=0,k=w.length;v<k;++v)h=w[v],y[h.names.get]=h.initGetter||h.getInitGetter();if(y.transformInstanceConfig&&(m=y.transformInstanceConfig(m)),m)for(B in m)s=m[B],h=l[B],h?(h.lazy||++r,p[B]||(y[h.names.get]=h.initGetter||h.getInitGetter()),h.merge?s=h.merge(s,e[B],y):s&&s.constructor===Object&&(x=e[B],s=x&&x.constructor===Object?a.merge(e[B],s):Ext.clone(s,!1))):y[B]=s,e[B]=s;if(!y.beforeInitConfig||y.beforeInitConfig.$nullFn||!1!==y.beforeInitConfig(m)){if(m)for(B in m){if(!r)break;(h=l[B])&&!h.lazy&&(--r,o=h.names,j=o.get,y.hasOwnProperty(j)&&(y[o.set](e[B]),delete y[o.get]))}for(v=0,k=w.length;v<k;++v)h=w[v],o=h.names,j=o.get,!h.lazy&&y.hasOwnProperty(j)&&(y[o.set](e[h.name]),delete y[j]);delete y.isConfiguring}},getCurrentConfig:function(e){var g,d=e.defaultConfig,h={};for(g in d)h[g]=e[c[g].names.get]();return h},merge:function(d,j,h){var g,k,i,e,l=this.configs;for(g in h)k=h[g],e=l[g],e&&(e.merge?k=e.merge(k,j[g],d):k&&k.constructor===Object&&(i=j[g],k=i&&i.constructor===Object?Ext.Object.merge(i,k):Ext.clone(k,!1))),j[g]=k;return j},reconfigure:function(s,n,t){var m,q,h,l,e,p,d,j=s.config,k=[],r=s.$configStrict&&!(t&&!1===t.strict),o=this.configs,g=t&&t.defaults;for(e in n)if(!g||!s.hasOwnProperty(e)){if(j[e]=n[e],m=o[e])s[m.names.get]=m.initGetter||m.getInitGetter();else if(d=s.self.prototype[e],r&&"function"==typeof d&&!d.$nullFn)continue;k.push(e)}for(h=0,l=k.length;h<l;h++)e=k[h],m=o[e],m?(p=m.names,q=p.get,s.hasOwnProperty(q)&&(s[p.set](n[e]),delete s[q])):(m=c[e]||Ext.Config.get(e),p=m.names,s[p.set]?s[p.set](n[e]):s[e]=n[e])},resolvePlatformConfig:function(d,l){var g,h,k,j=l&&l.platformConfig,e=l;if(j&&(h=Ext.getPlatformConfigKeys(j),k=h.length))for(e=Ext.merge({},e),g=0,k=h.length;g<k;++g)this.merge(d,e,j[h[g]]);return e}}}(),Ext.Base=function(c){var k,g,b=[],m=[],n=function(r,q){var p,o,s,t=this;return r?(o=Ext.Config.map[r],s=o.names.get,p=q&&t.hasOwnProperty(s)?t.config[r]:t[s]()):p=t.getCurrentConfig(),p},h=function(o){return function(){return this[o].apply(this,arguments)}},a=Ext.Version,j=/^\d/,l={},e={},i=function(){},d=i.prototype;Ext.Reaper=g={delay:100,queue:[],timer:null,add:function(o){g.timer||(g.timer=Ext.defer(g.tick,g.delay)),g.queue.push(o)},flush:function(){g.timer&&(clearTimeout(g.timer),g.timer=null);var p,q,o=g.queue,r=o.length;for(g.queue=[],p=0;p<r;++p)(q=o[p])&&q.$reap&&q.$reap()},tick:function(){g.timer=null,g.flush()}},Ext.apply(i,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(u){var C,y,t,E,w,B,v,A,F,o,s,q,D=this,p=[],r=Ext.getCompatVersion(u.name);for(y in u)j.test(y)&&(q=new Ext.Version(y),q.deprecations=u[y],p.push(q));for(p.sort(a.compare),t=p.length;t--&&(C=(q=p[t]).deprecations,E=D.prototype,s=C.statics,w=r&&r.lt(q));)for(;C;){if(A=C.methods)for(F in A)o=A[F],v=null,o&&(Ext.isString(o)?w&&(v=h(o)):((o.message||o.fn)&&(o=o.fn),B=E.hasOwnProperty(F)&&E[F],w&&o&&(o.$owner=D,o.$name=F,B&&(o.$previous=B),v=o))),v&&(E[F]=v);C=s,s=null,E=D}},extend:function(r){var q,p,t,s=this,o=r.prototype;if(q=s.prototype=Ext.Object.chain(o),q.self=s,s.superclass=q.superclass=o,!r.$isClass)for(p in d)p in q&&(q[p]=d[p]);if(t=o.$inheritableStatics)for(p in t)s.hasOwnProperty(p)||(s[p]=r[p]);r.$onExtended&&(s.$onExtended=r.$onExtended.slice()),s.getConfigurator()},$onExtended:[],triggerExtended:function(){var o,r,q=this.$onExtended,p=q.length;if(p>0)for(o=0;o<p;o++)r=q[o],r.fn.apply(r.scope||this,arguments)},onExtended:function(p,o){return this.$onExtended.push({fn:p,scope:o}),this},addStatics:function(o){return this.addMembers(o,!0),this},addInheritableStatics:function(o){var p,u,t,r=this,q=r.prototype,s=r.$inheritableStatics;s||(s=Ext.apply({},q.$inheritableStatics),r.$inheritableStatics=q.$inheritableStatics=s);for(p in o)o.hasOwnProperty(p)&&(u=o[p],t=r[p],"function"!=typeof t||t.$isClass||t.$nullFn||(u.$previous=t),r[p]=u,s[p]=!0);return r},addMembers:function(s,D,p){var y,v,A,u,o,q,r,B=this,w=Ext.Function.clone,z=D?B:B.prototype,t=!D&&z.defaultConfig,C=Ext.enumerables,x=s.privates;x&&(delete s.privates,D||(r=x.statics,delete x.statics),B.addMembers(x,D,q),r&&B.addMembers(r,!0,q));for(o in s)if(s.hasOwnProperty(o)){if("function"!=typeof(u=s[o])||u.$isClass||u.$nullFn){if(t&&o in t&&!z.config.hasOwnProperty(o)){(y||(y={}))[o]=u;continue}}else u.$owner&&(u=w(u)),z.hasOwnProperty(o)&&(u.$previous=z[o]),u.$owner=B,u.$name=o;z[o]=u}if(y&&B.addConfig(y),C)for(v=0,A=C.length;v<A;++v)s.hasOwnProperty(o=C[v])&&(u=s[o],u&&!u.$nullFn&&(u.$owner&&(u=w(u)),u.$owner=B,u.$name=o,z.hasOwnProperty(o)&&(u.$previous=z[o])),z[o]=u);return this},addMember:function(o,p){return l[o]=p,this.addMembers(l),delete l[o],this},borrow:function(u,o){var r,t,p,q=u.prototype,s={};for(o=Ext.Array.from(o),r=0,t=o.length;r<t;r++)p=o[r],s[p]=q[p];return this.addMembers(s)},override:function(p){var r=this,u=p.statics,t=p.inheritableStatics,q=p.config,o=p.mixins,s=p.cachedConfig;return(u||t||q)&&(p=Ext.apply({},p)),u&&(r.addMembers(u,!0),delete p.statics),t&&(r.addInheritableStatics(t),delete p.inheritableStatics),p.platformConfig&&r.addPlatformConfig(p),q&&(r.addConfig(q),delete p.config),s&&(r.addCachedConfig(s),delete p.cachedConfig),delete p.mixins,r.addMembers(p),o&&r.mixin(o),r},addPlatformConfig:function(t){var z,v,w,r,p,B,o,A,s,x,y=this,u=t.platformConfig,q=t.config;for(delete t.platformConfig,r=y.getConfigurator(),v=r.configs,B=Ext.getPlatformConfigKeys(u),s=0,x=B.length;s<x;++s){w=u[B[s]],p=z=null;for(o in w)A=w[o],q&&o in q?((z||(z={}))[o]=A,(p||(p={}))[o]=q[o],delete q[o]):o in v?(z||(z={}))[o]=A:t[o]=A;p&&r.add(p),z&&r.add(z)}},callParent:function(o){var p;return(p=this.callParent.caller)&&(p.$previous||(p=p.$owner?p:p.caller)&&p.$owner.superclass.self[p.$name]).apply(this,o||b)},callSuper:function(o){var p;return(p=this.callSuper.caller)&&((p=p.$owner?p:p.caller)&&p.$owner.superclass.self[p.$name]).apply(this,o||b)},mixin:function(o,q){var A,x,z,w,r,u,s,o,y,t,p,v=this;if("string"==typeof o){A=q.prototype,x=v.prototype,A.onClassMixedIn&&A.onClassMixedIn.call(q,v),x.hasOwnProperty("mixins")||(x.mixins="mixins"in x?Ext.Object.chain(x.mixins):{});for(z in A)y=A[z],"mixins"===z?Ext.applyIf(x.mixins,y):"mixinId"!==z&&"config"!==z&&"$inheritableStatics"!==z&&void 0===x[z]&&(x[z]=y);if(w=A.$inheritableStatics){p={};for(o in w)v.hasOwnProperty(o)||(p[o]=q[o]);v.addInheritableStatics(p)}return"config"in A&&v.addConfig(A.config,q),x.mixins[o]=A,A.afterClassMixedIn&&A.afterClassMixedIn.call(q,v),v}if((t=o)instanceof Array)for(r=0,u=t.length;r<u;r++)A=t[r],v.mixin(A.prototype.mixinId||A.$className,A);else for(s in t)v.mixin(s,t[s])},addConfig:function(p,q){(this.$config||this.getConfigurator()).add(p,q)},addCachedConfig:function(o,q){var p,r={};for(p in o)r[p]={cached:!0,$value:o[p]};this.addConfig(r,q)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:c(function(p,o){e[p]=function(){return this[o].apply(this,arguments)},this.override(e),delete e[p]})});for(k in i)i.hasOwnProperty(k)&&m.push(k);return i.$staticMembers=m,i.getConfigurator(),i.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){var p=this.statics.caller,o=this.self;return p?p.$owner:o},callParent:function(p){var q;return((q=this.callParent.caller)&&(q.$previous||(q=q.$owner?q:q.caller)&&q.$owner.superclass[q.$name])).apply(this,p||b)},callSuper:function(p){var q;return((q=this.callSuper.caller)&&(q=q.$owner?q:q.caller)&&q.$owner.superclass[q.$name]).apply(this,p||b)},self:i,constructor:function(){return this},initConfig:function(q){var p=this,o=p.self.getConfigurator();return p.initConfig=Ext.emptyFn,p.initialConfig=q||{},o.configure(p,q),p},beforeInitConfig:Ext.emptyFn,getConfig:n,setConfig:function(q,s,p){var o,r=this;return q&&("string"==typeof q?(o={},o[q]=s):o=q,r.self.getConfigurator().reconfigure(r,o,p)),r},getCurrentConfig:function(){return this.self.getConfigurator().getCurrentConfig(this)},hasConfig:function(o){return o in this.defaultConfig},getInitialConfig:function(p){var o=this.config;return p?o[p]:o},$links:null,link:function(p,r){var q=this;return(q.$links||(q.$links={}))[p]=!0,q[p]=r,r},unlink:function(t){var o,q,p,s,r=this;for(o=0,q=t.length;o<q;o++)p=t[o],s=r[p],s&&(s.isInstance&&!s.destroyed?s.destroy():s.parentNode&&"nodeType"in s&&s.parentNode.removeChild(s)),r[p]=null;return r},$reap:function(){var s,r,p,q=this,o=q.$noClearOnDestroy;for(s in q)o&&o[s]||!q.hasOwnProperty(s)||(r=q[s],("object"==(p=typeof r)||"function"===p&&!r.$noClearOnDestroy)&&(q[s]=null))},destroy:function(){var q=this,p=q.$links,o=q.clearPropertiesOnDestroy;p&&(q.$links=null,q.unlink(Ext.Object.getKeys(p))),q.destroy=Ext.emptyFn,q.isDestroyed=q.destroyed=!0,!0===o?q.$reap():o&&g.add(q)}}),d.callOverridden=d.callParent,i}(Ext.Function.flexSetter),function(b,a){(Ext.util||(Ext.util={})).Cache=b=function(c){var d,e=this;c&&Ext.apply(e,c),e.head=d={key:null,value:null},e.map={},d.next=d.prev=d},b.prototype=a={maxSize:100,count:0,clear:function(){var e=this,c=e.head,d=c.next;if(c.next=c.prev=c,!e.evict.$nullFn)for(;d!==c;d=d.next)e.evict(d.key,d.value);e.count=0},each:function(e,d){d=d||this;for(var c=this.head,g=c.next;g!==c&&!e.call(d,g.key,g.value);g=g.next);},get:function(d){var g=this,c=g.head,h=g.map,e=h[d];if(e)e.prev!==c&&(g.unlinkEntry(e),g.linkEntry(e));else for(h[d]=e={key:d,value:g.miss.apply(g,arguments)},g.linkEntry(e),++g.count;g.count>g.maxSize;)g.unlinkEntry(c.prev,!0),--g.count;return e.value},evict:Ext.emptyFn,linkEntry:function(d){var c=this.head,e=c.next;d.next=e,d.prev=c,c.next=d,e.prev=d},unlinkEntry:function(e,g){var c=e.next,d=e.prev;d.next=c,c.prev=d,g&&this.evict(e.key,e.value)}},a.destroy=a.clear}(),function(){function a(h){function g(){return this.constructor.apply(this,arguments)||null}return g}var d,c=Ext.Base,e=c.$staticMembers,b=function(h,g){return h.length-g.length||(h<g?-1:h>g?1:0)};Ext.Class=d=function(h,i,g){return"function"!=typeof h&&(g=i,i=h,h=null),i||(i={}),h=d.create(h,i),d.process(h,i,g),h},Ext.apply(d,{makeCtor:a,onBeforeCreated:function(h,i,g){h.addMembers(i),g.onCreated.call(h,h)},create:function(g,k){var h,j=e.length;for(g||(g=a());j--;)h=e[j],g[h]=c[h];return g},process:function(g,o,k){var v,n,m,s,l,q,p,h=o.preprocessors||d.defaultPreprocessors,r=this.preprocessors,u={onBeforeCreated:this.onBeforeCreated},t=[];for(delete o.preprocessors,g._classHooks=u,m=0,s=h.length;m<s;m++)if("string"==typeof(v=h[m])){if(v=r[v],!0===(n=v.properties))t.push(v.fn);else if(n)for(l=0,q=n.length;l<q;l++)if(p=n[l],o.hasOwnProperty(p)){t.push(v.fn);break}}else t.push(v);u.onCreated=k||Ext.emptyFn,u.preprocessors=t,this.doProcess(g,o,u)},doProcess:function(h,l,g){for(var k=this,m=g.preprocessors,i=m.shift(),j=k.doProcess;i;i=m.shift())if(!1===i.call(k,h,l,g,j))return;g.onBeforeCreated.apply(k,arguments)},preprocessors:{},registerPreprocessor:function(h,k,i,g,j){return g||(g="last"),i||(i=[h]),this.preprocessors[h]={name:h,properties:i||!1,fn:k},this.setDefaultPreprocessorPosition(h,g,j),this},getPreprocessor:function(g){return this.preprocessors[g]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(g){return this.defaultPreprocessors=Ext.Array.from(g),this},setDefaultPreprocessorPosition:function(i,k,j){var h,g=this.defaultPreprocessors;if("string"==typeof k){if("first"===k)return g.unshift(i),this;if("last"===k)return g.push(i),this;k="after"===k?1:-1}return h=Ext.Array.indexOf(g,j),-1!==h&&Ext.Array.splice(g,Math.max(0,h+k),0,i),this}}),d.registerPreprocessor("extend",function(h,k,p){var g,o,j,l=Ext.Base,m=l.prototype,n=k.extend;if(delete k.extend,g=n&&n!==Object?n:l,o=g.prototype,!g.$isClass)for(j in m)o[j]||(o[j]=m[j]);h.extend(g),h.triggerExtended.apply(h,arguments),k.onClassExtended&&(h.onExtended(k.onClassExtended,h),delete k.onClassExtended)},!0),d.registerPreprocessor("privates",function(g,j){var i=j.privates,k=i.statics,h=i.privacy||!0;delete j.privates,delete i.statics,g.addMembers(i,!1,h),k&&g.addMembers(k,!0,h)}),d.registerPreprocessor("statics",function(g,h){g.addStatics(h.statics),delete h.statics}),d.registerPreprocessor("inheritableStatics",function(g,h){g.addInheritableStatics(h.inheritableStatics),delete h.inheritableStatics}),Ext.createRuleFn=function(g){return new Function("$c","with($c) { try { return ("+g+"); } catch(e) { return false;}}")},Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn}),Ext.ruleKeySortFn=b,Ext.getPlatformConfigKeys=function(i){var g,h=[];for(g in i)Ext.expressionCache.get(g)(Ext.platformTags)&&h.push(g);return h.sort(b),h},d.registerPreprocessor("platformConfig",function(h,i,g){h.addPlatformConfig(i)}),d.registerPreprocessor("config",function(g,h){h.hasOwnProperty("$configPrefixed")&&(g.prototype.$configPrefixed=h.$configPrefixed),g.addConfig(h.config),delete h.config}),d.registerPreprocessor("cachedConfig",function(g,h){h.hasOwnProperty("$configPrefixed")&&(g.prototype.$configPrefixed=h.$configPrefixed),g.addCachedConfig(h.cachedConfig),delete h.cachedConfig}),d.registerPreprocessor("mixins",function(j,k,g){var i=k.mixins,h=g.onCreated;delete k.mixins,g.onCreated=function(){return g.onCreated=h,j.mixin(i),g.onCreated.apply(this,arguments)}}),Ext.extend=function(i,j,h){2===arguments.length&&Ext.isObject(j)&&(h=j,j=i,i=null);var g;if(!j)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return h.extend=j,h.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],i?(g=new d(i,h),g.prototype.constructor=i):g=new d(h),g.prototype.override=function(l){for(var k in l)l.hasOwnProperty(k)&&(this[k]=l[k])},g}}(),Ext.Inventory=function(){var a=this;a.names=[],a.paths={},a.alternateToName={},a.aliasToName={},a.nameToAliases={},a.nameToAlternates={},a.nameToPrefix={}},Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(b,a,c){return this.addMapping(b,a,this.aliasToName,this.nameToAliases,c)},addAlternate:function(a,b){return this.addMapping(a,b,this.alternateToName,this.nameToAlternates)},addMapping:function(m,e,g,p,h){var o,d,q,j,c,n,b=m.$className||m,k=b,l=this._array1;Ext.isString(b)&&(k={},k[b]=e);for(q in k)for(d=k[q],Ext.isString(d)&&(l[0]=d,d=l),c=d.length,n=p[q]||(p[q]=[]),j=0;j<c;++j)(o=d[j])&&g[o]!==q&&(g[o]=q,n.push(o))},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAlternates[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||""},getNameByAlternate:function(a){return this.alternateToName[a]||""},getNamesByExpression:function(m,a,j){var c,q,r,k,o,w,g,v=this,s=v.aliasToName,p=v.alternateToName,b=v.nameToAliases,d=v.nameToAlternates,u=j?a:{},l=[],t=Ext.isString(m)?[m]:m,h=t.length,e=v.wildcardRe;for(q=0;q<h;++q)if((c=t[q]).indexOf("*")<0)(w=s[c])||(w=p[c])||(w=c),w in u||a&&w in a||(u[w]=1,l.push(w));else{g=new RegExp("^"+c.replace(e,"(.*?)")+"$");for(w in b)if(!(w in u||a&&w in a)){if(!(k=g.test(w))){for(o=(r=b[w]).length;!k&&o-- >0;)k=g.test(r[o]);if((r=d[w])&&!k)for(o=r.length;!k&&o-- >0;)k=g.test(r[o])}k&&(u[w]=1,l.push(w))}}return l},getPath:function(b){var d,c=this,e=c.paths,a=""
;return b in e?a=e[b]:(d=c.nameToPrefix[b]||(c.nameToPrefix[b]=c.getPrefix(b)),d&&(b=b.substring(d.length+1),(a=e[d])&&(a+="/")),a+=b.replace(c.dotRe,"/")+".js"),a},getPrefix:function(h){if(h in this.paths)return h;if(h in this.nameToPrefix)return this.nameToPrefix[h];for(var i,g,d,k,e=this.getPrefixes(),b=h.length;b-- >0;)if(i=e[b]){if("."!==h.charAt(b))continue;for(h.substring(0,b),d=0,k=i.length;d<k;d++)if((g=i[d])===h.substring(0,b))return g}return""},getPrefixes:function(){var j,c,h,b,d,a,e=this,g=e.prefixes;if(!g)for(j=e.names.slice(0),e.prefixes=g=[],d=0,a=j.length;d<a;d++)c=j[d],h=c.length,b=g[h]||(g[h]=[]),b.push(c);return g},removeName:function(b){var d,j,g=this,k=g.aliasToName,m=g.alternateToName,l=g.nameToAliases,e=g.nameToAlternates,c=l[b],h=e[b];if(delete l[b],delete e[b],delete g.nameToPrefix[b],c)for(d=c.length;d--;)b===(j=c[d])&&delete k[j];if(h)for(d=h.length;d--;)b===(j=h[d])&&delete m[j]},resolveName:function(a){var c,b=this;return a in b.nameToAliases||(c=b.aliasToName[a])||(c=b.alternateToName[a]),c||a},select:function(e,c){var a,d=this,g={},b={excludes:g,exclude:function(){return d.getNamesByExpression(arguments,g,!0),this}};for(a in e)b[a]=d.selectMethod(g,e[a],c||e);return b},selectMethod:function(d,b,a){var c=this;return function(e){var g=Ext.Array.slice(arguments,1);return g.unshift(c.getNamesByExpression(e,d)),b.apply(a,g)}},setPath:Ext.Function.flexSetter(function(a,c){var b=this;return b.paths[a]=c,b.names.push(a),b.prefixes=null,b.nameToPrefix={},b})},Ext.ClassManager=function(q,l,s,e,o){var b=Ext.Class.makeCtor,h=[],i={Ext:{name:"Ext",value:Ext}},c=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(u){return!(!c.classes[u]&&!c.existCache[u])||!!c.lookupName(u,!1)&&(c.triggerCreated(u),!0)},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(u,v){c.existCache[u]=v||1,c.classState[u]+=40,c.notify(u,c.createdListeners,c.nameCreatedListeners)},onCreated:function(w,v,u){c.addListener(w,v,u,c.createdListeners,c.nameCreatedListeners)},notify:function(C,E,w){var z,B,y,A,v,u,x=c.getAlternatesByName(C),D=[C];for(z=0,B=E.length;z<B;z++)v=E[z],v.fn.call(v.scope,C);for(;D;){for(z=0,B=D.length;z<B;z++)if(u=D[z],E=w[u]){for(y=0,A=E.length;y<A;y++)v=E[y],v.fn.call(v.scope,u);delete w[u]}D=x,x=null}},addListener:function(z,y,x,w,v){if(Ext.isArray(x))for(z=Ext.Function.createBarrier(x.length,z,y),u=0;u<x.length;u++)this.addListener(z,null,x[u],w,v);else{var u,A={fn:z,scope:y};if(x){if(this.isCreated(x))return void z.call(y,x);v[x]||(v[x]=[]),v[x].push(A)}else w.push(A)}},$namespaceCache:i,addRootNamespaces:function(v){for(var u in v)i[u]={name:u,value:v[u]}},clearNamespaceCache:function(){h.length=0;for(var u in i)i[u].value||delete i[u]},getNamespaceEntry:function(v){if("string"!=typeof v)return v;var u,w=i[v];return w||(u=v.lastIndexOf("."),w=u<0?{name:v}:{name:v.substring(u+1),parent:c.getNamespaceEntry(v.substring(0,u))},i[v]=w),w},lookupName:function(x,z){var A,v,y=c.getNamespaceEntry(x),w=Ext.global,u=0;for(A=y;A;A=A.parent)h[u++]=A;for(;w&&u-- >0;)A=h[u],v=w,!(w=A.value||w[A.name])&&z&&(v[A.name]=w={});return w},setNamespace:function(v,x){var w=c.getNamespaceEntry(v),u=Ext.global;return w.parent&&(u=c.lookupName(w.parent,!0)),u[w.name]=x,x},setXType:function(u,B){var w=u.$className,A=w?u:c.get(w=u),x=A.prototype,y=x.xtypes,v=x.xtypesChain,z=x.xtypesMap;x.hasOwnProperty("xtypes")||(x.xtypes=y=[],x.xtypesChain=v=v?v.slice(0):[],x.xtypesMap=z=Ext.apply({},z)),c.addAlias(w,"widget."+B,!0),y.push(B),v.push(B),z[B]=!0},set:function(u,w){var v=c.getName(w);return c.classes[u]=c.setNamespace(u,w),v&&v!==u&&c.addAlternate(v,u),c},get:function(u){return c.classes[u]||c.lookupName(u,!1)},addNameAliasMappings:function(u){c.addAlias(u)},addNameAlternateMappings:function(u){c.addAlternate(u)},getByAlias:function(u){return c.get(c.getNameByAlias(u))},getByConfig:function(v,w){var u,x=v.xclass;return x?u=x:(u=v.xtype,u?w="widget.":u=v.type,u=c.getNameByAlias(w+u)),c.get(u)},getName:function(u){return u&&u.$className||""},getClass:function(u){return u&&u.self||null},create:function(v,x,u){var w=b(v);return"function"==typeof x&&(x=x(w)),x.$className=v,new q(w,x,function(){var E,A,D,z,C,B,H,y=x.postprocessors||c.defaultPostprocessors,F=c.postprocessors,G=[];for(delete x.postprocessors,A=0,D=y.length;A<D;A++)if("string"==typeof(E=y[A])){if(E=F[E],!0===(B=E.properties))G.push(E.fn);else if(B)for(z=0,C=B.length;z<C;z++)if(H=B[z],x.hasOwnProperty(H)){G.push(E.fn);break}}else G.push(E);x.postprocessors=G,x.createdFn=u,c.processCreate(v,this,x)})},processCreate:function(x,v,z){var y=this,u=z.postprocessors.shift(),w=z.createdFn;if(!u)return x&&y.set(x,v),delete v._classHooks,w&&w.call(v,v),void(x&&y.triggerCreated(x));!1!==u.call(y,x,v,z,y.processCreate)&&y.processCreate(x,v,z)},createOverride:function(B,z,x){var v,u,C=this,D=z.override,F=z.requires,y=z.uses,A=z.mixins,E=1,w=function(){var G,K,J,I,H;if(!u){if(K=F?F.slice(0):[],A)if(v=A instanceof Array)for(J=0,H=A.length;J<H;++J)Ext.isString(G=A[J])&&K.push(G);else for(I in A)Ext.isString(G=A[I])&&K.push(G);if(u=!0,K.length)return void Ext.require(K,w)}if(v)for(J=0,H=A.length;J<H;++J)Ext.isString(G=A[J])&&(A[J]=Ext.ClassManager.get(G));else if(A)for(I in A)Ext.isString(G=A[I])&&(A[I]=Ext.ClassManager.get(G));G=D.$isClass?D:C.get(D),delete z.override,delete z.compatibility,delete z.requires,delete z.uses,Ext.override(G,z),Ext.Loader.history.push(B),y&&Ext.Loader.addUsedClasses(y),x&&x.call(G,G)};return B&&(c.overrideMap[B]=!0),"compatibility"in z&&(E=z.compatibility,E?"number"==typeof E?E=!0:"boolean"!=typeof E&&(E=Ext.checkVersion(E)):E=!1),E&&(D.$isClass?w():C.onCreated(w,C,D)),C.triggerCreated(B,2),C},instantiateByAlias:function(){var v=arguments[0],u=s.call(arguments),w=this.getNameByAlias(v);return u[0]=w,Ext.create.apply(Ext,u)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(v,u){return u=e(u,!0),u.unshift(v),Ext.create.apply(Ext,u)},getInstantiator:function(x){var y,v,u,w=this.instantiators;if(!(y=w[x])){for(v=x,u=[],v=0;v<x;v++)u.push("a["+v+"]");y=w[x]=new Function("c","a","return new c("+u.join(",")+")")}return y},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(v,y,w,u,x){return u||(u="last"),w||(w=[v]),this.postprocessors[v]={name:v,properties:w||!1,fn:y},this.setDefaultPostprocessorPosition(v,u,x),this},setDefaultPostprocessors:function(u){return this.defaultPostprocessors=e(u),this},setDefaultPostprocessorPosition:function(v,y,x){var u,w=this.defaultPostprocessors;if("string"==typeof y){if("first"===y)return w.unshift(v),this;if("last"===y)return w.push(v),this;y="after"===y?1:-1}return u=Ext.Array.indexOf(w,x),-1!==u&&Ext.Array.splice(w,Math.max(0,u+y),0,v),this}});if(c.registerPostprocessor("alias",function(w,v,z){var x,y,u=Ext.Array.from(z.alias);for(x=0,y=u.length;x<y;x++)l=u[x],this.addAlias(v,l)},["xtype","alias"]),c.registerPostprocessor("singleton",function(v,u,x,w){return!x.singleton||(w.call(this,v,new u,x),!1)}),c.registerPostprocessor("alternateClassName",function(v,u,z){var w,y,A,x=z.alternateClassName;for(x instanceof Array||(x=[x]),w=0,y=x.length;w<y;w++)A=x[w],this.set(A,u)}),c.registerPostprocessor("debugHooks",function(v,u,w){delete(u.isInstance?u.self:u).prototype.debugHooks}),c.registerPostprocessor("deprecated",function(v,u,w){var x=u.isInstance?u.self:u;x.addDeprecations(w.deprecated),delete x.prototype.deprecated}),Ext.apply(Ext,{create:function(){var u,w=arguments[0],x=typeof w,v=s.call(arguments,1);return"function"===x?u=w:("string"!==x&&0===v.length&&(v=[w],(w=w.xclass)||(w=v[0].xtype)&&(w="widget."+w)),w=c.resolveName(w),u=c.get(w)),u||(Ext.syncRequire(w),u=c.get(w)),c.getInstantiator(v.length)(u,v)},widget:function(w,v){var x,y,u,z=w;return"string"!=typeof z?(v=w,z=v.xtype,y=v.xclass):v=v||{},v.isComponent?v:(y||(x="widget."+z,y=c.getNameByAlias(x)),y&&(u=c.get(y)),u?new u(v):Ext.create(y||x,v))},createByAlias:l(c,"instantiateByAlias"),define:function(v,w,u){return w.override?(c.classState[v]=20,c.createOverride.apply(c,arguments)):(c.classState[v]=10,c.create.apply(c,arguments))},undefine:function(w){delete c.classes[w],delete c.existCache[w],delete c.classState[w],c.removeName(w);var x=c.getNamespaceEntry(w),v=x.parent?c.lookupName(x.parent,!1):Ext.global;if(v)try{delete v[x.name]}catch(y){v[x.name]=void 0}},getClassName:l(c,"getName"),getDisplayName:function(u){if(u){if(u.displayName)return u.displayName;if(u.$name&&u.$class)return Ext.getClassName(u.$class)+"#"+u.$name;if(u.$className)return u.$className}return"Anonymous"},getClass:l(c,"getClass"),namespace:function(){var v,u=o;for(v=arguments.length;v-- >0;)u=c.lookupName(arguments[v],!0);return u}}),Ext.addRootNamespaces=c.addRootNamespaces,Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,q.registerPreprocessor("className",function(u,v){"$className"in v&&(u.$className=v.$className)},!0,"first"),q.registerPreprocessor("alias",function(F,z){var y,C,B,v,D=F.prototype,w=e(z.xtype),u=e(z.alias),G="widget.",E=G.length,A=Array.prototype.slice.call(D.xtypesChain||[]),x=Ext.merge({},D.xtypesMap||{});for(y=0,C=u.length;y<C;y++)B=u[y],B.substring(0,E)===G&&(v=B.substring(E),Ext.Array.include(w,v));for(F.xtype=z.xtype=w[0],z.xtypes=w,y=0,C=w.length;y<C;y++)v=w[y],x[v]||(x[v]=!0,A.push(v));for(z.xtypesChain=A,z.xtypesMap=x,Ext.Function.interceptAfterOnce(F,"onClassCreated",function(){var L,J,I=this,K=I.prototype,H=K.mixins;for(L in H)if(H.hasOwnProperty(L)&&(J=H[L],w=J.xtypes))for(y=0,C=w.length;y<C;y++)v=w[y],x[v]||(x[v]=!0,A.push(v))}),y=0,C=w.length;y<C;y++)v=w[y],Ext.Array.include(u,G+v);z.alias=u},["xtype","alias"]),Ext.manifest){var d,k,m,a,g=Ext.manifest,r=g.classes,n=g.paths,p={},j={};if(n){if(g.bootRelative){a=Ext.Boot.baseUrl;for(m in n)n.hasOwnProperty(m)&&(n[m]=a+n[m])}c.setPath(n)}if(r)for(d in r)j[d]=[],p[d]=[],k=r[d],k.alias&&(p[d]=k.alias),k.alternates&&(j[d]=k.alternates);c.addAlias(p),c.addAlternate(j)}return c}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),(Ext.env||(Ext.env={})).Browser=function(u,o){var p,n,l,w,s,v=this,a=Ext.Boot.browserPrefixes,c=Ext.Boot.browserNames,b=v.enginePrefixes,k=v.engineNames,r=u.match(new RegExp("((?:"+Ext.Object.getValues(a).join(")|(?:")+"))([\\w\\._]+)")),h=u.match(new RegExp("((?:"+Ext.Object.getValues(b).join(")|(?:")+"))([\\w\\._]+)")),q=c.other,t=k.other,m="",g="",d="",j=!1;if(v.userAgent=u,this.is=function(i){return!!this.is[i]},/Edge\//.test(u)&&(r=u.match(/(Edge\/)([\w.]+)/)),r&&(q=c[Ext.Object.getKey(a,r[1])],"Safari"===q&&/^Opera/.test(u)&&(q="Opera"),m=new Ext.Version(r[2])),h&&(t=k[Ext.Object.getKey(b,h[1])],g=new Ext.Version(h[2])),"Trident"===t&&"IE"!==q){q="IE";var e=u.match(/.*rv:(\d+.\d+)/);e&&e.length&&(e=e[1],m=new Ext.Version(e))}if(q&&m&&Ext.setVersion(q,m),u.match(/FB/)&&"Other"===q&&(q=c.safari,t=k.webkit),u.match(/Android.*Chrome/g)&&(q="ChromeMobile"),u.match(/OPR/)&&(q="Opera",r=u.match(/OPR\/(\d+.\d+)/),m=new Ext.Version(r[1])),Ext.apply(this,{engineName:t,engineVersion:g,name:q,version:m}),this.setFlag(q,!0,o),m){if(d=m.getMajor()||"",v.is.IE)for(d=parseInt(d,10),l=document.documentMode,7===l||7===d&&8!==l&&9!==l&&10!==l?d=7:8===l||8===d&&8!==l&&9!==l&&10!==l?d=8:9===l||9===d&&7!==l&&8!==l&&10!==l?d=9:10===l||10===d&&7!==l&&8!==l&&9!==l?d=10:(11===l||11===d&&7!==l&&8!==l&&9!==l&&10!==l)&&(d=11),s=Math.max(d,Ext.Boot.maxIEVersion),p=7;p<=s;++p)n="isIE"+p,d<=p&&(Ext[n+"m"]=!0),d===p&&(Ext[n]=!0),d>=p&&(Ext[n+"p"]=!0);v.is.Opera&&parseInt(d,10)<=12&&(Ext.isOpera12m=!0),Ext.chromeVersion=Ext.isChrome?d:0,Ext.firefoxVersion=Ext.isFirefox?d:0,Ext.ieVersion=Ext.isIE?d:0,Ext.operaVersion=Ext.isOpera?d:0,Ext.safariVersion=Ext.isSafari?d:0,Ext.webKitVersion=Ext.isWebKit?d:0,this.setFlag(q+d,!0,o),this.setFlag(q+m.getShortVersion())}for(p in c)c.hasOwnProperty(p)&&(w=c[p],this.setFlag(w,q===w));this.setFlag(w),g&&(this.setFlag(t+(g.getMajor()||"")),this.setFlag(t+g.getShortVersion()));for(p in k)k.hasOwnProperty(p)&&(w=k[p],this.setFlag(w,t===w,o));this.setFlag("Standalone",!!navigator.standalone),this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple)),this.setFlag("WebWorks",!!window.blackberry),void 0===window.PhoneGap&&void 0===window.Cordova&&void 0===window.cordova||(j=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(u)&&(j=!0),this.setFlag("WebView",j),this.isStrict=Ext.isStrict="CSS1Compat"===document.compatMode,this.isSecure=Ext.isSecure,this.identity=q+d+(this.isStrict?"Strict":"Quirks")},Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(a,c,b){return void 0===c&&(c=!0),this.is[a]=c,this.is[a.toLowerCase()]=c,b&&(Ext["is"+a]=c),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(a){var b=this.propertyPrefixes[this.engineName];return b.length>0?b+Ext.String.capitalize(a):a},getPreferredTranslationMethod:function(a){return"object"==typeof a&&"translationMethod"in a&&"auto"!==a.translationMethod?a.translationMethod:"csstransform"}},function(a){Ext.browser=new Ext.env.Browser(a,!0),Ext.userAgent=a.toLowerCase(),Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent),Ext.env.OS=function(p,b,m){var a,c,h,e,o,n,l=this,k=Ext.Boot.osNames,d=Ext.Boot.osPrefixes,j="",g=l.is;m=m||Ext.browser;for(c in d)if(d.hasOwnProperty(c)&&(h=d[c],e=p.match(new RegExp("(?:"+h+")([^\\s;]+)")))){a=k[c],n=e[1],j=n&&"HTC_"===n?new Ext.Version("2.3"):n&&"Silk/"===n?new Ext.Version("2.3"):new Ext.Version(e[e.length-1]);break}a||(a=k[(p.toLowerCase().match(/mac|win|linux/)||["other"])[0]],j=new Ext.Version("")),this.name=a,this.version=j,p.match(/ipad/i)&&(b="iPad"),b&&this.setFlag(b.replace(/ simulator$/i,"")),this.setFlag(a),j&&(this.setFlag(a+(j.getMajor()||"")),this.setFlag(a+j.getShortVersion()));for(c in k)k.hasOwnProperty(c)&&(o=k[c],g.hasOwnProperty(a)||this.setFlag(o,a===o));"iOS"===this.name&&568===window.screen.height&&this.setFlag("iPhone5"),(m.is.Safari||m.is.Silk)&&((this.is.Android2||this.is.Android3||501===m.version.shortVersion)&&m.setFlag("AndroidStock"),this.is.Android4&&(m.setFlag("AndroidStock"),m.setFlag("AndroidStock4")))},Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(a){return!!this[a]},name:null,version:null,setFlag:function(a,b){return void 0===b&&(b=!0),this.flags&&(this.flags[a]=b),this.is[a]=b,this.is[a.toLowerCase()]=b,this}},function(){var i,d,b,a=Ext.global.navigator,h=a.userAgent,g=Ext.env.OS,e=Ext.is||(Ext.is={});g.prototype.flags=e,Ext.os=i=new g(h,a.platform),d=i.name,Ext["is"+d]=!0,Ext.isMac=e.Mac=e.MacOS;var j=window.location.search.match(/deviceType=(Tablet|Phone)/),c=window.deviceType;j&&j[1]?b=j[1]:"iPhone"===c?b="Phone":"iPad"===c?b="Tablet":i.is.Android||i.is.iOS||i.is.WindowsPhone||!/Windows|Linux|MacOS/.test(d)?b=i.is.iPad||i.is.RIMTablet||i.is.Android3||Ext.browser.is.Silk||i.is.Android&&-1===h.search(/mobile/i)?"Tablet":"Phone":(b="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple),i.setFlag(b,!0),i.deviceType=b,delete g.prototype.flags}(),Ext.feature={has:function(a){return!!this.has[a]},testElements:{},getTestElement:function(a,b){if(void 0===a)a="div";else if("string"!=typeof a)return a;return b?document.createElement(a):(this.testElements[a]||(this.testElements[a]=document.createElement(a)),this.testElements[a])},isStyleSupported:function(c,b){var d=this.getTestElement(b).style,a=Ext.String.capitalize(c);return void 0!==d[c]||void 0!==d[Ext.browser.getStylePrefix(c)+a]},isStyleSupportedWithoutPrefix:function(b,a){return void 0!==this.getTestElement(a).style[b]},isEventSupported:function(c,a){void 0===a&&(a=window);var e=this.getTestElement(a),b="on"+c.toLowerCase(),d=b in e;return d||e.setAttribute&&e.removeAttribute&&(e.setAttribute(b,""),d="function"==typeof e[b],void 0!==e[b]&&(e[b]=void 0),e.removeAttribute(b)),d},getStyle:function(c,b){var a=c.ownerDocument.defaultView;return((a?a.getComputedStyle(c,null):c.currentStyle)||c.style)[b]},getSupportedPropertyName:function(b,a){var c=Ext.browser.getVendorProperyName(a);return c in b?c:a in b?a:null},detect:function(j){var a,i,h,d,l,k=this,m=document,g=k.toRun||k.tests,e=g.length,b=m.createElement("div"),c=[],p=Ext.supports,o=k.has;for(b.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>',j&&m.body.appendChild(b),d=k.preDetected[Ext.browser.identity]||[];e--;){if(h=g[e],l=d[e],a=h.name,i=h.names,void 0===l){if(!j&&h.ready){c.push(h);continue}l=h.fn.call(k,m,b)}if(a)p[a]=o[a]=l;else if(i)for(;i.length;)a=i.pop(),p[a]=o[a]=l}j&&m.body.removeChild(b),k.toRun=c},report:function(){var c,b=[],a=this.tests.length;for(c=0;c<a;++c)b.push(this.has[this.tests[c].name]?1:0);Ext.log(Ext.browser.identity+": ["+b.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var a=document.createElement("div");return a.expandoProp={},a.cloneNode().expandoProp===a.expandoProp}},{name:"CSSPointerEvents",fn:function(a){return"pointerEvents"in a.documentElement.style}},{name:"CSS3BoxShadow",fn:function(a){return"boxShadow"in a.documentElement.style||"WebkitBoxShadow"in a.documentElement.style||"MozBoxShadow"in a.documentElement.style}},{name:"CSS3NegationSelector",fn:function(b){try{b.querySelectorAll("foo:not(bar)")}catch(a){return!1}return!0}},{name:"ClassList",fn:function(a){return!!a.documentElement.classList}},{name:"Canvas",fn:function(){var a=this.getTestElement("canvas");return!!(a&&a.getContext&&a.getContext("2d"))}},{name:"Svg",fn:function(a){return!(!a.createElementNS||!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var b=this.getTestElement(),a=!1;return b.innerHTML="\x3c!--[if vml]><br><![endif]--\x3e",a=1===b.childNodes.length,b.innerHTML="",a}},{name:"Touch",fn:function(){var a=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)?Ext.supports.TouchEvents&&1!==a||a>1:Ext.supports.TouchEvents||a>0}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var a=!!document.createRange&&document.createRange();return a&&!!a.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(a){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var a=new XMLHttpRequest;return a&&"upload"in a&&"onprogress"in a.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var b=document.documentElement,e="matches",d="webkitMatchesSelector",a="msMatchesSelector",c="mozMatchesSelector";return b[e]?e:b[d]?d:b[a]?a:b[c]?c:null}},{name:"RightMargin",ready:!0,fn:function(b,c){var a=b.defaultView;return!(a&&"0px"!==a.getComputedStyle(c.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{name:"TransparentColor",ready:!0,fn:function(b,c,a){return!((a=b.defaultView)&&"transparent"!==a.getComputedStyle(c.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(b,c,a){return(a=b.defaultView)&&a.getComputedStyle}},{name:"Float",fn:function(a){return"cssFloat"in a.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(d){var a,b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=!1;for(a=0;a<b.length;a++)void 0!==d.documentElement.style[b[a]]&&(c=!0);return c&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(g,a){var i="background-image:",j=[i+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i+"linear-gradient(left top, black, white)",i+"-moz-linear-gradient(left top, black, white)",i+"-ms-linear-gradient(left top, black, white)",i+"-o-linear-gradient(left top, black, white)"];return a.style.cssText=j.join(";"),-1!==(""+a.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(a){return"onmouseenter"in a.documentElement&&"onmouseleave"in a.documentElement}},{name:"MouseWheel",fn:function(a){return"onmousewheel"in a.documentElement}},{name:"Opacity",fn:function(a,b){return!Ext.isIE8&&(b.firstChild.style.cssText="opacity:0.73","0.73"==b.firstChild.style.opacity)}},{name:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{name:"Direct2DBug",fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(a){return"getBoundingClientRect"in a.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(e){var a=e.body,b=!1,d=e.createElement("div"),c=d.style;return d.getBoundingClientRect&&(c.position="absolute",c.top="0",c.WebkitTransform=c.MozTransform=c.msTransform=c.OTransform=c.transform="rotate(90deg)",c.width="100px",c.height="30px",a.appendChild(d),b=100!==d.getBoundingClientRect().height,a.removeChild(d)),b}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var b,a=this.getTestElement();return a.innerHTML="<div>a</div>",b=a.firstChild,a.innerHTML="<div>b</div>","a"!==b.innerHTML}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(a,b){return 210===b.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(a,b){return 210===b.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(a){return"maxlength"in a.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(a,b){return"10%"===Ext.feature.getStyle(b.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(d){var c,b,a=!1;return Ext.getScrollbarSize().height&&(b=this.getTestElement(),c=b.style,c.height="50px",c.width="50px",c.overflow="auto",c.position="absolute",b.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),d.body.appendChild(b),50===b.firstChild.offsetHeight&&(a=!0),d.body.removeChild(b)),a}},{name:"xOriginBug",ready:!0,fn:function(d,e){e.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),b=document.getElementById("b2").getBoundingClientRect(),a=document.getElementById("b3").getBoundingClientRect();return b.left!==c.left&&a.right!==c.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(d){var c,b,a=!1;return b=d.createElement("div"),c=b.style,c.height="50px",c.width="50px",c.padding="10px",c.overflow="hidden",c.position="absolute",b.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',d.body.appendChild(b),70===b.scrollWidth&&(a=!0),d.body.removeChild(b),a}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(c,d){d.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var b=d.firstChild,a=b.firstChild;return a.offsetLeft+a.offsetWidth!==b.offsetLeft+b.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(b,c){c.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var a=c.firstChild;return a.clientHeight===a.offsetHeight}},{identity:"defineProperty",fn:function(){return!Ext.isIE8m||(Ext.Object.defineProperty=Ext.emptyFn,!1)}},{identify:"nativeXhr",fn:function(){return"undefined"!=typeof XMLHttpRequest||(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return null}},!1)}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!Ext.isGecko&&!Ext.isIE||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var a=document.documentMode;return"onhashchange"in window&&(void 0===a||a>7)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var c,b=document.createElement("div"),a=document.createElement("div");return b.setAttribute("style","display:table;table-layout:fixed;"),a.setAttribute("style","display:table-cell;min-width:50px;"),b.appendChild(a),document.body.appendChild(b),b.offsetWidth,b.style.width="25px",c=b.offsetWidth,document.body.removeChild(b),50===c}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:!0,fn:function(h){function g(o){var n,k,j=[],l=0;-1!==o.indexOf("rgb(")?j=o.replace("rgb(","").replace(")","").split(", "):-1!==o.indexOf("#")&&(n=7===o.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/,(k=o.match(n))&&(j=["0x"+k[1],"0x"+k[2],"0x"+k[3]]));for(var m=0;m<j.length;m++)l+=parseInt(j[m]);return l}var i,d,e,b,c,a=h.body;return i=h.createElement("div"),d=h.createElement("img"),e=i.style,Ext.apply(e,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"}),d.alt="",d.src=Ext.BLANK_IMAGE_URL,i.appendChild(d),a.appendChild(i),e=i.currentStyle||i.style,c=e.backgroundImage,b={Images:1===d.offsetWidth&&"uninitialized"!==d.readyState,BackgroundImages:!(null!==c&&("none"===c||"url(invalid-url:)"===c)),BorderColors:e.borderTopColor!==e.borderRightColor,LightOnDark:g(e.color)-g(e.backgroundColor)>0},Ext.supports.HighContrastMode=!b.BackgroundImages,a.removeChild(i),i=d=null,b}},{name:"ViewportUnits",ready:!0,fn:function(e){if(Ext.isIE8)return!1;var c,b,a=e.body,g=document.createElement("div"),d=g.currentStyle||g.style;return a.appendChild(g),Ext.apply(d,{width:"50vw"}),c=parseInt(window.innerWidth/2,10),b=parseInt((window.getComputedStyle?getComputedStyle(g,null):g.currentStyle).width,10),a.removeChild(g),g=null,c===b}},{name:"CSSVariables",ready:!1,fn:function(b){if(!window.getComputedStyle)return!1;var a=window.getComputedStyle(b.documentElement);return a.getPropertyValue&&!!a.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:!1,fn:function(b){try{return!!b.querySelectorAll(":scope")}catch(a){return!1}}},{name:"CSSScrollSnap",ready:!1,fn:function(b){var a=b.documentElement.style;return"scrollSnapType"in a||"webkitScrollSnapType"in a||"msScrollSnapType"in a}},0]},Ext.feature.tests.pop(),Ext.supports={},Ext.feature.detect(),Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;a.bound||("complete"===b.readyState?a.onReadyEvent({type:b.readyState||"body"}):(a.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(a.bound=2,b.addEventListener("deviceready",a.onReadyEvent,!1)),b.addEventListener("DOMContentLoaded",a.onReadyEvent,!1),window.addEventListener("load",a.onReadyEvent,!1)))},block:function(){++this.blocks,Ext.isReady=!1},fireReady:function(){var a=Ext.env.Ready;a.state||(Ext._readyTime=Ext.ticks(),Ext.isDomReady=!0,a.state=1,Ext.feature.detect(!0),a.delay?navigator.standalone?a.timer=Ext.defer(function(){a.timer=null,a.handleReadySoon()},1):a.handleReadySoon():a.handleReady())},handleReady:function(){var a=this;1===a.state&&(a.state=2,Ext._beforeReadyTime=Ext.ticks(),a.invokeAll(),Ext._afterReadyTime=Ext.ticks())},handleReadySoon:function(a){var b=this;b.timer||(b.timer=Ext.defer(function(){b.timer=null,b.handleReady()},a||b.delay))},invoke:function(b){var a=b.delay;a?Ext.defer(b.fn,a,b.scope):Ext.elevateFunction?Ext.elevateFunction(b.fn,b.scope):b.fn.call(b.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var c,b=this,a=b.listeners;for(b.blocks||(Ext.isReady=!0),b.firing=!0;a.length;){if(b.sortGeneration!==b.generation&&(b.sortGeneration=b.generation,a.sort(b.sortFn)),c=a.pop(),b.blocks&&!c.dom){a.push(c);break}b.invoke(c)}b.firing=!1},makeListener:function(d,c,b){var a={fn:d,id:++this.nextId,scope:c,dom:!1,priority:0};return b&&Ext.apply(a,b),a.phase=a.dom?0:1,a},on:function(c,b,a){var d=Ext.env.Ready,e=d.makeListener(c,b,a);2!==d.state||d.firing||!e.dom&&d.blocks?(d.listeners.push(e),++d.generation,d.bound||d.bind()):d.invoke(e)},onReadyEvent:function(b){var a=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(a.doReadyEvent,a,arguments):a.doReadyEvent(b)},doReadyEvent:function(b){var a=this;a.bound>0&&(a.unbind(),a.bound=-1),a.state||a.fireReady()},sortFn:function(d,c){return-(d.phase-c.phase||c.priority-d.priority||d.id-c.id)},unblock:function(){var a=this;a.blocks&&(--a.blocks||2!==a.state||a.firing||a.invokeAll())},unbind:function(){var a=this,b=document
;a.bound>1&&b.removeEventListener("deviceready",a.onReadyEvent,!1),b.removeEventListener("DOMContentLoaded",a.onReadyEvent,!1),window.removeEventListener("load",a.onReadyEvent,!1)}},function(){var a=Ext.env.Ready;Ext.isIE9m&&Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=!0;try{document.documentElement.doScroll("left")}catch(c){b=!1}return b&&document.body?a.onReadyEvent({type:"doScroll"}):a.scrollTimer=Ext.defer(a.pollScroll,20),b},bind:function(){if(!a.bound){var b,d=document;try{b=void 0===window.frameElement}catch(c){}if(b&&d.documentElement.doScroll){if(a.pollScroll())return}else a.pollScroll=Ext.emptyFn;"complete"===d.readyState?a.onReadyEvent({type:"already "+(d.readyState||"body")}):(d.attachEvent("onreadystatechange",a.onReadyStateChange),window.attachEvent("onload",a.onReadyEvent),a.bound=1)}},unbind:function(){document.detachEvent("onreadystatechange",a.onReadyStateChange),window.detachEvent("onload",a.onReadyEvent),Ext.isNumber(a.scrollTimer)&&(clearTimeout(a.scrollTimer),a.scrollTimer=null)},onReadyStateChange:function(){var b=document.readyState;a.readyStatesRe.test(b)&&a.onReadyEvent({type:b})}}),Ext.onDocumentReady=function(e,d,b){var c={dom:!0};b&&Ext.apply(c,b),a.on(e,d,c)},Ext.onReady=function(d,c,b){a.on(d,c,b)},Ext.onInternalReady=function(d,c,b){a.on(d,c,Ext.apply({priority:1e3},b))},a.bind()}(),Ext.Loader=new function(){var c=this,a=Ext.ClassManager,h=Ext.Boot,d=Ext.Class,j=Ext.env.Ready,i=Ext.Function.alias,g=["extend","mixins","requires"],m={},k=[],b=[],e=[],n={},l={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:a.paths,preserveScripts:!0,scriptCharset:void 0},o={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(c,{isInHistory:m,isLoading:!1,history:k,config:l,readyListeners:b,optionalRequires:e,requiresMap:n,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var s,w,y,t,q,v=document.getElementsByTagName("script"),p=v[v.length-1].src,C=p.substring(0,p.lastIndexOf("/")+1),A=Ext._classPathMetadata,B=Ext.Microloader,r=Ext.manifest;if(a.getPath("Ext")||a.setPath("Ext",C+"src"),A&&(Ext._classPathMetadata=null,c.addClassPathMappings(A)),r&&(s=r.loadOrder,w=Ext.Boot.baseUrl,s&&r.bootRelative))for(y=s.length,t=0;t<y;t++)q=s[t],q.path=w+q.path,q.canonicalPath=!0;B&&(j.block(),B.onMicroloaderReady(function(){j.unblock()}))},setConfig:Ext.Function.flexSetter(function(p,q){if("paths"===p)c.setPath(q);else{l[p]=q;var r=o[p];r&&h.setConfig(!0===r?p:r,q)}return c}),getConfig:function(p){return p?l[p]:l},setPath:function(){return a.setPath.apply(a,arguments),c},addClassPathMappings:function(p){return a.setPath(p),c},addBaseUrlClassPathMappings:function(p){for(var q in p)p[q]=h.baseUrl+p[q];Ext.Loader.addClassPathMappings(p)},getPath:function(p){return a.getPath(p)},require:function(r,q,p,t){if(t)return c.exclude(t).require(r,q,p);var s=a.getNamesByExpression(r);return c.load(s,q,p)},syncRequire:function(){var q=c.syncModeEnabled;c.syncModeEnabled=!0;var p=c.require.apply(c,arguments);return c.syncModeEnabled=q,p},exclude:function(q){var p=a.select({require:function(t,s,r){return c.load(t,s,r)},syncRequire:function(v,t,s){var u=c.syncModeEnabled;c.syncModeEnabled=!0;var r=c.load(v,t,s);return c.syncModeEnabled=u,r}});return p.exclude(q),p},load:function(p,y,A){y&&(y.length&&(y=c.makeLoadCallback(p,y)),y=y.bind(A||Ext.global));var w,v,u,r=a.classState,t=[],x=[],z={},s=p.length;for(v=0;v<s;++v)w=a.resolveName(p[v]),a.isCreated(w)||(t.push(w),r[w]||(z[w]=c.getPath(w),x.push(z[w])));return u=t.length,u?(c.missingCount+=u,a.onCreated(function(){y&&Ext.callback(y,A,arguments),c.checkReady()},c,t),l.enabled||Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(t.length>1?"es":"")+": "+t.join(", ")),x.length?c.loadScripts({url:x,_classNames:t,_urlByClass:z}):c.checkReady()):(y&&y.call(A),c.checkReady()),c.syncModeEnabled&&1===s?a.get(p[0]):c},makeLoadCallback:function(p,q){return function(){for(var s=[],r=p.length;r-- >0;)s[r]=a.get(p[r]);return q.apply(this,s)}},onLoadFailure:function(){var p=this,q=p.onError;c.hasFileLoadError=!0,--c.scriptsLoading,q&&q.call(p.userScope,p),c.checkReady()},onLoadSuccess:function(){var t,r,s,x=this,u=x.onLoad,p=x._classNames,w=x._urlByClass,q=a.classState,v=c.missingQueue;for(--c.scriptsLoading,u&&u.call(x.userScope,x),r=0,s=p.length;r<s;r++)t=p[r],q[t]||(v[t]=w[t]);c.checkReady()},onReady:function(r,q,t,p){if(t)j.on(r,q,p);else{var s=j.makeListener(r,q,p);c.isLoading?b.push(s):j.invoke(s)}},addUsedClasses:function(r){var p,q,s;if(r)for(r="string"==typeof r?[r]:r,q=0,s=r.length;q<s;q++)"string"!=typeof(p=r[q])||Ext.Array.contains(e,p)||e.push(p);return c},triggerReady:function(){var p,q=e;if(c.isLoading&&q.length)e=[],c.require(q);else{for(c.isLoading=!1,b.sort(j.sortFn);b.length&&!c.isLoading;)p=b.pop(),j.invoke(p);j.unblock()}},historyPush:function(p){return!p||m[p]||a.overrideMap[p]||(m[p]=!0,k.push(p)),c},loadScripts:function(t){var r,s=Ext.manifest,p=s&&s.loadOrder,q=s&&s.loadOrderMap;++c.scriptsLoading,p&&!q&&(s.loadOrderMap=q=h.createLoadOrderMap(p)),c.checkReady(),r=Ext.apply({loadOrder:p,loadOrderMap:q,charset:l.scriptCharset,success:c.onLoadSuccess,failure:c.onLoadFailure,sync:c.syncModeEnabled,_classNames:[]},t),r.userScope=r.scope,r.scope=r,h.load(r)},loadScriptsSync:function(q){var p=c.syncModeEnabled;c.syncModeEnabled=!0,c.loadScripts({url:q}),c.syncModeEnabled=p},loadScriptsSyncBasePrefix:function(q){var p=c.syncModeEnabled;c.syncModeEnabled=!0,c.loadScripts({url:q,prependBaseUrl:!0}),c.syncModeEnabled=p},loadScript:function(x){var q="string"==typeof x,t=x instanceof Array,w=!t&&!q,p=w?x.url:x,s=w&&x.onError,u=w&&x.onLoad,v=w&&x.scope,r={url:p,scope:v,onLoad:u,onError:s,_classNames:[]};c.loadScripts(r)},checkMissingQueue:function(){var r,p=c.missingQueue,q={},s=0;for(r in p)a.classState[r]||a.isCreated(r)||(q[r]=p[r],s++);c.missingCount=s,c.missingQueue=q},checkReady:function(){var p,q=c.isLoading;c.checkMissingQueue(),p=c.missingCount+c.scriptsLoading,p&&!q?(j.block(),c.isLoading=!!p):!p&&q&&c.triggerReady()}}),Ext.require=i(c,"require"),Ext.syncRequire=i(c,"syncRequire"),Ext.exclude=i(c,"exclude"),d.registerPreprocessor("loader",function(E,t,D,C){var s,r,w,v,B,u,q,z=this,x=[],y=a.getName(E);for(s=0,w=g.length;s<w;s++)if(u=g[s],t.hasOwnProperty(u))if("string"==typeof(q=t[u]))x.push(q);else if(q instanceof Array)for(r=0,v=q.length;r<v;r++)"string"==typeof(B=q[r])&&x.push(B);else if("function"!=typeof q)for(r in q)q.hasOwnProperty(r)&&"string"==typeof(B=q[r])&&x.push(B);if(0!==x.length)return y&&(n[y]=x),(y?c.exclude(y):c).require(x,function(){for(s=0,w=g.length;s<w;s++)if(u=g[s],t.hasOwnProperty(u))if("string"==typeof(q=t[u]))t[u]=a.get(q);else if(q instanceof Array)for(r=0,v=q.length;r<v;r++)"string"==typeof(B=q[r])&&(t[u][r]=a.get(B));else if("function"!=typeof q)for(var F in q)q.hasOwnProperty(F)&&"string"==typeof(B=q[F])&&(t[u][F]=a.get(B));C.call(z,E,t,D)}),!1},!0,"after","className"),a.registerPostprocessor("uses",function(r,q,s){var t;s.uses&&(t=a.getNamesByExpression(s.uses),c.addUsedClasses(t))}),a.onCreated(c.historyPush),c.init()},Ext._endTime=Ext.ticks(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.cmd.derive("Ext.Mixin",Ext.Base,function(a){return{statics:{addHook:function(i,e,c,d){var h=Ext.isFunction(i),g=function(){var k=arguments,l=h?i:d[i],j=this.callParent(k);return l.apply(this,k),j},b=e.hasOwnProperty(c)&&e[c];h&&(i.$previous=Ext.emptyFn),g.$name=c,g.$owner=e.self,b?(g.$previous=b.$previous,b.$previous=g):e[c]=g}},onClassExtended:function(l,d){var b,h,k,c,g=d.mixinConfig,j=d.xhooks,i=l.superclass,e=d.onClassMixedIn;j&&(delete d.xhooks,(g||(d.mixinConfig=g={})).on=j),g&&(b=i.mixinConfig,b&&(d.mixinConfig=g=Ext.merge({},b,g)),d.mixinId=g.id,h=g.before,k=g.after,j=g.on,c=g.extended),(h||k||j||c)&&(d.onClassMixedIn=function(p){var n,m=this.prototype,o=p.prototype;if(h&&Ext.Object.each(h,function(q,r){p.addMember(q,function(){if(!1!==m[r].apply(this,arguments))return this.callParent(arguments)})}),k&&Ext.Object.each(k,function(q,r){p.addMember(q,function(){var s=this.callParent(arguments);return m[r].apply(this,arguments),s})}),j)for(n in j)a.addHook(j[n],o,n,m);c&&p.onExtended(function(){var q=Ext.Array.slice(arguments,0);return q.unshift(p),c.apply(this,q)},this),e&&e.apply(this,arguments)})}}},0,0,0,0,0,0,[Ext,"Mixin"],0),Ext.util=Ext.util||{},Ext.util.DelayedTask=function(e,d,b,i,h){var a,g=this,c=function(){var j=Ext.GlobalEvents;clearInterval(g.id),g.id=null,e.apply(d,b||[]),!1!==h&&j.hasListeners.idle&&j.fireEvent("idle")};i="boolean"!=typeof i||i,g.id=null,g.delay=function(k,m,l,j){i&&g.cancel(),"number"==typeof k&&(a=k),e=m||e,d=l||d,b=j||b,g.id||(g.id=Ext.interval(c,a))},g.cancel=function(){g.id&&(clearInterval(g.id),g.id=null)}},Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var d=Array.prototype.slice,a=Ext.Array.insert,c=Ext.Array.toArray,b={};return{isEvent:!0,suspended:0,noOptions:{},constructor:function(g,e){this.name=e,this.observable=g,this.listeners=[]},addListener:function(n,e,g,u,q){var r,j,x,t,z,s,h,m,v,w,y=this,l=!1,p=y.observable,k=y.name;if(-1===y.findListener(n,e)){if(j=y.createListener(n,e,g,u,q),y.firing&&(y.listeners=y.listeners.slice(0)),r=y.listeners,m=h=r.length,x=g&&g.priority,z=y._highestNegativePriorityIndex,s=void 0!==z,x)if(!(t=x<0)||s){for(v=t?z:0;v<h;v++)if((r[v].o?r[v].o.priority||0:0)<x){m=v;break}}else y._highestNegativePriorityIndex=m;else s&&(m=z);!t&&m<=z&&y._highestNegativePriorityIndex++,m===h?r[h]=j:a(r,m,[j]),p.isElement&&p._getPublisher(k).subscribe(p,k,!1!==g.delegated,g.capture),q&&(w=q.managedListeners||(q.managedListeners=[]),w.push({item:y.observable,ename:g&&g.managedName||y.name,fn:n,scope:e,options:g})),l=!0}return l},createListener:function(n,q,e,g,i){var j,l=this,m=Ext._namedScopes[q],h={fn:n,scope:q,ev:l,caller:g,manager:i,namedScope:m,defaultScope:m?q||l.observable:void 0,lateBound:"string"==typeof n},p=n,k=!1;return e&&(h.o=e,e.single&&(p=l.createSingle(p,h,e,q),k=!0),e.target&&(p=l.createTargeted(p,h,e,q,k),k=!0),e.onFrame&&(p=l.createAnimFrame(p,h,e,q,k),k=!0),e.delay&&(p=l.createDelayed(p,h,e,q,k),k=!0),e.buffer&&(p=l.createBuffered(p,h,e,q,k),k=!0),l.observable.isElement&&(j=e.type)&&(h.type=j)),h.fireFn=p,h.wrapped=k,h},findListener:function(j,h){for(var k,g=this.listeners,e=g.length;e--;)if((k=g[e])&&k.fn===j&&k.scope==h)return e;return-1},removeListener:function(p,r,n){var h,s,j,q,g,k,o=this,m=!1,e=o.observable,l=o.name;if(-1!==(n=null!=n?n:o.findListener(p,r))){if(h=o.listeners[n],o.firing&&(o.listeners=o.listeners.slice(0)),o.listeners.splice(n,1),o._highestNegativePriorityIndex&&(n<o._highestNegativePriorityIndex?o._highestNegativePriorityIndex--:n===o._highestNegativePriorityIndex&&n===o.listeners.length&&delete o._highestNegativePriorityIndex),h){if(s=h.o,h.task&&(h.task.cancel(),delete h.task),k=h.tasks&&h.tasks.length){for(;k--;)h.tasks[k].cancel();delete h.tasks}if((j=h.manager)&&(q=j.managedListeners))for(k=q.length;k--;)g=q[k],g.item===o.observable&&g.ename===l&&g.fn===p&&g.scope===r&&q.splice(k,1);e.isElement&&e._getPublisher(l).unsubscribe(e,l,!1!==s.delegated,s.capture)}m=!0}return m},clearListeners:function(){for(var h,g=this.listeners,e=g.length;e--;)h=g[e],this.removeListener(h.fn,h.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return this.suspended>0},fireDelegated:function(g,e){return this.firingObservable=g,this.fire.apply(this,e)},fire:function(){var k,y,r,w,h,l,x,v,D,j,p,m,A,s,o,C=this,g=Ext.ComponentQuery,t=C.listeners,n=t.length,q=C.observable,u=q.isElement,B=q.isComponent,z=C.firingObservable;if(!C.suspended&&n>0)for(C.firing=!0,h=arguments.length?d.call(arguments,0):[],x=h.length,u&&(A=h[0]),w=0;w<n;w++)if(l=t[w]){if(k=l.o,u&&(D&&A.setCurrentTarget(D),j=l.type,j&&(p=A,A=h[0]=p.chain({type:j})),Ext.EventObject=A),m=h,k){if(y=k.delegate)if(u){if(!(v=A.getTarget("#"+A.currentTarget.id+" "+y)))continue;h[1]=v,D=A.currentTarget,A.setCurrentTarget(v)}else if(B&&!g.is(z,y,q))continue;u&&(k.preventDefault&&A.preventDefault(),k.stopPropagation&&A.stopPropagation(),k.stopEvent&&A.stopEvent()),h[x]=k,k.args&&(m=k.args.concat(h))}if(r=C.getFireInfo(l),s=r.fn,o=r.scope,r.fn=r.scope=null,o&&o.destroyed&&(C.removeListener(s,o,w),s=null),s&&!1===s.apply(o,m))return Ext.EventObject=null,C.firing=!1;k&&h.length--,p&&(A=h[0]=p,p=null),Ext.EventObject=null}return C.firing=!1,!0},getFireInfo:function(k,j){var h,l=this.observable,e=k.fireFn,i=k.scope,g=k.namedScope;return!j&&k.wrapped?(b.fn=e,b):(h=j?k.fn:e,k.lateBound?(i&&!g||(i=(k.caller||l).resolveListenerScope(k.defaultScope)),h=i[h]):g&&g.isController?i=(k.caller||l).resolveListenerScope(k.defaultScope):i&&!g||(i=l),b.fn=h,b.scope=i,b)},createAnimFrame:function(h,i,k,g,e){var j;return e||(j=i.ev.getFireInfo(i,!0),h=j.fn,g=j.scope,j.fn=j.scope=null),Ext.Function.createAnimationFrame(h,g,k.args)},createTargeted:function(h,i,j,g,e){return function(){if(j.target===arguments[0]){var k;return e||(k=i.ev.getFireInfo(i,!0),h=k.fn,g=k.scope,k.fn=k.scope=null),h.apply(g,arguments)}}},createBuffered:function(h,i,j,g,e){return i.task=new Ext.util.DelayedTask,function(){if(i.task){var k;e||(k=i.ev.getFireInfo(i,!0),h=k.fn,g=k.scope,k.fn=k.scope=null),i.task.delay(j.buffer,h,g,c(arguments))}}},createDelayed:function(h,i,j,g,e){return function(){var l,k=new Ext.util.DelayedTask;e||(l=i.ev.getFireInfo(i,!0),h=l.fn,g=l.scope,l.fn=l.scope=null),i.tasks||(i.tasks=[]),i.tasks.push(k),k.delay(j.delay||10,h,g,c(arguments))}},createSingle:function(h,i,j,g,e){return function(){var n,l=i.ev,m=l.observable,k=i.fn;return m?m.removeListener(l.name,k,g):l.removeListener(k,g),e||(n=l.getFireInfo(i,!0),h=n.fn,g=n.scope,n.fn=n.scope=null),h.apply(g,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0),Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var b,d,e,a,c,g=this.id;return g||0===g||(b=this.self.prototype,d=this.defaultIdSeparator,a=Ext.mixin.Identifiable.uniqueIds,b.hasOwnProperty("identifiablePrefix")||(e=this.xtype,c=e?this.defaultIdPrefix+e.replace(this.idCleanRegex,d)+d:(c=b.$className)?c.replace(this.idCleanRegex,d).toLowerCase()+d:this.defaultIdPrefix+"anonymous"+d,b.identifiablePrefix=c),c=this.identifiablePrefix,a.hasOwnProperty(c)||(a[c]=0),g=this.id=this.id=c+ ++a[c]),this.getUniqueId=this.getOptimizedId,g},setId:function(a){this.id=this.id=a},getId:function(){var a=this.id;return a||(a=this.getUniqueId()),this.getId=this.getOptimizedId,a}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0),Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(b){var e=Ext.emptyFn,d=[],g=Array.prototype,h=g.slice,c=function(i){if(i instanceof c)return i;this.observable=i,arguments[1].isObservable&&(this.managedListeners=!0),this.args=h.call(arguments,1)},a=["events","hasListeners","managedListeners","eventedBeforeEventNames"];return c.prototype.destroy=function(){this.destroy=Ext.emptyFn;var i=this.observable;i.destroyed||i[this.managedListeners?"mun":"un"].apply(i,this.args)},{mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},statics:{releaseCapture:function(i){i.fireEventArgs=this.prototype.fireEventArgs},capture:function(l,j,i){var k=function(m,n){return j.apply(i,[m].concat(n))};this.captureArgs(l,k,i)},captureArgs:function(k,j,i){k.fireEventArgs=Ext.Function.createInterceptor(k.fireEventArgs,j,i)},observe:function(i,j){return i&&(i.isObservable||(Ext.applyIf(i,new this),this.captureArgs(i.prototype,i.fireEventArgs,i)),Ext.isObject(j)&&i.on(j)),i},prepareClass:function(n,v,p){var w,t,o,r,u=n.listeners=[],s=p||n.prototype,j=s.listeners,m=v?v.listeners:n.superclass.self.listeners;if(m&&u.push(m),j&&(w=j.scope,w?(t=Ext._namedScopes[w])&&t.isController&&(j.scope="self.controller"):j.scope="self",u.push(j),s.listeners=null),!n.HasListeners){var q=function(){},l=n.superclass.HasListeners||v&&v.HasListeners||b.HasListeners;n.prototype.HasListeners=n.HasListeners=q,q.prototype=n.hasListeners=new l}for(w=n.prototype.$noClearOnDestroy||{},o=0,r=a.length;o<r;o++)w[a[o]]=!0;n.prototype.$noClearOnDestroy=w}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(m){var k,o,q,j,n,p=this,l=p.self;if(!p.$observableInitialized){if(p.$observableInitialized=!0,p.hasListeners=p.hasListeners=new p.HasListeners,p.eventedBeforeEventNames={},p.events=p.events||{},k=l.listeners,k&&!p._addDeclaredListeners(k)&&(l.listeners=null),o=m&&m.listeners||p.listeners)if(o instanceof Array)for(n=0,j=o.length;n<j;++n)p.addListener(o[n]);else p.addListener(o);q=m&&m.bubbleEvents||p.bubbleEvents,q&&p.enableBubble(q),p.$applyConfigs?m&&Ext.apply(p,m):p.initConfig(m),o&&(p.listeners=null)}},onClassExtended:function(i,j){i.HasListeners||b.prepareClass(i,i.prototype.$observableMixedIn?void 0:j)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(i){var j=this;return i instanceof Array?Ext.each(i,j._addDeclaredListeners,j):(j._addedDeclaredListeners=!0,j.addListener(i)),j._addedDeclaredListeners},addManagedListener:function(p,l,n,q,r,k){var j,i,m=this;if(m.managedListeners=m.managedListeners||[],"string"!=typeof l){i=arguments.length>4?r:l,r=l;for(l in r)r.hasOwnProperty(l)&&(j=r[l],p.$eventOptions[l]||m.addManagedListener(p,l,j.fn||j,j.scope||r.scope||q,j.fn?j:i,!0));if(r&&r.destroyable)return new c(m,p,r)}else if(n!==e&&(p.doAddListener(l,n,q,r,null,m,m),!k&&r&&r.destroyable))return new c(m,p,l,n,q)},removeManagedListener:function(q,l,o,r){var s,k,p,j,m,n=this;if(!q.$observableDestroyed)if("string"!=typeof l){s=l;for(l in s)s.hasOwnProperty(l)&&(k=s[l],q.$eventOptions[l]||n.removeManagedListener(q,l,k.fn||k,k.scope||s.scope||r))}else for(p=n.managedListeners?n.managedListeners.slice():[],l=Ext.canonicalEventName(l),m=0,j=p.length;m<j;m++)n.removeManagedListenerItem(!1,p[m],q,l,o,r)},fireEvent:function(i){return this.fireEventArgs(i,h.call(arguments,1))},resolveListenerScope:function(j){var i=Ext._namedScopes[j];return i&&(i.isSelf||i.isThis)&&(j=null),j||this},fireEventArgs:function(i,k){i=Ext.canonicalEventName(i);var n=this,l=n.events,m=l&&l[i],j=!0;return n.hasListeners[i]&&(j=n.doFireEvent(i,k||d,!!m&&m.bubble)),j},fireAction:function(j,l,n,m,k,i){"string"!=typeof n||m||(n=this[n]),k=k?Ext.Object.chain(k):{},k.single=!0,k.priority="after"===i?-99.5:99.5,this.doAddListener(j,n,m,k),this.fireEventArgs(j,l)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var k,j,n=this,m=n.fn,l=n.scope,o=n.fnArgs;if(n.owner,!--n._paused){if(m&&(k=Ext.Array.slice(o||n.args),!1===o&&k.shift(),n.fn=null,k.push(n),Ext.isFunction(m)?j=m.apply(l,k):l&&Ext.isString(m)&&Ext.isFunction(l[m])&&(j=l[m].apply(l,k)),!1===j))return!1;if(!n._paused)return n.owner.fireEventArgs(n.eventName,n.args)}}},fireEventedAction:function(j,l,o,r,n){var p,m=this,q=m.eventedBeforeEventNames,k=q[j]||(q[j]="before"+j),i=Ext.apply({owner:m,eventName:j,fn:o,scope:r,fnArgs:n,args:l},m.$eventedController);return l.push(i),p=m.fireEventArgs(k,l),l.pop(),!1!==p&&i.resume()},doFireEvent:function(k,m,j){var i,n,o=this,l=!0;do{if(o.eventsSuspended)return(i=o.eventQueue)&&i.push([k,m]),l;if((n=o.events&&o.events[k])&&!0!==n&&!1===(l=n.fire.apply(n,m)))break}while(j&&(o=o.getBubbleParent()));return l},getBubbleParent:function(){var j=this,i=j.getBubbleTarget&&j.getBubbleTarget();return i&&i.isObservable?i:null},addListener:function(m,s,t,u,k,i){var j,q,o,p,l,r=this,n=Ext._namedScopes;if("string"!=typeof m){u=m,t=u.scope,q=t&&n[t],o=q&&q.isSelf,l=(r.isComponent||r.isWidget)&&u.element?r.$elementEventOptions:r.$eventOptions;for(m in u)j=u[m],l[m]||(p=j.scope,p&&o&&(q=n[p])&&q.isController&&(p="self.controller"),r.doAddListener(m,j.fn||j,p||t,j.fn?j:u,k,i));if(u&&u.destroyable)return new c(r,u)}else if(r.doAddListener(m,s,t,u,k,i),u&&u.destroyable)return new c(r,m,s,t,u);return r},removeListener:function(l,n,m,i){var k,j,o=this;if("string"!=typeof l){j=l,i=i||o.$eventOptions;for(l in j)j.hasOwnProperty(l)&&(k=j[l],o.$eventOptions[l]||o.doRemoveListener(l,k.fn||k,k.scope||j.scope))}else o.doRemoveListener(l,n,m);return o},onBefore:function(i,l,k,j){return this.addListener(i,l,k,j,"before")},onAfter:function(i,l,k,j){return this.addListener(i,l,k,j,"after")},unBefore:function(i,l,k,j){return this.removeListener(i,l,k,j,"before")},unAfter:function(i,l,k,j){return this.removeListener(i,l,k,j,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var l,j,m=this,k=m.events,i=m.hasListeners;if(k){for(j in k)k.hasOwnProperty(j)&&(l=k[j],l.isEvent&&(delete i[j],l.clearListeners()));m.events=null}m.clearManagedListeners()},clearManagedListeners:function(){for(var m=this,k=m.managedListeners?m.managedListeners.slice():[],l=0,j=k.length;l<j;l++)m.removeManagedListenerItem(!0,k[l]);m.managedListeners=[]},removeManagedListenerItem:function(j,i,n,k,m,l){!j&&(i.item!==n||i.ename!==k||m&&i.fn!==m||l&&i.scope!==l)||(i.item.destroyed||i.item.doRemoveListener(i.ename,i.fn,i.scope,i.options),j||Ext.Array.remove(this.managedListeners,i))},hasListener:function(i){return i=Ext.canonicalEventName(i),!!this.hasListeners[i]},isSuspended:function(k){var j=this.eventsSuspended>0,i=this.events;return!j&&k&&i&&(k=i[k])&&k.isEvent?k.isSuspended():j},suspendEvents:function(i){++this.eventsSuspended,i&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var l,n,k,o=this,m=o.events,j=arguments.length;for(l=0;l<j;l++)k=arguments[l],k=Ext.canonicalEventName(k),n=m[k],n&&n.isEvent||(n=o._initEvent(k)),n.suspend()},resumeEvent:function(){var l,n,k,m=this.events||0,j=m&&arguments.length;for(l=0;l<j;l++)k=Ext.canonicalEventName(arguments[l]),(n=m[k])&&n.resume&&n.resume()},resumeEvents:function(i){var l,k,j=this,m=j.eventQueue;if(j.eventsSuspended&&!--j.eventsSuspended&&(delete j.eventQueue,!i&&m))for(l=m.length,k=0;k<l;k++)j.fireEventArgs.apply(j,m[k])},relayEvents:function(q,r,l){var j,n,p=this,m=r.length,k=0,o={};if(Ext.isObject(r))for(k in r)n=r[k],o[k]=p.createRelayer(n);else for(;k<m;k++)j=r[k],o[j]=p.createRelayer(l?l+j:j);return p.mon(q,o,null,null,void 0),new c(p,q,o)},createRelayer:function(i,j){var k=this;return function(){return k.fireEventArgs.call(k,i,j?h.apply(arguments,j):arguments)}},enableBubble:function(q){if(q){var k,m,j,o=this,p="string"==typeof q?arguments:q,l=o.events,n=l&&p.length;for(j=0;j<n;++j)k=p[j],k=Ext.canonicalEventName(k),m=l[k],m&&m.isEvent||(m=o._initEvent(k)),o.hasListeners._incr_(k),m.bubble=!0}},destroy:function(){this.clearListeners(),this.callParent(),this.destroyObservable(!0)},destroyObservable:function(j){var i=this;i.$observableDestroyed||(j||i.clearListeners(),i.destroyed&&i.clearPropertiesOnDestroy&&(i.clearPrototypeOnDestroy||(i.fireEvent=i.fireEventArgs=i.fireAction=i.fireEventedAction=Ext.emptyFn),i.events=i.managedListeners=i.eventedBeforeEventNames=null,i.$observableDestroyed=!0))},privates:{doAddListener:function(l,p,r,s,k,j,m){var i,o=this,n=!1;return k=k||s&&s.order,k&&(s&&s.priority||(s=s?Ext.Object.chain(s):{},s.priority=o.$orderToPriority[k])),l=Ext.canonicalEventName(l),i=(o.events||(o.events={}))[l],i&&i.isEvent||(i=o._initEvent(l)),p!==e&&(!m&&r&&r.isObservable&&r!==o&&(m=r),i.addListener(p,r,s,j,m)&&(o.hasListeners._incr_(l),n=!0)),n},doRemoveListener:function(k,m,l){var n,o=this,i=!1,j=o.events;return k=Ext.canonicalEventName(k),n=j&&j[k],n&&n.isEvent&&n.removeListener(m,l)&&(o.hasListeners._decr_(k),i=!0),i},_initEvent:function(i){return this.events[i]=new Ext.util.Event(this,i)}},deprecated:{"5.0":{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){function d(n){var j,i,k,h,m=(this.methodEvents=this.methodEvents||{})[n],l=this;return m||(this.methodEvents[n]=m={},m.originalFn=this[n],m.methodName=n,m.before=[],m.after=[],h=function(q,p,o){void 0!==(i=q.apply(p||l,o))&&("object"==typeof i?(j=void 0!==i.returnValue?i.returnValue:i,k=!!i.cancel):!1===i?k=!0:j=i)},this[n]=function(){var p,r,o,q=Array.prototype.slice.call(arguments,0);for(j=i=void 0,k=!1,r=0,o=m.before.length;r<o;r++)if(p=m.before[r],h(p.fn,p.scope,q),k)return j;for(void 0!==(i=m.originalFn.apply(l,q))&&(j=i),r=0,o=m.after.length;r<o;r++)if(p=m.after[r],h(p.fn,p.scope,q),k)return j;return j}),m}var b=this,e=b.prototype,c=function(){},g=function(h){if(!h.HasListeners){var i=h.prototype;i.$observableMixedIn=1,b.prepareClass(h,this),h.onExtended(function(j,k){b.prepareClass(j,null,k)}),i.onClassMixedIn?Ext.override(h,{onClassMixedIn:function(j){g.call(this,j),this.callParent(arguments)}}):i.onClassMixedIn=function(j){g.call(this,j)}}a.call(this,h)},a=e.onClassMixedIn;c.prototype={_decr_:function(i,h){null==h&&(h=1),(this[i]-=h)||delete this[i]},_incr_:function(h){this.hasOwnProperty(h)?++this[h]:this[h]=1}},e.HasListeners=b.HasListeners=c,b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"}),b.observeClass=b.observe,Ext.apply(e,{onClassMixedIn:g,beforeMethod:function(j,i,h){d.call(this,j).before.push({fn:i,scope:h})},afterMethod:function(j,i,h){d.call(this,j).after.push({fn:i,scope:h})},removeMethodListener:function(n,l,k){var j,h,m=this.getMethodEvent(n);for(j=0,h=m.before.length;j<h;j++)if(m.before[j].fn==l&&m.before[j].scope==k)return void Ext.Array.erase(m.before,j,1);for(j=0,h=m.after.length;j<h;j++)if(m.after[j].fn==l&&m.after[j].scope==k)return void Ext.Array.erase(m.after,j,1)},toggleEventLogging:function(h){Ext.util.Observable[h?"capture":"releaseCapture"](this,function(i){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(i,arguments)})}})}),Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(a){var b,c=this;c.mixins.observable.constructor.call(c,a),c.clear(!0),(b=c.getKeyFn())&&(c.getKey=b)},getCount:function(){return this.length},getData:function(a,b){return void 0===b&&(b=a,a=this.getKey(b)),[a,b]},getKey:function(a){return a.id},add:function(a,c){var b=this;return 1===arguments.length&&(c=a,a=b.getKey(c)),b.containsKey(a)?b.replace(a,c):(b.map[a]=c,++b.length,b.generation++,b.hasListeners.add&&b.fireEvent("add",b,a,c),c)},replace:function(b,d){var a,c=this,e=c.map;return 1===arguments.length&&(d=b,b=c.getKey(d)),c.containsKey(b)||c.add(b,d),a=e[b],e[b]=d,c.generation++,c.hasListeners.replace&&c.fireEvent("replace",c,b,d,a),d},remove:function(b){var a=this.findKey(b);return void 0!==a&&this.removeAtKey(a)},removeAtKey:function(a){var c,b=this;return!!b.containsKey(a)&&(c=b.map[a],delete b.map[a],--b.length,b.generation++,b.hasListeners.remove&&b.fireEvent("remove",b,a,c),!0)},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){var b=this;return(a||b.generation)&&(b.map={},b.length=0,b.generation=a?0:b.generation+1),!0!==a&&b.hasListeners.clear&&b.fireEvent("clear",b),b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&void 0!==b[a]},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(d){var b,a=[],c=this.map;for(b in c)c.hasOwnProperty(b)&&a.push(d?b:c[b]);return a},each:function(d,c){var b,a=Ext.apply({},this.map),e=this.length;c=c||this;for(b in a)if(a.hasOwnProperty(b)&&!1===d.call(c,b,a[b],e))break;return this},clone:function(){var a,c=new this.self(this.initialConfig),b=this.map;c.suspendEvents();for(a in b)b.hasOwnProperty(a)&&c.add(a,b[a]);return c.resumeEvents(),c},findKey:function(b){var a,c=this.map;for(a in c)if(c.hasOwnProperty(a)&&c[a]===b)return a}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],function(b){var a=b.prototype;a.removeByKey=a.removeAtKey}),Ext.cmd.derive("Ext.AbstractManager",Ext.Base,{typeName:"type",constructor:function(a){Ext.apply(this,a||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a,a[this.typeName]=b},isRegistered:function(a){return void 0!==this.types[a]},create:function(a,d){var b=a[this.typeName]||a.type||d;return new(0,this.types[b])(a)},onAvailable:function(g,c,b){var d,e,a=this.all;a.containsKey(g)?(d=a.get(g),c.call(b||d,d)):(e=function(j,h,i){h==g&&(c.call(b||i,i),a.un("add",e))},a.on("add",e))},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,"AbstractManager"],0),Ext.cmd.derive("Ext.promise.Consequence",Ext.Base,function(a){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,b,d){var c=this;c.onFulfilled=e,c.onRejected=b,c.onProgress=d,c.deferred=new Ext.promise.Deferred,c.promise=c.deferred.promise},trigger:function(e,d){var c=this,b=c.deferred;switch(e){case"fulfill":c.propagate(d,c.onFulfilled,b,b.resolve);break;case"reject":c.propagate(d,c.onRejected,b,b.reject)}},update:function(b){Ext.isFunction(this.onProgress)&&(b=this.onProgress(b)),this.deferred.update(b)},propagate:function(d,e,b,c){Ext.isFunction(e)?this.schedule(function(){try{b.resolve(e(d))}catch(g){b.reject(g)}}):c.call(this.deferred,d)},schedule:function(c){var b=a.queueSize++;a.queue[b]=c,b||Ext.asap(a.dispatch)},statics:{queue:new Array(1e4),queueSize:0,dispatch:function(){var d,c,b=a.queue;for(c=0;c<a.queueSize;++c)d=b[c],b[c]=null,d();a.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,"Consequence"],0),Ext.cmd.derive("Ext.promise.Deferred",Ext.Base,{promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){var a=this;a.promise=new Ext.promise.Promise(a),a.consequences=[],a.completed=!1,a.completionAction=null,a.completionValue=null},then:function(e,a,d){var c=this,b=new Ext.promise.Consequence(e,a,d);return c.completed?b.trigger(c.completionAction,c.completionValue):c.consequences.push(b),b.promise},resolve:function(d){var a,b,c=this;if(!c.completed)try{if(d===c.promise)throw new TypeError("A Promise cannot be resolved with itself.");if(null!=d&&("object"==typeof d||Ext.isFunction(d))&&Ext.isFunction(b=d.then)){a=!1;try{b.call(d,function(h){a||(a=!0,c.resolve(h))},function(h){a||(a=!0,c.reject(h))})}catch(g){a||c.reject(g)}}else c.complete("fulfill",d)}catch(e){c.reject(e)}},reject:function(a){this.completed||this.complete("reject",a)},update:function(b){var d,c,a,e=this.consequences;if(!this.completed)for(c=0,a=e.length;c<a;c++)d=e[c],d.update(b)},complete:function(g,e){var c,b,a,d=this,h=d.consequences;for(d.completionAction=g,d.completionValue=e,d.completed=!0,b=0,a=h.length;b<a;b++)c=h[b],c.trigger(d.completionAction,d.completionValue);d.consequences=null}},1,0,0,0,0,0,[Ext.promise,"Deferred"],0),Ext.cmd.derive("Ext.promise.Promise",Ext.Base,function(b){var a;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){a=Ext.promise.Deferred},all:function(c){return b.when(c).then(function(e){var l,d,m,h,k,n=new a,j=e.length,g=new Array(j);if(j)for(m=function(o,i){return b.when(o).then(function(p){return g[i]=p,--j||n.resolve(g),p},function(p){return n.reject(p)})},l=h=0,k=e.length;h<k;l=++h)d=e[l],l in e?m(d,l):j--;else n.resolve(g)
;return n.promise})},is:function(c){return null!=c&&("object"==typeof c||Ext.isFunction(c))&&Ext.isFunction(c.then)},rethrowError:function(c){Ext.asap(function(){throw c})},when:function(d){var c=new Ext.promise.Deferred;return c.resolve(d),c.promise}},owner:null,constructor:function(c){this.owner=c},then:function(h,c,g,d){var e;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=arguments[0],h=e.success,c=e.failure,g=e.progress,d=e.scope),d&&(h&&(h=Ext.Function.bind(h,d)),c&&(c=Ext.Function.bind(c,d)),g&&(g=Ext.Function.bind(g,d))),this.owner.then(h,c,g)},otherwise:function(c,d){var e;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=arguments[0],c=e.fn,d=e.scope),null!=d&&(c=Ext.Function.bind(c,d)),this.owner.then(null,c)},always:function(c,d){var e;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=arguments[0],c=e.fn,d=e.scope),null!=d&&(c=Ext.Function.bind(c,d)),this.owner.then(function(g){try{c()}catch(h){b.rethrowError(h)}return g},function(h){try{c()}catch(g){b.rethrowError(g)}throw h})},done:function(){this.owner.then(null,b.rethrowError)},cancel:function(c){null==c&&(c=null),this.owner.reject(new this.self.CancellationError(c))},log:function(c){return null==c&&(c=""),this.owner.then(function(d){return Ext.log((c||"Promise")+" resolved with value: "+d),d},function(d){throw Ext.log((c||"Promise")+" rejected with reason: "+d),d})}}},1,0,0,0,0,0,[Ext.promise,"Promise"],function(a){a._ready()}),Ext.cmd.derive("Ext.Promise",Ext.Base,function(){var a;return{statics:{_ready:function(){a=Ext.promise.Promise},all:function(){return a.all.apply(a,arguments)},race:function(){},reject:function(c){var b=new Ext.promise.Deferred;return b.reject(c),b.promise},resolve:function(c){var b=new Ext.promise.Deferred;return b.resolve(c),b.promise}},constructor:function(c){var b=new Ext.promise.Deferred;return c(b.resolve.bind(b),b.reject.bind(b)),b.promise}}},1,0,0,0,0,0,[Ext,"Promise"],function(a){var b=Ext.global.Promise;b&&b.resolve?Ext.Promise=b:a._ready()}),Ext.cmd.derive("Ext.Deferred",Ext.promise.Deferred,function(b){var c,a;return{statics:{_ready:function(){c=Ext.promise.Promise,a=Ext.Promise.resolve},all:function(){return c.all.apply(c,arguments)},any:function(d){return b.some(d,1).then(function(e){return e[0]},function(e){if(!(e instanceof Error&&"Too few Promises were resolved."===e.message))throw e;Ext.raise("No Promises were resolved.")})},delay:function(d,g){var e;return 1===arguments.length&&(g=d,d=void 0),g=Math.max(g,0),e=new b,setTimeout(function(){e.resolve(d)},g),e.promise},map:function(d,e){return b.resolved(d).then(function(h){var p,n,g,l,o,j,k,m;if(l=h.length,j=new Array(h.length),p=new b,l)for(o=function(q,i){return b.resolved(q).then(function(r){return e(r,i,j)}).then(function(r){return j[i]=r,--l||p.resolve(j),r},function(r){return p.reject(r)})},n=k=0,m=h.length;k<m;n=++k)g=h[n],n in h?o(g,n):l--;else p.resolve(j);return p.promise})},memoize:function(h,g,d){var e=Ext.Function.memoize(h,g,d);return function(){return b.all(Ext.Array.slice(arguments)).then(function(i){return e.apply(g,i)})}},parallel:function(e,g){null==g&&(g=null);var d=Ext.Array.slice(arguments,2);return b.map(e,function(h){if(!Ext.isFunction(h))throw new Error("Invalid parameter: expected a function.");return h.apply(g,d)})},pipeline:function(e,d,g){return null==g&&(g=null),b.reduce(e,function(i,h){if(!Ext.isFunction(h))throw new Error("Invalid parameter: expected a function.");return h.call(g,i)},d)},reduce:function(e,g,d){var h=3===arguments.length;return b.resolved(e).then(function(j){var i=[j,function(l,m,k){return b.resolved(l).then(function(n){return b.resolved(m).then(function(o){return g(n,o,k,j)})})}];return h&&i.push(d),Ext.Array.reduce.apply(Ext.Array,i)})},rejected:function(e){var d=new Ext.Deferred;return d.reject(e),d.promise},resolved:function(e){var d=new Ext.Deferred;return d.resolve(e),d.promise},sequence:function(e,g){null==g&&(g=null);var d=Ext.Array.slice(arguments,2);return b.reduce(e,function(h,i){if(!Ext.isFunction(i))throw new Error("Invalid parameter: expected a function.");return b.resolved(i.apply(g,d)).then(function(j){return h.push(j),h})},[])},some:function(e,d){return b.resolved(e).then(function(j){var r,n,p,q,h,g,l,o,k,m;if(o=[],l=d,g=j.length-l+1,r=new b,j.length<d)r.reject(new Error("Too few Promises were resolved."));else for(q=function(i){return l>0&&o.push(i),l--,0===l&&r.resolve(o),i},p=function(i){return g--,0===g&&r.reject(new Error("Too few Promises were resolved.")),i},n=k=0,m=j.length;k<m;n=++k)h=j[n],n in j&&b.resolved(h).then(q,p);return r.promise})},timeout:function(d,g){var h,e=new b;return h=setTimeout(function(){h&&e.reject(new Error("Promise timed out."))},g),b.resolved(d).then(function(i){clearTimeout(h),h=null,e.resolve(i)},function(i){clearTimeout(h),h=null,e.reject(i)}),e.promise}}}},0,0,0,0,0,0,[Ext,"Deferred"],function(a){a._ready()}),Ext.Factory=function(a){var b=this;b.aliasPrefix=a+".",b.cache={},b.name=a.replace(b.fixNameRe,b.fixNameFn),b.type=a},Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(c,e){var d,h,g,j,i=this,a=Ext.ClassManager,b=i.cache;if(c){if(c[i.instanceProp])return c;"string"==typeof c&&(j=c,c={},c[i.defaultProperty]=j),h=c.xclass,j=c.type}if(e&&e.constructor===Object&&(c=Ext.apply({},c,e),e=e.type),h){if(!(g=a.get(h)))return a.instantiate(h,c)}else if((j=j||e||i.defaultType)||(g=i.defaultClass),!g&&!(g=b[j])){if(d=i.aliasPrefix+j,h=a.getNameByAlias(d),!(g=h&&a.get(h)))return a.instantiateByAlias(d,c);b[j]=g}return g.isInstance?g:new g(c)},fixNameRe:/\.[a-z]/gi,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={}}},Ext.Factory.define=function(g,d){var b,c,e,a=Ext.Factory;return g.constructor===Object?Ext.Object.each(g,a.define,a):(c=new Ext.Factory(g),d&&(d.constructor===Object?(Ext.apply(c,d),"string"==typeof(b=c.xclass)&&(c.defaultClass=Ext.ClassManager.get(b))):c.defaultType=d),a[c.name]=e=c.create.bind(c),e.instance=c),e},Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(g){var b,a,e=g.prototype,h=e.factoryConfig,d=e.alias,c={};d=d&&d.length&&d[0],d&&(b=d.lastIndexOf("."))>0&&(c.type=d.substring(0,b),c.defaultType=d.substring(b+1)),h&&(delete e.factoryConfig,Ext.apply(c,h)),a=Ext.Factory.define(c.type,c),g.create===Ext.Base.create&&(g.create=a)}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0),Ext.cmd.derive("Ext.data.request.Base",Ext.Base,{factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(a){var b=this;Ext.apply(b,a.options||{},a.ownerConfig),b.id=++Ext.data.Connection.requestId,b.owner=a.owner,b.options=a.options,b.requestOptions=a.requestOptions},start:function(){var a=this,b=a.getTimeout();b&&a.async&&(a.timer=Ext.defer(a.onTimeout,b,a))},abort:function(){var a=this;a.clearTimer(),a.timedout||(a.aborted=!0),a.abort=Ext.emptyFn},createDeferred:function(){return this.deferred=new Ext.Deferred},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var a=this.getPromise();return a.then.apply(a,arguments)},onComplete:function(){var c=this,b=c.deferred,a=c.result;c.clearTimer(),b&&(c.success?b.resolve(a):b.reject(a))},onTimeout:function(){var a=this;a.timedout=!0,a.timer=null,a.abort(!0)},getTimeout:function(){return this.timeout},clearTimer:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},destroy:function(){var a=this;a.abort(),a.owner=a.options=a.requestOptions=a.result=null,a.callParent()},privates:{createException:function(){var a,b=this;return a={request:b,requestId:b.id,status:b.aborted?-1:0,statusText:b.aborted?"transaction aborted":"communication failure",getResponseHeader:b._getHeader,getAllResponseHeaders:b._getHeaders},b.aborted&&(a.aborted=!0),b.timedout&&(a.timedout=!0),a},_getHeader:function(a){var b=this.headers;return b&&b[a.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,"Base"],0),Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(d,c,b){var a;(a=this.liveConnections[Number(d)])&&a.onFlashStateChange(c,b)},registerConnection:function(b){var a=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[a]=b,a},injectFlashPlugin:function(){var a,c,b=this;b.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]}),a=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),c="/plugins/flash/FlashPlugin.swf",Ext.flashPluginPath&&(c=Ext.flashPluginPath),Ext.Loader.loadScript({url:a,onLoad:function(){var d={},i={};i.quality="high",i.bgcolor="#ffffff",i.allowscriptaccess="sameDomain",i.allowfullscreen="true";var g={};g.id="ext-flash-polyfill",g.name="polyfill",g.align="middle",swfobject.embedSWF(c,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",d,i,g)},onError:function(){},scope:b}),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var b=this;Ext.apply(b,a),b.requestHeaders={}},abort:function(){var a=this;if(4!=a.readyState){if(a.aborted=!0,!Ext.data.flash.BinaryXhr.flashPluginActive)return void Ext.GlobalEvents.removeListener("flashready",a.onFlashReady,a);Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}},getAllResponseHeaders:function(){var a=[];return Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)}),a.join("\r\n")},getResponseHeader:function(b){var a=this.responseHeaders;return a&&a[b]||null},open:function(g,c,d,a,b){var e=this;e.method=g,e.url=c,e.async=!1!==d,e.user=a,e.password=b},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.GlobalEvents.addListener("flashready",b.onFlashReady,b)},onFlashReady:function(){var b,c=this;c.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(c),b={method:c.method,url:c.url,user:c.user,password:c.password,mimeType:c.mimeType,requestHeaders:c.requestHeaders,body:c.body,javascriptId:c.javascriptId},Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;a.readyState!=b&&(a.readyState=b,a.onreadystatechange())},setRequestHeader:function(b,a){this.requestHeaders[b]=a},onreadystatechange:Ext.emptyFn,parseData:function(b){var a=this;this.status=b.status||0,a.responseHeaders={},a.mimeType&&(a.responseHeaders["content-type"]=a.mimeType),"complete"==b.reason?(this.responseBytes=b.data,a.responseHeaders["content-length"]=b.data.length):"error"!=b.reason&&"securityError"!=b.reason||(this.statusText=b.text,a.responseHeaders["content-length"]=0)},onFlashStateChange:function(c,b){var a=this;4==c&&(a.parseData(b),delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]),a.setReadyState(c)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0),Ext.cmd.derive("Ext.data.request.Ajax",Ext.data.request.Base,{statics:{parseStatus:function(b,c){var a;c&&("arraybuffer"===c.responseType?a=c.byteLength:c.responseText&&(a=c.responseText.length)),b=1223==b?204:b;var e=b>=200&&b<300||304==b||0==b&&Ext.isNumber(a),d=!1;if(!e)switch(b){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:d=!0}return{success:e,isException:d}}},start:function(e){var h,c=this,b=c.options,a=c.requestOptions,d=c.isXdr;return h=c.xhr=c.openRequest(b,a,c.async,c.username,c.password),d||c.setupHeaders(h,b,a.data,a.params),c.async&&(d||(h.onreadystatechange=Ext.Function.bind(c.onStateChange,c))),d&&c.processXdrRequest(c,h),Ext.data.request.Base.prototype.start.call(this,e),h.send(e),c.async?c:c.onComplete()},abort:function(b){var a=this,d=a.xhr;if(b||a.isLoading()){try{d.onreadystatechange=null}catch(c){d.onreadystatechange=Ext.emptyFn}d.abort(),Ext.data.request.Base.prototype.abort.call(this,b),a.onComplete(),a.cleanup()}},cleanup:function(){this.xhr=null,delete this.xhr},isLoading:function(){var a=this,d=a.xhr,b=d&&d.readyState,c=Ext.data.flash&&Ext.data.flash.BinaryXhr;return!(!d||a.aborted||a.timedout)&&(c&&d instanceof c?4!==b:0!==b&&4!==b)},openRequest:function(c,a,d,h,b){var e=this,g=e.newRequest(c);return h?g.open(a.method,a.url,d,h,b):e.isXdr?g.open(a.method,a.url):g.open(a.method,a.url,d),(c.binary||e.binary)&&(window.Uint8Array?g.responseType="arraybuffer":g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined")),(c.withCredentials||e.withCredentials)&&(g.withCredentials=!0),g},newRequest:function(a){var c,b=this;return a.binaryData?c=window.Uint8Array?b.getXhrInstance():new Ext.data.flash.BinaryXhr:b.cors&&Ext.isIE9m?(c=b.getXdrInstance(),b.isXdr=!0):(c=b.getXhrInstance(),b.isXdr=!1),c},setupHeaders:function(o,p,g,d){var m,h,k=this,b=Ext.apply({},p.headers||{},k.defaultHeaders),n=k.defaultPostHeader,l=p.jsonData,a=p.xmlData,j="Content-Type",c=k.useDefaultXhrHeader;b.hasOwnProperty(j)||!g&&!d||(g&&(p.rawData?n="text/plain":a&&Ext.isDefined(a)?n="text/xml":l&&Ext.isDefined(l)&&(n="application/json")),b[j]=n),c&&!b["X-Requested-With"]&&(b["X-Requested-With"]=k.defaultXhrHeader),void 0!==b[j]&&null!==b[j]||delete b[j];try{for(m in b)b.hasOwnProperty(m)&&(h=b[m],o.setRequestHeader(m,h))}catch(i){k.owner.fireEvent("exception",m,h)}return b},getXdrInstance:function(){var a;return Ext.ieVersion>=8?a=new XDomainRequest:Ext.raise({msg:"Your browser does not support CORS"}),a},getXhrInstance:function(){for(var g,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0,a=b.length;c<a;++c)try{(g=b[c])();break}catch(d){}return g}(),processXdrRequest:function(b,c){var a=this;delete b.headers,b.contentType=b.options.contentType||a.defaultXdrContentType,c.onload=Ext.Function.bind(a.onStateChange,a,[!0]),c.onerror=c.ontimeout=Ext.Function.bind(a.onStateChange,a,[!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]},a.getResponseHeader=function(){return""},a.contentType=b.contentType||this.defaultXdrContentType},onStateChange:function(b){var c=this,d=c.xhr,a=Ext.GlobalEvents;(d&&4==d.readyState||c.isXdr)&&(c.clearTimer(),c.onComplete(b),c.cleanup(),a.hasListeners.idle&&a.fireEvent("idle"))},onComplete:function(j){var l,h,c,g=this,a=g.owner,k=g.options,i=g.xhr,b={success:!1,isException:!1};if(!i||g.destroyed)return g.result=b;try{l=Ext.data.request.Ajax.parseStatus(i.status,i),l.success&&(l.success=4===i.readyState)}catch(d){l=b}return h=g.success=g.isXdr?j:l.success,h?(c=g.createResponse(i),a.hasListeners.requestcomplete&&a.fireEvent("requestcomplete",a,c,k),k.success&&Ext.callback(k.success,k.scope,[c,k])):(c=l.isException||g.aborted||g.timedout?g.createException(i):g.createResponse(i),a.hasListeners.requestexception&&a.fireEvent("requestexception",a,c,k),k.failure&&Ext.callback(k.failure,k.scope,[c,k])),g.result=c,k.callback&&Ext.callback(k.callback,k.scope,[k,h,c]),a.onRequestComplete(g),Ext.data.request.Base.prototype.onComplete.call(this,j),c},createResponse:function(j){for(var l,g,i,d,h=this,c=h.isXdr,b={},k=c?[]:j.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),e=k.length;e--;)l=k[e],(g=l.indexOf(":"))>=0&&(i=l.substr(0,g).toLowerCase()," "==l.charAt(g+1)&&++g,b[i]=l.substr(g+1));return d={request:h,requestId:h.id,status:j.status,statusText:j.statusText,getResponseHeader:function(m){return b[m.toLowerCase()]},getAllResponseHeaders:function(){return b}},c&&h.processXdrResponse(d,j),h.binary?d.responseBytes=h.getByteArray(j):(d.responseText=j.responseText,d.responseXML=j.responseXML),d},destroy:function(){this.xhr=null,Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(k){var a,j,g,d,c=k.response,b=k.responseBody;if(k instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))a=k.responseBytes;else if(window.Uint8Array)a=c?new Uint8Array(c):[];else if(Ext.isIE9p)try{a=new VBArray(b).toArray()}catch(h){a=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(k.responseBody,a=[]);else for(a=[],j=k.responseText,g=j.length,d=0;d<g;d++)a.push(255&j.charCodeAt(d));return a},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript",a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(a),this.self.vbScriptInjected=!0}}},0,0,0,0,["request.ajax"],0,[Ext.data.request,"Ajax"],0),Ext.cmd.derive("Ext.data.request.Form",Ext.data.request.Base,{start:function(d){var c=this,b=c.options,a=c.requestOptions;return Ext.data.request.Base.prototype.start.call(this,d),c.form=c.upload(b.form,a.url,a.data,b),c},abort:function(b){var d,a=this;if(a.isLoading())try{d=a.frame.dom,d.stop?d.stop():d.document.execCommand("Stop")}catch(c){}Ext.data.request.Base.prototype.abort.call(this,b),a.onComplete(),a.cleanup()},cleanup:function(){var a=this,b=a.frame;b&&(b.un("load",a.onComplete,a),Ext.removeNode(b)),a.frame=a.form=null},isLoading:function(){return!!this.frame},upload:function(b,i,u,g){b=Ext.getDom(b),g=g||{};var j,l,q,w,p,k,n,r,s=document.createElement("iframe"),m=Ext.get(s),o=m.id,c=[],d="multipart/form-data",t={target:b.target,method:b.method,encoding:b.encoding,enctype:b.enctype,action:b.action},a=function(h,v){j=document.createElement("input"),Ext.fly(j).set({type:"hidden",value:v,name:h}),b.appendChild(j),c.push(j)};if(m.set({name:o,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1}),document.body.appendChild(s),document.frames&&(document.frames[o].name=o),Ext.fly(b).set({target:o,method:"POST",enctype:d,encoding:d,action:i||t.action}),u){l=Ext.Object.fromQueryString(u)||{};for(w in l)if(l.hasOwnProperty(w))if(q=l[w],Ext.isArray(q))for(p=q.length,k=0;k<p;k++)a(w,q[k]);else a(w,q)}for(this.frame=m,m.on({load:this.onComplete,scope:this,single:!Ext.isOpera}),b.submit(),Ext.fly(b).set(t),n=c.length,r=0;r<n;r++)Ext.removeNode(c[r]);return b},getDoc:function(){var a=this.frame.dom;return a&&(a.contentWindow.document||a.contentDocument)||(window.frames[a.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var j,i,k,d,c,h=this,b=h.frame,a=h.owner,l=h.options;if(b){if(h.aborted||h.timedout)h.result=c=h.createException(),c.responseXML=null,c.responseText='{success:false,message:"'+Ext.String.trim(c.statusText)+'"}',c.request=h,j=l.failure,k=!1;else try{if(i=h.getDoc(),h.result=c={responseText:"",responseXML:null,request:h},i){if(Ext.isOpera&&i.location==Ext.SSL_SECURE_URL)return;i.body&&((d=i.body.firstChild)&&/pre/i.test(d.tagName)?c.responseText=d.textContent||d.innerText:(d=i.getElementsByTagName("textarea")[0])?c.responseText=d.value:c.responseText=i.body.textContent||i.body.innerText),c.responseXML=i.XMLDocument||i,j=l.success,k=!0,c.status=200}else Ext.raise("Could not acquire a suitable connection for the file upload service.")}catch(g){h.result=c=h.createException(),c.status=400,c.statusText=(g.message||g.description)+"",c.responseText='{success:false,message:"'+Ext.String.trim(c.statusText)+'"}',c.responseXML=null,j=l.failure,k=!1}h.frame=null,h.success=k,a.fireEvent(k?"requestcomplete":"requestexception",a,c,l),Ext.callback(j,l.scope,[c,l]),Ext.callback(l.callback,l.scope,[l,k,c]),a.onRequestComplete(h),Ext.asap(b.destroy,b),Ext.data.request.Base.prototype.onComplete.call(this)}},destroy:function(){this.cleanup(),Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,["request.form"],0,[Ext.data.request,"Form"],0),Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(a){this.mixins.observable.constructor.call(this,a),this.requests={}},request:function(b){b=b||{};var a,c,d=this;return!1!==d.fireEvent("beforerequest",d,b)?(a=d.setOptions(b,b.scope||Ext.global),c=d.createRequest(b,a),c.start(a.data)):(Ext.callback(b.callback,b.scope,[b,void 0,void 0]),Ext.Deferred.rejected([b,void 0,void 0]))},createRequest:function(b,a){var d,e=this,c=b.type||a.type;return c||(c=e.isFormUpload(b)?"form":"ajax"),(b.autoAbort||e.getAutoAbort())&&e.abort(),d=Ext.Factory.request({type:c,owner:e,options:b,requestOptions:a,ownerConfig:e.getConfig()}),e.requests[d.id]=d,e.latestId=d.id,d},isFormUpload:function(a){var b=this.getForm(a);return!!b&&(a.isUpload||this.enctypeRe.test(b.getAttribute("enctype")))},getForm:function(a){return Ext.getDom(a.form)},setOptions:function(m,l){var b,a,g,j=this,e=m.params||{},i=j.getExtraParams(),d=m.urlParams,c=m.url||j.getUrl(),h=m.cors,k=m.jsonData;return void 0!==h&&j.setCors(h),Ext.isFunction(e)&&(e=e.call(l,m)),Ext.isFunction(c)&&(c=c.call(l,m)),c=this.setupUrl(m,c),g=m.rawData||m.binaryData||m.xmlData||k||null,k&&!Ext.isPrimitive(k)&&(g=Ext.encode(g)),m.binaryData&&j.nativeBinaryPostSupport()&&(g=new Uint8Array(m.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(g=g.buffer)),Ext.isObject(e)&&(e=Ext.Object.toQueryString(e)),Ext.isObject(i)&&(i=Ext.Object.toQueryString(i)),e+=i?(e?"&":"")+i:"",d=Ext.isObject(d)?Ext.Object.toQueryString(d):d,e=this.setupParams(m,e),b=(m.method||j.getMethod()||(e||g?"POST":"GET")).toUpperCase(),this.setupMethod(m,b),a=!1!==m.disableCaching&&(m.disableCaching||j.getDisableCaching()),"GET"===b&&a&&(c=Ext.urlAppend(c,(m.disableCachingParam||j.getDisableCachingParam())+"="+(new Date).getTime())),("GET"==b||g)&&e&&(c=Ext.urlAppend(c,e),e=null),d&&(c=Ext.urlAppend(c,d)),{url:c,method:b,data:g||e||null}},setupUrl:function(b,a){var c=this.getForm(b);return c&&(a=a||c.action),a},setupParams:function(a,d){var b,c=this.getForm(a);return c&&!this.isFormUpload(a)&&(b=Ext.Element.serializeForm(c),d=d?d+"&"+b:b),d},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},isLoading:function(a){return a||(a=this.getLatest()),!!a&&a.isLoading()},abort:function(a){a||(a=this.getLatest()),a&&a.isLoading()&&a.abort()},abortAll:function(){var a,b=this.requests;for(a in b)this.abort(b[a])},getLatest:function(){var a,b=this.latestId;return b&&(a=this.requests[b]),a||null},clearTimeout:function(a){a||(a=this.getLatest()),a&&a.clearTimer()},onRequestComplete:function(a){delete this.requests[a.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0),Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,"Ajax"],0),Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:!0,constructor:function(){var a=this;a.queue=[],a.taskQueue=[],a.runningQueue=[],a.idleQueue=[],a.isRunning=!1,a.isIdle=!0,a.run=Ext.Function.bind(a.run,a),Ext.os.is.iOS&&Ext.interval(a.watch,500,a)},start:function(c,b,a){var d=this;d.queue.push(arguments),d.isRunning||(d.hasOwnProperty("idleTimer")&&(clearTimeout(d.idleTimer),delete d.idleTimer),d.hasOwnProperty("idleQueueTimer")&&(clearTimeout(d.idleQueueTimer),delete d.idleQueueTimer),d.isIdle=!1,d.isRunning=!0,d.doStart())},watch:function(){this.isRunning&&Ext.now()-this.lastRunTime>=500&&this.run()},run:function(){var e=this;if(e.isRunning){var c,d,a=e.runningQueue,b=Ext.now();for(e.lastRunTime=b,e.frameStartTime=b,a.push.apply(a,e.queue),c=0,d=a.length;c<d;c++)e.invoke(a[c]);a.length=0,e.doIterate()}},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run),this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,d,b){var j=this;if(j.isRunning){var c,g,a=j.queue,h=a.length;for(c=0;c<h;c++)g=a[c],g[0]===e&&g[1]===d&&g[2]===b&&(a.splice(c,1),c--,h--);0===h&&(j.doStop(),j.isRunning=!1,j.idleTimer=Ext.defer(j.whenIdle,100,j))}},onIdle:function(e,d,a){var b,g,h,c=this.idleQueue;for(b=0,g=c.length;b<g;b++)if(h=c[b],e===h[0]&&d===h[1]&&a===h[2])return;c.push(arguments),this.isIdle&&this.processIdleQueue()},unIdle:function(e,d,a){var b,g,h,c=this.idleQueue;for(b=0,g=c.length;b<g;b++)if(h=c[b],e===h[0]&&d===h[1]&&a===h[2])return c.splice(b,1),!0;return!1},queueTask:function(c,b,a){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(e,d,a){var b,g,h,c=this.taskQueue;for(b=0,g=c.length;b<g;b++)h=c[b],e===h[0]&&d===h[1]&&a===h[2]&&(c.splice(b,1),b--,g--)},invoke:function(d){var c=d[0],b=d[1],a=d[2];c="string"==typeof c?b[c]:c,Ext.isArray(a)?c.apply(b,a):c.call(b,a)},whenIdle:function(){this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){if(delete this.idleQueueTimer,this.isIdle){var b,a=this.idleQueue;a.length>0&&(b=a.shift(),this.invoke(b),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;var b,a=this.taskQueue;a.length>0&&(b=a.shift(),this.invoke(b),this.processTaskQueue())}},1,0,0,0,0,0,[Ext,"AnimationQueue"],0),Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(a){var b=this;Ext.apply(b,a||{}),b.all={},b.references={},b.onAvailableCallbacks={}},create:function(a,b){return"string"==typeof a?Ext.widget(a):a.isComponent?a:"xclass"in a?Ext.create(a.xclass,a):Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var e=this,d=e.all,c=a.getId(),b=e.onAvailableCallbacks;d[c]=a,a.getReference&&a.getReference()&&(e.references[c]=a),++e.count,e.hasFocusListener||(Ext.on("focus",e.onGlobalFocus,e),e.hasFocusListener=!0),(b=b&&b[c])&&b.length&&e.notifyAvailable(a)},unregister:function(a){var b=a.getId();a.getReference&&a.getReference()&&(this.references[b]=null,delete this.references[b]),this.all[b]=null,delete this.all[b],this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var a,c=this,b=c.references;if(c.referencesDirty){for(a in b)b.hasOwnProperty(a)&&b[a].fixReference();c.referencesDirty=!1}},onAvailable:function(h,c,b){var d,g=this,e=g.onAvailableCallbacks,a=g.all;h in a?(d=a[h],c.call(b||d,d)):h&&(Ext.isArray(e[h])||(e[h]=[]),e[h].push(function(i){c.call(b||i,i)}))},notifyAvailable:function(b){for(var a=this.onAvailableCallbacks[b&&b.getId()]||[];a.length;)a.shift()(b)},each:function(b,a){return Ext.Object.each(this.all,b,a)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(i){var c,g,d=this,b=i.toElement,j=i.fromElement,h=Ext.Component.fromElement(b),a=Ext.Component.fromElement(j);if(h!==a){if(c=d.getCommonAncestor(a,h),a&&!a.destroyed&&!a.destroying)for(a.handleBlurEvent&&a.handleBlurEvent(i),g=a;g&&g!==c;g=g.getRefOwner())g.destroyed||g.destroying||g.onFocusLeave({event:i.event,type:"focusleave",target:j,relatedTarget:b,fromComponent:a,toComponent:h});if(h&&!h.destroyed&&!h.destroying)for(h.handleFocusEvent&&h.handleFocusEvent(i),g=h;g&&g!==c;g=g.getRefOwner())g.onFocusEnter({event:i.event,type:"focusenter",relatedTarget:j,target:b,fromComponent:a,toComponent:h})}},getCommonAncestor:function(b,a){if(b===a)return b;for(;b&&!b.isAncestor(a)&&b!==a;)b=b.getRefOwner();return b},privates:{clearAll:function(){this.all={},this.references={},this.onAvailableCallbacks={}},fromElement:function(b,d,c){var j,g,i,h=Ext.getDom(b),a=this.all,e=0;for("number"!=typeof d&&(j=Ext.getDom(d),d=Number.MAX_VALUE);h&&1===h.nodeType&&e<d&&h!==j;){if(g=h.getAttribute("data-componentid")||h.id){if((i=a[g])&&(!c||Ext.ComponentQuery.is(i,c)))return i;e++}h=h.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}}),Ext.ns("Ext.util").Operators={"=":function(b,c){return b==c},"!=":function(b,c){return b!=c},"^=":function(b,c){return b&&b.substr(0,c.length)==c},"$=":function(b,c){return b&&b.substr(b.length-c.length)==c},"*=":function(b,c){return b&&-1!==b.indexOf(c)},"%=":function(b,c){return b%c==0},"|=":function(b,c){return b&&(b==c||b.substr(0,c.length+1)==c+"-")},"~=":function(b,c){return b&&-1!=(" "+b+" ").indexOf(" "+c+" ")}},Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(a,e){var c,b,d=this;return d.removeAtKey(a),b=d.last,c={prev:b,next:null,key:a,value:e},b?b.next=c:d.first=c,d.last=c,Ext.util.HashMap.prototype.add.call(this,a,c),d.prune(),e},insertBefore:function(b,g,c){var a,d,e=this;return(c=this.map[this.findKey(c)])?(a=e.findKey(g),a?e.unlinkEntry(d=e.map[a]):d={prev:c.prev,next:c,key:b,value:g},c.prev?d.prev.next=d:e.first=d,d.next=c,c.prev=d,e.prune(),g):e.add(b,g)},get:function(a){var b=this.map[a];if(b)return b.next&&this.moveToEnd(b),b.value},removeAtKey:function(a){return this.unlinkEntry(this.map[a]),Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(a){return this.first=this.last=null,Ext.util.HashMap.prototype.clear.call(this,a)},unlinkEntry:function(a){a&&(a.next?a.next.prev=a.prev:this.last=a.prev,a.prev?a.prev.next=a.next:this.first=a.next,a.prev=a.next=null)},moveToEnd:function(a){this.unlinkEntry(a),(a.prev=this.last)?this.last.next=a:this.first=a,this.last=a},getArray:function(c){for(var a=[],b=this.first;b;)a.push(c?b.key:b.value),b=b.next;return a},each:function(c,b,a){var g=this,e=a?g.last:g.first,d=g.length;for(b=b||g;e&&!1!==c.call(b,e.key,e.value,d);)e=a?e.prev:e.next;return g},findKey:function(b){var a,c=this.map;for(a in c)if(c.hasOwnProperty(a)&&c[a].value===b)return a},clone:function(){var b,a=new this.self(this.initialConfig),c=this.map;a.suspendEvents();for(b in c)c.hasOwnProperty(b)&&a.add(b,c[b].value);return a.resumeEvents(),a},prune:function(){var b=this,a=b.getMaxSize(),c=a?b.length-a:0;if(c>0)for(;b.first&&c;c--)b.removeAtKey(b.first.key)}},0,0,0,0,0,0,[Ext.util,"LruCache"],0),Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var g=this,s=Ext.util.Operators,k=/(\d*)n\+?(\d*)/,e=/\D/,m=/^(\s)+/,l=/\\(.)/g,n=new Ext.util.LruCache({maxSize:100
}),o=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),p=function(u,t){return t.method.apply(this,[u].concat(t.args))},a=function(v,z){for(var x,t=[],w=0,y=v.length,u=">"!==z;w<y;w++)x=v[w],x.getRefItems&&(t=t.concat(x.getRefItems(u)));return t},h=function(u){for(var w,t=[],v=0,x=u.length;v<x;v++)for(w=u[v];w=w.getRefOwner();)t.push(w);return t},d=function(u,z,y){if("*"===z)return u.slice();for(var w,t=[],v=0,x=u.length;v<x;v++)w=u[v],w.isXType(z,y)&&t.push(w);return t},b=function(C,D,w,v){var F,y,E,t,A,z,x,G=[],B=0,u=C.length;for("@"===D.charAt(0)&&(F=!0,D=D.substr(1)),"?"===D.charAt(0)&&(F=!0,y=!0,D=D.substr(1));B<u;B++){if(E=C[B],x=E.self&&E.self.getConfigurator&&E.self.$config.configs[D])t=E[x.names.get]();else{if(F&&!E.hasOwnProperty(D))continue;t=E[D]}if(y)G.push(E);else if("~="===w){if(t)for(Ext.isArray(t)||(t=t.split(" ")),A=0,z=t.length;A<z;A++)if(s[w](Ext.coerce(t[A],v),v)){G.push(E);break}}else"/="===w?null!=t&&v.test(t)&&G.push(E):(v?s[w](Ext.coerce(t,v),v):!!E[D])&&G.push(E)}return G},i=function(w,A,v){for(var y,t=[],x=0,z=w.length;x<z;x++)y=w[x],(v?y.id:y.getItemId())===A&&t.push(y);return t},r=function(t,u,v){return g.pseudos[u](t,v)},j=/^(\s?([>\^])\s?|\s|$)/,q=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,c=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:d,argTransform:function(t){return void 0!==t[1]&&(t[1]=t[1].replace(l,"$1")),t.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:b,argTransform:function(w){var y,x=(w[0],w[1]),u=w[2],v=w[4];return void 0!==v&&(v=v.replace(l,"$1")),"/="===u&&(y=n.get(v),v=y||n.add(v,new RegExp(v))),[x,u,v]}},{re:/^#((?:\\\.|[\w\-])+)/,method:i},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:r,argTransform:function(t){return void 0!==t[2]&&(t[2]=t[2].replace(l,"$1")),t.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:o}];g.Query=Ext.extend(Object,{constructor:function(t){t=t||{},Ext.apply(this,t)},execute:function(v){var y,x,t,w=this.operations,u=[];for(x=0,t=w.length;x<t;x++)y=w[x],u=u.concat(this._execute(v,y));return u},_execute:function(u,w){var v,t,x=0,y=w.length;for(u?Ext.isIterable(u)?t=u:u.isMixedCollection&&(t=u.items):t=Ext.ComponentManager.getAll();x<y;x++)if(v=w[x],t="^"===v.mode?h(t||[u]):v.mode?a(t||[u],v.mode):p(t||a([u]),v),x===y-1)return t;return[]},is:function(x,v){var z,y,w=this.operations,u=!1,t=w.length;if(0===t)return!0;for(y=0;y<t;y++)if(z=w[y],u=this._is(x,v,z))return u;return!1},_is:function(B,C,t){var v,x,w,y,A,D,z=t.length,u=[B];for(x=z-1;x>=0;--x){if(v=t[x],y=v.mode)if("^"===y)u=a(u," ");else if(">"===y){for(A=[],w=0,z=u.length;w<z;++w)(D=u[w].getRefOwner())&&A.push(D);u=A}else u=h(u);else u=p(u,v);if(0===u.length)return!1}return!C||(y||(u=h(u)),u.length>0&&(u=p(u,{method:i,args:[C.id,!0]})),0!==u.length)},getMatches:function(w,u){var v,t=u.length;for(v=0;v<t&&(w=p(w,u[v]),0!==w.length);++v);return w},isMultiMatch:function(){return this.operations.length>1}}),Ext.apply(g,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(z,t){for(var u,x=0,y=z.length,w=[],v=-1;x<y;++x)u=z[x],g.is(u,t)||(w[++v]=u);return w},first:function(u){var t=[];return u.length>0&&t.push(u[0]),t},last:function(v){var t=v.length,u=[];return t>0&&u.push(v[t-1]),u},focusable:function(u){for(var x,t=u.length,w=[],v=0;v<t;v++)x=u[v],x.isFocusable&&x.isFocusable()&&w.push(x);return w},canfocus:function(u,x){for(var y,t=u.length,w=[],v=0;v<t;v++)y=u[v],y.canFocus&&y.canFocus(!1,x)&&w.push(y);return w},"nth-child":function(z,A){var w,t,v,B=[],u=k.exec("even"===A&&"2n"||"odd"===A&&"2n+1"||!e.test(A)&&"n+"+A||A),x=(u[1]||1)-0,y=u[2]-0;for(w=0;t=z[w];w++)v=w+1,1===x?0!==y&&v!==y||B.push(t):(v+y)%x==0&&B.push(t);return B},scrollable:function(u){for(var x,t=u.length,w=[],v=0;v<t;v++)x=u[v],(x.scrollable||x._scrollable)&&w.push(x);return w},visible:function(v,u){u="true"===u;for(var y,t=v.length,x=[],w=0;w<t;w++)y=v[w],y.isVisible(u)&&x.push(y);return x}},query:function(t,A){if(!t)return Ext.ComponentManager.all.getArray();var w,z,u,v=[],B=[],y={},x=g.cache.get(t);if(x||(x=g.cache.add(t,g.parse(t))),v=x.execute(A),x.isMultiMatch()){for(w=v.length,u=0;u<w;u++)z=v[u],y[z.id]||(B.push(z),y[z.id]=!0);v=B}return v},visitPreOrder:function(t,v,x,w,u){g._visit(!0,t,v,x,w,u)},visitPostOrder:function(t,v,x,w,u){g._visit(!1,t,v,x,w,u)},_visit:function(D,u,C,B,E,y){var t,w,v,A=g.cache.get(u),x=[C],z=0;if(A||(A=g.cache.add(u,g.parse(u))),v=A.is(C),C.getRefItems&&(t=C.getRefItems(),z=t.length),y&&Ext.Array.push(x,y),D&&v&&!1===B.apply(E||C,x))return!1;for(w=0;w<z;w++)if(!1===g._visit.call(g,D,u,t[w],B,E,y))return!1;return!(!D&&v&&!1===B.apply(E||C,x))&&void 0},is:function(v,t,u){if(!t)return!0;var w=g.cache.get(t);return w||(w=g.cache.add(t,g.parse(t))),w.is(v,u)},parse:function(u){var x,y,w,t,v=[];for(x=Ext.splitAndUnescape(u,","),w=0,t=x.length;w<t;w++)y=Ext.String.trim(x[w]),v.push(g._parse(y));return new g.Query({operations:v})},_parse:function(z){for(var E,A,y,F,G,H,w,B,C,t,D,u=[],x=Ext.String.trim,v=c.length;z&&E!==z;){for(E=z,(A=z.match(q))&&(F=A[1],y=x(A[2]).replace(l,"$1"),"#"===F?u.push({method:i,args:[y]}):u.push({method:d,args:[y,Boolean(A[3])]}),z=z.replace(A[0],"").replace(m,"$1"));!(G=z.match(j));)for(B=0;z&&B<v;B++){if(C=c[B],H=z.match(C.re),t=C.method,w=C.argTransform,H){D=w?w(H):H.slice(1),u.push({method:Ext.isString(C.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[t].concat(H.slice(1)))):C.method,args:D}),z=z.replace(H[0],"").replace(m,"$1");break}B===v-1&&Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}G[1]&&(u.push({mode:G[2]||G[1]}),z=z.replace(G[0],"").replace(m,""))}return u}}),Ext.all=function(){return g.query.apply(g,arguments)},Ext.first=function(){var t=g.query.apply(g,arguments);return t&&t[0]||null}}),Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",initialized:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a),this.initialized=!0},onClassExtended:function(b,e){if(e.hasOwnProperty("eventedConfig")){var c,a,d=e.config,g=e.eventedConfig;d?Ext.applyIf(d,g):b.addConfig(g);for(c in g)g.hasOwnProperty(c)&&(a=Ext.Config.get(c),e[a.names.set]=a.eventedSetter||a.getEventedSetter())}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0),Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:"x-clipped",afterSetPosition:Ext.emptyFn,adjustForConstraints:function(c,b){var a=this.getConstrainVector(b,c);return a&&(c[0]+=a[0],c[1]+=a[1]),c},alignTo:function(c,a,g,b){var e=this,d=e.el;return e.setXY(e.getAlignToXY(c,a,g),!(!d.anim||!b)&&d.anim(b))},calculateAnchorXY:function(a,e,d,b){var c=this.getRegion();return c.setPosition(0,0),c.translateBy(e||0,d||0),b&&(c.setWidth(b.width),c.setHeight(b.height)),c.getAnchorPoint(a)},convertPositionSpec:function(a){return Ext.util.Region.getAlignInfo(a)},getAlignToXY:function(a,b,d){var c=this.getAlignToRegion(a,b,d);return[c.x,c.y]},getAlignToRegion:function(b,c,h,e){var a,d=this;return b=Ext.get(b.el||b),!b||b.dom,c=d.convertPositionSpec(c),c.constrain&&(a="!"===c.constrain?b:d.constrainTo||d.container||d.el.parent(),a=Ext.get(a.el||a).getConstrainRegion()),d.getRegion().alignTo({target:b.getRegion(),inside:a,minHeight:e,offset:h,align:c,axisLock:!0})},getAnchorXY:function(b,d,c){var g=this,h=g.getRegion(),e=g.el,i="BODY"===e.dom.nodeName||9===e.dom.nodeType,a=e.getScroll();return d?h.setPosition(0,0):i&&h.setPosition(a.left,a.top),c&&(h.setWidth(c.width),h.setHeight(c.height)),h.getAnchorPoint(b)},getBox:function(d,i){var k,b,c,a,l,e=this,m=i?e.getLocalXY():e.getXY(),j=m[0],g=m[1];return"BODY"===e.el.dom.nodeName||9===e.el.dom.nodeType?(k=Ext.Element.getViewportWidth(),b=Ext.Element.getViewportHeight()):(k=e.getWidth(),b=e.getHeight()),d&&(c=e.getBorderPadding(),a=c.beforeX,l=c.beforeY,j+=a,g+=l,k-=a+c.afterX,b-=l+c.afterY),{x:j,left:j,0:j,y:g,top:g,1:g,width:k,height:b,right:j+k,bottom:g+b}},calculateConstrainedPosition:function(h,b,l,d){var c,a,g,j,k=this,i=k.floatParent,e=i?i.getTargetEl():null,m=!1;return l&&i?(a=e.getXY(),g=e.getBorderPadding(),a[0]+=g.beforeX,a[1]+=g.beforeY,b&&(j=[b[0]+a[0],b[1]+a[1]])):j=b,h=h||k.constrainTo||e||k.container||k.el.parent(),l&&j&&(j=k.reverseTranslateXY(j)),c=(k.constrainHeader&&k.header.rendered?k.header:k).getConstrainVector(h,j,d),c&&(m=b||k.getPosition(l),m[0]+=c[0],m[1]+=c[1]),m},getConstrainRegion:function(){var k,b,l,h=this,c=h.el,a="BODY"===c.dom.nodeName,e=c.dom,g=c.getBorders(),i=c.getXY(),d=i[0]+g.beforeX,j=i[1]+g.beforeY;return a?(k=c.getScroll(),d=k.left,j=k.top,b=Ext.Element.getViewportWidth(),l=Ext.Element.getViewportHeight()):(b=e.clientWidth,l=e.clientHeight),new Ext.util.Region(j,d+b,j+l,d)},getConstrainVector:function(h,c,e){var i=this,a=i.getRegion(),d=[0,0],b=i.shadow&&i.constrainShadow&&!i.shadowDisabled?i.el.shadow.getShadowSize():void 0,j=!1,g=i.constraintInsets;return h instanceof Ext.util.Region||(h=Ext.get(h.el||h),h=h.getConstrainRegion()),g&&(g=Ext.isObject(g)?g:Ext.Element.parseBox(g),h.adjust(g.top,g.right,g.bottom,g.left)),c&&a.translateBy(c[0]-a.x,c[1]-a.y),e&&(a.right=a.left+e[0],a.bottom=a.top+e[1]),b&&h.adjust(b[0],-b[1],-b[2],b[3]),a.right>h.right&&(j=!0,d[0]=h.right-a.right),a.left+d[0]<h.left&&(j=!0,d[0]=h.left-a.left),a.bottom>h.bottom&&(j=!0,d[1]=h.bottom-a.bottom),a.top+d[1]<h.top&&(j=!0,d[1]=h.top-a.top),!!j&&d},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a.el||a).getXY();return[c[0]-b[0],c[1]-b[1]]},getRegion:function(a){var b=this.getBox(a);return new Ext.util.Region(b.top,b.right,b.bottom,b.left)},getClientRegion:function(){var a,b=this,c=b.getBox(),d=b.dom;return a=d.offsetWidth-d.clientWidth,a&&("rtl"===b.getStyle("direction")?c.left+=a:c.right-=a),a=d.offsetHeight-d.clientHeight,a&&(c.bottom-=a),new Ext.util.Region(c.top,c.right,c.bottom,c.left)},getViewRegion:function(){var e,j,h,i,d,b,k,g=this,c=g.el;return"BODY"===c.dom.nodeName?(j=c.getScroll(),d=j.left,i=j.top,b=Ext.Element.getViewportWidth(),k=Ext.Element.getViewportHeight()):(e=g.getBorderPadding(),h=g.getXY(),d=h[0]+e.beforeX,i=h[1]+e.beforeY,b=g.getWidth(!0),k=g.getHeight(!0)),new Ext.util.Region(i,d+b,i+k,d)},getClientRegion:function(){var g,h,e,d,b,a,c=this.el;return g=this.getBorderPadding(),h=this.getXY(),e=h[0]+g.beforeX,d=h[1]+g.beforeY,b=c.dom.clientWidth,a=c.dom.clientHeight,new Ext.util.Region(d,e+b,d+a,e)},move:function(j,b,c){var g=this,m=g.getXY(),k=m[0],i=m[1],d=[k-b,i],l=[k+b,i],h=[k,i-b],a=[k,i+b],e={l:d,left:d,r:l,right:l,t:h,top:h,up:h,b:a,bottom:a,down:a};j=j.toLowerCase(),g.setXY([e[j][0],e[j][1]],c)},setBox:function(c){var a,d,b=this;return c.isRegion&&(c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top}),b.constrainBox(c),a=c.x,d=c.y,b.setXY([a,d]),b.setSize(c.width,c.height),b.afterSetPosition(a,d),b},constrainBox:function(d){var b,a,e,c=this;(c.constrain||c.constrainHeader)&&(a="x"in d?d.x:d.left,e="y"in d?d.y:d.top,(b=c.calculateConstrainedPosition(null,[a,e],!1,[d.width,d.height]))&&(d.x=b[0],d.y=b[1]))},translatePoints:function(a,c){var b=this.translateXY(a,c);return{left:b.x,top:b.y}},translateXY:function(h,e){var d=this,b=d.el,i=b.getStyle(d._positionTopLeft),a="relative"===i.position,c=parseFloat(i.left),g=parseFloat(i.top),j=d.getXY();return Ext.isArray(h)&&(e=h[1],h=h[0]),isNaN(c)&&(c=a?0:b.dom.offsetLeft),isNaN(g)&&(g=a?0:b.dom.offsetTop),c="number"==typeof h?h-j[0]+c:void 0,g="number"==typeof e?e-j[1]+g:void 0,{x:c,y:g}},reverseTranslateXY:function(j){var a,e,i,g,h=j,c=this.el,d=c.dom,b=d.offsetParent;return b&&(a=c.isStyle("position","relative"),e=Ext.fly(b).getXY(),i=j[0]+e[0]+b.clientLeft,g=j[1]+e[1]+b.clientTop,a&&(i+=c.getPadding("l"),g+=c.getPadding("t")),h=[i,g]),h},privates:{clipTo:function(k,b){var c,d,j,l,g,m,a=this.el,h=a.getRegion(),e=[],n=this.clippedCls;for(c=k.isRegion?k:(k.isComponent?k.el:Ext.fly(k)).getConstrainRegion(),b||(b=15),1&b&&(d=c.top-h.top)>0?(e[0]=d,g=!0):e[0]=-1e4,2&b&&(d=h.right-c.right)>0?(e[1]=Math.max(0,a.getWidth()-d),g=!0):e[1]=1e4,4&b&&(d=h.bottom-c.bottom)>0?(e[2]=Math.max(0,a.getHeight()-d),g=!0):e[2]=1e4,8&b&&(d=c.left-h.left)>0?(e[3]=d,g=!0):e[3]=-1e4,l="rect(",j=0;j<4;++j)l+=Ext.Element.addUnits(e[j],"px"),l+=3===j?")":",";if(a.dom.style.clip=l,a.addCls(n),(m=a.shadow)&&(a=m.el)&&a.dom){for(e[2]-=m.offsets.y,e[3]-=m.offsets.x,l="rect(",j=0;j<4;++j)l+=Ext.Element.addUnits(e[j],"px"),l+=3===j?")":",";a.dom.style.clip=l,g&&!Ext.supports.CSS3BoxShadow?a.dom.style.display="none":(a.dom.style.display="",a.addCls(n))}},clearClip:function(){var b=this.el,a=this.clippedCls;b.dom.style.clip=Ext.isIE8?"auto":"",b.removeCls(a),b.shadow&&b.shadow.el&&b.shadow.el.dom&&(b.shadow.el.dom.style.clip=Ext.isIE8?"auto":"",Ext.supports.CSS3BoxShadow||(b.dom.style.display="",b.removeCls(a)))}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0),Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(h,e,b,a,j,k){var g=this,i=!Ext.isEmpty(j),c=function(){g.mixins.positionable.alignTo.call(g,h,e,b,a),Ext.callback(k,g)},d=g.getAnchor();return g.removeAnchor(),Ext.apply(d,{fn:c,scroll:i}),Ext.on("resize",c,null),i&&Ext.getWin().on("scroll",c,null,{buffer:isNaN(j)?50:j}),c(),g},getAnchor:function(){var c,a,b=this.el;if(b&&b.dom)return c=b.getData(),a=c._anchor,a||(a=c._anchor={}),a},alignTo:function(d,a,h,c){var b,i,g=this,e=g.el;return g.isComponent&&g.getSizeModel().height.shrinkWrap&&(g.maxHeight&&g.setMaxHeight(null),b=!0),i=g.getAlignToRegion(d,a,h,g.minHeight||150),g.setXY([i.x,i.y],!(!e.anim||!c)&&e.anim(c)),b&&(b=i.getHeight())!==g.getHeight()&&g.setMaxHeight(b),g},removeAnchor:function(){var a=this.getAnchor();return a&&a.fn&&(Ext.un("resize",a.fn),a.scroll&&Ext.getWin().on("scroll",a.fn),delete a.fn),this},setBox:function(c,a){var b=this;return c.isRegion&&(c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top}),a?(b.constrainBox(c),b.animate(Ext.applyIf({to:c,listeners:{afteranimate:Ext.Function.bind(b.afterSetPosition,b,[c.x,c.y])}},a))):arguments.callee.$previous.call(this,c),b}}),Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(a){this.elementConfig=a,this.cache=[]},checkOut:function(){var a=this.cache.shift();return a||(a=Ext.Element.create(this.elementConfig),a.setVisibilityMode(2)),a},checkIn:function(a){this.cache.push(a)},reset:function(){for(var a=this.cache,b=a.length;b--;)a[b].destroy();this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0),Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(a){Ext.apply(this,a)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var b=this,a=b.el;a&&(a.hide(),b.getPool().checkIn(a),b.el=null,b.hidden=!0)},realign:function(i,h,a,j){var e=this,b=e.el,d=e.target,c=e.offsets,g=Math.max;b&&(null==i&&(i=d.getX()),null==h&&(h=d.getY()),null==a&&(a=d.getWidth()),null==j&&(j=d.getHeight()),c&&(i+=c.x,h+=c.y,a=g(a+c.w,0),j=g(j+c.h,0)),b.setXY([i,h]),b.setSize(a,j))},setZIndex:function(a){this.zIndex=a,this.el&&this.el.setStyle("z-index",a)},show:function(){var e,b=this,d=b.target,g=b.zIndex,a=b.el,c=b.getInsertionTarget().dom;a||(a=b.el=b.getPool().checkOut()),b.beforeShow(),null==g&&(g=parseInt(d.getStyle("z-index"),10)),g&&a.setStyle("z-index",g),a.setStyle("position",b.fixed?"fixed":""),e=a.dom,e.nextSibling!==c&&d.dom.parentNode.insertBefore(e,c),a.show(),b.realign(),b.hidden=!1}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0),Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(Ext.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(b){var e,c,g,a,d=this;switch(Ext.dom.Underlay.prototype.constructor.call(this,b),d.elementConfig={cls:d.cls,role:"presentation"},g=d.offset,a=Math.floor(g/2),d.opacity=50,d.mode.toLowerCase()){case"drop":e={x:0,y:0,w:g,h:g},c=Ext.supports.CSS3BoxShadow?{x:g,y:g,h:-g,w:-g}:{x:-a,y:-a,h:-a,w:-a};break;case"sides":e={x:-g,y:0,w:2*g,h:g},c=Ext.supports.CSS3BoxShadow?{x:0,y:g,h:-g,w:0}:{x:1+a-2*g,y:-(1+a),h:-1,w:a-1};break;case"frame":e={x:-g,y:-g,w:2*g,h:2*g},c=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+a-2*g,y:1+a-2*g,h:g-a-1,w:g-a-1};break;case"bottom":e={x:-g,y:0,w:2*g,h:g},c=Ext.supports.CSS3BoxShadow?{x:0,y:g,h:-g,w:0}:{x:0,y:g,h:0,w:0}}d.offsets=c,d.outerOffsets=e},getShadowSize:function(){var b=this,d=b.el?b.offset:0,a=[d,d,d,d],c=b.mode.toLowerCase();return b.el&&"frame"!==c&&(a[0]=0,"drop"==c&&(a[3]=0)),a},boxShadowProperty:function(){var b="boxShadow",a=document.documentElement.style;return"boxShadow"in a||("WebkitBoxShadow"in a?b="WebkitBoxShadow":"MozBoxShadow"in a&&(b="MozBoxShadow")),b}(),beforeShow:function(){var b=this,a=b.el.dom.style,c=b.shim;Ext.supports.CSS3BoxShadow?a[b.boxShadowProperty]="0 0 "+(b.offset+2)+"px #888":a.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+b.offset+")",c&&c.realign()},setOpacity:function(a){var b=this.el;b&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(100*a/2)/100),this.opacity=a,b.setOpacity(a))}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0),Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(a){Ext.dom.Underlay.prototype.constructor.call(this,a),this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var a=this.shadow;return a&&a.el||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0),Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(h,l,m,c,e){var b,d,j,g=this,i=!1,a=g.name,k=Ext.event.publisher.Dom.instance.directEvents[a];return m=m||{},!1===m.delegated||k?(k&&m.delegate&&(m.capture=!0),m.capture?(j=g.directCaptures||(g.directCaptures=new Ext.util.Event(g.observable,a)),i=j.addListener(h,l,m,c,e)):(d=g.directs||(g.directs=new Ext.util.Event(g.observable,a)),i=d.addListener(h,l,m,c,e))):m.capture?(b=g.captures||(g.captures=new Ext.util.Event(g.observable,a)),i=b.addListener(h,l,m,c,e)):i=Ext.util.Event.prototype.addListener.call(this,h,l,m,c,e),i},removeListener:function(e,d){var g=this,a=g.captures,c=g.directs,h=g.directCaptures,i=!1,b=g.findListener(e,d);return-1!==b?i=Ext.util.Event.prototype.removeListener.call(this,e,d,b):(c&&(b=c.findListener(e,d)),-1!==b?i=c.removeListener(e,d,b):(a&&(b=a.findListener(e,d)),-1!==b?i=a.removeListener(e,d,b):h&&-1!==(b=h.findListener(e,d))&&(i=h.removeListener(e,d,b)))),i},clearListeners:function(){var c=this,d=c.directCaptures,b=c.directs,a=c.captures;d&&d.clearListeners(),b&&b.clearListeners(),a&&a.clearListeners(),Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var c=this,d=c.directCaptures,b=c.directs,a=c.captures;d&&d.suspend(),b&&b.suspend(),a&&a.suspend(),Ext.util.Event.prototype.suspend.call(this)},resume:function(){var c=this,d=c.directCaptures,b=c.directs,a=c.captures;d&&d.resume(),b&&b.resume(),a&&a.resume(),Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0),Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var b=this,a=b.type;b.handles={},b.registerEvents(),Ext.event.publisher.Publisher.publishers[a]=b},registerEvents:function(e){var a,c,h=this,d=Ext.event.publisher.Publisher.publishersByEvent,b=e||h.handledEvents,g=b.length;for(c=0;c<g;c++)a=b[c],h.handles[a]=1,d[a]=h},fire:function(c,a,b){var d;c.hasListeners[a]&&(d=c.events[a])&&d.fire.apply(d,b)}},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0),Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(a){return a instanceof this?a:"number"==typeof a?new this(a,a):a.length?new this(a[0],a[1]):new this(a.x,a.y)}},constructor:function(a,b){return this.x=null==a||isNaN(a)?0:a,this.y=null==b||isNaN(b)?0:b,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x,this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x===a.x&&this.y===a.y},add:function(a){this.x+=a.x,this.y+=a.y},round:function(b){if(isNaN(b))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a,this.y=Math.round(this.y*a)/a}},isZero:function(){return 0===this.x&&0===this.y}},3,0,0,0,0,0,[Ext.util,"Offset"],0),Ext.cmd.derive("Ext.util.Region",Ext.Base,function(){var b=Ext.util,m=/([^\?!]*)(!|\?)?$/,k=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,g={l:0,r:100,t:0,b:100,c:50},i={l:100,r:0,t:0,b:100,c:50},p={b:0,l:1,t:2,r:3},l={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},a={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},j=[],c=new b.Offset(0,0),n=function(u){var x,s,r,w,v=b.Region,t=typeof u;if(null==u)return v.EMPTY;if(u.isRegion)return u;if(u.isElement||1===u.nodeType)return this.getRegion(u);if("string"===t){switch(u=u.split(" "),u.length){case 1:u[1]=u[2]=u[3]=u[0];break;case 2:u[2]=u[0],u[3]=u[1];break;case 3:u[3]=u[1]}x=parseInt(u[0],10)||0,s=parseInt(u[1],10)||0,r=parseInt(u[2],10)||0,w=parseInt(u[3],10)||0}else"number"===t?x=s=r=w=u:"number"==typeof u.x&&(x=u.y,w=u.x,"number"==typeof u.right?(s=u.right,r=u.bottom):(s=w+u.width,r=x+u.height));return new v(x,s,r,w)},e=[-1,1,1,-1],o=function(t,s,r){return null!=r&&s&&(j[0]=j[1]=j[2]=j[3]=0,j[r]=s.y*e[r],t=b.Region.from(t),t.adjust.apply(t,j)),t},h=function(z,F,s,A,t){var r,u,w,v,D,C,B,E=Math.ceil(A.x/2)+2;if(!t||t.intersect(z)){if(null!=s){if(1&s){if(r=new b.Region(0,0,0,0).setWidth(A.y).setHeight(A.x),u=3===s,C=u?F.right:F.left,w=new b.Region(Math.max(F.top,z.top),C,Math.min(F.bottom,z.bottom),C),z.getHeight()>E&&(v=w.getHeight())<z.width&&v<A.x+4){if(v<E){if(w.getAnchorPoint_c()[1]>z.getAnchorPoint_c()[1]?B=z.bottom-E:(D=!0,B=z.top+E-F.getHeight()),t&&(B=Math.min(Math.max(B,t.top),t.bottom-F.getHeight())),F.setPosition(F.x,B),w=new b.Region(Math.max(F.top,z.top),C,Math.min(F.bottom,z.bottom),C),(v=w.getHeight())<E)return;D&&w.setPosition(C,z.y-A.x/2-2)}if(w.setHeight(Math.max(v,A.x+4)),t&&!t.contains(w))return}F.anchor=r.alignTo({target:w,align:u?"l-r":"r-l",overlap:!0}),F.anchor.position=u?"right":"left"}else{if(r=new b.Region(0,0,0,0).setWidth(A.x).setHeight(A.y),u=0===s,B=u?F.bottom:F.top,w=new b.Region(B,Math.min(F.right,z.right),B,Math.max(F.left,z.left)),z.getWidth()>E&&(v=w.getWidth())<z.height&&v<A.x+4){if(v<E){if(w.getAnchorPoint_c()[0]>z.getAnchorPoint_c()[0]?C=z.right-E:(D=!0,C=z.left+E-F.getWidth()),t&&(C=Math.min(Math.max(C,t.left),t.right-F.getWidth())),F.setPosition(C,F.y),w=new b.Region(B,Math.min(F.right,z.right),B,Math.max(F.left,z.left)),(v=w.getWidth())<E)return;D&&w.setPosition(z.x-A.x/2-2,B)}if(w.setWidth(Math.max(v,A.x+4)),t&&!t.contains(w))return}F.anchor=r.alignTo({target:w,align:u?"t-b":"b-t",overlap:!0}),F.anchor.position=u?"bottom":"top"}F.anchor.align=s}return F}},q=function(u,s,v,r){var t;u&&r&&(s.top>=v.bottom&&s.bottom>r.bottom?(s.setHeight(Math.max(s.getHeight()+r.bottom-s.bottom,u)),s.constrainHeight=!0):s.bottom<=v.top&&s.top<r.top?(t=Math.max(s.getHeight()+s.top-r.top,u),s.adjust(s.getHeight()-t),s.constrainHeight=!0):s.getHeight()>r.getHeight()&&(s.setHeight(Math.max(u,r.getHeight())),s.setPosition(s.x,0),s.constrainHeight=!0))},d=function(t,s,v,r){var u;t&&r&&(s.left>=v.right&&s.right>r.right?(s.setWidth(Math.max(s.getWidth()+r.right-s.right,t)),s.constrainWidth=!0):s.right<=v.left&&s.left<r.left?(u=Math.max(s.getWidth()+s.left-r.left,t),s.adjust(0,0,0,s.getWidth()-u),s.constrainWidth=!0):s.getWidth()>r.getWidth()&&(s.setWidth(Math.max(t,r.getWidth())),s.setPosition(0,s.y),s.constrainWidth=!0))};return{isRegion:!0,statics:{getRegion:function(r){return Ext.fly(r).getRegion()},from:function(r){return new this(r.top,r.right,r.bottom,r.left)},getAlignInfo:function(w,u){if("object"==typeof w)return w;w=w?w.indexOf("-")<0?"tl-"+w:w:"tl-bl",v=m.exec(w),w=v[1],w=(u?a:l)[w]||w;var v,r,t=u?i:g,s=k.exec(w);return r={myEdge:s[1],myOffset:s[2],otherEdge:s[4],otherOffset:s[5],constrain:v[2]},s[3]&&(r.myEdge=s[3][0],r.myOffset=t[s[3][1]],null==r.myOffset&&(r.myOffset=50)),s[6]&&(r.otherEdge=s[6][0],r.otherOffset=t[s[6][1]],null==r.otherOffset&&(r.otherOffset=50)),r.position=p[r.myEdge],r}},constructor:function(v,s,r,u){var t=this;t.y=t.top=t[1]=v,t.right=s,t.bottom=r,t.x=t.left=t[0]=u,t.height=t.bottom-t.top,t.width=t.right-t.left},setPosition:function(r,s){return 1===arguments.length&&(s=r[1],r=r[0]),this.translateBy(r-this.x,s-this.y)},contains:function(s){var r=this;return s.x>=r.x&&(s.right||s.x)<=r.right&&s.y>=r.y&&(s.bottom||s.y)<=r.bottom},intersect:function(y){var x=this,v=Math.max(x.y,y.y),w=Math.min(x.right,y.right),s=Math.min(x.bottom,y.bottom),u=Math.max(x.x,y.x);return s>v&&w>u&&new this.self(v,w,s,u)},union:function(y){var x=this,v=Math.min(x.y,y.y),w=Math.max(x.right,y.right),s=Math.max(x.bottom,y.bottom),u=Math.min(x.x,y.x);return new this.self(v,w,s,u)},constrainTo:function(s){var r=this,t=Ext.Number.constrain;return r.top=r.y=t(r.top,s.y,s.bottom),r.bottom=t(r.bottom,s.y,s.bottom),r.left=r.x=t(r.left,s.x,s.right),r.right=t(r.right,s.x,s.right),r},adjust:function(v,s,r,u){var t=this;return t.top=t.y+=v||0,t.left=t.x+=u||0,t.right+=s||0,t.bottom+=r||0,t},getOutOfBoundOffset:function(r,s){if(Ext.isObject(r)){s=r;var t=new b.Offset;return t.x=this.getOutOfBoundOffsetX(s.x),t.y=this.getOutOfBoundOffsetY(s.y),t}return"x"===r?this.getOutOfBoundOffsetX(s):this.getOutOfBoundOffsetY(s)},getOutOfBoundOffsetX:function(r){return r<=this.x?this.x-r:r>=this.right?this.right-r:0},getOutOfBoundOffsetY:function(r){return r<=this.y?this.y-r:r>=this.bottom?this.bottom-r:0},isOutOfBound:function(r,s){return Ext.isObject(r)?(s=r,this.isOutOfBoundX(s.x)||this.isOutOfBoundY(s.y)):"x"===r?this.isOutOfBoundX(s):this.isOutOfBoundY(s)},isOutOfBoundX:function(r){return r<this.x||r>this.right},isOutOfBoundY:function(r){return r<this.y||r>this.bottom},restrict:function(s,u,r){if(Ext.isObject(s)){var t;return r=u,u=s,t=u.copy?u.copy():{x:u.x,y:u.y},t.x=this.restrictX(u.x,r),t.y=this.restrictY(u.y,r),t}return"x"===s?this.restrictX(u,r):this.restrictY(u,r)},restrictX:function(s,r){return r||(r=1),s<=this.x?s-=(s-this.x)*r:s>=this.right&&(s-=(s-this.right)*r),s},restrictY:function(s,r){return r||(r=1),s<=this.y?s-=(s-this.y)*r:s>=this.bottom&&(s-=(s-this.bottom)*r),s},alignTo:function(H){var D,r,F,B=this,G=B.self,A=b.Offset,z=n(H.target),C=H.rtl,E=H.overlap,y=H.align,x=H.anchorSize,u=H.offset,t=H.inside,w=H.position,s=H.allowXTranslate,v=H.allowYTranslate;return u&&(u=A.fromObject(u)),x&&(x=A.fromObject(x)),w?(2===w.length&&(w=new b.Point(w[0],w[1])),F=(new G).copyFrom(B).setPosition(w.x,w.y)):(y=B.getAlignInfo(y,C),t&&(z.x>=t.right?(z.setPosition(t.right-1,z.y),3!==y.position&&(y=B.getAlignInfo("r-l",C))):z.right<t.x&&(z.setPosition(t.x-z.getWidth()+1,z.y),1!==y.position&&(y=B.getAlignInfo("l-r",C))),z.y>=t.bottom?(z.setPosition(z.x,t.bottom-1),0!==y.position&&(y=B.getAlignInfo("b-t",C))):z.bottom<t.y&&(z.setPosition(z.x,t.y-z.getHeight()+1),2!==y.position&&(y=B.getAlignInfo("t-b",C)))),D=x?o(z,x,y.position):z,F=G.from(B).translateBy(B.getAlignToVector(D,y)),E=!!F.intersect(D),!u||!E&&x||F.translateBy(u),x&&h(z,F,y.position,x,t)),t&&(F.left<t.left&&(F.translateBy(t.left-F.left,0),r=!0),F.right>t.right&&F.left>t.left&&(F.translateBy(t.right-F.right,0),r=!0),F.top<t.top&&(F.translateBy(0,t.top-F.top),r=!0),F.bottom>t.bottom&&F.top>t.top&&(F.translateBy(0,t.bottom-F.bottom),r=!0),r&&!E&&(F.anchor=null,H.axisLock&&(1&y.position?v=!1:s=!1),w?F.contains(w)&&w.exclude(F,{inside:t,centerOnSideChange:!1}):(F.intersect(D)?y.position=z.exclude(F,{defaultPosition:y.position,inside:t,minHeight:H.minHeight,minWidth:H.minWidth,allowX:s,allowY:v,offset:u,anchorHeight:x?x.y:0,centerOnSideChange:!!x}):H.minWidth&&F.getWidth()>t.getWidth()?(F.setPosition(0,F.y),F.setWidth(Math.max(t.getWidth(),H.minWidth)),F.constrainWidth=!0):H.minHeight&&F.getHeight()>t.getHeight()&&(F.setPosition(F.x,0),F.setHeight(Math.max(t.getHeight(),H.minHeight)),F.constrainHeight=!0),F.align=y,x&&h(z,F,y.position,x,t)))),F},exclude:function(x,s){s=s||{};var G,C,I,w,H,A,B,L=this,J=s.inside,u=s.defaultPosition,r=s.centerOnSideChange,z=s.minHeight,D=s.minWidth,F=!1!==s.allowX,E=!1!==s.allowY,K=s.anchorHeight,y=s.offset,v=[];if(y||(y=c),E?(v.push([0,C=L.top-x.bottom-K+y.y,"b-t",0,Math.abs(C)]),v.push([0,C=L.bottom-x.top+K+y.y,"t-b",2,Math.abs(C)])):r=!1,F?(v.push([C=L.left-x.right-K+y.x,0,"r-l",3,Math.abs(C)]),v.push([C=L.right-x.left+K+y.x,0,"l-r",1,Math.abs(C)])):r=!1,Ext.Array.sort(v,function(M,N){var t=M[4]-N[4];if(!t){if(M[3]===u)return-1;if(N[3]===u)return 1}return t}),!J)return x.translateBy.apply(x,v[0]),v[0][3];for(I=0;I<v.length;I++){if(C=v[I],G=b.Region.from(x),G.translateBy.apply(G,C),J.contains(G)){x.copyFrom(G),B={align:C[2],position:C[3],distance:C[4]};break}z&&(q(z,G,L,J),J.contains(G)&&(!w||G.getArea()>w.region.getArea())&&(w={region:G,align:C[2],position:C[3],distance:C[4]})),D&&(d(D,G,L,J),J.contains(G)&&(!w||G.getArea()>w.region.getArea())&&(w={region:G,align:C[2],position:C[3],distance:C[4]})),(A=J.intersect(G))&&(A=A.getArea(),(!H||A&&H.area<A)&&(H={region:G,align:C[2],position:C[3],distance:C[4],area:A}))}return B||(w?(x.copyFrom(w.region),B=w,x.constrainWidth=w.region.constrainWidth,x.constrainHeight=w.region.constrainHeight):H&&(x.copyFrom(H.region),B=H)),B?((1&B.position)!=(1&u)&&B.distance&&r&&(C=x.alignTo({align:B.align,target:L,anchorSize:K,offset:y,axisLock:!0,inside:J,minHeight:s.minHeight,minWidth:s.minWidth}),J.contains(C)&&x.setPosition(C.x,C.y)),B.position):u},getAlignToXY:function(t,u,s){var r=this.getAlignToVector(t,u,s);return[this.x+r[0],this.y+r[1]]},getAnchorPoint:function(s,r){return s="string"==typeof s?this.getAlignInfo(s+"-tl",r):s,this["getAnchorPoint_"+s.myEdge](s.myOffset)},getAlignToVector:function(u,v,t){v="string"==typeof v?this.getAlignInfo(v,t):v;var r=this["getAnchorPoint_"+v.myEdge](v.myOffset),s=u["getAnchorPoint_"+v.otherEdge](v.otherOffset);return[s[0]-r[0],s[1]-r[1]]},getAnchorPoint_t:function(r){return[this.x+Math.round(this.getWidth()*(r/100)),this.y]},getAnchorPoint_b:function(r){return[this.x+Math.round(this.getWidth()*(r/100)),this.bottom]},getAnchorPoint_l:function(r){return[this.x,this.y+Math.round(this.getHeight()*(r/100))]},getAnchorPoint_r:function(r){return[this.right,this.y+Math.round(this.getHeight()*(r/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(r){return this.bottom=this.top+r,this},setWidth:function(r){return this.right=this.left+r,this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(s){var r=this;return r.top=r.y=r[1]=s.y,r.right=s.right,r.bottom=s.bottom,r.left=r.x=r[0]=s.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(r,t){r.length?(t=r[1],r=r[0]):1===arguments.length&&(t=r.y,r=r.x);var s=this;return s.top=s.y+=t,s.right+=r,s.bottom+=t,s.left=s.x+=r,s},round:function(){var r=this;return r.top=r.y=Math.round(r.y),r.right=Math.round(r.right),r.bottom=Math.round(r.bottom),
r.left=r.x=Math.round(r.x),r},equals:function(r){return this.top===r.top&&this.right===r.right&&this.bottom===r.bottom&&this.left===r.left},getOffsetsTo:function(r){return{x:this.x-r.x,y:this.y-r.y}}}},3,0,0,0,0,0,[Ext.util,"Region"],function(a){a.prototype.getAlignInfo=a.getAlignInfo,a.EMPTY=new a(0,0,0,0)}),Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(b){var a=b.changedTouches,c=a&&a.length>0?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){return a?a instanceof this?a:new this(a.x,a.y):new this(0,0)}},constructor:function(a,b){null==a&&(a=0),null==b&&(b=0),Ext.util.Region.prototype.constructor.call(this,b,a,b,a)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){return this.x=a.x,this.y=a.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x===a.x&&this.y===a.y},isCloseTo:function(c,b){if("number"==typeof b)return this.getDistanceTo(c)<=b;var a=c.x,g=c.y,e=b.x,d=b.y;return this.x<=a+e&&this.x>=a-e&&this.y<=g+d&&this.y>=g-d},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){return a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getRegion()),a.contains(this)},roundedEquals:function(a){return a&&"object"==typeof a||(a=this.origin),Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(b){b&&"object"==typeof b||(b=this.origin);var c=this.x-b.x,a=this.y-b.y;return Math.sqrt(c*c+a*a)},getAngleTo:function(b){b&&"object"==typeof b||(b=this.origin);var c=this.x-b.x,a=this.y-b.y;return Math.atan2(a,c)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy}),Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,statics:{resolveTextNode:function(a){return a&&3===a.nodeType?a.parentNode:a},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"⌃",altKey:"⌥",metaKey:Ext.isMac?"⌘":"⊞",shiftKey:"⇧"},specialKeyGlyphs:{BACKSPACE:"⌫",TAB:"⇥",ENTER:"⏎",RETURN:"⏎",SPACE:"␣",PAGE_UP:"⇞",PAGE_DOWN:"⇟",END:"⇲",HOME:"⌂",LEFT:"←",UP:"↑",RIGHT:"→",DOWN:"↓",PRINT_SCREEN:"⎙",INSERT:"⎀",DELETE:"⌦",CONTEXT_MENU:"☰"},getKeyId:function(e){e=e.toUpperCase();var a,d,g=this,h=e.split("+"),j=h.length-1,c=h[j],b=[];for(d=0;d<j;d++)a=g.keyFlags[h[d]],b[a]=!0;return b.ctrlKey&&b.push(g.modifierGlyphs.ctrlKey),b.altKey&&b.push(g.modifierGlyphs.altKey),b.shiftKey&&b.push(g.modifierGlyphs.shiftKey),b.metaKey&&b.push(g.modifierGlyphs.metaKey),b.push(this.specialKeyGlyphs[c]||c),b.join("")}},constructor:function(b){var a,g,i=this,l=i.self,h=i.self.resolveTextNode,k=b.changedTouches,c=k?k[0]:b,j=b.type;if(i.timeStamp=i.time=Ext.now(),i.pageX=c.pageX,i.pageY=c.pageY,i.clientX=c.clientX,i.clientY=c.clientY,i.target=i.delegatedTarget=h(b.target),g=b.relatedTarget)if(Ext.isGecko&&"dragenter"===j||"dragleave"===j)try{i.relatedTarget=h(g)}catch(d){i.relatedTarget=null}else i.relatedTarget=h(g);i.browserEvent=i.event=b,i.type=j,i.button=b.button||0,i.shiftKey=b.shiftKey,i.ctrlKey=b.ctrlKey||b.metaKey||!1,i.altKey=b.altKey,i.charCode=b.charCode,i.keyCode=b.keyCode,i.buttons=b.buttons,0===i.button&&0===i.buttons&&(i.buttons=1),l.focusEvents[j]?void 0!==l.forwardTab&&(i.forwardTab=l.forwardTab):"keydown"!==j&&delete l.forwardTab,l.mouseEvents[j]?a="mouse":l.clickEvents[j]?a=l.pointerTypeMap[b.pointerType]||"mouse":l.pointerEvents[j]?a=l.pointerTypeMap[b.pointerType]:l.touchEvents[j]&&(a="touch"),a&&(i.pointerType=a),i.isMultitouch=!1===b.isPrimary||b.touches&&b.touches.length>1},chain:function(a){var b=Ext.Object.chain(this);return b.parentEvent=this,Ext.apply(b,a)},correctWheelDelta:function(c){var b=this.WHEEL_SCALE,a=Math.round(c/b);return!a&&c&&(a=c<0?-1:1),a},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var c,b=this,a=b.point;return a||(c=b.getXY(),a=b.point=new Ext.util.Point(c[0],c[1])),a},getRelatedTarget:function(b,e,a){var c=this.relatedTarget,d=null;return c&&c.nodeType&&(d=b?Ext.fly(c).findParent(b,e,a):a?Ext.get(c):c),d},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):a?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var d=this,c=d.browserEvent,b=0,a=0;return Ext.isDefined(c.wheelDeltaX)?(b=c.wheelDeltaX,a=c.wheelDeltaY):c.wheelDelta?a=c.wheelDelta:"deltaX"in c?(b=c.deltaX,a=-c.deltaY):c.detail&&(a=-c.detail,a>100?a=3:a<-100&&(a=-3),Ext.isDefined(c.axis)&&c.axis===c.HORIZONTAL_AXIS&&(b=a,a=0)),{x:d.correctWheelDelta(b),y:d.correctWheelDelta(a)}},getX:function(){return this.getXY()[0]},getXY:function(){var c=this,e=c.xy;if(!e){e=c.xy=[c.pageX,c.pageY];var h,d,g,a,b=e[0];b||0===b||(h=c.browserEvent,d=document,g=d.documentElement,a=d.body,e[0]=h.clientX+(g&&g.scrollLeft||a&&a.scrollLeft||0)-(g&&g.clientLeft||a&&a.clientLeft||0),e[1]=h.clientY+(g&&g.scrollTop||a&&a.scrollTop||0)-(g&&g.clientTop||a&&a.clientTop||0))}return e},getY:function(){return this.getXY()[1]},hasModifier:function(){var a=this;return!!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)},isNavKeyPress:function(d){var c=this,a=c.keyCode;return(!("keypress"===c.type)||Ext.isGecko)&&a>=33&&a<=40||!d&&(a===c.RETURN||a===c.TAB||a===c.ESC)},isSpecialKey:function(){var d=this,b=d.keyCode,a=Ext.isGecko,c="keypress"===d.type;return a&&c&&0===d.charCode||this.isNavKeyPress()||b===d.BACKSPACE||b===d.ENTER||b>=16&&b<=20||(!c||a)&&b>=44&&b<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var b=this,a=b.parentEvent;return b.defaultPrevented=!0,a&&(a.defaultPrevented=!0),b.browserEvent.preventDefault(),b},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var b=this,c=b.browserEvent,a=b.parentEvent;return b.stopped=!0,a&&!b.isGesture&&(a.stopped=!0),c.stopPropagation?(c.stopPropagation(),b):(c.cancelBubble=!0,b)},claimGesture:function(){var b=this,a=b.parentEvent;return b.claimed=!0,a&&!b.hasOwnProperty("isGesture")?a.claimGesture():b.preventDefault(),b},within:function(c,d,a){var b;return c&&(b=d?this.getRelatedTarget():this.getTarget()),!!b&&(Ext.fly(c).contains(b)||!(!a||b!==Ext.getDom(c)))},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(a){var e,g,c=a.prototype,d={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var h;return Ext.isGecko?h=3:Ext.isMac?(h=Ext.isSafari&&Ext.webKitVersion>=532?120:12,h*=3):h=120,h}()},b={};Ext.apply(a,d),Ext.apply(c,d),delete d.WHEEL_SCALE,delete d.RETURN;for(e in d)g=d[e],b[g]=e;c.keyCodes=b,c.getTrueXY=c.getXY}),Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){function b(i,h){var g="mousemove"!==i;return function(m,j){var l=j.getXY(),k=d.createMouseEvent(m.ownerDocument,i,!0,g,h,l[0],l[1],j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,j.relatedTarget);d.fireEvent(m,i,k)}}function a(h,g){}var d,c,e={};return!Ext.isIE9m&&document.createEvent?d={createHtmlEvent:function(k,i,h,g){var j=k.createEvent("HTMLEvents");return j.initEvent(i,h,g),j},createMouseEvent:function(u,s,m,l,o,k,i,j,g,r,q,n,p){var h=u.createEvent("MouseEvents"),t=u.defaultView||window;return h.initMouseEvent?h.initMouseEvent(s,m,l,t,o,k,i,k,i,j,g,r,q,n,p):(h=u.createEvent("UIEvents"),h.initEvent(s,m,l),h.view=t,h.detail=o,h.screenX=k,h.screenY=i,h.clientX=k,h.clientY=i,h.ctrlKey=j,h.altKey=g,h.metaKey=q,h.shiftKey=r,h.button=n,h.relatedTarget=p),h},createUIEvent:function(m,k,i,h,j){var l=m.createEvent("UIEvents"),g=m.defaultView||window;return l.initUIEvent(k,i,h,g,j),l},fireEvent:function(i,g,h){i.dispatchEvent(h)}}:document.createEventObject&&(c={0:1,1:4,2:2},d={createHtmlEvent:function(k,i,h,g){var j=k.createEventObject();return j.bubbles=h,j.cancelable=g,j},createMouseEvent:function(t,s,m,l,o,k,i,j,g,r,q,n,p){var h=t.createEventObject();return h.bubbles=m,h.cancelable=l,h.detail=o,h.screenX=k,h.screenY=i,h.clientX=k,h.clientY=i,h.ctrlKey=j,h.altKey=g,h.shiftKey=r,h.metaKey=q,h.button=c[n]||n,h.relatedTarget=p,h},createUIEvent:function(l,j,h,g,i){var k=l.createEventObject();return k.bubbles=h,k.cancelable=g,k},fireEvent:function(i,g,h){i.fireEvent("on"+g,h)}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(i,j){var h=j[0],g=j[1];e[i]=function(m,k){var l=d.createHtmlEvent(i,h,g);d.fireEvent(m,i,l)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(g){e[g]=b(g,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(i,j){var h=j[0],g=j[1];e[i]=function(m,k){var l=d.createUIEvent(m.ownerDocument,i,h,g,1);d.fireEvent(m,i,l)}}),d||(e={},d={}),function(j){var i=this;(e[i.type]||a)(j?j.dom||j:i.getTarget(),i)}}(),preventDefault:function(g){var a,e,d=this,c=d.browserEvent,b=d.parentEvent;return"unknown"!=typeof c.type&&(g||(d.defaultPrevented=!0),b&&(b.defaultPrevented=!0),c.preventDefault?c.preventDefault():("mousedown"===c.type&&(e=c.target,"on"!==(a=e.getAttribute("unselectable"))&&(e.setAttribute("unselectable","on"),Ext.defer(function(){e.setAttribute("unselectable",a)},1))),c.returnValue=!1,(c.ctrlKey||c.keyCode>111&&c.keyCode<124)&&(c.keyCode=-1))),d},stopPropagation:function(){var b=this;return"unknown"!=typeof b.browserEvent.type&&(b.mousedownEvents[b.type]&&Ext.GlobalEvents.fireMouseDown(b),arguments.callee.$previous.call(this)),b},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var d,a=this,c=function(g){9===g.keyCode&&(a.forwardTab=!g.shiftKey)},b=function(g){9===g.keyCode&&delete a.forwardTab};Ext.isIE9m?(d={0:0,1:0,4:1,2:2},a.override({statics:{enableIEAsync:function(h){var e,g={};for(e in h)g[e]=h[e];return g}},constructor:function(i,j,g,e){var h=this;h.callParent([i,j,g,e]),h.button=d[i.button],"contextmenu"===i.type&&(h.button=2),h.toElement=i.toElement,h.fromElement=i.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(g,k,e){var h,j,i=this;return i.relatedTarget||(h=i.type,i.mouseLeaveRe.test(h)?j=i.toElement:i.mouseEnterRe.test(h)&&(j=i.fromElement),j&&(i.relatedTarget=i.self.resolveTextNode(j))),i.callParent([g,k,e])}}),document.attachEvent("onkeydown",c),document.attachEvent("onkeyup",b),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",c),document.detachEvent("onkeyup",b)})):document.addEventListener&&(document.addEventListener("keydown",c,!0),document.addEventListener("keyup",b,!0))}),Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var a=this;a.bubbleSubscribers={},a.captureSubscribers={},a.directSubscribers={},a.directCaptureSubscribers={},a.delegatedListeners={},a.initHandlers(),Ext.onInternalReady(a.onReady,a),Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){for(var b,g=this,d=Ext.event.publisher.Publisher.publishersByEvent,a=g.handledDomEvents,e=a.length,c=0;c<e;c++)b=a[c],g.handles[b]=1,d[b]=g;Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var c,b,d=this,a=d.handledDomEvents;if(a)for(b=0,c=a.length;b<c;b++)d.addDelegatedListener(a[b]);Ext.getWin().on("unload",d.destroy,d)},initHandlers:function(){var a=this;a.onDelegatedEvent=Ext.bind(a.onDelegatedEvent,a),a.onDirectEvent=Ext.bind(a.onDirectEvent,a),a.onDirectCaptureEvent=Ext.bind(a.onDirectCaptureEvent,a)},addDelegatedListener:function(a){this.delegatedListeners[a]=1,this.target.addEventListener(a,this.onDelegatedEvent,!!this.captureEvents[a])},removeDelegatedListener:function(a){delete this.delegatedListeners[a],this.target.removeEventListener(a,this.onDelegatedEvent,!!this.captureEvents[a])},addDirectListener:function(b,c,a){c.dom.addEventListener(b,a?this.onDirectCaptureEvent:this.onDirectEvent,a)},removeDirectListener:function(b,c,a){c.dom.removeEventListener(b,a?this.onDirectCaptureEvent:this.onDirectEvent,a)},subscribe:function(c,b,g,a){var e,h,d=this;g&&!d.directEvents[b]?(e=a?d.captureSubscribers:d.bubbleSubscribers,d.handles[b]||d.delegatedListeners[b]||d.addDelegatedListener(b),e[b]?++e[b]:e[b]=1):(e=a?d.directCaptureSubscribers:d.directSubscribers,h=c.id,e=e[b]||(e[b]={}),e[h]?++e[h]:(e[h]=1,d.addDirectListener(b,c,a)))},unsubscribe:function(e,g,b,j){var h,d,a,c,i=this;b&&!i.directEvents[g]?(h=i.captureSubscribers,d=i.bubbleSubscribers,a=j?h:d,a[g]&&--a[g],i.handles[g]||d[g]||h[g]||this.removeDelegatedListener(g)):(a=j?i.directCaptureSubscribers:i.directSubscribers,c=e.id,a=a[g],a[c]&&--a[c],a[c]||(delete a[c],i.removeDirectListener(g,e,j)))},getPropagatingTargets:function(d){for(var a,c=d,b=[];c;)b.push(c),a=c.parentNode,a||(a=c.defaultView),c=a;return b},publish:function(l,h,b){var r,p,k,a,g,n,d,q,o=this,m=!1,c=!1;for(b=b||!1,h||(k=l.target,o.captureEvents[l.type]?(a=Ext.cache[k.id],h=a?[a]:[]):h=o.getPropagatingTargets(k)),r=Ext.Array.from(l),n=h.length,q=r.length,g=0;g<q;g++)p=r[g].type,!m&&o.captureSubscribers[p]&&(m=!0),!c&&o.bubbleSubscribers[p]&&(c=!0);if(m)for(g=n;g--;)if(a=Ext.cache[h[g].id])for(d=0;d<q;d++)l=r[d],o.fire(a,l.type,l,!1,!0),!b&&l.claimed&&(b=!0,d=o.filterClaimed(r,l),q=r.length),l.stopped&&(r.splice(d,1),d--,q--);if(c&&!l.stopped)for(g=0;g<n;g++)if(a=Ext.cache[h[g].id])for(d=0;d<q;d++)l=r[d],o.fire(a,l.type,l,!1,!1),!b&&l.claimed&&o.filterClaimed&&(b=!0,d=o.filterClaimed(r,l),q=r.length),l.stopped&&(r.splice(d,1),d--,q--)},publishDelegatedDomEvent:function(a){this.publish(a)},fire:function(c,b,g,h,a){var d;c.hasListeners[b]&&(d=c.events[b])&&(a&&h?d=d.directCaptures:a?d=d.captures:h&&(d=d.directs),d&&(g.setCurrentTarget(c.dom),d.fire(g,g.target)))},onDelegatedEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[a]):this.doDelegatedEvent(a)},doDelegatedEvent:function(c){var a,b=this;c=new Ext.event.Event(c),a=c.time,b.isEventBlocked(c)||(b.beforeEvent(c),Ext.frameStartTime=a,b.reEnterCount++,b.publishDelegatedDomEvent(c),b.reEnterCount--,b.afterEvent(c))},onDirectEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[a,!1]):this.doDirectEvent(a,!1)},onDirectCaptureEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[a,!0]):this.doDirectEvent(a,!0)},doDirectEvent:function(h,b){var a,c,d=this,g=h.currentTarget;h=new Ext.event.Event(h),a=h.time,d.isEventBlocked(h)||(d.beforeEvent(h),Ext.frameStartTime=a,c=Ext.cache[g.id],c&&(d.reEnterCount++,d.fire(c,h.type,h,!0,b),d.reEnterCount--),d.afterEvent(h))},beforeEvent:function(c){var b,d,g=c.browserEvent,a=Ext.event.publisher.Dom;"touchstart"===g.type&&(b=g.touches,1===b.length&&(d=b[0],a.lastTouchStartX=d.pageX,a.lastTouchStartY=d.pageY))},afterEvent:function(d){var g=d.browserEvent,c=g.type,b=Ext.event.publisher.Dom,a=Ext.GlobalEvents;d.self.pointerEvents[c]&&"mouse"!==d.pointerType&&(b.lastScreenPointerEventTime=Ext.now()),"touchend"===c&&(b.lastTouchEndTime=Ext.now()),this.reEnterCount||!a.hasListeners.idle||a.idleEventMask[c]||a.fireEvent("idle")},isEventBlocked:function(g){var d=this,c=g.type,a=Ext.event.publisher.Dom,b=Ext.now();return!(!Ext.isGecko||"click"!==g.type||2!==g.button)||d.blockedPointerEvents[c]&&"mouse"!==g.pointerType||d.blockedCompatibilityMouseEvents[c]&&b-a.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&g.self.mouseEvents[g.type]&&Math.abs(g.pageX-a.lastTouchStartX)<15&&Math.abs(g.pageY-a.lastTouchStartY)<15&&Ext.now()-a.lastTouchEndTime<1e3},destroy:function(){var a,b=Ext.dom.GarbageCollector;for(a in this.delegatedListeners)this.removeDelegatedListener(a);Ext.Reaper.flush(),b&&b.collect(),this.callParent()},reset:function(){var a=Ext.event.publisher.Dom;a.lastScreenPointerEventTime=a.lastTouchEndTime=a.lastTouchStartX=a.lastTouchStartY=void 0}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(b){var d=document,c=d.defaultView,a=b.prototype;Ext.os.is.iOS&&Ext.os.version.getMajor()<5||Ext.browser.is.AndroidStock||!c||!c.addEventListener?a.target=d:a.target=c,b.instance=new b}),Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(g){if(Ext.isIE9m){var a,b=document.documentElement,e=document.body,d=g.prototype;d.target=document,d.directBoundListeners={},a=function(j,i,h){j.target=j.srcElement||window,j.currentTarget=this,h?i.onDirectCaptureEvent(j):i.onDirectEvent(j)},g.override({addDelegatedListener:function(h){this.delegatedListeners[h]=1,this.target.attachEvent("on"+h,this.onDelegatedEvent)},removeDelegatedListener:function(h){delete this.delegatedListeners[h],this.target.detachEvent("on"+h,this.onDelegatedEvent)},addDirectListener:function(k,l,j){var n=this,o=l.dom,m=Ext.Function.bind(a,o,[n,j],!0),h=n.directBoundListeners;(h[k]||(h[k]={}))[o.id]=m,o.attachEvent?o.attachEvent("on"+k,m):n.callParent([k,l,j])},removeDirectListener:function(i,j,h){var k=j.dom;k.detachEvent?k.detachEvent("on"+i,this.directBoundListeners[i][k.id]):this.callParent([i,j,h])},doDelegatedEvent:function(h){return h.target=h.srcElement||window,"focusin"===h.type?h.relatedTarget=h.fromElement===e||h.fromElement===b?null:h.fromElement:"focusout"===h.type&&(h.relatedTarget=h.toElement===e||h.toElement===b?null:h.toElement),this.callParent([h])}}),Ext.apply(d.directEvents,d.captureEvents),Ext.apply(d.directEvents,{change:1,input:1,paste:1}),d.captureEvents={}}}),Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(b){var g=this,c=g.handledDomEvents,a=Ext.supports,e=a.TouchEvents,h=g.onTouchStart,d=g.onTouchMove,i=g.onTouchEnd;return g.handlers={touchstart:h,touchmove:d,touchend:i,touchcancel:i,pointerdown:h,pointermove:d,pointerup:i,pointercancel:i,MSPointerDown:h,MSPointerMove:d,MSPointerUp:i,MSPointerCancel:i,mousedown:h,mousemove:d,mouseup:i},g.activeTouchesMap={},g.activeTouches=[],g.changedTouches=[],g.recognizers=[],g.eventToRecognizer={},g.cancelEvents=[],e&&(g.onTargetTouchMove=g.onTargetTouchMove.bind(g),g.onTargetTouchEnd=g.onTargetTouchEnd.bind(g)),a.PointerEvents?(c.push("pointerdown","pointermove","pointerup","pointercancel"),g.mousePointerType="mouse"):a.MSPointerEvents?(c.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),g.mousePointerType=4):e&&c.push("touchstart","touchmove","touchend","touchcancel"),(!c.length||e&&Ext.isWebKit&&Ext.os.is.Desktop)&&c.push("mousedown","mousemove","mouseup"),g.initConfig(b),Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this),Ext.Array.sort(this.recognizers,function(g,e){var d=g.priority,c=e.priority;return d>c?1:d<c?-1:0})},registerRecognizer:function(a){var b,d,g=this,c=a.handledEvents,e=c.length;for(a.setOnRecognized(g.onRecognized),a.setCallbackScope(g),d=0;d<e;d++)b=c[d],g.handledEvents.push(b),g.eventToRecognizer[b]=a;g.registerEvents(c),g.recognizers.push(a)},onRecognized:function(a,j,m,b,l){var r,k,d,c,p=this,h=m.touches,q=m.changedTouches,n=q.length,s=p.events,g=!s.length,o=p.cancelEvents;if(b=b||{},b.type=j,b.target=q[0].target,b.stopped=!1,b.claimed=!1,b.isGesture=!0,m=m.chain(b),!p.gestureTargets){if(n>1){for(r=[],d=0;d<n;d++)c=q[d],r.push(c.targets);k=p.getCommonTargets(r)}else k=q[0].targets;p.gestureTargets=k}l&&a.isSingleTouch&&h.length>1?(m.target=h[0].target,o.push(m)):s.push(m),g&&p.publishGestures()},getCommonTargets:function(a){var k=a[0],g=a.length;if(1===g)return k;for(var h,b,c,d=[],e=1;;){if(!(h=k[k.length-e]))return d;for(c=1;c<g;c++)if(b=a[c],b[b.length-e]!==h)return d;d.unshift(h),e++}return d},invokeRecognizers:function(c,h){var d,a,b=this.recognizers,g=b.length;if("onStart"===c)for(d=0;d<g;d++)b[d].isActive=!0;for(d=0;d<g;d++)a=b[d],a.isActive&&!1===a[c].call(a,h)&&(a.isActive=!1)},filterClaimed:function(k,c){var l,b,g,e,h=this,d=h.eventToRecognizer,j=c.type,a=d[j];for(e=k.length;e--;)g=k[e].type,g===j?l=e:(b=d[g],(!a||b&&b!==a)&&(k.splice(e,1),l&&l--));return h.claimRecognizer(a,k[0]),l},claimRecognizer:function(a,j){var d,g,b,h=this,c=h.recognizers;for(d=0,g=c.length;d<g;d++)(b=c[d])!==a&&(b.isActive=!1,b.cancel(j));h.events.length&&h.publishGestures(!0)},publishGestures:function(d){var c=this,e=c.cancelEvents,a=c.events,b=c.gestureTargets;e.length&&(c.cancelEvents=[],c.publish(e,c.getPropagatingTargets(e[0].target),!0)),a.length&&(c.events=[],c.gestureTargets=null,c.publish(a,b||c.getPropagatingTargets(a[0].target),d))},updateTouches:function(k,b){var n,j,d,h,c,m,r,p,o=this,s=k.browserEvent,g=s.changedTouches||[s],a=o.activeTouches,l=o.activeTouchesMap,q=[];for(c=0,m=g.length;c<m;c++)n=g[c],j="identifier"in n?n.identifier:"pointerId"in n?n.pointerId:1,d=l[j],d||(h=Ext.event.Event.resolveTextNode(n.target),d=l[j]={identifier:j,target:h,targets:o.getPropagatingTargets(h)},a.push(d)),b&&(delete l[j],Ext.Array.remove(a,d)),r=n.pageX,p=n.pageY,d.pageX=r,d.pageY=p,d.point=new Ext.util.Point(r,p),q.push(d);k.touches=Ext.Array.clone(a),k.changedTouches=q},publishDelegatedDomEvent:function(b){var a=this;!b.button||b.button<1?(a.events=[b],a.handlers[b.type].call(a,b)):Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,b)},onTouchStart:function(d){var a=this,c=d.target,b=d.browserEvent.touches;"touchstart"===d.browserEvent.type&&(c.addEventListener("touchmove",a.onTargetTouchMove),c.addEventListener("touchend",a.onTargetTouchEnd),c.addEventListener("touchcancel",a.onTargetTouchEnd)),b&&b.length<=a.activeTouches.length&&a.removeGhostTouches(b),a.updateTouches(d),a.isStarted||(Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause(),a.isStarted=!0,a.invokeRecognizers("onStart",d)),a.invokeRecognizers("onTouchStart",d),a.publishGestures()},onTouchMove:function(c){var b=this,a=b.mousePointerType;if(b.isStarted){if(a&&c.browserEvent.pointerType===a&&0===c.buttons)return c.type=Ext.dom.Element.prototype.eventMap.touchend,c.button=0,void b.onTouchEnd(c);b.updateTouches(c),c.changedTouches.length>0&&b.invokeRecognizers("onTouchMove",c)}b.publishGestures()},onTouchEnd:function(c){var a,b=this;if(!b.isStarted)return void b.publishGestures();b.updateTouches(c,!0),a=b.activeTouches.length;try{b.invokeRecognizers(b.isCancelEvent[c.type]?"onTouchCancel":"onTouchEnd",c)}finally{a||(b.isStarted=!1,b.invokeRecognizers("onEnd",c)),b.publishGestures(),a||Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()}},onTargetTouchMove:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[a]):this.doTargetTouchMove(a)},doTargetTouchMove:function(a){Ext.getBody().contains(a.target)||this.onTouchMove(new Ext.event.Event(a))},onTargetTouchEnd:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[a]):this.doTargetTouchEnd(a)},doTargetTouchEnd:function(c){var a=this,b=c.target;b.removeEventListener("touchmove",a.onTargetTouchMove),b.removeEventListener("touchend",a.onTargetTouchEnd),b.removeEventListener("touchcancel",a.onTargetTouchEnd),Ext.getBody().contains(b)||a.onTouchEnd(new Ext.event.Event(c))},reset:function(){var c,a,e=this,b=e.recognizers,d=b.length;for(e.activeTouchesMap={},e.activeTouches=[],e.changedTouches=[],e.isStarted=!1,e.gestureTargets=null,e.events=[],e.cancelEvents=[],c=0;c<d;c++)a=b[c],a.reset(),a.isActive=!1;Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(e){var b,h,g,c={},a=e.length,j=this.activeTouches,d=this.activeTouchesMap;for(b=0;b<a;++b)c[e[b].identifier]=!0;for(b=j.length;b--;)g=j[b],h=g.identifier,e[h]||(Ext.Array.remove(j,g),delete d[h])}}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(a){a.instance=Ext.$gesturePublisher=new a}),Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(c,a){var d=c.browserEvent,b=c.getXY();d.pageX=b[0],d.pageY=b[1],this.callParent([c,a])},doDelegatedEvent:function(a){this.callParent([Ext.event.Event.enableIEAsync(a)])}})}),Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var a=document.createDocumentFragment();return a.appendChild(Ext.Element.create(this.getElementConfig(),!0)),a},initElement:function(){var a=this.self.prototype;a.elementTemplate=this.getElementTemplate(),a.initElement=a.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(a,b){this.link(a,b)},doInitElement:function(){var c,d,e,g,b,a,h=this.referenceAttributeName;for(c=this.elementTemplate.cloneNode(!0),d=c.querySelectorAll(this.referenceSelector),e=0,g=d.length;e<g;e++)b=d[e],a=b.getAttribute(h),b.removeAttribute(h),this.linkElement(a,b)}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0),Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[],this.writeQueue=[],this.run=Ext.Function.bind(this.run,this),Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(c,b,a){this.request(!0),this.readQueue.push(arguments)},requestWrite:function(c,b,a){this.request(!1),this.writeQueue.push(arguments)},request:function(a){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.mode=a,a?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},watch:function(){this.pending&&Date.now()-this.pendingTime>=500&&this.run()},run:function(){this.pending=!1;var g,k=this.readQueue,e=this.writeQueue,c=null;this.mode?(g=k,e.length>0&&(c=!1)):(g=e,k.length>0&&(c=!0));var d,h,a,j,l,b=g.slice();for(g.length=0,d=0,h=b.length;d<h;d++)a=b[d],j=a[0],(l=a[1])&&(l.destroying||l.destroyed)||("string"==typeof j&&(j=l[j]),a.length>2?j.apply(l,a[2]):j.call(l));b.length=0,null!==c&&this.request(c)}},1,0,0,0,0,0,[Ext,"TaskQueue"],0),Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(a){this.refresh=Ext.Function.bind(this.refresh,this),this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},this.initElement(),this.initConfig(a),this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){a.append(this.detectorsContainer),a.addCls("x-size-monitored")},applyArgs:function(a){return a.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var d=this.getElement();if(!d||d.destroyed)return!1;var b=d.getWidth(),k=d.getHeight(),a=this.getContentWidth(),j=this.getContentHeight(),i=this.contentWidth,g=this.contentHeight,c=this.info,e=!1,h=0;return this.width=b,this.height=k,this.contentWidth=a,this.contentHeight=j,h=(i!==a?1:0)+(g!==j?2:0),h>0&&(c.width=b,c.height=k,c.contentWidth=a,c.contentHeight=j,c.flag=h,e=!0,this.getCallback().apply(this.getScope(),this.getArgs())),e},refresh:function(a){this.destroying||this.destroyed||(this.refreshSize()||a)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var b=this,a=b.getElement();b.bindListeners(!1),a&&!a.destroyed&&a.removeCls("x-size-monitored"),delete b._element,b.refresh=null,b.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0),Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(a){this.onScroll=Ext.Function.bind(this.onScroll,this),Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(b){var a=b?"addEventListener":"removeEventListener";this.expandMonitor[a]("scroll",this.onScroll,!0),this.shrinkMonitor[a]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var b=this.expandMonitor,c=this.shrinkMonitor,a=1e6;b&&!b.destroyed&&(b.scrollLeft=a,b.scrollTop=a),c&&!c.destroyed&&(c.scrollLeft=a,c.scrollTop=a)},destroy:function(){this.onScroll=null,Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0),Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(a){this.onExpand=Ext.Function.bind(this.onExpand,this),this.onShrink=Ext.Function.bind(this.onShrink,this),Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{
reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(b){var a=b?"addEventListener":"removeEventListener";this.expandMonitor[a](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[a](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(a){Ext.browser.is.Webkit&&a.horizontalOverflow&&a.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(a){(!Ext.browser.is.Webkit||a.horizontalOverflow||a.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.destroying&&!this.destroyed){var c,g=this.expandHelper,e=this.shrinkHelper,b=this.getContentBounds(),d=b.width,a=b.height;g&&!g.destroyed&&(c=g.style,c.width=d+1+"px",c.height=a+1+"px"),e&&!e.destroyed&&(c=e.style,c.width=d+"px",c.height=a+"px"),Ext.TaskQueue.requestRead("refresh",this)}},destroy:function(){this.onExpand=this.onShrink=null,Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0),Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(a){var b=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new b.OverflowChange(a):new b.Scroll(a)}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0),Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={},this.subscribers={},Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(b){var d=b.id,c=this.subscribers,a=this.monitors;return c[d]?++c[d]:(c[d]=1,a[d]=new Ext.util.SizeMonitor({element:b,callback:this.onElementResize,scope:this,args:[b]})),b.on("painted","forceRefresh",a[d]),!0},unsubscribe:function(c){var a,e=c.id,d=this.subscribers,b=this.monitors;d[e]&&!--d[e]&&(delete d[e],a=b[e],c.un("painted","forceRefresh",a),a.destroy(),delete b[e])},onElementResize:function(a,b){Ext.TaskQueue.requestRead("fire",this,[a,"resize",[a,b]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(a){a.instance=new a}),Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(a){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this),this.initConfig(a)},bindListeners:function(a){this.monitorElement[a?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},!0),a.appendChild(this.monitorElement),a.addCls("x-paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var d=this,b=d.monitorElement,a=b.parentNode,c=d.getElement();d.bindListeners(!1),delete d.monitorElement,c&&!c.destroyed&&(c.removeCls("x-paint-monitored"),delete d._element),a&&a.removeChild(b),d.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0),Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(a){"x-paint-monitor-helper"===a.animationName&&this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0),Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(a){return new Ext.util.paintmonitor.CssAnimation(a)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0),Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={},this.subscribers={},Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(a){var b=this,d=a.id,c=b.subscribers;c[d]?++c[d]:(c[d]=1,b.monitors[d]=new Ext.util.PaintMonitor({element:a,callback:b.onElementPainted,scope:b,args:[a]}))},unsubscribe:function(b){var d=b.id,c=this.subscribers,a=this.monitors;c[d]&&!--c[d]&&(delete c[d],a[d].destroy(),delete a[d])},onElementPainted:function(a){Ext.TaskQueue.requestRead("fire",this,[a,"painted",[a]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(a){a.instance=new a}),Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(s){var W,aj,P,ac,I,k,x=window,V=document,g=V.documentElement,X=x.top,l="width",T="height",X="top",d="display",Z="none",ab="position",C="-",A=/\w/g,O=/\s+/,ai=/[\s]+/,b=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,M=/table-row|table-.*-group/,c=/top/i,z={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},af={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},p={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},J=[af.l,af.r,af.t,af.b],j=[z.l,z.r,z.t,z.b],ad=/\d+$/,m=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,S=/(-[a-z])/gi,am=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,u=/^\d+(?:\.\d*)?px$/i,B={},y="originalDisplay",aa=function(e,an){return an.charAt(1).toUpperCase()},N=function(ap,an){var aq,ao,e;if(1===ap.nodeType&&(ap._extData=null,an))for(aq=ap.childNodes,ao=0,e=aq.length;ao<e;++ao)N(aq[ao],an)},H="x-hidden-visibility",F="x-hidden-display",o="x-hidden-offsets",a="x-hidden-clip",E="x-sized",R="x-unsized",L="x-stretched",r={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},Y=0,ae=0,D=!1,i=!1;try{W=X.__elementIdCounter__}catch(al){X=x}return X.__elementIdCounter=W=(X.__elementIdCounter__||0)+1,aj="ext-window-"+W,P="ext-document-"+W,{alternateClassName:["Ext.Element"],observableType:"element",isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(an){var ao,e=this;if("string"==typeof an&&(an=V.getElementById(an)),!an)return null;e.dom=an,ao=an.id,ao?e.id=ao:ao=an.id=e.getUniqueId(),e.el=e,Ext.cache[ao]=e,e.longpressListenerCount=0,e.mixins.observable.constructor.call(e)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:m,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},addUnits:function(an,e){return"number"==typeof an?an+(e||"px"):""===an||"auto"===an||null==an?an||"":ad.test(an)?an+(e||"px"):m.test(an)?an:an||""},create:function(ap,ao){var an,at,aw,ay,ax,e,ar,au,aq,av=this;if(ap=ap||{},ap.isElement)return ao?ap.dom:ap;if("nodeType"in ap)return ao?ap:Ext.get(ap);if("string"==typeof ap)return V.createTextNode(ap);ay=ap.tag,ay||(ay="div"),at=ap.namespace?V.createElementNS(ap.namespace,ay):V.createElement(ay),aw=at.style;for(e in ap)if("tag"!==e)switch(ax=ap[e],e){case r.style:if("string"==typeof ax)at.setAttribute(e,ax);else for(ar in ax)ax.hasOwnProperty(ar)&&(aw[ar]=ax[ar]);break;case r.className:case r.cls:aq=ax.split(O),an=an?an.concat(aq):aq;break;case r.classList:an=an?an.concat(ax):ax;break;case r.text:at.textContent=ax;break;case r.html:at.innerHTML=ax;break;case r.hidden:an?an.push(F):an=[F];break;case r.children:if(null!=ax)for(ar=0,au=ax.length;ar<au;ar++)at.appendChild(av.create(ax[ar],!0));break;default:null!=ax&&at.setAttribute(e,ax)}return an&&(at.className=an.join(" ")),ao?at:av.get(at)},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},fly:function(an,e){return Ext.fly(an,e)},fromPoint:function(){var ao;if(Ext.isIE)try{ao=window.self!==window.top}catch(an){ao=!0}return function(ap,ar,e){var aq=null;return aq=V.elementFromPoint(ap,ar),!aq&&ao&&(aq=V.elementFromPoint(ap,ar)),e?aq:Ext.get(aq)}}(),fromPagePoint:function(ao,ap,an){var e=Ext.getDoc().getScroll();return s.fromPoint(ao-e.left,ap-e.top,an)},get:function(ao){var aq,ap,an,aw,av,ar,au,at=this,e=Ext.cache;if(!ao)return null;if(ao.isFly&&(ao=ao.dom),"string"==typeof ao){if(an=ao,e.hasOwnProperty(an)){if(aw=e[an],aw.skipGarbageCollection||!Ext.isGarbage(aw.dom))return aw;aw.destroy()}if(an===aj)return s.get(x);if(an===P)return s.get(V);if(ap=Ext.getElementById?Ext.getElementById(an):V.getElementById(an))return new s(ap)}if(aq=ao.nodeType,aq?(av=9===aq,au=at.validNodeTypes[aq]):ar=ao.window==ao,au||ar){if(an=ao.id,e.hasOwnProperty(an)){if(aw=e[an],aw.skipGarbageCollection||ao===aw.dom||!Ext.isGarbage(aw.dom))return aw;aw.destroy()}return ao===V&&(ao.id=P),ao==x&&(ao.id=aj),ao=new s(ao),(ar||av)&&(ao.skipGarbageCollection=!0),ao}return ao.isElement?ao:ao.isComposite?ao:Ext.isIterable(ao)?at.select(ao):null},getActiveElement:function(e){var an=V.activeElement;return an&&an.focus||(an=V.body),e?Ext.get(an):an},getDocumentHeight:function(){return Math.max(Ext.isStrict?g.scrollHeight:V.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?g.scrollWidth:V.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==x.orientation?"portrait":"landscape":x.innerHeight>x.innerWidth?"portrait":"landscape"},getViewportHeight:function(){var e=s._viewportHeight;return Ext.isIE9m?V.documentElement.clientHeight:null!=e?e:g.clientHeight},getViewportWidth:function(){var e=s._viewportWidth;return Ext.isIE9m?V.documentElement.clientWidth:null!=e?e:g.clientWidth},getViewportScale:function(){var e=x.top;return(Ext.isiOS||Ext.isAndroid?1:e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(ao){var ap,aq=1,an=x.top;return!ao&&(ap=this._viewportTouchScale)?ap:(Ext.isIE10p||Ext.isEdge||Ext.isiOS?aq=g.offsetWidth/x.innerWidth:Ext.isChromeMobile&&(aq=an.outerWidth/an.innerWidth),aq)},getViewSize:function(){return{width:s.getViewportWidth(),height:s.getViewportHeight()}},maskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(ao){var an;an=Ext.fly(ao.parentNode).mask(),an.setStyle("background-color","transparent")})},normalize:function(e){return B[e]||(B[e]=e.replace(S,aa))},_onWindowFocusChange:function(an){Ext.fly(an.target).is(s.editableSelector)&&(Y=new Date,D="focusin"===an.type||"pointerup"===an.type)},_onWindowResize:function(){var ap,e,ao=g.clientWidth,ar=g.clientHeight,aq=new Date;if(ap=ao-s._documentWidth,e=ar-s._documentHeight,s._windowWidth=ao,s._windowHeight=ar,(aq-Y<1e3||aq-ae<1e3)&&0===ap&&D&&e<=-s.minKeyboardHeight)return void(i=!0);i&&0===ap&&e>=s.minKeyboardHeight&&(i=!1,ae=new Date),i||(s._viewportWidth=ao,s._viewportHeight=ar)},parseBox:function(ao){ao=ao||0;var ap,an,e=typeof ao;return"number"===e?{top:ao,right:ao,bottom:ao,left:ao}:"string"!==e?ao:(ap=ao.split(" "),an=ap.length,1===an?ap[1]=ap[2]=ap[3]=ap[0]:2===an?(ap[2]=ap[0],ap[3]=ap[1]):3===an&&(ap[3]=ap[1]),{top:parseFloat(ap[0])||0,right:parseFloat(ap[1])||0,bottom:parseFloat(ap[2])||0,left:parseFloat(ap[3])||0})},parseStyles:function(an){var ao,e={};if(an)for(am.lastIndex=0;ao=am.exec(an);)e[ao[1]]=ao[2]||"";return e},select:function(e,ao,an){return Ext.fly(an||V).select(e,ao)},query:function(an,e,ao){return Ext.fly(ao||V).query(an,e)},unitizeBox:function(ao,e){var an=this;return ao=an.parseBox(ao),an.addUnits(ao.top,e)+" "+an.addUnits(ao.right,e)+" "+an.addUnits(ao.bottom,e)+" "+an.addUnits(ao.left,e)},unmaskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(an){Ext.fly(an.parentNode).unmask()})},serializeForm:function(ap){var av,an,ay,aC,aB,aw,ar,ax,ao,aq=ap.elements||(V.forms[ap]||Ext.getDom(ap)).elements,aA=!1,az=encodeURIComponent,au="",at=aq.length;for(aw=0;aw<at;aw++)if(av=aq[aw],an=av.name,ay=av.type,aC=av.options,!av.disabled&&an)if(/select-(one|multiple)/i.test(ay))for(ax=aC.length,ar=0;ar<ax;ar++)ao=aC[ar],ao.selected&&(aB=ao.hasAttribute("value"),au+=Ext.String.format("{0}={1}&",az(an),az(aB?ao.value:ao.text)));else/file|undefined|reset|button/i.test(ay)||/radio|checkbox/i.test(ay)&&!av.checked||"submit"==ay&&aA||(au+=az(an)+"="+az(av.value)+"&",aA=/submit/i.test(ay));return au.substr(0,au.length-1)},getCommonAncestor:function(ao,an,e){for(k=k||new Ext.dom.Fly,k.attach(Ext.getDom(ao));!k.isAncestor(an);){if(!k.dom.parentNode){k.attach(V.body);break}k.attach(k.dom.parentNode)}return e?k.dom:Ext.get(k)}},addCls:function(av,at,ax){var ay,aq,an,ao,ar,au,e,aw=this,ap=aw.getData();if(!av)return aw;for(ap.isSynchronized||aw.synchronize(),aq=aw.dom,an=ap.classMap,ao=ap.classList,at=at?at+C:"",ax=ax?C+ax:"","string"==typeof av&&(av=av.split(O)),ar=0,au=av.length;ar<au;ar++)(e=av[ar])&&(e=at+e+ax,an[e]||(an[e]=!0,ao.push(e),ay=!0));return ay&&(aq.className=ao.join(" ")),aw},addClsOnClick:function(ao,ar,an){var ap=this,aq=ap.dom,e=Ext.isFunction(ar);return ap.on("mousedown",function(){if(e&&!1===ar.call(an||ap,ap))return!1;Ext.fly(aq).addCls(ao);var au=Ext.getDoc(),at=function(){Ext.fly(aq).removeCls(ao),au.removeListener("mouseup",at)};au.on("mouseup",at)}),ap},addClsOnFocus:function(ao,ar,an){var ap=this,aq=ap.dom,e=Ext.isFunction(ar);return ap.on("focus",function(){if(e&&!1===ar.call(an||ap,ap))return!1;Ext.fly(aq).addCls(ao)}),ap.on("blur",function(){Ext.fly(aq).removeCls(ao)}),ap},addClsOnOver:function(ao,ar,an){var ap=this,aq=ap.dom,e=Ext.isFunction(ar);return ap.hover(function(){e&&!1===ar.call(an||ap,ap)||Ext.fly(aq).addCls(ao)},function(){Ext.fly(aq).removeCls(ao)}),ap},addStyles:function(au,at){var aq,ap,ao=0,ar=(au||"").match(A),e=ar.length,an=[];if(1===e)ao=Math.abs(parseFloat(this.getStyle(at[ar[0]]))||0);else if(e){for(aq=0;aq<e;aq++)ap=ar[aq],an.push(at[ap]);for(an=this.getStyle(an),aq=0;aq<e;aq++)ap=ar[aq],ao+=parseFloat(an[at[ap]])||0}return ao},addUnits:function(an,e){return s.addUnits(an,e)},adjustDirect2DDimension:function(ao){var ap,au=this,an=au.dom,ar=au.getStyle("display"),aq=an.style.display,av=an.style.position,at=ao===l?0:1,e=an.currentStyle;return"inline"===ar&&(an.style.display="inline-block"),an.style.position=ar.match(M)?"absolute":"static",ap=(parseFloat(e[ao])||2*parseFloat(e.msTransformOrigin.split(" ")[at]))%1,an.style.position=av,"inline"===ar&&(an.style.display=aq),ap},animate:function(e){return e=new Ext.fx.Animation(e),e.setElement(this),this._activeAnimation=e,e.on({animationend:this._onAnimationEnd,scope:this}),Ext.Animator.run(e),e},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(ap,ao){var at,an,ar,aq=this;if(ap.nodeType||ap.dom||"string"==typeof ap)return ap=Ext.getDom(ap),aq.dom.appendChild(ap),ao?ap:Ext.get(ap);if(ap.length){for(at=Ext.fly(V.createDocumentFragment()),an=ap.length,ar=0;ar<an;ar++)at.appendChild(ap[ar],ao);return ap=Ext.Array.toArray(at.dom.childNodes),aq.dom.appendChild(at.dom),ao?ap:new Ext.dom.CompositeElementLite(ap)}return aq.createChild(ap,null,ao)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},applyStyles:function(e){return e&&("function"==typeof e&&(e=e.call()),"string"==typeof e&&(e=s.parseStyles(e)),"object"==typeof e&&this.setStyle(e)),this},blur:function(){var an=this,ap=an.dom;if(ap!==V.body){try{ap.blur()}catch(ao){}return an}return an.focus(void 0,ap)},cacheScrollValues:function(){var at,ao,an,e,aq=this,ar=[],ap=[];for(I=I||new Ext.dom.Fly,at=aq.query("*"),an=0,e=at.length;an<e;an++)ao=at[an],(ao.scrollTop>0||0!==ao.scrollLeft)&&(ap.push(ao),ar.push(I.attach(ao).getScroll()));return function(){var av,aw,au;for(aw=0,au=ap.length;aw<au;aw++)av=ar[aw],I.attach(ap[aw]),I.setScrollLeft(av.left),I.setScrollTop(av.top)}},center:function(e){return this.alignTo(e||V,"c-c")},child:function(e,an){var ao=this,ap=Ext.get(ao).id;return ao.selectNode(Ext.makeIdSelector(ap)+" > "+e,!!an)},clone:function(e,an){var ao=this.dom.cloneNode(e);return Ext.supports.CloneNodeCopiesExpando&&N(ao,e),an?ao:Ext.get(ao)},constrainScrollLeft:function(e){var an=this.dom;return Math.max(Math.min(e,an.scrollWidth-an.clientWidth),0)},constrainScrollTop:function(e){var an=this.dom;return Math.max(Math.min(e,an.scrollHeight-an.clientHeight),0)},createChild:function(an,e,ao){return an=an||{tag:"div"},e?Ext.DomHelper.insertBefore(e,an,!0!==ao):Ext.DomHelper.append(this.dom,an,!0!==ao)},contains:function(e){if(!e)return!1;var an=this,ao=Ext.getDom(e);return ao===an.dom||an.isAncestor(ao)},destroy:function(){var e=this,an=e.dom;an&&an.parentNode&&an.parentNode.removeChild(an),e.collect()},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},disableShadow:function(){var e=this.shadow;e&&(e.hide(),e.disabled=!0)},disableShim:function(){var e=this.shim;e&&(e.hide(),e.disabled=!0)},doReplaceWith:function(e){var an=this.dom;an.parentNode.replaceChild(Ext.getDom(e),an)},doScrollIntoView:function(e,aq,an,ar,ay,av){I=I||new Ext.dom.Fly;var aw=this,at=aw.dom,az=I.attach(e)[ay](),ax=e.scrollTop,au=aw.getScrollIntoViewXY(e,az,ax),ap=au.x,ao=au.y;return ar&&(an?an=Ext.apply({listeners:{afteranimate:function(){I.attach(at).highlight()}}},an):I.attach(at).highlight()),ao!==ax&&I.attach(e).scrollTo("top",ao,an),!1!==aq&&ap!==az&&I.attach(e)[av]("left",ap,an),aw},down:function(e,an){return this.selectNode(e,!!an)},enableShadow:function(an,e){var ao=this,aq=ao.shadow||(ao.shadow=new Ext.dom.Shadow(Ext.apply({target:ao},an))),ap=ao.shim;ap&&(ap.offsets=aq.outerOffsets,ap.shadow=aq,aq.shim=ap),!0===e||!1!==e&&ao.isVisible()?aq.show():aq.hide(),aq.disabled=!1},enableShim:function(an,e){var ao=this,aq=ao.shim||(ao.shim=new Ext.dom.Shim(Ext.apply({target:ao},an))),ap=ao.shadow;return ap&&(aq.offsets=ap.outerOffsets,aq.shadow=ap,ap.shim=aq),!0===e||!1!==e&&ao.isVisible()?aq.show():aq.hide(),aq.disabled=!1,aq},findParent:function(at,an,e){var ap=this,aq=ap.dom,ao=g,ar=0;for(an||0===an?"number"!=typeof an&&(ao=Ext.getDom(an),an=Number.MAX_VALUE):an=50;aq&&1===aq.nodeType&&ar<an&&aq!==ao;){if(Ext.fly(aq).is(at))return e?Ext.get(aq):aq;ar++,aq=aq.parentNode}return null},findParentNode:function(ap,an,e){var ao=Ext.fly(this.dom.parentNode);return ao?ao.findParent(ap,an,e):null},first:function(e,an){return this.matchNode("nextSibling","firstChild",e,an)},focus:function(ao,an){var e=this;return an=an||e.dom,Number(ao)?Ext.defer(e.focus,ao,e,[null,an]):(Ext.GlobalEvents.fireEvent("beforefocus",an),an.focus()),e},collect:function(){var e=this,an=e.dom,ap=e.shadow,ao=e.shim;e.isFly||(e.mixins.observable.destroy.call(e),delete Ext.cache[e.id],e.el=null),an&&(an._extData=e.dom=null),ap&&(ap.hide(),e.shadow=null),ao&&(ao.hide(),e.shim=null)},getAnchorToXY:function(ap,e,ao,an){return ap.getAnchorXY(e,ao,an)},getAttribute:function(e,an){var ao=this.dom;return an?ao.getAttributeNS(an,e)||ao.getAttribute(an+":"+e):ao.getAttribute(e)||ao[e]||null},getAttributes:function(){var an,aq,e,ap=this.dom.attributes,ao={};for(aq=0,e=ap.length;aq<e;aq++)an=ap[aq],ao[an.name]=an.value;return ao},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(ao,e){var an=V.getElementById(ao)||this.dom.querySelector(Ext.makeIdSelector(ao));return e?an:an?Ext.get(an):null},getBorderPadding:function(){var e=this.getStyle(J),an=this.getStyle(j);return{beforeX:(parseFloat(an[z.l])||0)+(parseFloat(e[af.l])||0),afterX:(parseFloat(an[z.r])||0)+(parseFloat(e[af.r])||0),beforeY:(parseFloat(an[z.t])||0)+(parseFloat(e[af.t])||0),afterY:(parseFloat(an[z.b])||0)+(parseFloat(e[af.b])||0)}},getBorders:function(){var e=this.getStyle(j);return{beforeX:parseFloat(e[z.l])||0,afterX:parseFloat(e[z.r])||0,beforeY:parseFloat(e[z.t])||0,afterY:parseFloat(e[z.b])||0}},getBorderWidth:function(e){return this.addStyles(e,z)},getData:function(e){var an,ao=this.dom;return ao&&((an=ao._extData)||e||(ao._extData=an={})),an},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(ap,an){var e,at,ao=this,ar=ao.dom;return ao.isStyle("display","none")?0:("BODY"===ar.nodeName?e=s.getViewportHeight():null==(e=ar.offsetHeight)&&(e=ar.getBoundingClientRect().height),Ext.supports.Direct2DBug&&(at=ao.adjustDirect2DDimension(T),an?e+=at:at>0&&at<.5&&e++),ap&&(e-=ao.getBorderWidth("tb")+ao.getPadding("tb")),e<0?0:e)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var an,ao=this,e=ao.getStyle("left");return e&&"auto"!==e?u.test(e)?e=parseFloat(e):(e=ao.getX(),(an=ao.dom.offsetParent)&&(e-=Ext.fly(an).getX())):e=0,e},getLocalXY:function(){var ao,ap=this,an=ap.getStyle(["left","top"]),e=an.left,aq=an.top;return e&&"auto"!==e?u.test(e)?e=parseFloat(e):(e=ap.getX(),(ao=ap.dom.offsetParent)&&(e-=Ext.fly(ao).getX())):e=0,aq&&"auto"!==aq?u.test(aq)?aq=parseFloat(aq):(aq=ap.getY(),(ao=ap.dom.offsetParent)&&(aq-=Ext.fly(ao).getY())):aq=0,[e,aq]},getLocalY:function(){var e,an=this,ao=an.getStyle("top");return ao&&"auto"!==ao?u.test(ao)?ao=parseFloat(ao):(ao=an.getY(),(e=an.dom.offsetParent)&&(ao-=Ext.fly(e).getY())):ao=0,ao},getMargin:function(){var an={t:"top",l:"left",r:"right",b:"bottom"},e=["margin-top","margin-left","margin-right","margin-bottom"];return function(ap){var aq,ao,at,ar=this;if(ap)at=ar.addStyles(ap,p);else if(aq=ar.getStyle(e),at={},aq&&"object"==typeof aq){at={};for(ao in p)at[ao]=at[an[ao]]=parseFloat(aq[p[ao]])||0}return at}}(),getPadding:function(e){return this.addStyles(e,af)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var aq,ap,ao=this,ar=ao.dom,an=g,e=V.body;return ar===V||ar===e?(aq=an.scrollLeft||(e?e.scrollLeft:0),ap=an.scrollTop||(e?e.scrollTop:0)):(aq=ar.scrollLeft,ap=ar.scrollTop),{left:aq,top:ap}},getScrollIntoViewXY:function(ar,az,ay){var aB=this.dom,an=Ext.getDom(ar),ao=this.getOffsetsTo(an),ax=aB.offsetWidth,au=aB.offsetHeight,e=ao[0]+az,at=ao[1]+ay,aq=at+au,aD=e+ax,av=an.clientHeight,aA=an.clientWidth,aC=az,aw=ay,ap=aw+av,aE=aC+aA;return au>av||at<aw?ay=at:aq>ap&&(ay=aq-av),ax>aA||e<aC?az=e:aD>aE&&(az=aD-aA),{x:az,y:ay}},getScrollLeft:function(){var e=this.dom;return e===V||e===V.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom;return e===V||e===V.body?this.getScroll().top:e.scrollTop},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(az,au){var ar,aB,ay,ax,ao,e,aq,av=this,ap=av.dom,aC="string"!=typeof az,aA=av.styleHooks,an=az,aw=an,at=1;if(aC&&(ay={},an=aw[0],aq=0,!(at=aw.length)))return ay;if(!ap||ap.documentElement)return ay||"";ar=ap.style,au?e=ar:(e=ap.ownerDocument.defaultView.getComputedStyle(ap,null))||(au=!0,e=ar);do{if(ax=aA[an],ax||(aA[an]=ax={name:s.normalize(an)}),ax.get?ao=ax.get(ap,av,au,e):(aB=ax.name,ao=e[aB]),!aC)return ao;ay[an]=ao,an=aw[++aq]}while(aq<at);return ay},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getTop:function(e){return e?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(an){var e=this.dom.value;return an?parseInt(e,10):e},getViewSize:function(){var e=this.dom;return e===V||e===V.body?{width:s.getViewportWidth(),height:s.getViewportHeight()}:{width:e.clientWidth,height:e.clientHeight}},getVisibilityMode:function(){var e=this,an=e.getData(),ao=an.visibilityMode;return void 0===ao&&(an.visibilityMode=ao=s.DISPLAY),ao},getWidth:function(e,ar){var ao,an,au,ap=this,at=ap.dom;return ap.isStyle("display","none")?0:(Ext.supports.BoundingClientRect?(ao=at.getBoundingClientRect(),an=ap.vertical&&!Ext.supports.RotatedBoundingClientRect?ao.bottom-ao.top:ao.right-ao.left,an=ar?an:Math.ceil(an)):an=at.offsetWidth,Ext.supports.Direct2DBug&&!ap.vertical&&(au=ap.adjustDirect2DDimension(l),ar?an+=au:au>0&&au<.5&&an++),e&&(an-=ap.getBorderWidth("lr")+ap.getPadding("lr")),an<0?0:an)},getX:function(){return this.getXY()[0]},getXY:function(){var aq,ar,ao=Math.round,at=this.dom,an=V.body,e=0,au=0;if(at!==V&&at!==an)try{aq=an.getBoundingClientRect(),ar=at.getBoundingClientRect(),e=ar.left-aq.left,au=ar.top-aq.top}catch(ap){}return[ao(e),ao(au)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(e){var an=this.getData();return an.isSynchronized||this.synchronize(),an.classMap.hasOwnProperty(e)},hide:function(){return this.setVisible(!1),this},insertAfter:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e.nextSibling),this},insertBefore:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e),this},insertFirst:function(an,e){return an=an||{},an.nodeType||an.dom||"string"==typeof an?(an=Ext.getDom(an),this.dom.insertBefore(an,this.dom.firstChild),e?an:Ext.get(an)):this.createChild(an,this.dom.firstChild,e)},insertHtml:function(an,ao,e){var ap=Ext.DomHelper.insertHtml(an,this.dom,ao);return e?Ext.get(ap):ap},insertSibling:function(ao,ar,av){var aq,an,ap,at,au=this,aw=Ext.DomHelper,ax="after"===(ar||"before").toLowerCase();if(Ext.isIterable(ao)){if(ap=ao.length,an=Ext.fly(V.createDocumentFragment()),Ext.isArray(ao))for(at=0;at<ap;at++)aq=an.appendChild(ao[at],av);else{for(at=0;at<ap;at++)an.dom.appendChild(aq=ao[0]);!1===av&&(aq=Ext.get(aq))}return au.dom.parentNode.insertBefore(an.dom,ax?au.dom.nextSibling:au.dom),aq}return ao=ao||{},ao.nodeType||ao.dom?(aq=au.dom.parentNode.insertBefore(Ext.getDom(ao),ax?au.dom.nextSibling:au.dom),av||(aq=Ext.get(aq))):aq=ax&&!au.dom.nextSibling?aw.append(au.dom.parentNode,ao,!av):aw[ax?"insertAfter":"insertBefore"](au.dom,ao,!av),aq},is:function(e){var ao=this.dom;return!e||!!ao.tagName&&(Ext.isFunction(e)?e(ao):ao[Ext.supports.matchesSelector](e))},isAncestor:function(an){var e=!1,ao=this.dom,ap=Ext.getDom(an);if(ao&&ap){if(ao.contains)return ao.contains(ap);if(ao.compareDocumentPosition)return!!(16&ao.compareDocumentPosition(ap));for(;ap=ap.parentNode;)e=ap===ao||e}return e},isPainted:function(){return Ext.browser.is.IE?function(){var e=this.dom;return Boolean(e&&0!==e.offsetHeight&&0!==e.offsetWidth)}:function(){var e=this.dom;return Boolean(e&&e.offsetParent)}}(),isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},isStyle:function(e,an){return this.getStyle(e)===an},isVisible:function(an){var e,ao=this.dom;if(!ao)return!1;for(ac||(ac=new Ext.dom.Fly),e=ao.ownerDocument.documentElement;ao!==e;ao=ao.parentNode){if(!ao||11===ao.nodeType||ac.attach(ao).isStyle("visibility","hidden")||ac.isStyle(d,Z))return!1;if(!an)break}return!0},last:function(e,an){return this.matchNode("previousSibling","lastChild",e,an)},matchNode:function(an,ar,e,ao){var aq,ap=this.dom;if(!ap)return null;for(aq=ap[ar];aq;){if(1===aq.nodeType&&(!e||Ext.fly(aq,"_matchNode").is(e)))return ao?aq:Ext.get(aq);aq=aq[an]}return null},monitorMouseLeave:function(e,ap,ao){var ar,aq=this,an={mouseleave:function(at){Ext.isIE9m&&at.enableIEAsync(),ar=Ext.defer(ap,e,ao||aq,[at])},mouseenter:function(){clearTimeout(ar)},destroy:function(){clearTimeout(ar),aq.un(an)}};return aq.on(an),an},next:function(e,an){return this.matchNode("nextSibling","nextSibling",e,an)},parent:function(e,an){return this.matchNode("parentNode","parentNode",e,an)},position:function(aq,ap,e,ao){var an=this;"BODY"!==an.dom.tagName&&(!aq&&an.isStyle(ab,"static")?an.setStyle(ab,"relative"):aq&&an.setStyle(ab,aq),ap&&an.setStyle("z-index",ap),(e||ao)&&an.setXY([e||!1,ao||!1]))},prev:function(e,an){return this.matchNode("previousSibling","previousSibling",e,an)},query:function(ao,ax,av){var at,au,aw,an,e,ar,ap,aq=this.dom;if(!aq)return null;for(ax=!1!==ax,ao=ao.split(","),av||(at=[]),ar=0,au=ao.length;ar<au;ar++)if("string"==typeof ao[ar]){if(av)return an=aq.querySelector(ao[ar]),ax?an:Ext.get(an);for(e=aq.querySelectorAll(ao[ar]),ap=0,aw=e.length;ap<aw;ap++)at.push(ax?e[ap]:Ext.get(e[ap]))}return at},radioCls:function(ap){var an,aq=this.dom.parentNode.childNodes;ap=Ext.isArray(ap)?ap:[ap];for(var ao=0,e=aq.length;ao<e;ao++)(an=aq[ao])&&1===an.nodeType&&Ext.fly(an).removeCls(ap);return this.addCls(ap)},redraw:function(){var an=this.dom,e=an.style;e.display="none",an.offsetHeight,e.display=""},remove:function(){this.destroy()},removeChild:function(e){return this.dom.removeChild(Ext.getDom(e)),this},removeCls:function(av,at,ax){var ay,aq,an,ao,ar,au,e,aw=this,ap=aw.getData();if(!av)return aw;for(ap.isSynchronized||aw.synchronize(),aq=aw.dom,an=ap.classMap,ao=ap.classList,at=at?at+C:"",ax=ax?C+ax:"","string"==typeof av&&(av=av.split(O)),ar=0,au=av.length;ar<au;ar++)(e=av[ar])&&(e=at+e+ax,an[e]&&(delete an[e],Ext.Array.remove(ao,e),ay=!0));return ay&&(aq.className=ao.join(" ")),aw},repaint:function(){var e=this;return e.addCls("x-repaint"),Ext.defer(function(){e.dom&&Ext.fly(e.dom).removeCls("x-repaint")},1),e},replace:function(ao,an){ao=Ext.getDom(ao);var e=ao.parentNode,aq=ao.id,ap=this.dom;return!1!==an&&aq&&Ext.cache[aq]?(e.insertBefore(ap,ao),Ext.get(ao).destroy()):e.replaceChild(ap,ao),this},replaceCls:function(ao,aw,au,az){var ar,an,ap,at,av,e,ay,ax=this,aq=ax.getData();if(!ao&&!aw)return ax;for(ao=ao||[],aw=aw||[],aq.isSynchronized||ax.synchronize(),az||(az=""),ar=ax.dom,an=aq.classMap,ap=aq.classList,au=au?au+C:"",az=az?C+az:"","string"==typeof ao&&(ao=ao.split(O)),"string"==typeof aw&&(aw=aw.split(O)),at=0,av=ao.length;at<av;at++)e=au+ao[at]+az,an[e]&&(delete an[e],ay=!0);for(at=0,av=aw.length;at<av;at++)e=au+aw[at]+az,an[e]||(an[e]=!0,ay=!0);return ay&&(aq.classList=ap=Ext.Object.getKeys(an),ar.className=ap.join(" ")),ax},replaceWith:function(ap){var an,aq=this,ar=aq.dom,ao=ar.parentNode,e=Ext.cache;return aq.clearListeners(),ap.nodeType||ap.dom||"string"==typeof ap?(ap=Ext.get(ap),an=ao.insertBefore(ap.dom,ar)):an=Ext.DomHelper.insertBefore(ar,ap),ao.removeChild(ar),aq.dom=an,aq.isFly||(delete e[aq.id],e[aq.id=Ext.id(an)]=aq),aq},resolveListenerScope:function(an){var e=this.component;return e?e.resolveListenerScope(an):this},scroll:function(av,e,ao){if(!this.isScrollable())return!1;av=av.charAt(0);var ap,ar,au=this,aq=au.dom,at="r"===av||"l"===av?"left":"top",an=!1;return"l"!==av&&"t"!==av&&"u"!==av||(e=-e),"left"===at?(ap=aq.scrollLeft,ar=au.constrainScrollLeft(ap+e)):(ap=aq.scrollTop,ar=au.constrainScrollTop(ap+e)),ar!==ap&&(this.scrollTo(at,ar,ao),an=!0),an},scrollBy:function(an,e,ao){var ap=this,aq=ap.dom;return an.length?(ao=e,e=an[1],an=an[0]):"number"!=typeof an&&(ao=e,e=an.y,an=an.x),an&&ap.scrollTo("left",ap.constrainScrollLeft(aq.scrollLeft+an),ao),e&&ap.scrollTo("top",ap.constrainScrollTop(aq.scrollTop+e),ao),ap},scrollChildIntoView:function(an,e){Ext.fly(an).scrollIntoView(this,e)},scrollIntoView:function(e,ap,ao,an){return e=Ext.getDom(e)||Ext.getBody().dom,this.doScrollIntoView(e,ap,ao,an,"getScrollLeft","scrollTo")},scrollTo:function(ao,aq,e){var an,ar=c.test(ao),ap=this,au=ar?"scrollTop":"scrollLeft",at=ap.dom;return e&&ap.anim?(an={to:{}},an.to[au]=aq,Ext.isObject(e)&&Ext.applyIf(an,e),ap.animate(an)):(at[au]=aq,at[au]=aq),ap},select:function(an,ap){var e,ao;return"string"==typeof an?ao=this.query(an,!ap):(ao=an,e=!0),ap?new Ext.CompositeElement(ao,!e):new Ext.CompositeElementLite(ao,!0)},selectNode:function(an,e){return this.query(an,e,!0)},set:function(e,an){var ao,aq,ap=this,ar=ap.dom;for(ao in e)e.hasOwnProperty(ao)&&(aq=e[ao],"style"===ao?ap.applyStyles(aq):"cls"===ao?ar.className=aq:!1!==an?void 0===aq?ar.removeAttribute(ao):ar.setAttribute(ao,aq):ar[ao]=aq);return ap},setBottom:function(e){return this.dom.style.bottom=s.addUnits(e),this},setCls:function(ap){var an,aq,at,au,ar=this,ao=ar.getData();for(ao.isSynchronized||ar.synchronize(),"string"==typeof ap&&(ap=ap.split(O)),ao.classList=au=ap.slice(),ao.classMap=at={},an=0,aq=au.length;an<aq;an++)at[au[an]]=!0;ar.dom.className=au.join(" ")},setDisplayed:function(an){var e=this;return"boolean"==typeof an&&(an=an?e._getDisplay():Z),
e.setStyle(d,an),(e.shadow||e.shim)&&e.setUnderlaysVisible(an!==Z),e},setHeight:function(e){var an=this;return an.dom.style[T]=s.addUnits(e),(an.shadow||an.shim)&&an.syncUnderlays(),an},setHtml:function(e){return this.dom&&(this.dom.innerHTML=e),this},setId:function(ap){var ao=this,e=ao.id,an=Ext.cache;return e&&delete an[e],ao.dom.id=ap,ao.id=ap,an[ap]=ao,ao},setLeft:function(an){var e=this;return e.dom.style.left=s.addUnits(an),(e.shadow||e.shim)&&e.syncUnderlays(),e},setLocalX:function(e){var ao=this,an=ao.dom.style;return an.right="auto",an.left=null===e?"auto":e+"px",(ao.shadow||ao.shim)&&ao.syncUnderlays(),ao},setLocalXY:function(e,ap){var ao=this,an=ao.dom.style;return an.right="auto",e&&e.length&&(ap=e[1],e=e[0]),null===e?an.left="auto":void 0!==e&&(an.left=e+"px"),null===ap?an.top="auto":void 0!==ap&&(an.top=ap+"px"),(ao.shadow||ao.shim)&&ao.syncUnderlays(),ao},setLocalY:function(an){var e=this;return e.dom.style.top=null===an?"auto":an+"px",(e.shadow||e.shim)&&e.syncUnderlays(),e},setMargin:function(ao){var an=this,e=an.dom.style;ao||0===ao?(ao=an.self.unitizeBox(!0===ao?5:ao),e.setProperty("margin",ao,"important")):(e.removeProperty("margin-top"),e.removeProperty("margin-right"),e.removeProperty("margin-bottom"),e.removeProperty("margin-left"))},setMaxHeight:function(e){return this.dom.style["max-height"]=s.addUnits(e),this},setMaxWidth:function(e){return this.dom.style["max-width"]=s.addUnits(e),this},setMinHeight:function(e){return this.dom.style["min-height"]=s.addUnits(e),this},setMinWidth:function(e){return this.dom.style["min-width"]=s.addUnits(e),this},setOpacity:function(e){var an=this;return an.dom&&an.setStyle("opacity",e),an},setPadding:function(ao){var an=this,e=an.dom.style;ao||0===ao?(ao=an.self.unitizeBox(!0===ao?5:ao),e.setProperty("padding",ao,"important")):(e.removeProperty("padding-top"),e.removeProperty("padding-right"),e.removeProperty("padding-bottom"),e.removeProperty("padding-left"))},setRight:function(e){return this.dom.style.right=s.addUnits(e),this},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},setSize:function(ao,e){var ap=this,an=ap.dom.style;return Ext.isObject(ao)&&(e=ao.height,ao=ao.width),an.width=s.addUnits(ao),an.height=s.addUnits(e),(ap.shadow||ap.shim)&&ap.syncUnderlays(),ap},setSizeState:function(ao){var ap,e,an=this;return!0===ao?(ap=E,e=[R,L]):!1===ao?(ap=R,e=[E,L]):null===ao?(ap=L,e=[E,R]):e=[E,R,L],ap&&an.addCls(ap),an.removeCls(e),an},setStyle:function(au,ar){var aq,ap=this,at=ap.dom,e=ap.styleHooks,ao=at.style,an=au;if("string"==typeof an)aq=e[an],aq||(e[an]=aq={name:s.normalize(an)}),ar=null==ar?"":ar,aq.set?aq.set(at,ar,ap):ao[aq.name]=ar,aq.afterSet&&aq.afterSet(at,ar,ap);else for(an in au)au.hasOwnProperty(an)&&(aq=e[an],aq||(e[an]=aq={name:s.normalize(an)}),ar=au[an],ar=null==ar?"":ar,aq.set?aq.set(at,ar,ap):ao[aq.name]=ar,aq.afterSet&&aq.afterSet(at,ar,ap));return ap},setText:function(e){this.dom.textContent=e},setTop:function(an){var e=this;return e.dom.style[X]=s.addUnits(an),(e.shadow||e.shim)&&e.syncUnderlays(),e},setTouchAction:function(e){Ext.dom.TouchAction.set(this.dom,e)},setUnderlaysVisible:function(e){var ao=this.shadow,an=this.shim;ao&&!ao.disabled&&(e?ao.show():ao.hide()),an&&!an.disabled&&(e?an.show():an.hide())},setVisibility:function(e){var an=this.dom.style;e?an.removeProperty("visibility"):an.setProperty("visibility","hidden","important")},setVisibilityMode:function(e){return this.getData().visibilityMode=e,this},setVisible:function(ao){var e=this,an=e.getVisibilityMode(),ap=ao?"removeCls":"addCls";switch(an){case s.DISPLAY:e.removeCls([H,o,a]),e[ap](F);break;case s.VISIBILITY:e.removeCls([F,o,a]),e[ap](H);break;case s.OFFSETS:e.removeCls([H,F,a]),e[ap](o);break;case s.CLIP:e.removeCls([H,F,o]),e[ap](a)}return(e.shadow||e.shim)&&e.setUnderlaysVisible(ao),e},setWidth:function(e){var an=this;return an.dom.style[l]=s.addUnits(e),(an.shadow||an.shim)&&an.syncUnderlays(),an},setX:function(e){return this.setXY([e,!1])},setXY:function(ao){var aq,an=this,ap=an.translatePoints(ao),e=an.dom.style;an.position(),e.right="auto";for(aq in ap)isNaN(ap[aq])||(e[aq]=ap[aq]+"px");return(an.shadow||an.shim)&&an.syncUnderlays(),an},setY:function(e){return this.setXY([!1,e])},setZIndex:function(e){var an=this;return an.shadow&&an.shadow.setZIndex(e),an.shim&&an.shim.setZIndex(e),an.setStyle("z-index",e)},show:function(){return this.setVisible(!0),this},swapCls:function(an,at,e,aq){void 0===e&&(e=!0);var ap=this,ar=e?an:at,ao=e?at:an;return ao&&ap.removeCls(aq?aq+"-"+ao:ao),ar&&ap.addCls(aq?aq+"-"+ar:ar),ap},synchronize:function(){var an,aq,ar,e,au=this,ap=au.dom,av={},at=ap.className,ao=au.getData();if(at&&at.length>0)for(an=ap.className.split(ai),aq=0,ar=an.length;aq<ar;aq++)e=an[aq],av[e]=!0;else an=[];return ao.classList=an,ao.classMap=av,ao.isSynchronized=!0,au},syncUnderlays:function(){var av,ar,aq,at,ao,ap=this,au=ap.shadow,e=ap.shim,an=ap.dom;ap.isVisible()&&(av=ap.getXY(),ar=av[0],aq=av[1],at=an.offsetWidth,ao=an.offsetHeight,au&&!au.hidden&&au.realign(ar,aq,at,ao),e&&!e.hidden&&e.realign(ar,aq,at,ao))},toggleCls:function(e,an){return"boolean"!=typeof an&&(an=!this.hasCls(e)),an?this.addCls(e):this.removeCls(e)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:function(){var e="webkitTransform"in V.createElement("div").style?"webkitTransform":"transform";return function(an,ap,ao){an=Math.round(an),ap=Math.round(ap),ao=Math.round(ao),this.dom.style[e]="translate3d("+(an||0)+"px, "+(ap||0)+"px, "+(ao||0)+"px)"}}(),unwrap:function(){var ap,aq,ao,au,e,at=this.dom,an=at.parentNode,ar=Ext.fly(Ext.Element.getActiveElement());return aq=Ext.cache[ar.id],aq&&(ar=aq),this.contains(ar)&&(aq&&aq.suspendFocusEvents(),ao=!0),an?(ap=an.parentNode,ao&&(e=ap.getAttribute("tabIndex"),au=Ext.fly(ap),au.set({tabIndex:-1}),au.suspendFocusEvents(),au.focus()),ap.insertBefore(at,an),ap.removeChild(an)):(ap=V.createDocumentFragment(),ap.appendChild(at)),ao&&(aq?(aq.focus(),aq.resumeFocusEvents()):Ext.fly(ar).focus(),au&&(au.resumeFocusEvents(),au.set({tabIndex:e}))),this},up:function(ao,e,an){return this.findParentNode(ao,e,!an)},update:function(e){return this.setHtml(e)},wrap:function(ap,ax,at){var aq,an,e,aw=this,au=aw.dom,ar=Ext.DomHelper.insertBefore(au,ap||{tag:"div"},!ax),av=ar,ao=Ext.Element.getActiveElement();return aq=Ext.cache[ao.id],aq&&(ao=aq),at&&(av=ar.selectNode(at,ax)),aw.contains(ao)&&(aq&&aq.suspendFocusEvents(),e=ar.dom.getAttribute("tabIndex"),ar.set({tabIndex:-1}),ar.suspendFocusEvents(),ar.focus(),an=!0),av.appendChild(au),an&&(aq?(aq.focus(),aq.resumeFocusEvents()):Ext.fly(ao).focus(),ar.resumeFocusEvents(),ar.set({tabIndex:e})),ar},privates:{doAddListener:function(au,ay,aA,aC,ap,an,aq){var ar,at,aw,ax=this,av=(Ext.$gesturePublisher,au),aB=Ext.supports;aB.TouchEvents,aB.PointerEvents,au=Ext.canonicalEventName(au),ax.blockedEvents[au]||(ar=ax.mixins.observable.doAddListener,aC=aC||{},!1===s.useDelegatedEvents&&(aC.delegated=aC.delegated||!1),!1!==aC.translate&&(at=ax.additiveEvents[au],at&&(aC.type=au,au=at,ar.call(ax,au,ay,aA,aC,ap,an,aq)),(aw=ax.eventMap[au])&&(aC.type=aC.type||au,aq&&(aC.managedName=av),au=aw)),ar.call(ax,au,ay,aA,aC,ap,an,aq)&&ax.longpressEvents[au]&&1==++ax.longpressListenerCount&&ax.on("MSHoldVisual","preventMsHoldVisual",ax),aq&&aw&&delete aC.managedName,delete aC.type)},doRemoveListener:function(aq,aw,ay){var ao,au,ap,ar,av=this,az=(Ext.$gesturePublisher,Ext.supports);az.TouchEvents,az.PointerEvents,aq=Ext.canonicalEventName(aq),av.blockedEvents[aq]||(ao=av.mixins.observable.doRemoveListener,ap=av.additiveEvents[aq],ap&&(aq=ap,ao.call(av,aq,aw,ay)),au=av.eventMap[aq],au&&(ar=ao.call(av,au,aw,ay)),(ar=ao.call(av,aq,aw,ay)||ar)&&av.longpressEvents[aq]&&!--av.longpressListenerCount&&av.un("MSHoldVisual","preventMsHoldVisual",av))},_initEvent:function(e){return this.events[e]=new Ext.dom.ElementEvent(this,e)},_getDisplay:function(){var e=this.getData(),an=e[y];return void 0===an&&(e[y]=an=""),an},_getPublisher:function(e){var ao=Ext.event.publisher.Publisher,an=ao.publishersByEvent[e];return(!an||this.dom===window&&"resize"===e)&&(an=ao.publishers.dom),an},isFocusSuspended:function(){return!!this.getData().suspendFocusEvents},preventMsHoldVisual:function(an){an.preventDefault()},suspendFocusEvents:function(){this.isFly||this.suspendEvent("focus","blur"),this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){function e(){var an;this.destroyed||(an=this.getData(),an&&(an.suspendFocusEvents=!1),this.isFly||this.resumeEvent("focus","blur"))}!this.destroyed&&this.getData().suspendFocusEvents&&(Ext.isIE?Ext.asap(e,this):e.call(this))}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(ao){var ar=this,ap=ar.dom,au="BODY"===ap.nodeName,av=au?s.getViewportWidth():ap.offsetWidth,aq=au?s.getViewportHeight():ap.offsetHeight,ax=ar.getXY(),aw=ax[1],e=ax[0]+av,at=ax[1]+aq,an=ax[0];return ao?new Ext.util.Region(aw,e,at,an):{left:an,top:aw,width:av,height:aq,right:e,bottom:at}},getScrollParent:null,isDescendent:null,isTransparent:function(an){var e=this.getStyle(an);return!!e&&b.test(e)},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(r){var z,b=document,h=b.documentElement,n=r.prototype,y=Ext.supports,F="pointerdown",e="pointermove",c="pointerup",d="pointercancel",j="MSPointerDown",o="MSPointerMove",B="MSPointerUp",a="MSPointerCancel",u="mousedown",A="mousemove",v="mouseup",G="mouseover",E="mouseout",x="touchstart",m="touchmove",C="touchend",i="touchcancel",l=n.eventMap={},t=n.additiveEvents={},p=Ext.id;Ext.id=function(J,I){var K,L,H=Ext.getDom(J,!0);return H?(L=H.id)||(L=p(null,I||r.prototype.identifiablePrefix),Ext.isSandboxed&&(K=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"),L=K+L),H.id=L):L=p(J,I),L},y.PointerEvents?(l[u]=F,l[A]=e,l[v]=c,l[x]=F,l[m]=e,l[C]=c,l[i]=d,l[G]="pointerover",l[E]="pointerout",l.mouseenter="pointerenter",Ext.isIE11||(l.mouseleave="pointerleave")):y.MSPointerEvents?(l[F]=j,l[e]=o,l[c]=B,l[d]=a,l[u]=j,l[A]=o,l[v]=B,l[x]=j,l[m]=o,l[C]=B,l[i]=a,l[G]="MSPointerOver",l[E]="MSPointerOut"):y.TouchEvents?(l[F]=x,l[e]=m,l[c]=C,l[d]=i,l[u]=x,l[A]=m,l[v]=C,l.click="tap",l.dblclick="doubletap",Ext.isWebKit&&Ext.os.is.Desktop&&(l[x]=u,l[m]=A,l[C]=v,l[i]=v,t[u]=u,t[A]=A,t[v]=v,t[x]=x,t[m]=m,t[C]=C,t[i]=i,t[F]=u,t[e]=A,t[c]=v,t[d]=v)):(l[F]=u,l[e]=A,l[c]=v,l[d]=v,l[x]=u,l[m]=A,l[C]=v,l[i]=v),Ext.isWebKit&&(l.transitionend=Ext.browser.getVendorProperyName("transitionEnd"),l.animationstart=Ext.browser.getVendorProperyName("animationStart"),l.animationend=Ext.browser.getVendorProperyName("animationEnd")),Ext.supports.MouseWheel||Ext.isOpera||(l.mousewheel="DOMMouseScroll"),z=n.$eventOptions=Ext.Object.chain(n.$eventOptions),z.translate=z.capture=z.delegate=z.delegated=z.stopEvent=z.preventDefault=z.stopPropagation=z.element=1,n.styleHooks.opacity={name:"opacity",afterSet:function(J,I,H){var K=H.shadow;K&&K.setOpacity(I)}},n.getTrueXY=n.getXY,Ext.select=r.select,Ext.query=r.query,Ext.apply(Ext,{get:function(H){return r.get(H)},getDom:function(H){return H&&b?"string"==typeof H?Ext.getElementById(H):"dom"in H?H.dom:H:null},getBody:function(){if(!Ext._bodyEl){if(!b.body)throw new Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(b.body)}return Ext._bodyEl},getHead:function(){return Ext._headEl||(Ext._headEl=Ext.get(b.head||b.getElementsByTagName("head")[0])),Ext._headEl},getDoc:function(){return Ext._docEl||(Ext._docEl=Ext.get(b)),Ext._docEl},getWin:function(){return Ext._winEl||(Ext._winEl=Ext.get(window)),Ext._winEl},removeNode:function(J){J=J.dom||J;var H,K=J&&J.id,I=Ext.cache[K];I?I.destroy():!J||3!==J.nodeType&&"BODY"===J.tagName.toUpperCase()||(H=J.parentNode)&&H.removeChild(J)}}),Ext.isGarbage=function(H){return H&&1===H.nodeType&&"BODY"!==H.tagName&&"HTML"!==H.tagName&&(!H.parentNode||null===H.offsetParent&&(Ext.isIE8?b.all[H.id]:b.getElementById(H.id))!==H&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(H)))},(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch)&&Ext.onReady(function(){var H=Ext.getWin();r._documentWidth=r._viewportWidth=h.clientWidth,r._documentHeight=r._viewportHeight=h.clientHeight,H.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:!0,delegated:!1,delay:1,scope:r}),H.on({resize:"_onWindowResize",priority:2e3,scope:r})})}),Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,disableOnEmpty:!1,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(a){return a?function(g){var d,e,b=a.isCollection?a.items:a,h=b.length,c=!0;for(d=0;c&&d<h;d++)e=b[d],e.getDisabled()||(c=e.filter(g));return c}:Ext.returnTrue},isEqual:function(b,a){return b.getProperty()===a.getProperty()&&b.getOperator()===a.getOperator()&&(b.getValue()===a.getValue()||!!(Ext.isArray(b)&&Ext.isArray(a)&&Ext.Array.equals(b,a)))},isInvalid:function(a){if(!a.filterFn){if(!a.property)return"A Filter requires either a property or a filterFn to be set";if(!a.hasOwnProperty("value")&&!a.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(a){this.initConfig(a)},preventConvert:{in:1,notin:1},filter:function(b){var a=this,e=a._filterFn||a.getFilterFn(),d=a.getConvert(),c=a._value;return a._filterValue=c,a.isDateValue=Ext.isDate(c),a.isDateValue&&(a.dateValue=c.getTime()),d&&!a.preventConvert[a.getOperator()]&&(a._filterValue=d.call(a.scope||a,c)),e.call(a.scope||a,b)},getId:function(){var a=this._id;return a||(a=this.getProperty(),a||(a=Ext.id(null,"ext-filter-")),this._id=a),a},getFilterFn:function(){var a,b=this,c=b._filterFn;return c||(a=b.getOperator(),c=a?b.operatorFns[a]:b.createRegexFilter(),b._filterFn=c,b.generatedFilterFn=!0),c},createRegexFilter:function(){var b=this,e=!!b.getAnyMatch(),a=!!b.getExactMatch(),c=b.getValue(),d=Ext.String.createRegex(c,!e,!e&&a,!b.getCaseSensitive());return function(g){var h=b.getPropertyValue(g);return d?d.test(h):null==h}},getPropertyValue:function(b){var a=this._root;return(null==a?b:b[a])[this._property]},getState:function(){var b,c=this.getInitialConfig(),a={};for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return delete a.root,a.value=this.getValue(),a},getScope:function(){return this.scope},serialize:function(){var c,a=this.getState(),b=this.getSerializer();return delete a.id,delete a.serializer,b&&(c=b.call(this,a))&&(a=c),a},updateOperator:function(){this.generatedFilterFn&&(this._filterFn=null)},updateValue:function(a){this.generatedFilterFn&&(this._filterFn=null),this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(a))},updateFilterFn:function(a){delete this.generatedFilterFn},updateDisableOnEmpty:function(a){a&&this.setDisabled(Ext.isEmpty(this.getValue()))},privates:{getCandidateValue:function(c,b,e){var d=this,g=d._convert,a=d.getPropertyValue(c);return g?a=g.call(d.scope||d,a):e||(a=Ext.coerce(a,b)),a}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var a=this.prototype,b=a.operatorFns={"<":function(d){var c=this._filterValue;return this.getCandidateValue(d,c)<c},"<=":function(d){var c=this._filterValue;return this.getCandidateValue(d,c)<=c},"=":function(d){var e=this,c=e._filterValue;return d=e.getCandidateValue(d,c),e.isDateValue&&d instanceof Date&&(d=d.getTime(),c=e.dateValue),d==c},"===":function(d){var e=this,c=e._filterValue;return d=e.getCandidateValue(d,c,!0),e.isDateValue&&d instanceof Date&&(d=d.getTime(),c=e.dateValue),d===c},">=":function(d){var c=this._filterValue;return this.getCandidateValue(d,c)>=c},">":function(d){var c=this._filterValue;return this.getCandidateValue(d,c)>c},"!=":function(d){var e=this,c=e._filterValue;return d=e.getCandidateValue(d,c),e.isDateValue&&d instanceof Date&&(d=d.getTime(),c=e.dateValue),d!=c},"!==":function(d){var e=this,c=e._filterValue;return d=e.getCandidateValue(d,c,!0),e.isDateValue&&d instanceof Date&&(d=d.getTime(),c=e.dateValue),d!==c},in:function(d){var c=this._filterValue;return Ext.Array.contains(c,this.getCandidateValue(d,c))},notin:function(d){var c=this._filterValue;return!Ext.Array.contains(c,this.getCandidateValue(d,c))},like:function(d){var c=this._filterValue;return c&&this.getCandidateValue(d,c).toLowerCase().indexOf(c.toLowerCase())>-1},"/=":function(d){var g=this,c=g._filterValue;if(d=g.getCandidateValue(d,c),c!==g.lastRegExpSource){g.lastRegExpSource=c;try{g.regex=new RegExp(c,"i")}catch(h){g.regex=null}}return!!g.regex&&g.regex.test(d)}};b["=="]=b["="],b.gt=b[">"],b.ge=b[">="],b.lt=b["<"],b.le=b["<="],b.eq=b["="],b.ne=b["!="]}),Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:!0},0,0,0,0,0,0,[Ext.util,"Observable"],function(a){var b=Ext.mixin.Observable;a.releaseCapture=b.releaseCapture,a.capture=b.capture,a.captureArgs=b.captureArgs,a.observe=a.observeClass=b.observe}),Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(b,a){var c=this;1===arguments.length&&Ext.isObject(b)?(c.initialConfig=b,Ext.apply(c,b)):(c.allowFunctions=!0===b,a&&(c.getKey=a),c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}),c.items=[],c.map={},c.keys=[],c.indexMap={},c.length=0,c.mixins.observable.constructor.call(c)},destroy:function(){var a=this;a.items=a.map=a.keys=a.indexMap=null,a.callParent()},allowFunctions:!1,add:function(c,d){var a=this.length;return 1===arguments.length?this.insert(a,c):this.insert(a,c,d)},getKey:function(a){return a.id},replace:function(c,e){var a,b,d=this;return 1==arguments.length&&(e=arguments[0],c=d.getKey(e)),a=d.map[c],void 0===c||null===c||void 0===a?d.add(c,e):(d.generation++,b=d.indexOfKey(c),d.items[b]=e,d.map[c]=e,d.hasListeners.replace&&d.fireEvent("replace",c,a,e),e)},reorder:function(d){var i,h=this,b=h.items,c=0,g=b.length,a=[],e=[];h.suspendEvents();for(i in d)a[d[i]]=b[i];for(c=0;c<g;c++)void 0==d[c]&&e.push(b[c]);for(c=0;c<g;c++)void 0==a[c]&&(a[c]=e.shift());h.clear(),h.addAll(a),h.resumeEvents()},updateKey:function(g,h){var b,d=this,e=d.map,a=d.indexOfKey(g),c=d.indexMap;a>-1&&(b=e[g],delete e[g],delete c[g],e[h]=b,c[h]=a,d.keys[a]=h,d.indexGeneration=++d.generation)},addAll:function(c){var a,b=this;if(arguments.length>1||Ext.isArray(c))b.insert(b.length,arguments.length>1?arguments:c);else for(a in c)c.hasOwnProperty(a)&&(b.allowFunctions||"function"!=typeof c[a])&&b.add(a,c[a])},each:function(e,d){for(var g,b=Ext.Array.push([],this.items),c=0,a=b.length;c<a&&(g=b[c],!1!==e.call(d||g,g,c,a));c++);},eachKey:function(e,d){for(var g=this.keys,b=this.items,c=0,a=g.length;c<a;c++)e.call(d||window,g[c],b[c],c,a)},findBy:function(e,d){for(var g=this.keys,b=this.items,c=0,a=b.length;c<a;c++)if(e.call(d||window,b[c],g[c]))return b[c];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(b,c,d){var a;return Ext.isIterable(c)?a=this.doInsert(b,c,d):(a=arguments.length>2?this.doInsert(b,[c],[d]):this.doInsert(b,[c]),a=a[0]),a},doInsert:function(j,o,n){var b,c,g,d,m,q,p,l=this,k=o.length,a=k,e=l.hasListeners.add,h={};if(null!=n)l.useLinearSearch=!0;else for(n=o,o=new Array(k),g=0;g<k;g++)o[g]=this.getKey(n[g]);for(l.suspendEvents(),g=0;g<k;g++)b=o[g],c=l.indexOfKey(b),-1!==c&&(c<j&&j--,l.removeAt(c)),null!=b&&(null!=h[b]&&(m=!0,a--),h[b]=g);if(l.resumeEvents(),m){q=o,p=n,o=new Array(a),n=new Array(a),g=0;for(b in h)o[g]=q[h[b]],n[g]=p[h[b]],g++;k=a}for(d=j===l.length&&l.indexGeneration===l.generation,Ext.Array.insert(l.items,j,n),Ext.Array.insert(l.keys,j,o),l.length+=k,l.generation++,d&&(l.indexGeneration=l.generation),g=0;g<k;g++,j++)b=o[g],null!=b&&(l.map[b]=n[g],d&&(l.indexMap[b]=j)),e&&l.fireEvent("add",j,n[g],b);return n},remove:function(d){var b,a,c=this;return-1!==(a=!c.useLinearSearch&&(b=c.getKey(d))?c.indexOfKey(b):Ext.Array.indexOf(c.items,d))&&c.removeAt(a)},removeAll:function(a){var b,c=this;if(a||c.hasListeners.remove)if(a)for(b=a.length-1;b>=0;--b)c.remove(a[b]);else for(;c.length;)c.removeAt(0);else c.length=c.items.length=c.keys.length=0,c.map={},c.indexMap={},c.generation++,c.indexGeneration=c.generation},removeAt:function(a){var d,b,c=this;return a<c.length&&a>=0&&(c.length--,d=c.items[a],Ext.Array.erase(c.items,a,1),b=c.keys[a],void 0!==b&&delete c.map[b],Ext.Array.erase(c.keys,a,1),c.hasListeners.remove&&c.fireEvent("remove",d,b),c.generation++,d)},removeRange:function(h,a){var b,k,g,e,c,d,j=this;if(h<j.length&&h>=0){for(a||(a=1),e=Math.min(h+a,j.length),a=e-h,d=e===j.length,c=d&&j.indexGeneration===j.generation,g=h;g<e;g++)null!=(k=j.keys[g])&&(delete j.map[k],c&&delete j.indexMap[k]);return b=j.items[g-1],j.length-=a,j.generation++,c&&(j.indexGeneration=j.generation),d?j.items.length=j.keys.length=j.length:(j.items.splice(h,a),j.keys.splice(h,a)),b}return!1},removeAtKey:function(b){var a,d=this,c=d.keys;if(null!=b)return d.removeAt(d.indexOfKey(b));for(a=c.length-1;a>=0;a--)null==c[a]&&d.removeAt(a)},getCount:function(){return this.length},indexOf:function(c){var a,b=this;return null!=c?!b.useLinearSearch&&(a=b.getKey(c))?this.indexOfKey(a):Ext.Array.indexOf(b.items,c):-1},indexOfKey:function(a){return this.map.hasOwnProperty(a)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[a]):-1},rebuildIndexMap:function(){var b,e=this,d=e.indexMap={},c=e.keys,a=c.length;for(b=0;b<a;b++)d[c[b]]=b;e.indexGeneration=e.generation},get:function(b){var d=this,a=d.map[b],c=void 0!==a?a:"number"==typeof b?d.items[b]:void 0;return"function"!=typeof c||d.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(c){var a,b=this;return null!=c&&(!b.useLinearSearch&&(a=b.getKey(c))?null!=this.map[a]:-1!==Ext.Array.indexOf(this.items,c))},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;a.generation&&(a.length=0,a.items=[],a.keys=[],a.map={},a.indexMap={},a.generation++,a.indexGeneration=a.generation),a.hasListeners.clear&&a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(h,b,j,a){var d,c=this.extractValues(h,b),g=c.length,e=0;for(j=j||0,a=a||0===a?a:g-1,d=j;d<=a;d++)e+=c[d];return e},collect:function(k,e,h){var j,g,d,l=this.extractValues(k,e),a=l.length,b={},c=[];for(d=0;d<a;d++)j=l[d],g=String(j),!h&&Ext.isEmpty(j)||b[g]||(b[g]=!0,c.push(j));return c},extractValues:function(c,a){var b=this.items;return a&&(b=Ext.Array.pluck(b,a)),Ext.Array.pluck(b,c)},hasRange:function(b,a){return a<this.length},getRange:function(i,b){var g,e,h=this,d=h.items,c=[],a=d.length;return a<1?c:(i>b&&(e=!0,g=i,i=b,b=g),i<0&&(i=0),(null==b||b>=a)&&(b=a-1),c=d.slice(i,b+1),e&&c.length&&c.reverse(),c)},filter:function(d,c,e,a){var b=[];return Ext.isString(d)?b.push(new Ext.util.Filter({property:d,value:c,anyMatch:e,caseSensitive:a})):(Ext.isArray(d)||d instanceof Ext.util.Filter)&&(b=b.concat(d)),this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(e,d){var c,j=this,a=new j.self(j.initialConfig),h=j.keys,b=j.items,g=b.length;for(a.getKey=j.getKey,c=0;c<g;c++)e.call(d||j,b[c],h[c])&&a.add(h[c],b[c]);return a.useLinearSearch=j.useLinearSearch,a},findIndex:function(c,b,e,d,a){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,a),this.findIndexBy(function(g){return g&&b.test(g[c])},null,e))},findIndexBy:function(e,d,j){for(var h=this,g=h.keys,b=h.items,c=j||0,a=b.length;c<a;c++)if(e.call(d||h,b[c],g[c]))return c;return-1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.String.escapeRegex;c=String(c),!0===e?c=d(c):(c="^"+d(c),!0===b&&(c+="$")),c=new RegExp(c,a?"":"i")}return c},clone:function(){var a=this,b=new a.self(a.initialConfig);return b.add(a.keys,a.items),b.useLinearSearch=a.useLinearSearch,b}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0),Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(b,a){return a=a||0,function(c,j){var d,g,e=b.isCollection?b.items:b,h=e.length;for(g=0;g<h;++g)if(d=e[g].sort(c,j))return d;return a&&a(c,j)}}},multiplier:1,constructor:function(a){this.initConfig(a)},getId:function(){var a=this._id;return a||(a=this.getProperty(),a||(a=Ext.id(null,"ext-sorter-")),this._id=a),a},sort:function(a,b){return this.multiplier*this.sortFn(a,b)},sortFn:function(d,c){var a,i,g=this,e=g._transform,b=g._root,h=g._property;return b&&(d=d[b],c=c[b]),a=d[h],i=c[h],e&&(a=e(a),i=e(i)),a>i?1:a<i?-1:0},applyDirection:function(a){return a||"ASC"},updateDirection:function(a){this.multiplier="DESC"===a.toUpperCase()?-1:1},updateProperty:function(a){a&&delete this.sortFn},updateSorterFn:function(a){this.sortFn=a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var b=this,a={root:b.getRoot(),property:b.getProperty(),direction:b.getDirection()};return b._id&&(a.id=b._id),a},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0),Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(d,c){for(var b=a[0].sort(d,c),g=a.length,e=1;!b&&e<g;e++)b=a[e].sort.call(a[e],d,c);return b}:function(){return 0}}},applySorters:function(c){var b=this,a=b.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);return c&&a.addAll(b.decodeSorters(c)),a},sort:function(h,g,a,e){var i,d,b=this,c=b.getSorters();if(c||(b.setSorters(null),c=b.getSorters()),Ext.isArray(h)?(e=a,a=g):Ext.isObject(h)?(h=[h],e=a,a=g):Ext.isString(h)&&(i=c.get(h),i?null==g?i.toggle():i.setDirection(g):i={property:h,direction:g},h=[i]),h&&h.length)switch(h=b.decodeSorters(h),a){case"multi":c.insert(0,h[0]),(d=c.getCount()-b.multiSortLimit)>0&&c.removeRange(b.multiSortLimit,d);break;case"prepend":c.insert(0,h);break;case"append":c.addAll(h);break;case void 0:case null:case"replace":c.clear(),c.addAll(h)}return!1!==e&&(b.fireEvent("beforesort",b,h),b.onBeforeSort(h),b.getSorterCount()&&b.doSort(b.generateComparator())),h},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(g){Ext.isArray(g)||(g=void 0===g?[]:[g]);var e,a,c,d=g.length,h=Ext.util.Sorter,b=this.getModel?this.getModel():this.model;for(c=0;c<d;c++)(a=g[c])instanceof h||(Ext.isString(a)&&(a={property:a}),Ext.applyIf(a,{root:this.sortRoot,direction:"ASC"}),a.fn&&(a.sorterFn=a.fn),"function"==typeof a&&(a={sorterFn:a}),b&&!a.transform&&(e=b.getField(a.property),a.transform=e&&e.sortType!==Ext.identityFn?e.sortType:void 0),g[c]=new Ext.util.Sorter(a));return g},getFirstSorter:function(){for(var d,c=this.getSorters().items,a=c.length,b=0;b<a;++b)if(d=c[b],!d.isGrouper)return d;return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}),Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig(),Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(a){this.sortBy(a)},_sort:function(m,b,l){var e,g,a,k=this,d="DESC"==String(b).toUpperCase()?-1:1,j=[],n=k.keys,h=k.items;for(l=l||function(i,c){return i-c},e=0,g=h.length;e<g;e++)j[j.length]={key:n[e],value:h[e],index:e};for(Ext.Array.sort(j,function(i,c){return l(i[m],c[m])*d||(i.index<c.index?-1:1)}),e=0,g=j.length;e<g;e++)a=j[e],h[e]=a.value,n[e]=a.key,k.indexMap[a.key]=e;k.generation++,k.indexGeneration=k.generation,k.fireEvent("sort",k)},sortBy:function(b){var h,d,c,j=this,a=j.items,g=j.keys,e=a.length;for(c=0;c<e;c++)a[c].$extCollectionIndex=c;for(Ext.Array.sort(a,function(k,i){return b(k,i)||(k.$extCollectionIndex<i.$extCollectionIndex?-1:1)}),c=0;c<e;c++)h=a[c],d=j.getKey(h),g[c]=d,j.indexMap[d]=c,delete h.$extCollectionIndex;j.generation++,j.indexGeneration=j.generation,j.fireEvent("sort",j,a,g)},findInsertionIndex:function(e,d){var c,h,g=this,b=g.items,i=0,a=b.length-1;for(d||(d=g.generateComparator());i<=a;)c=i+a>>1,h=d(e,b[c]),h>=0?i=c+1:h<0&&(a=c-1);return i},reorder:function(a){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,a),this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(d,c){var g=String(d).toUpperCase(),e=String(c).toUpperCase();return g>e?1:g<e?-1:0})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0),Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(a){var b=this;"number"==typeof a?b.interval=a:a&&Ext.apply(b,a),b.tasks=[],b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);return a.manager=this,a},start:function(a){var c=this,b=Ext.Date.now();return a.pending||(c.tasks.push(a),a.pending=!0),a.stopped=!1,a.taskStartTime=b,a.taskRunTime=!1!==a.fireOnStart?0:a.taskStartTime,a.taskRunCount=0,c.firing||(!1!==a.fireOnStart?c.startTimer(0,b):c.startTimer(a.interval,b)),a},stop:function(a){return a.stopped||(a.stopped=!0,a.onStop&&a.onStop.call(a.scope||a,a)),a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var c,o,j,b,e,h,n,p=this,g=p.tasks,r=p.fireIdleEvent,a=Ext.Date.now(),q=1e99,l=g.length,d=Ext.GlobalEvents;for(p.timerId=null,p.firing=!0,j=0;j<l||j<(l=g.length);++j){if(b=g[j],!(h=b.stopped)){if((c=b.taskRunTime+b.interval)<=a){e=1,r=b.hasOwnProperty("fireIdleEvent")?b.fireIdleEvent:p.fireIdleEvent,b.taskRunCount++,n=b.args?b.addCountToArgs?b.args.concat([b.taskRunCount]):b.args:[b.taskRunCount];try{e=b.run.apply(b.scope||b,n)}catch(k){try{b.onError&&(e=b.onError.call(b.scope||b,b,k))}catch(m){}}b.taskRunTime=a,!1===e||b.taskRunCount===b.repeat?(p.stop(b),h=!0):(h=b.stopped,c=a+b.interval)}!h&&b.duration&&b.duration<=a-b.taskStartTime&&(p.stop(b),h=!0)}h?(b.pending=!1,o||(o=g.slice(0,j))):(o&&o.push(b),q>c&&(q=c))}o&&(p.tasks=o),p.firing=!1,p.tasks.length&&p.startTimer(q-a,Ext.Date.now()),!1!==r&&d.hasListeners.idle&&d.fireEvent("idle")},startTimer:function(e,c){var d=this,b=c+e,a=d.timerId;a&&d.nextExpires-b>d.interval&&(clearTimeout(a),a=null),a||(e<d.interval&&(e=d.interval),d.timerId=Ext.defer(d.timerFn,e),d.nextExpires=b)}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var b=this,a=b.prototype;a.destroy=a.stopAll,b.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(c){Ext.apply(this,c)},restart:function(c){void 0!==c&&(this.interval=c),this.manager.start(this)},start:function(c){this.stopped&&this.restart(c)},stop:function(){this.manager.stop(this)}}),a=b.Task.prototype,a.destroy=a.stop}),Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:!0,constructor:function(a){this.target=a,this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0),Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(b,a,c){
return void 0===c&&(c="x"===a?b.getX():"y"===a?b.getY():"scrollTop"===a?b.getScroll().top:"scrollLeft"===a?b.getScroll().left:"height"===a?b.getHeight():"width"===a?b.getWidth():b.getStyle(a)),c},getAttr:function(a,c){var b=this.target;return[[b,this.getElVal(b,a,c)]]},setAttr:function(k){var d,a,h,e,c,b,g=k.length;for(e=0;e<g;e++){d=k[e].attrs;for(a in d)if(d.hasOwnProperty(a))for(b=d[a].length,c=0;c<b;c++)h=d[a][c],this.setElVal(h[0],a,h[1])}},setElVal:function(b,a,c){"x"===a?b.setX(c):"y"===a?b.setY(c):"scrollTop"===a?b.scrollTo("top",c):"scrollLeft"===a?b.scrollTo("left",c):"width"===a?b.setWidth(c):"height"===a?b.setHeight(c):b.setStyle(a,c)}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0),Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(p,e){var g,r,k,l,c,b,h,d,a,s={attrs:[],duration:[],easing:[]},m=p.length,n=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},q={single:!0};for(h=0;h<m;h++){r=p[h],c=r.duration,l=r.easing,r=r.attrs;for(k in r)-1==Ext.Array.indexOf(s.attrs,k)&&(s.attrs.push(k.replace(/[A-Z]/g,function(i){return"-"+i.toLowerCase()})),s.duration.push(c+"ms"),s.easing.push(l))}for(g=s.attrs.join(","),c=s.duration.join(","),l=s.easing.join(", "),h=0;h<m;h++){r=p[h].attrs;for(k in r)for(a=r[k].length,d=0;d<a;d++)b=r[k][d],b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",e?"":g),b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",e?"":c),b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",e?"":l),b[0].setStyle(k,b[1]),e?b=b[0].dom.offsetWidth:b[0].on(Ext.supports.CSS3TransitionEnd,n,b[0],q)}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0),Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-"),Ext.fx.target.Element.prototype.constructor.call(this,a)},getAttr:function(a,j){var c,d,b=[],h=this.target,g=h.elements,e=g.length;for(c=0;c<e;c++)(d=g[c])&&(d=h.getElement(d),b.push([d,this.getElVal(d,a,j)]));return b},setAttr:function(n){var o,d,p,h,c,g,e,a,l=this.target,m=n.length,b=l.elements,q=b.length;for(g=0;g<m;g++){p=n[g].attrs;for(h in p)if(p.hasOwnProperty(h))for(a=p[h].length,e=0;e<a;e++)for(o=p[h][e][1],d=0;d<q;++d)(c=b[d])&&(c=l.getElement(c),this.setElVal(c,h,o))}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0),Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0),Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(b,a){var c;switch(a){case"rotate":case"rotation":return c=b.attr.rotation,{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":return c=b.attr.scaling,{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":return c=b.attr.translation,{x:c.x||0,y:c.y||0};default:return b.attr[a]}},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getFromPrim(this.target,a)]]},setAttr:function(m){var b,e,p,r,q,o,n,d,c,l,h,a,g=m.length,k=[];for(d=0;d<g;d++){b=m[d].attrs;for(e in b)for(p=b[e],a=p.length,c=0;c<a;c++)q=p[c][0],r=p[c][1],"translate"===e||"translation"===e?n={x:r.x,y:r.y}:"rotate"===e||"rotation"===e?(l=r.x,isNaN(l)&&(l=null),h=r.y,isNaN(h)&&(h=null),n={degrees:r.degrees,x:l,y:h}):"scale"===e||"scaling"===e?(l=r.x,isNaN(l)&&(l=null),h=r.y,isNaN(h)&&(h=null),n={x:l,y:h,cx:r.cx,cy:r.cy}):n="width"===e||"height"===e||"x"===e||"y"===e?parseFloat(r):r,o=Ext.Array.indexOf(k,q),-1===o&&(k.push([q,{}]),o=k.length-1),k[o][1][e]=n}for(g=k.length,d=0;d<g;d++)k[d][0].setAttributes(k[d][1]);this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0),Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(a,h){var d,c,b=[],g=[].concat(this.target.items),e=g.length;for(d=0;d<e;d++)c=g[d],b.push([c,void 0!==h?h:this.getFromPrim(c,a)]);return b}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0),Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(s,g,b){var v,n,c,k,e,m,d,r,u,l,t,q=this,p=s.length,a={};for(k=0;k<p;k++){v=s[k].attrs;for(n in v)for(m=v[n].length,e=0;e<m;e++)c=v[n][e],t=a[q.setMethods[n]]||(a[q.setMethods[n]]={}),t.target=c[0],t[n]=c[1];a.setPosition&&(c=a.setPosition,d=void 0===c.left?void 0:parseFloat(c.left),r=void 0===c.top?void 0:parseFloat(c.top),c.target.setPosition(d,r)),a.setPagePosition&&(c=a.setPagePosition,c.target.setPagePosition(c.x,c.y)),a.setSize&&(c=a.setSize,u=void 0===c.width?c.target.getWidth():parseFloat(c.width),l=void 0===c.height?c.target.getHeight():parseFloat(c.height),c.target.el.setSize(u,l),(b||q.dynamic)&&Ext.GlobalEvents.on({idle:Ext.Function.bind(c.target.setSize,c.target,[u,l]),single:!0})),a.setOpacity&&(c=a.setOpacity,c.target.el.setStyle("opacity",c.opacity))}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0),Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);return b?b.fxDefaults:{}},setFxDefaults:function(a,c){var b=this.targets.get(a);b&&(b.fxDefaults=Ext.apply(b.fxDefaults||{},c))},stopAnimation:function(c,b){for(var d,g=this,a=g.getFxQueue(c),e=a.length;e;)d=a[e-1],d&&d.end(b),e--},getActiveAnimation:function(b){var a=this.getFxQueue(b);return!(!a||!a.length)&&a[0]},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(c){if(!c)return!1;var d=this,b=d.fxQueue,a=b[c],e=d.targets.get(c);return!!e&&(a||(d.fxQueue[c]=b[c]=[],"element"!==e.type&&e.target.on("destroy",function(){b[c]=null,delete b[c]})),d.fxQueue[c])},queueFx:function(e){var a,c,d=this,g=e.target,b=g.getId();g&&(a=d.getFxQueue(b),c=a.length,c?e.concurrent?e.paused=!1:a[c-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(a,e),0===a.length&&(d.targets.remove(e.target),d.fxQueue[b]=null,delete d.fxQueue[b]),e.remove&&"element"===g.type){var h=Ext.get(b);h&&h.destroy()}},d,{single:!0}),a.push(e))}},1,0,0,0,0,0,[Ext.fx,"Queue"],0),Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:!0,constructor:function(){var a=this;a.items=new Ext.util.MixedCollection,a.targetArr={},a.mixins.queue.constructor.call(a),a.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(d){var a,b=this,c=!b.forceJS&&Ext.supports.Transitions;if(b.useCSS3=c,d){if(d.tagName||Ext.isString(d)||d.isFly)d=Ext.get(d),a=new Ext.fx.target["Element"+(c?"CSS":"")](d);else if(d.dom)a=new Ext.fx.target["Element"+(c?"CSS":"")](d);else if(d.isComposite)a=new Ext.fx.target["CompositeElement"+(c?"CSS":"")](d);else if(d.isSprite)a=new Ext.fx.target.Sprite(d);else if(d.isCompositeSprite)a=new Ext.fx.target.CompositeSprite(d);else{if(!d.isComponent)return d.isAnimTarget?d:null;a=new Ext.fx.target.Component(d)}return b.targets.add(a),a}return null},addAnim:function(d){var c=this,b=c.items,a=c.task;b.add(d.id,d),!a&&b.length&&(a=c.task={run:c.runner,interval:c.interval,scope:c},c.taskRunner.start(a))},removeAnim:function(d){var c=this,b=c.items,a=c.task;b.removeAtKey(d.id),a&&!b.length&&(c.taskRunner.stop(a),delete c.task)},runner:function(){var e,d=this,b=d.items.getRange(),c=0,a=b.length;for(d.targetArr={},d.timestamp=new Date;c<a;c++)e=b[c],e.isReady()&&d.startAnim(e);for(c=0;c<a;c++)e=b[c],e.isRunning()&&d.runAnim(e);d.applyPendingAttrs(),d.targetArr=null},startAnim:function(a){a.start(this.timestamp)},runAnim:function(e,a){if(e){var g,i,d=this,h=d.useCSS3&&"element"===e.target.type,b=d.timestamp-e.startTime,c=b>=e.duration;return a&&(b=e.duration,c=!0),g=this.collectTargetData(e,b,h,c),h&&(e.target.setAttr(g.anims[e.id].attributes,!0),d.collectTargetData(e,e.duration,h,c),e.paused=!0,g=e.target.target,e.target.isComposite&&(g=e.target.target.last()),i={},i[Ext.supports.CSS3TransitionEnd]=e.lastFrame,i.scope=e,i.single=!0,g.on(i)),g}},jumpToEnd:function(c){var d,a,b=this;b.targetArr||(b.targetArr={},a=!0),d=b.runAnim(c,!0),b.applyAnimAttrs(d,d.anims[c.id]),a&&(b.targetArr=null)},collectTargetData:function(c,a,e,g){var b=c.target.getId(),d=this.targetArr[b];return d||(d=this.targetArr[b]={id:b,el:c.target,anims:{}}),d.anims[c.id]={id:c.id,anim:c,elapsed:a,isLastFrame:g,attributes:[{duration:c.duration,easing:e&&c.reverse?c.easingFn.reverse().toCSS3():c.easing,attrs:c.runAnim(a)}]},d},applyAnimAttrs:function(c,a){var b=a.anim;a.attributes&&b.isRunning()&&(c.el.setAttr(a.attributes,!1,a.isLastFrame),a.isLastFrame&&b.lastFrame())},applyPendingAttrs:function(){var g,c,b,d,a,e=this.targetArr;for(c in e)if(e.hasOwnProperty(c)){g=e[c];for(a in g.anims)g.anims.hasOwnProperty(a)&&(b=g.anims[a],d=b.anim,b.attributes&&d.isRunning()&&(g.el.setAttr(b.attributes,!1,b.isLastFrame),b.isLastFrame&&d.lastFrame()))}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0),Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{}),b.config=a,b.id=Ext.id(null,"ext-animator-"),b.mixins.observable.constructor.call(b,a),b.timeline=[],b.createTimeline(b.keyframes),b.target&&(b.applyAnimator(b.target),Ext.fx.Manager.addAnim(b))},sorter:function(d,c){return d.pct-c.pct},createTimeline:function(d){var m,a,c,g,k,e,h=this,l=[],j=h.to||{},b=h.duration;for(k in d)d.hasOwnProperty(k)&&h.animKeyFramesRE.test(k)&&(e={attrs:Ext.apply(d[k],j)},"from"===k?k=0:"to"===k&&(k=100),e.pct=parseInt(k,10),l.push(e));for(Ext.Array.sort(l,h.sorter),g=l.length,c=0;c<g;c++)m=l[c-1]?b*(l[c-1].pct/100):0,a=b*(l[c].pct/100),h.timeline.push({duration:a-m,attrs:l[c].attrs})},applyAnimator:function(d){var b,e,a,k,c,h=this,j=[],l=h.timeline,g=l.length;if(!1!==h.fireEvent("beforeanimate",h)){for(c=0;c<g;c++)b=l[c],k=b.attrs,e=k.easing||h.easing,a=k.damper||h.damper,delete k.easing,delete k.damper,b=new Ext.fx.Anim({target:d,easing:e,damper:a,duration:b.duration,paused:!0,to:k}),j.push(b);for(h.animations=j,h.target=b.target,c=0;c<g-1;c++)b=j[c],b.nextAnim=j[c+1],b.on("afteranimate",function(){this.nextAnim.paused=!1}),b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},h);j[g-1].on("afteranimate",function(){this.lastFrame()},h)}},start:function(d){var e=this,c=e.delay,b=e.delayStart;if(c){if(!b)return void(e.delayStart=d);if(d-b<c)return;d=new Date(b.getTime()+c)}!1!==e.fireEvent("beforeanimate",e)&&(e.startTime=d,e.running=!0,e.animations[e.keyframeStep].paused=!1)},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++,b<a?(c.startTime=new Date,c.currentIteration=b,c.keyframeStep=0,c.applyAnimator(c.target),c.animations[c.keyframeStep].paused=!1):(c.currentIteration=0,c.end())},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0),Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:!0,cubicBezierAtTime:function(o,d,b,n,m,i){function g(q){return((a*q+l)*q+j)*q}function e(q,y){var w,v,t,r,u,s;for(t=q,s=0;s<8;s++){if(r=g(t)-q,Math.abs(r)<y)return t;if(u=(3*a*t+2*l)*t+j,Math.abs(u)<1e-6)break;t-=r/u}if(w=0,v=1,(t=q)<w)return w;if(t>v)return v;for(;w<v;){if(r=g(t),Math.abs(r-q)<y)return t;q>r?w=t:v=t,t=(v-w)/2+w}return t}var j=3*d,l=3*(n-d)-j,a=1-j-l,h=3*b,k=3*(m-b)-h,p=1-h-k;return function(q,s){var r=e(q,s);return((p*r+k)*r+h)*r}(o,1/(200*i))},cubicBezier:function(b,e,a,c){var d=function(g){return Ext.fx.CubicBezier.cubicBezierAtTime(g,b,e,a,c,1)};return d.toCSS3=function(){return"cubic-bezier("+[b,e,a,c].join(",")+")"},d.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-a,1-c,1-b,1-e)},d}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0),Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var e=Math,h=e.PI,d=e.pow,b=e.sin,g=e.sqrt,a=e.abs,c=1.70158;return{singleton:!0,linear:Ext.identityFn,ease:function(r){var l=.07813-r/2,k=g(.0066+l*l),i=k-l,p=d(a(i),1/3)*(i<0?-1:1),o=-k-l,m=d(a(o),1/3)*(o<0?-1:1),j=p+m+.25;return 3*d(1-j,2)*j*.1+3*(1-j)*j*j+j*j*j},easeIn:function(i){return d(i,1.7)},easeOut:function(i){return d(i,.48)},easeInOut:function(r){var l=.48-r/1.04,k=g(.1734+l*l),i=k-l,p=d(a(i),1/3)*(i<0?-1:1),o=-k-l,m=d(a(o),1/3)*(o<0?-1:1),j=p+m+.5;return 3*(1-j)*j*j+j*j*j},backIn:function(i){return i*i*((c+1)*i-c)},backOut:function(i){return(i-=1)*i*((c+1)*i+c)+1},elasticIn:function(k){return 0===k||1===k?k:d(2,-10*k)*b(2*h*(k-.075)/.3)+1},elasticOut:function(i){return 1-Ext.fx.Easing.elasticIn(1-i)},bounceIn:function(i){return 1-Ext.fx.Easing.bounceOut(1-i)},bounceOut:function(m){var i,j=7.5625,k=2.75;return m<1/k?i=j*m*m:m<2/k?(m-=1.5/k,i=j*m*m+.75):m<2.5/k?(m-=2.25/k,i=j*m*m+.9375):(m-=2.625/k,i=j*m*m+.984375),i}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(b){var c=b.self,a=c.prototype;c.addMembers({"back-in":a.backIn,"back-out":a.backOut,"ease-in":a.easeIn,"ease-out":a.easeOut,"elastic-in":a.elasticIn,"elastic-out":a.elasticOut,"bounce-in":a.bounceIn,"bounce-out":a.bounceOut,"ease-in-out":a.easeInOut})}),Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(b,a){return"object"==(a=String(a).toLowerCase())&&b===Object(b)||"undefined"==a&&typeof b==a||"null"==a&&null===b||"array"==a&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).toLowerCase().slice(8,-1)==a},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],b=this;return b.is(a,"array")&&b.is(a[0],"array")&&(c=b.pathClone(a)),c.length||String(a).replace(b.pathCommandRE,function(g,e,j){var i=[],h=e.toLowerCase();for(j.replace(b.pathValuesRE,function(l,k){k&&i.push(+k)}),"m"==h&&i.length>2&&(c.push([e].concat(Ext.Array.splice(i,0,2))),h="l",e="m"==e?"l":"L");i.length>=d[h]&&(c.push([e].concat(Ext.Array.splice(i,0,d[h]))),d[h]););}),c.toString=b.path2string,c},pathClone:function(g){var a,e,b,d,c=[];for(this.is(g,"array")&&this.is(g&&g[0],"array")||(g=this.parsePathString(g)),b=0,d=g.length;b<d;b++)for(c[b]=[],a=0,e=g[b].length;a<e;a++)c[b][a]=g[b][a];return c.toString=this.path2string,c},pathToAbsolute:function(c){this.is(c,"array")&&this.is(c&&c[0],"array")||(c=this.parsePathString(c));var b,d,e,a,k=[],m=0,l=0,o=0,n=0,g=0,h=c.length;for(h&&"M"==c[0][0]&&(m=+c[0][1],l=+c[0][2],o=m,n=l,g++,k[0]=["M",m,l]);g<h;g++){if(b=k[g]=[],d=c[g],d[0]!=d[0].toUpperCase())switch(b[0]=d[0].toUpperCase(),b[0]){case"A":b[1]=d[1],b[2]=d[2],b[3]=d[3],b[4]=d[4],b[5]=d[5],b[6]=+(d[6]+m),b[7]=+(d[7]+l);break;case"V":b[1]=+d[1]+l;break;case"H":b[1]=+d[1]+m;break;case"M":o=+d[1]+m,n=+d[2]+l;default:for(e=1,a=d.length;e<a;e++)b[e]=+d[e]+(e%2?m:l)}else for(e=0,a=d.length;e<a;e++)k[g][e]=d[e];switch(b[0]){case"Z":m=o,l=n;break;case"H":m=b[1];break;case"V":l=b[1];break;case"M":d=k[g],a=d.length,o=d[a-2],n=d[a-1];default:d=k[g],a=d.length,m=d[a-2],l=d[a-1]}}return k.toString=this.path2string,k},interpolatePaths:function(r,l){var h,o,g,q,e,k,j=this,d=j.pathToAbsolute(r),m=j.pathToAbsolute(l),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(p,s){if(p[s].length>7){p[s].shift();for(var t=p[s];t.length;)Ext.Array.splice(p,s++,0,["C"].concat(Ext.Array.splice(t,0,6)));Ext.Array.erase(p,s,1),o=Math.max(d.length,m.length||0)}},c=function(v,u,s,p,t){v&&u&&"M"==v[t][0]&&"M"!=u[t][0]&&(Ext.Array.splice(u,t,0,["M",p.x,p.y]),s.bx=0,s.by=0,s.x=v[t][1],s.y=v[t][2],o=Math.max(d.length,m.length||0))};for(h=0,o=Math.max(d.length,m.length||0);h<o;h++)d[h]=j.command2curve(d[h],n),b(d,h),m[h]=j.command2curve(m[h],a),b(m,h),c(d,m,n,a,h),c(m,d,a,n,h),g=d[h],q=m[h],e=g.length,k=q.length,n.x=g[e-2],n.y=g[e-1],n.bx=parseFloat(g[e-4])||n.x,n.by=parseFloat(g[e-3])||n.y,a.bx=parseFloat(q[k-4])||a.x,a.by=parseFloat(q[k-3])||a.y,a.x=q[k-2],a.y=q[k-1];return[d,m]},command2curve:function(c,b){var a=this;if(!c)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch("T"!=c[0]&&"Q"!=c[0]&&(b.qx=b.qy=null),c[0]){case"M":b.X=c[1],b.Y=c[2];break;case"A":c=["C"].concat(a.arc2curve.apply(a,[b.x,b.y].concat(c.slice(1))));break;case"S":c=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(c.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),c=["C"].concat(a.quadratic2curve(b.x,b.y,b.qx,b.qy,c[1],c[2]));break;case"Q":b.qx=c[1],b.qy=c[2],c=["C"].concat(a.quadratic2curve(b.x,b.y,c[1],c[2],c[3],c[4]));break;case"L":c=["C"].concat(b.x,b.y,c[1],c[2],c[1],c[2]);break;case"H":c=["C"].concat(b.x,b.y,c[1],b.y,c[1],b.y);break;case"V":c=["C"].concat(b.x,b.y,b.x,c[1],b.x,c[1]);break;case"Z":c=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return c},quadratic2curve:function(b,d,h,e,a,c){var g=1/3,i=2/3;return[g*b+i*h,g*d+i*e,g*a+i*h,g*c+i*e,a,c]},rotate:function(b,h,a){var d=Math.cos(a),c=Math.sin(a);return{x:b*d-h*c,y:b*c+h*d}},arc2curve:function(s,af,H,F,z,n,g,r,ae,A){var I,O,N,aa,c,R,U,C,B,m,l,q,j,ad,e,ac,P,S,Q,ab,Z,Y,W,L,X,K,D,G,p,v=this,d=Math.PI,w=v.radian,E=120*d/180,b=w*(+z||0),M=[],J=Math,T=J.cos,a=J.sin,V=J.sqrt,u=J.abs,o=J.asin;if(A?(m=A[0],l=A[1],C=A[2],B=A[3]):(I=v.rotate(s,af,-b),s=I.x,af=I.y,I=v.rotate(r,ae,-b),r=I.x,ae=I.y,O=(s-r)/2,N=(af-ae)/2,aa=O*O/(H*H)+N*N/(F*F),aa>1&&(aa=V(aa),H*=aa,F*=aa),c=H*H,R=F*F,U=(n==g?-1:1)*V(u((c*R-c*N*N-R*O*O)/(c*N*N+R*O*O))),C=U*H*N/F+(s+r)/2,B=U*-F*O/H+(af+ae)/2,m=o(((af-B)/F).toFixed(7)),l=o(((ae-B)/F).toFixed(7)),m=s<C?d-m:m,l=r<C?d-l:l,m<0&&(m=2*d+m),l<0&&(l=2*d+l),g&&m>l&&(m-=2*d),!g&&l>m&&(l-=2*d)),q=l-m,u(q)>E&&(D=l,G=r,p=ae,l=m+E*(g&&l>m?1:-1),r=C+H*T(l),ae=B+F*a(l),M=v.arc2curve(r,ae,H,F,z,0,g,G,p,[l,D,C,B])),q=l-m,j=T(m),ad=a(m),e=T(l),ac=a(l),P=J.tan(q/4),S=4/3*H*P,Q=4/3*F*P,ab=[s,af],Z=[s+S*ad,af-Q*j],Y=[r+S*ac,ae-Q*e],W=[r,ae],Z[0]=2*ab[0]-Z[0],Z[1]=2*ab[1]-Z[1],A)return[Z,Y,W].concat(M);for(M=[Z,Y,W].concat(M).join().split(","),L=[],K=M.length,X=0;X<K;X++)L[X]=X%2?v.rotate(M[X-1],M[X],b).y:v.rotate(M[X],M[X+1],b).x;return L}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0),Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(j,c,a,g,i){a="number"==typeof a?a:1;var b,e,h=this.unitRE,d=h.exec(j);return d&&(j=d[1],e=d[2],this.scrollRE.test(i)||e||!this.pixelDefaultsRE.test(i)||(e="px")),j=+j||0,d=h.exec(c),d&&(c=d[1],e=d[2]||e),c=+c||0,b=null!=g?g:j,{from:j,delta:(c-b)*a,units:e}},get:function(o,b,a,n,k){var e,h,l,c,g,m=o.length,d=[];for(e=0;e<m;e++)if(n&&(h=n[e][1].from),Ext.isArray(o[e][1])&&Ext.isArray(b)){for(l=[],c=0,g=o[e][1].length;c<g;c++)l.push(this.computeDelta(o[e][1][c],b[c],a,h,k));d.push([o[e][0],l])}else d.push([o[e][0],this.computeDelta(o[e][1],b,a,h,k)]);return d},set:function(l,g){var d,a,k,e,b,h=l.length,c=[];for(d=0;d<h;d++)if(a=l[d][1],Ext.isArray(a)){for(k=[],b=0,e=a.length;b<e;b++)k.push(a[b].from+a[b].delta*g+(a[b].units||0));c.push([l[d][0],k])}else c.push([l[d][0],a.from+a.delta*g+(a.units||0)]);return c}},stringHandler:{computeDelta:function(e,b,d,c,a){return{from:e,delta:b}},get:function(k,b,a,j,g){var d,h=k.length,c=[];for(d=0;d<h;d++)c.push([k[d][0],this.computeDelta(k[d][1],b,a,void 0,g)]);return c},set:function(a,g){var c,e,d=a.length,b=[];for(c=0;c<d;c++)e=a[c][1],b.push([a[c][0],e.delta]);return b}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,a){a="number"==typeof a?a:1;var j,b,k,h,g=!1,c=[this.hexRE,this.rgbRE,this.hex3RE],d=c.length;for(h=0;h<d;h++)if(k=c[h],b=h%2==0?16:10,(j=k.exec(e))&&4===j.length){2===h&&(j[1]+=j[1],j[2]+=j[2],j[3]+=j[3]),g={red:parseInt(j[1],b),green:parseInt(j[2],b),blue:parseInt(j[3],b)};break}return g||e},computeDelta:function(h,a,e,c){h=this.parseColor(h),a=this.parseColor(a,e);var g=c||h,b=typeof g,d=typeof a;return"string"===b||"undefined"===b||"string"===d||"undefined"===d?a||g:{from:h,delta:{red:Math.round((a.red-g.red)*e),green:Math.round((a.green-g.green)*e),blue:Math.round((a.blue-g.blue)*e)}}},get:function(j,a,g,d){var e,b,h=j.length,c=[];for(e=0;e<h;e++)d&&(b=d[e][1].from),c.push([j[e][0],this.computeDelta(j[e][1],a,g,b)]);return c},set:function(k,e){var d,b,a,h,j,g=k.length,c=[];for(d=0;d<g;d++)if(b=k[d][1]){if(h=b.from,j=b.delta,b="object"==typeof b&&"red"in b?"rgb("+b.red+", "+b.green+", "+b.blue+")":b,void 0===(b="object"==typeof b&&b.length?b[0]:b))return[];a="string"==typeof b?b:"rgb("+[(h.red+Math.round(j.red*e))%256,(h.green+Math.round(j.green*e))%256,(h.blue+Math.round(j.blue*e))%256].join(",")+")",c.push([k[d][0],a])}return c}},object:{interpolate:function(d,b){b="number"==typeof b?b:1;var c,a={};for(c in d)a[c]=parseFloat(d[c])*b;return a},computeDelta:function(h,a,c,b){h=this.interpolate(h),a=this.interpolate(a,c);var d,g=b||h,e={};for(d in a)e[d]=a[d]-g[d];return{from:h,delta:e}},get:function(j,a,g,d){var e,b,h=j.length,c=[];for(e=0;e<h;e++)d&&(b=d[e][1].from),c.push([j[e][0],this.computeDelta(j[e][1],a,g,b)]);return c},set:function(l,g){var d,j,k,b,a,h=l.length,c=[],e={};for(d=0;d<h;d++){b=l[d][1],j=b.from,k=b.delta;for(a in j)e[a]=j[a]+k[a]*g;c.push([l[d][0],e])}return c}},path:{computeDelta:function(e,a,c,b){c="number"==typeof c?c:1;var d;return e=+e||0,a=+a||0,d=null!=b?b:e,{from:e,delta:(a-d)*c}},forcePath:function(a){return Ext.isArray(a)||Ext.isArray(a[0])||(a=Ext.fx.DrawPath.parsePathString(a)),a},get:function(b,l,a,q){var d,h,o,g,p,m,e,t,r,c=this.forcePath(l),n=[],s=b.length;for(o=0;o<s;o++){for(r=this.forcePath(b[o][1]),g=Ext.fx.DrawPath.interpolatePaths(r,c),r=g[0],c=g[1],d=r.length,t=[],m=0;m<d;m++){for(g=[r[m][0]],h=r[m].length,e=1;e<h;e++)p=q&&q[0][1][m][e].from,g.push(this.computeDelta(r[m][e],c[m][e],a,p));t.push(g)}n.push([b[o][0],t])}return n},set:function(p,n){var h,g,d,l,m,c,a,b,o=p.length,e=[];for(h=0;h<o;h++){for(c=p[h][1],l=[],a=c.length,g=0;g<a;g++){for(m=[c[g][0]],b=c[g].length,d=1;d<b;d++)m.push(c[g][d].from+c[g][d].delta*n);l.push(m.join(","))}e.push([p[h][0],l.join(",")])}return e}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){for(var d,b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],c=b.length,a=0;a<c;a++)d=b[a],this[d]=this.color;for(b=["cursor"],c=b.length,a=0;a<c;a++)d=b[a],this[d]=this.stringHandler}),Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var c,b=this;if(a=a||{},a.keyframes)return new Ext.fx.Animator(a);Ext.apply(b,a),void 0===b.from&&(b.from={}),b.propHandlers={},b.config=a,b.target=Ext.fx.Manager.createTarget(b.target),b.easingFn=Ext.fx.Easing[b.easing],b.target.dynamic=b.dynamic,b.easingFn||(b.easingFn=String(b.easing).match(b.bezierRE),b.easingFn&&5===b.easingFn.length&&(c=b.easingFn,b.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4]))),b.id=Ext.id(null,"ext-anim-"),b.mixins.observable.constructor.call(b),Ext.fx.Manager.addAnim(b),a.autoEnd&&(b.running=!0,b.jumpToEnd())},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a,b,j,d,e=this,h=e.from,i=e.to,g=e.initialFrom||{},c={};for(d in i)i.hasOwnProperty(d)&&(a=e.target.getAttr(d,h[d]),b=i[d],j=Ext.fx.PropertyHandler[d]?e.propHandlers[d]=Ext.fx.PropertyHandler[d]:Ext.isObject(b)?e.propHandlers[d]=Ext.fx.PropertyHandler.object:e.propHandlers[d]=Ext.fx.PropertyHandler.defaultHandler,c[d]=j.get(a,b,e.damper,g[d],d));e.currentAttrs=c},start:function(d){var e=this,c=e.delay,b=e.delayStart;if(c){if(!b)return void(e.delayStart=d);if(d-b<c)return;d=new Date(b.getTime()+c)}!1!==e.fireEvent("beforeanimate",e)&&(e.startTime=d,e.paused||e.currentAttrs||e.initAttrs(),e.running=!0,e.frameCount=0)},jumpToEnd:function(){var a=this;a.endWasCalled||(a.currentAttrs||a.initAttrs(),Ext.fx.Manager.jumpToEnd(a),a.end())},runAnim:function(l){var h,j,e,a,i=this,k=i.currentAttrs,d=i.duration,c=i.easingFn,b=i.propHandlers,g={};l>=d&&(l=d,a=!0),i.reverse&&(l=d-l);for(e in k)k.hasOwnProperty(e)&&(j=k[e],h=a?1:c(l/d),g[e]=b[e].set(j,h));return i.frameCount++,g},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++,b<a?(c.alternate&&(c.reverse=!c.reverse),c.startTime=new Date,c.currentIteration=b,c.paused=!1):(c.currentIteration=0,c.end(),c.fireEvent("lastframe",c,c.startTime))},endWasCalled:0,end:function(a){var b=this;b.endWasCalled++||(b.startTime=0,b.paused=!1,b.running=!1,Ext.fx.Manager.removeAnim(b),a||(b.fireEvent("afteranimate",b,b.startTime),Ext.callback(b.callback,b.scope,[b,b.startTime])),b.remove&&b.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0),Ext.enableFx=!0,Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:!0,animate:function(a){var b=this;return Ext.fx.Manager.hasFxBlock(b.id)?b:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a))),this)},anim:function(a){if(!Ext.isObject(a))return!!a&&{};var b=this;return a.stopAnimation&&b.stopAnimation(),Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id)),Ext.apply({target:b,paused:!0},a)},getAnimationProps:function(){var b=this,a=b.layout;return a&&a.animate?a.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(a){return Ext.fx.Manager.stopAnimation(this.id,a),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0),Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(a){this.dom=a,this.el=this},attach:function(b){var a=this;return b?(a.dom=b,Ext.cache[b.id]||(a.getData().isSynchronized=!1),a):a.detach()},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(a){var c,b={};a.cache=b,Ext.fly=function(j,e){var d,i,h=null,g=Ext.fly;return e=e||g.caller&&g.caller.$name||"_global",j=Ext.getDom(j),j&&(d=j.nodeType,(a.prototype.validNodeTypes[d]||!d&&j.window==j)&&((h=Ext.cache[j.id])&&h.dom===j||(h=b[e]||(b[e]=new a),h.dom=j,(i=h.getData(!0))&&(i.isSynchronized=!1)))),h},Ext.getDetachedBody=function(){return c||(Ext.detachedBodyEl=c=new a(document.createElement("div")),c.isDetachedBody=!0),c}}),Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var a=Ext.dom.Element,b=this.prototype;Ext.Object.each(a.prototype,function(c,d){"function"!=typeof d||b[c]||(b[c]=function(){return this.invoke(c,arguments)})})}},constructor:function(b,a){a?this.elements=b||[]:(this.elements=[],this.add(b))},getElement:function(b){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(b)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(c,a){var b,d,e=this.elements;if(!c)return this;for("string"==typeof c?c=Ext.fly(a||document).query(c):c.isComposite?c=c.elements:Ext.isIterable(c)||(c=[c]),b=0,d=c.length;b<d;++b)e.push(this.transformElement(c[b]));return this},invoke:function(e,b){var a,d,c,h=this,j=h.elements,g=j.length;if(0!==c)for(a=(h.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,c=0;c<g;c++)(d=j[c])&&a[e].apply(h.getElement(d),b);return h},item:function(b){var c=this.elements[b],a=null;return c&&(a=this.getElement(c)),a},slice:function(b,a){return Ext.Array.slice(this.elements,b,a)},each:function(g,d){var b,j,h=this,c=h.elements,a=c.length;for(b=0;b<a&&(!(j=c[b])||(j=this.getElement(j),!1!==g.call(d||j,j,h,b)));b++);return h},fill:function(a){var b=this;return b.elements=[],b.add(a),b},insert:function(b,a){Ext.Array.insert(this.elements,b,a)},filter:function(b){for(var a,h=this,c=h.elements,g=c.length,d=[],e=0,j="function"==typeof b;e<g;e++)(a=c[e])&&(a=h.getElement(a),(j?!1!==b.call(a,a,h,e):a.is(b))&&d.push(h.transformElement(a)));return h.elements=d,h},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(e,c,a){var g,b=isNaN(e)?this.indexOf(e):e;return b>-1&&(c=Ext.getDom(c),a&&(g=this.elements[b],g.parentNode.insertBefore(c,g),Ext.removeNode(g)),Ext.Array.splice(this.elements,b,1,c)),this},clear:function(d){var c=this,b=c.elements,a=b.length-1;if(d)for(;a>=0;a--)Ext.removeNode(b[a]);this.elements=[]},addElements:function(d,b){if(!d)return this;"string"==typeof d&&(d=Ext.dom.Element.selectorFunction(d,b));var g,c=this.elements,a=d.length;for(g=0;g<a;g++)c.push(Ext.get(d[g]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(e,i){e=[].concat(e);var h,b,a,d=this,g=d.elements,c=e.length;for(a=0;a<c;a++)h=e[a],(b=g[h]||g[h=d.indexOf(h)])&&(i&&(b.dom?b.destroy():Ext.removeNode(b)),Ext.Array.erase(g,h,1));return d},destroy:function(){return this.invoke("destroy",arguments)}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(b){var a=b.prototype;b.importElementMethods(),a.on=a.addListener}),Ext.define("Ext.overrides.dom.Element",function(){var j,l=window,E=document,M="hidden",q="isClipped",K="overflow",u="overflow-x",t="overflow-y",x="originalClip",g="visibility",a="display",G="none",H="visibilityMode",P=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),J=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,D=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,b=/\ssrc=([\'\"])(.*?)\1/i,o=/\S/,i=/\stype=([\'\"])(.*?)\1/i,A=/^-ms-/,B=/(-[a-z])/gi,I=function(Q,R){
return R.charAt(1).toUpperCase()},n="x-masked",z="x-masked-relative",v="x-mask-msg",s=/^body/i,r={},w=function(R){var S=R.getData(),Q=S[H];return void 0===Q&&(S[H]=Q=j.VISIBILITY),Q},N=E.createRange?E.createRange():null,F={INPUT:!0,TEXTAREA:!0};if(Ext.isIE8)var h=E.createElement("div"),L=[],d=Ext.Function.createBuffered(function(){var R,Q=L.length;for(R=0;R<Q;R++)h.appendChild(L[R]);h.innerHTML="",L.length=0},10);return{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],skipGarbageCollection:!1,_init:function(Q){j=Q,Q.tabbableSelector+=",["+Q.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:!!Ext.isIE,BODY:!Ext.isIE},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:!!Ext.isIE8m},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(Q){return"float"===Q&&(Q=Ext.supports.Float?"cssFloat":"styleFloat"),r[Q]||(r[Q]=Q.replace(A,"ms-").replace(B,I))}},addKeyListener:function(R,T,S){var Q;return Q="object"!=typeof R||Ext.isArray(R)?{target:this,key:R,fn:T,scope:S}:{target:this,key:R.key,shift:R.shift,ctrl:R.ctrl,alt:R.alt,fn:T,scope:S},new Ext.util.KeyMap(Q)},addKeyMap:function(Q){return new Ext.util.KeyMap(Ext.apply({target:this},Q))},afterAnimate:function(){var Q=this.shadow;!Q||Q.disabled||Q.animate||Q.show()},anchorAnimX:function(Q){var R="l"===Q?"right":"left";this.dom.style[R]="0px"},anim:function(Q){if(!Ext.isObject(Q))return!!Q&&{};var T,R=this,S=Q.duration||Ext.fx.Anim.prototype.duration,U=Q.easing||"ease";return Q.stopAnimation&&R.stopAnimation(),Ext.applyIf(Q,Ext.fx.Manager.getFxDefaults(R.id)),Ext.fx.Manager.setFxDefaults(R.id,{delay:0}),T={target:R.dom,remove:Q.remove,alternate:Q.alternate||!1,duration:S,easing:U,callback:Q.callback,listeners:Q.listeners,iterations:Q.iterations||1,scope:Q.scope,block:Q.block,concurrent:Q.concurrent,delay:Q.delay||0,paused:!0,keyframes:Q.keyframes,from:Q.from||{},to:Ext.apply({},Q),userConfig:Q},Ext.apply(T.to,Q.to),delete T.to.to,delete T.to.from,delete T.to.remove,delete T.to.alternate,delete T.to.keyframes,delete T.to.iterations,delete T.to.listeners,delete T.to.target,delete T.to.paused,delete T.to.callback,delete T.to.scope,delete T.to.duration,delete T.to.easing,delete T.to.concurrent,delete T.to.block,delete T.to.stopAnimation,delete T.to.delay,T},animate:function(Q){return this.addAnimation(Q),this},addAnimation:function(S){var T,V,Q,U=this,R=U.dom.id||Ext.id(U.dom);return Ext.fx.Manager.hasFxBlock(R)||(S.listeners&&(T=S.listeners,delete S.listeners),S.internalListeners&&(S.listeners=S.internalListeners,delete S.internalListeners),Q=S.autoEnd,delete S.autoEnd,V=new Ext.fx.Anim(U.anim(S)),V.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:U,single:!0}),T&&V.on(T),Ext.fx.Manager.queueFx(V),Q&&V.jumpToEnd()),V},beforeAnimate:function(){var Q=this.shadow;!Q||Q.disabled||Q.animate||Q.hide()},boxWrap:function(Q){Q=Q||"x-box";var R=Ext.get(this.insertHtml("beforeBegin","<div class='"+Q+"' role='presentation'>"+Ext.String.format(P,Q)+"</div>"));return R.selectNode("."+Q+"-mc").appendChild(this.dom),R},clean:function(R){var Q,T=this,V=T.dom,U=T.getData(),W=V.firstChild,S=-1;if(U.isCleaned&&!0!==R)return T;for(;W;)Q=W.nextSibling,3===W.nodeType?o.test(W.nodeValue)?Q&&3===Q.nodeType&&(W.appendData(Ext.String.trim(Q.data)),V.removeChild(Q),Q=W.nextSibling,W.nodeIndex=++S):V.removeChild(W):(Ext.fly(W,"_clean").clean(),W.nodeIndex=++S),W=Q;return U.isCleaned=!0,T},empty:N?function(){var Q=this.dom;Q.firstChild&&(N.setStartBefore(Q.firstChild),N.setEndAfter(Q.lastChild),N.deleteContents())}:function(){for(var Q=this.dom;Q.lastChild;)Q.removeChild(Q.lastChild)},clearListeners:function(){this.removeAnchor(),arguments.callee.$previous.call(this)},clearPositioning:function(Q){return Q=Q||"",this.setStyle({left:Q,right:Q,top:Q,bottom:Q,"z-index":"",position:"static"})},createProxy:function(Q,U,T){Q="object"==typeof Q?Q:{tag:"div",role:"presentation",cls:Q};var S=this,R=U?Ext.DomHelper.append(U,Q,!0):Ext.DomHelper.insertBefore(S.dom,Q,!0);return R.setVisibilityMode(j.DISPLAY),R.hide(),T&&S.setBox&&S.getBox&&R.setBox(S.getBox()),R},clearOpacity:function(){return this.setOpacity("")},clip:function(){var Q,R=this,S=R.getData();return S[q]||(S[q]=!0,Q=R.getStyle([K,u,t]),S[x]={o:Q[K],x:Q[u],y:Q[t]},R.setStyle(K,M),R.setStyle(u,M),R.setStyle(t,M)),R},destroy:function(){var R,Q,S=this,U=S.dom,T=S.getData();U&&(S.isAnimate&&S.stopAnimation(),S.removeAnchor()),arguments.callee.$previous.call(this),U&&Ext.isIE8&&U.window!=U&&9!==U.nodeType&&"BODY"!==U.tagName&&"HTML"!==U.tagName&&(L[L.length]=U,d()),T&&(R=T.maskEl,Q=T.maskMsg,R&&R.destroy(),Q&&Q.destroy())},enableDisplayMode:function(R){var Q=this;return Q.setVisibilityMode(j.DISPLAY),void 0!==R&&(Q.getData().originalDisplay=R),Q},fadeIn:function(S){var Q=this,R=Q.dom;return Q.animate(Ext.apply({},S,{opacity:1,internalListeners:{beforeanimate:function(U){var T=Ext.fly(R,"_anim");T.isStyle("display","none")?T.setDisplayed(""):T.show()}}})),this},fadeOut:function(S){var Q=this,R=Q.dom;return S=Ext.apply({opacity:0,internalListeners:{afteranimate:function(U){if(R&&0===U.to.opacity){var T=Ext.fly(R,"_anim");S.useDisplay?T.setDisplayed(!1):T.hide()}}}},S),Q.animate(S),Q},fixDisplay:function(){var Q=this;Q.isStyle(a,G)&&(Q.setStyle(g,M),Q.setStyle(a,Q._getDisplay()),Q.isStyle(a,G)&&Q.setStyle(a,"block"))},frame:function(Q,T,U){var R,S=this,V=S.dom;return Q=Q||"#C3DAF9",T=T||1,U=U||{},R=function(){var aa,X,W,Z=Ext.fly(V,"_anim"),Y=this;Z.show(),aa=Z.getBox(),X=Ext.getBody().createChild({role:"presentation",id:Z.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+Q}}),W=new Ext.fx.Anim({target:X,duration:U.duration||1e3,iterations:T,from:{top:aa.y,left:aa.x,borderWidth:0,opacity:1,height:aa.height,width:aa.width},to:{top:aa.y-20,left:aa.x-20,borderWidth:10,opacity:0,height:aa.height+40,width:aa.width+40}}),W.on("afteranimate",function(){X.destroy(),Y.end()})},S.animate({duration:2*Math.max(U.duration,500)||2e3,listeners:{beforeanimate:{fn:R}},callback:U.callback,scope:U.scope}),S},getColor:function(R,S,X){var W,Q,U=this.getStyle(R),T=X||""===X?X:"#",V=0;if(!U||/transparent|inherit/.test(U))return S;if(/^r/.test(U))for(U=U.slice(4,U.length-1).split(","),Q=U.length;V<Q;V++)W=parseInt(U[V],10),T+=(W<16?"0":"")+W.toString(16);else U=U.replace("#",""),T+=3===U.length?U.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):U;return T.length>5?T.toLowerCase():S},getLoader:function(){var R=this,S=R.getData(),Q=S.loader;return Q||(S.loader=Q=new Ext.ElementLoader({target:R})),Q},getPositioning:function(R){var Q=this.getStyle(["left","top","position","z-index"]),S=this.dom;return R&&("auto"===Q.left&&(Q.left=S.offsetLeft+"px"),"auto"===Q.top&&(Q.top=S.offsetTop+"px")),Q},ghost:function(Q,T){var R,S=this,U=S.dom;return Q=Q||"b",R=function(){var Y=Ext.fly(U,"_anim"),X=Y.getWidth(),W=Y.getHeight(),Z=Y.getXY(),V=Y.getPositioning(),aa={opacity:0};switch(Q){case"t":aa.y=Z[1]-W;break;case"l":aa.x=Z[0]-X;break;case"r":aa.x=Z[0]+X;break;case"b":aa.y=Z[1]+W;break;case"tl":aa.x=Z[0]-X,aa.y=Z[1]-W;break;case"bl":aa.x=Z[0]-X,aa.y=Z[1]+W;break;case"br":aa.x=Z[0]+X,aa.y=Z[1]+W;break;case"tr":aa.x=Z[0]+X,aa.y=Z[1]-W}this.to=aa,this.on("afteranimate",function(){var ab=Ext.fly(U,"_anim");ab&&(ab.hide(),ab.clearOpacity(),ab.setPositioning(V))})},S.animate(Ext.applyIf(T||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:R}})),S},hide:function(Q){return"string"==typeof Q?(this.setVisible(!1,Q),this):(this.setVisible(!1,this.anim(Q)),this)},highlight:function(T,R){var W,aa,V,S,Q,Y,X=this,U=X.dom,Z={};return R=R||{},S=R.listeners||{},V=R.attr||"backgroundColor",Z[V]=T||"ffff9c",R.to?aa=R.to:(aa={},aa[V]=R.endColor||X.getColor(V,"ffffff","")),R.listeners=Ext.apply(Ext.apply({},S),{beforeanimate:function(){W=U.style[V];var ab=Ext.fly(U,"_anim");if(ab.clearOpacity(),ab.show(),Q=S.beforeanimate)return Y=Q.fn||Q,Y.apply(Q.scope||S.scope||l,arguments)},afteranimate:function(){U&&(U.style[V]=W),(Q=S.afteranimate)&&(Y=Q.fn||Q,Y.apply(Q.scope||S.scope||l,arguments))}}),X.animate(Ext.apply({},R,{duration:1e3,easing:"ease-in",from:Z,to:aa})),X},hover:function(R,Q,T,S){var U=this;return U.on("mouseenter",R,T||U.dom,S),U.on("mouseleave",Q,T||U.dom,S),U},initDD:function(S,R,T){var Q=new Ext.dd.DD(Ext.id(this.dom),S,R);return Ext.apply(Q,T)},initDDProxy:function(S,R,T){var Q=new Ext.dd.DDProxy(Ext.id(this.dom),S,R);return Ext.apply(Q,T)},initDDTarget:function(S,R,T){var Q=new Ext.dd.DDTarget(Ext.id(this.dom),S,R);return Ext.apply(Q,T)},isFocusable:function(){var S,R=this.dom,Q=!1;return R&&!R.disabled&&(S=R.nodeName,Q=!!Ext.Element.naturallyFocusableTags[S]||("A"===S||"LINK"===S)&&!!R.href||null!=R.getAttribute("tabIndex")||"true"===R.contentEditable,Ext.isIE8&&"INPUT"===S&&"hidden"===R.type&&(Q=!1),Q=Q&&this.isVisible(!0)),Q},isInputField:function(){var R=this.dom,Q=R.contentEditable;return!!(F[R.tagName]&&"button"!==R.type||""===Q||"true"===Q)},isTabbable:function(S){var U,R,Q,T=this.dom,V=!1;return T&&!T.disabled&&(U=T.nodeName,Q=T.getAttribute("tabIndex"),R=null!=Q,Q-=0,"A"===U||"LINK"===U?V=T.href?!(R&&Q<0):"true"===T.contentEditable?!(R&&!(R&&Q>=0)):!!(R&&Q>=0):"true"===T.contentEditable||Ext.Element.naturallyTabbableTags[U]?V=!(R&&Q<0):R&&Q>=0&&(V=!0),Ext.isIE8&&"INPUT"===U&&"hidden"===T.type&&(V=!1),V=V&&(S||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))),V},isMasked:function(Q){var S,U=this,W=U.getData(),T=W.maskEl,R=W.maskMsg,V=!1;if(T&&T.isVisible())R&&R.center(U),V=!0;else if(Q&&(S=U.findParentNode()))return Ext.fly(S).isMasked(Q);return V},load:function(Q){return this.getLoader().load(Q),this},mask:function(X,V,Q){var R,T=this,W=T.dom,U=T.getData(),S=U.maskEl;return s.test(W.tagName)&&"static"===T.getStyle("position")||T.addCls(z),S&&S.destroy(),S=Ext.DomHelper.append(W,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:V?v+" "+V:v,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:X||""}}}},!0),R=Ext.get(S.dom.firstChild),U.maskEl=S,T.addCls(n),S.setDisplayed(!0),"string"==typeof X?(R.setDisplayed(!0),R.center(T)):R.setDisplayed(!1),W===E.body&&S.addCls("x-mask-fixed"),T.saveTabbableState({skipSelf:W===E.body}),Ext.isIE9m&&W!==E.body&&T.isStyle("height","auto")&&S.setSize(void 0,Q||T.getHeight()),S},puff:function(U){var R,T=this,V=T.dom,S=T.getBox(),Q=T.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],!0);return U=Ext.applyIf(U||{},{easing:"ease-out",duration:500,useDisplay:!1}),R=function(){var W=Ext.fly(V,"_anim");W.clearOpacity(),W.show(),this.to={width:2*S.width,height:2*S.height,x:S.x-S.width/2,y:S.y-S.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var X=Ext.fly(V,"_anim");X&&(U.useDisplay?X.setDisplayed(!1):X.hide(),X.setStyle(Q),Ext.callback(U.callback,U.scope))})},T.animate({duration:U.duration,easing:U.easing,listeners:{beforeanimate:{fn:R}}}),T},selectable:function(){var Q=this;return Q.dom.unselectable="",Q.removeCls(j.unselectableCls),Q.addCls(j.selectableCls),Q},setCapture:function(){var Q=this.dom;Ext.isIE9m&&Q.setCapture&&Q.setCapture()},setHeight:function(Q,R){var S=this;return R&&S.anim?(Ext.isObject(R)||(R={}),S.animate(Ext.applyIf({to:{height:Q}},R))):arguments.callee.$previous.apply(this,arguments),S},setHorizontal:function(){var R=this,Q=R.verticalCls;delete R.vertical,Q&&(delete R.verticalCls,R.removeCls(Q)),delete R.setWidth,delete R.setHeight,Ext.isIE8||(delete R.getWidth,delete R.getHeight),delete R.styleHooks},updateText:function(T){var S,R,Q=this;S&&(R=S.firstChild,R&&3===R.nodeType&&!R.nextSibling||(R=E.createTextNode(),Q.empty(),S.appendChild(R)),T&&(R.data=T))},setHtml:function(S,R,X,T){var W,V,Q,U=this;return U.dom?(S=S||"",V=U.dom,!0!==R?(V.innerHTML=S,Ext.callback(X,U),U):(W=Ext.id(),S+='<span id="'+W+'" role="presentation"></span>',Q=Ext.interval(function(){var ae,ab,aa,Z,Y,ad,ac;if(!(ad=E.getElementById(W)))return!1;for(clearInterval(Q),Ext.removeNode(ad),ae=Ext.getHead().dom;ab=J.exec(S);)aa=ab[1],Z=!!aa&&aa.match(b),Z&&Z[2]?(ac=E.createElement("script"),ac.src=Z[2],Y=aa.match(i),Y&&Y[2]&&(ac.type=Y[2]),ae.appendChild(ac)):ab[2]&&ab[2].length>0&&(T?Ext.functionFactory(ab[2]).call(T):Ext.globalEval(ab[2]));Ext.callback(X,T||U)},20),V.innerHTML=S.replace(D,""),U)):U},setOpacity:function(R,Q){var S=this;return S.dom?(Q&&S.anim?("object"!=typeof Q&&(Q={duration:350,easing:"ease-in"}),S.animate(Ext.applyIf({to:{opacity:R}},Q))):S.setStyle("opacity",R),S):S},setPositioning:function(Q){return this.setStyle(Q)},setVertical:function(T,Q){var S=this,R=j.prototype;S.vertical=!0,Q&&S.addCls(S.verticalCls=Q),S.setWidth=R.setHeight,S.setHeight=R.setWidth,Ext.isIE8||(S.getWidth=R.getHeight,S.getHeight=R.getWidth),S.styleHooks=270===T?R.verticalStyleHooks270:R.verticalStyleHooks90},setSize:function(S,Q,R){var T=this;return Ext.isObject(S)&&(R=Q,Q=S.height,S=S.width),R&&T.anim?(!0===R&&(R={}),T.animate(Ext.applyIf({to:{width:S,height:Q}},R))):(T.dom.style.width=j.addUnits(S),T.dom.style.height=j.addUnits(Q),(T.shadow||T.shim)&&T.syncUnderlays()),T},setVisible:function(U,Q){var S=this,T=S.dom,R=w(S);if("string"==typeof Q){switch(Q){case a:R=j.DISPLAY;break;case g:R=j.VISIBILITY;break;case"offsets":R=j.OFFSETS;break;case"clip":R=j.CLIP}S.setVisibilityMode(R),Q=!1}if(Q&&S.anim)U&&(S.setOpacity(.01),S.setVisible(!0)),Ext.isObject(Q)||(Q={duration:350,easing:"ease-in"}),S.animate(Ext.applyIf({callback:function(){U||Ext.fly(T).setVisible(!1).setOpacity(1)},to:{opacity:U?1:0}},Q));else{if(R===j.DISPLAY)return S.setDisplayed(U);R===j.OFFSETS?S[U?"removeCls":"addCls"]("x-hidden-offsets"):R===j.CLIP?S[U?"removeCls":"addCls"]("x-hidden-clip"):R===j.VISIBILITY&&(S.fixDisplay(),T.style.visibility=U?"":M)}return S.getData().isVisible=U,(S.shadow||S.shim)&&S.setUnderlaysVisible(U),S},setWidth:function(R,Q){var S=this;return Q&&S.anim?(Ext.isObject(Q)||(Q={}),S.animate(Ext.applyIf({to:{width:R}},Q))):arguments.callee.$previous.apply(this,arguments),S},setX:function(Q,R){return this.setXY([Q,this.getY()],R)},setXY:function(S,Q){var R=this;return Q&&R.anim?(Ext.isObject(Q)||(Q={}),R.animate(Ext.applyIf({to:{x:S[0],y:S[1]}},Q))):arguments.callee.$previous.call(this,S),this},setY:function(R,Q){return this.setXY([this.getX(),R],Q)},show:function(Q){return"string"==typeof Q?(this.setVisible(!0,Q),this):(this.setVisible(!0,this.anim(Q)),this)},slideIn:function(T,S,U){var Y,Q,V,X,W=this,R=W.dom,Z=R.style;return T=T||"t",S=S||{},Y=function(){var af,aa,ag,ab,ae=this,ad=S.listeners,ac=Ext.fly(R,"_anim");switch(U||ac.fixDisplay(),af=ac.getBox(),"t"!=T&&"b"!=T||0!==af.height?"l"!=T&&"r"!=T||0!==af.width||(af.width=R.scrollWidth):af.height=R.scrollHeight,aa=ac.getStyle(["width","height","left","right","top","bottom","position","z-index"],!0),ac.setSize(af.width,af.height),S.preserveScroll&&(V=ac.cacheScrollValues()),ab=ac.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+ac.dom.id,style:{visibility:U?"visible":"hidden"}}),X=ab.dom.parentNode,ab.setPositioning(ac.getPositioning()),ab.isStyle("position","static")&&ab.position("relative"),ac.clearPositioning("auto"),ab.clip(),V&&V(),ac.setStyle({visibility:"",position:"absolute"}),U&&ab.setSize(af.width,af.height),T){case"t":ag={from:{width:af.width+"px",height:"0px"},to:{width:af.width+"px",height:af.height+"px"}},Z.bottom="0px";break;case"l":ag={from:{width:"0px",height:af.height+"px"},to:{width:af.width+"px",height:af.height+"px"}},W.anchorAnimX(T);break;case"r":ag={from:{x:af.x+af.width,width:"0px",height:af.height+"px"},to:{x:af.x,width:af.width+"px",height:af.height+"px"}},W.anchorAnimX(T);break;case"b":ag={from:{y:af.y+af.height,width:af.width+"px",height:"0px"},to:{y:af.y,width:af.width+"px",height:af.height+"px"}};break;case"tl":ag={from:{x:af.x,y:af.y,width:"0px",height:"0px"},to:{width:af.width+"px",height:af.height+"px"}},Z.bottom="0px",W.anchorAnimX("l");break;case"bl":ag={from:{y:af.y+af.height,width:"0px",height:"0px"},to:{y:af.y,width:af.width+"px",height:af.height+"px"}},W.anchorAnimX("l");break;case"br":ag={from:{x:af.x+af.width,y:af.y+af.height,width:"0px",height:"0px"},to:{x:af.x,y:af.y,width:af.width+"px",height:af.height+"px"}},W.anchorAnimX("r");break;case"tr":ag={from:{x:af.x+af.width,width:"0px",height:"0px"},to:{x:af.x,width:af.width+"px",height:af.height+"px"}},Z.bottom="0px",W.anchorAnimX("r")}ab.show(),Q=Ext.apply({},S),delete Q.listeners,Q=new Ext.fx.Anim(Ext.applyIf(Q,{target:ab,duration:500,easing:"ease-out",from:U?ag.to:ag.from,to:U?ag.from:ag.to})),Q.on("afteranimate",function(){var ah=Ext.fly(R,"_anim");ah.setStyle(aa),U&&(S.useDisplay?ah.setDisplayed(!1):ah.hide()),ab.dom&&(ab.dom.parentNode?ab.dom.parentNode.insertBefore(ah.dom,ab.dom):X.appendChild(ah.dom),ab.destroy()),V&&V(),ae.end()}),ad&&Q.on(ad)},W.animate({duration:S.duration?2*Math.max(S.duration,500):1e3,listeners:{beforeanimate:Y}}),W},slideOut:function(R,Q){return this.slideIn(R,Q,!0)},swallowEvent:function(R,S){var V,Q,U=this,T=function(W){W.stopPropagation(),S&&W.preventDefault()};if(Ext.isArray(R)){for(Q=R.length,V=0;V<Q;V++)U.on(R[V],T);return U}return U.on(R,T),U},switchOff:function(Q){var R,S=this,T=S.dom;return Q=Ext.applyIf(Q||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),R=function(){var V,U,Y=Ext.fly(T,"_anim"),X=this,W=Y.getSize(),Z=Y.getXY();Y.clearOpacity(),Y.clip(),U=Y.getPositioning(),V=new Ext.fx.Animator({target:T,duration:Q.duration,easing:Q.easing,keyframes:{33:{opacity:.3},66:{height:1,y:Z[1]+W.height/2},100:{width:1,x:Z[0]+W.width/2}}}),V.on("afteranimate",function(){var aa=Ext.fly(T,"_anim");Q.useDisplay?aa.setDisplayed(!1):aa.hide(),aa.clearOpacity(),aa.setPositioning(U),aa.setSize(W),X.end()})},S.animate({duration:2*Math.max(Q.duration,500),listeners:{beforeanimate:{fn:R}},callback:Q.callback,scope:Q.scope}),S},syncContent:function(R){R=Ext.getDom(R);var X,aa,U,W,T,Q,Y,S=R.childNodes,ad=S.length,ab=this.dom,ac=ab.childNodes,Z=ac.length,V=ab._extData;if(Ext.isIE9m&&ab.mergeAttributes)ab.mergeAttributes(R,!0),ab.src=R.src;else for(T=R.attributes,Q=T.length,X=0;X<Q;X++)"id"!==(Y=T[X].name)&&ab.setAttribute(Y,T[X].value);if(V&&(V.isSynchronized=!1),ad!==Z)return void(ab.innerHTML=R.innerHTML);for(X=0;X<ad;X++){if(U=S[X],aa=ac[X],(W=U.nodeType)!==aa.nodeType||1===W&&U.tagName!==aa.tagName)return void(ab.innerHTML=R.innerHTML);3===W?aa.data=U.data:(U.id&&aa.id!==U.id&&(aa.id=U.id),aa.style.cssText=U.style.cssText,aa.className=U.className,Ext.fly(aa,"_syncContent").syncContent(U))}},toggle:function(Q){var R=this;return R.setVisible(!R.isVisible(),R.anim(Q)),R},unmask:function(){var Q,S=this,T=S.getData(),R=T.maskEl;R&&(Q=R.dom.style,Q.clearExpression&&(Q.clearExpression("width"),Q.clearExpression("height")),R&&(R.destroy(),delete T.maskEl),S.removeCls([n,z])),S.restoreTabbableState(S.dom===E.body)},unclip:function(){var Q,R=this,S=R.getData();return S[q]&&(S[q]=!1,Q=S[x],Q.o&&R.setStyle(K,Q.o),Q.x&&R.setStyle(u,Q.x),Q.y&&R.setStyle(t,Q.y)),R},translate:function(Q,S,R){Ext.supports.CssTransforms&&!Ext.isIE9m?arguments.callee.$previous.apply(this,arguments):(null!=Q&&(this.dom.style.left=Q+"px"),null!=S&&(this.dom.style.top=S+"px"))},unselectable:function(){var Q=this;return Ext.isOpera&&(Q.dom.unselectable="on"),Q.removeCls(j.selectableCls),Q.addCls(j.unselectableCls),Q},privates:{findTabbableElements:function(af){var Q,aa,ac,U,V,R,T,W,Z,ab,S,Y=this.dom,X=Ext.Element.tabbableSavedCounterAttribute,ae=[],ad=0;if(!Y)return ae;if(af&&(Q=af.skipSelf,aa=af.skipChildren,ac=af.excludeRoot,U=af.includeSaved,V=af.includeHidden),(ac=ac&&Ext.getDom(ac))&&ac.contains(Y))return ae;if(!Q&&(U&&Y.hasAttribute(X)||this.isTabbable(V))&&(ae[ad++]=Y),aa)return ae;if(R=Y.querySelectorAll(Ext.Element.tabbableSelector),!(ab=R.length))return ae;for(W=new Ext.dom.Fly,Z=0;Z<ab;Z++)T=R[Z],S=+T.getAttribute("tabIndex"),!(U&&T.hasAttribute(X)||!(S<0)&&W.attach(T).isTabbable(V))||ac&&(ac===T||ac.contains(T))||(ae[ad++]=T);return ae},saveTabbableState:function(U){var R,S,W,V,Q,X=Ext.Element.tabbableSavedCounterAttribute,T=Ext.Element.tabbableSavedValueAttribute;for(U&&null!=U.includeSaved||(U=Ext.Object.chain(U||null),U.includeSaved=!0),S=this.findTabbableElements(U),V=0,Q=S.length;V<Q;V++)W=S[V],R=+W.getAttribute(X),R>0?W.setAttribute(X,++R):(W.hasAttribute("tabIndex")?W.setAttribute(T,W.getAttribute("tabIndex")):W.setAttribute(T,"none"),W.setAttribute("tabIndex","-1"),W.setAttribute(X,"1"));return S},restoreTabbableState:function(Q,W){var aa,R,S,T,V,X,U=this.dom,Y=Ext.Element.tabbableSavedCounterAttribute,Z=Ext.Element.tabbableSavedValueAttribute,S=[];if(!U)return this;for(W||(S=Ext.Array.from(U.querySelectorAll("["+Y+"]"))),Q||S.unshift(U),V=0,X=S.length;V<X;V++)T=S[V],T.hasAttribute(Y)&&T.hasAttribute(Z)&&(R=+T.getAttribute(Y),R>1?T.setAttribute(Y,--R):(aa=T.getAttribute(Z),"none"===aa?T.removeAttribute("tabIndex"):T.setAttribute("tabIndex",aa),T.removeAttribute(Z),T.removeAttribute(Y)));return S}},deprecated:{"4.0":{methods:{pause:function(Q){var R=this;return Ext.fx.Manager.setFxDefaults(R.id,{delay:Q}),R},scale:function(Q,R,S){return this.animate(Ext.apply({},S,{width:Q,height:R})),this},shift:function(Q){return this.animate(Q),this}}},4.2:{methods:{moveTo:function(Q,S,R){return this.setXY([Q,S],R)},setBounds:function(R,U,T,Q,S){return this.setBox({x:R,y:U,width:T,height:Q},S)},setLeftTop:function(T,S){var R=this,Q=R.dom.style;return Q.left=j.addUnits(T),Q.top=j.addUnits(S),(R.shadow||R.shim)&&R.syncUnderlays(),R},setLocation:function(Q,S,R){return this.setXY([Q,S],R)}}},"5.0":{methods:{getAttributeNS:function(R,Q){return this.getAttribute(Q,R)},getCenterXY:function(){return this.getAlignToXY(E,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle("height"))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle("width"))||0},getStyleSize:function(){var T,Q,S,U=this,V=this.dom;return V===E||V===E.body?{width:j.getViewportWidth(),height:j.getViewportHeight()}:(T=U.getStyle(["height","width"],!0),T.width&&"auto"!==T.width&&(Q=parseFloat(T.width)),T.height&&"auto"!==T.height&&(S=parseFloat(T.height)),{width:Q||U.getWidth(!0),height:S||U.getHeight(!0)})},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){var e,o,d,s,g,y,c,q=Ext.dom.Element,p=q.prototype,w=!Ext.isIE8,b=document,m=b.defaultView,v=/alpha\(opacity=(.*)\)/i,h=/^\s+|\s+$/g,x=p.styleHooks,t=Ext.supports;if(p._init(q),delete p._init,Ext.plainTableCls="x-table-plain",Ext.plainListCls="x-list-plain",Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods(),!t.Opacity&&Ext.isIE&&Ext.apply(x.opacity,{get:function(B){var z,k,A=B.style.filter;return A.match&&(z=A.match(v))&&(k=parseFloat(z[1]),!isNaN(k))?k?k/100:0:1},set:function(B,z){var k=B.style,A=k.filter.replace(v,"").replace(h,"");k.zoom=1,"number"==typeof z&&z>=0&&z<1?(z*=100,k.filter=A+(A.length?" ":"")+"alpha(opacity="+z+")"):k.filter=A}}),!t.matchesSelector){var a,j=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,l=/\-/g,u=function(k,z){var A=new RegExp("(?:^|\\s+)"+z.replace(l,"\\-")+"(?:\\s+|$)");return k&&"*"!==k?(k=k.toUpperCase(),function(B){return B.tagName===k&&A.test(B.className)}):function(B){return A.test(B.className)}},r=function(k){return k=k.toUpperCase(),function(z){return z.tagName===k}},n={};p.matcherCache=n,p.is=function(k){if(!k)return!0;var F,B,E,D,C,A,G,z=this.dom;if(1!==z.nodeType)return!1;if(!(E=Ext.isFunction(k)?k:n[k])){if(!(B=k.match(j)))return D=z.parentNode,D||(C=!0,D=a||(a=b.createDocumentFragment()),a.appendChild(z)),A=-1!==Ext.Array.indexOf(Ext.fly(D,"_is").query(k),z),C&&a.removeChild(z),A;G=B[1],F=B[2],n[k]=E=F?u(G,F):r(G)}return E(z)}}if(m&&m.getComputedStyle||(p.getStyle=function(M,H){var N,F,L,K,C,k,E,I=this,D=I.dom,O="string"!=typeof M,A=M,J=A,G=1,B=H,z=I.styleHooks;if(O&&(L={},A=J[0],E=0,!(G=J.length)))return L;if(!D||D.documentElement)return L||"";F=D.style,H?k=F:(k=D.currentStyle)||(B=!0,k=F);do{if(K=z[A],K||(z[A]=K={name:q.normalize(A)}),K.get?C=K.get(D,I,B,k):(N=K.name,C=k[N]),!O)return C;L[A]=C,A=J[++E]}while(E<G);return L}),Ext.isIE8){for(c=function(B,z,A,k){return"none"===k[this.styleName]?"0px":k[this.name]},d=["Top","Right","Bottom","Left"],s=d.length;s--;)g=d[s],y="border"+g+"Width",x["border-"+g.toLowerCase()+"-width"]=x[y]={name:y,styleName:"border"+g+"Style",get:c};var i="x-sync-repaint";p.syncRepaint=function(){this.addCls(i),this.getWidth(),this.removeCls(i)}}Ext.isIE10m&&Ext.override(q,{focus:function(C,B){var z,A=this;if(B=B||A.dom,Number(C))Ext.defer(A.focus,C,A,[null,B]);else{Ext.GlobalEvents.fireEvent("beforefocus",B),!B||"INPUT"!==B.tagName&&"TEXTAREA"!==B.tagname||(Ext.synchronouslyFocusing=document.activeElement);try{B.focus()}catch(k){z=k}Ext.synchronouslyFocusing&&document.activeElement!==B&&!z&&B.focus(),Ext.synchronouslyFocusing=null}return A}}),Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getElementById:function(A){var k,z=b.getElementById(A);return!z&&(k=Ext.detachedBodyEl)&&(z=k.dom.querySelector(Ext.makeIdSelector(A))),z},addBehaviors:function(C){if(Ext.isReady){var B,k,A,z={};for(k in C)(B=k.split("@"))[1]&&(A=B[0],z[A]||(z[A]=Ext.fly(document).select(A,!0)),z[A].on(B[1],C[k]));z=null}else Ext.onInternalReady(function(){Ext.addBehaviors(C)})}}),Ext.isIE9m?(Ext.getElementById=function(A){var k,z=b.getElementById(A);return!z&&(k=Ext.detachedBodyEl)&&(z=k.dom.all[A]),z},p.getById=function(D,k){var B,A,C=this.dom,z=null;return C&&(A=w&&b.getElementById(D)||C.all[D])&&(k?z=A:(B=Ext.cache[D],B&&(B.skipGarbageCollection||!Ext.isGarbage(B.dom)?z=B:B.destroy()),z=z||new Ext.Element(A))),z}):b.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(k){return b.getElementById(k)},p.getById=function(A,k){var z=b.getElementById(A);return k?z:z?Ext.get(z):null}),!Ext.isIE||Ext.isIE9p&&b.documentMode>=9||(p.getAttribute=function(k,A){var z,B=this.dom;return A?(z=typeof B[A+":"+k],"undefined"!==z&&"unknown"!==z?B[A+":"+k]||null:null):("for"===k&&(k="htmlFor"),B[k]||null)}),Ext.onInternalReady(function(){function E(R,O,Q,N){var P=N[this.name]||"";return B.test(P)?"transparent":P}function J(O,P,N){return function(){O.selectionStart=P,O.selectionEnd=N}}function I(R){var S,N,T,O,P=t.DisplayChangeInputSelectionBug,Q=t.DisplayChangeTextAreaSelectionBug;return(P||Q)&&(S=q.getActiveElement(),N=S&&S.tagName,(Q&&"TEXTAREA"===N||P&&"INPUT"===N&&"text"===S.type)&&Ext.fly(R).isAncestor(S)&&(T=S.selectionStart,O=S.selectionEnd,Ext.isNumber(T)&&Ext.isNumber(O)))?J(S,T,O):Ext.emptyFn}function C(T,Q,S,P){var O,R,N=P.marginRight;return"0px"!==N&&(O=T.style,R=O.display,O.display="inline-block",N=(S?P:T.ownerDocument.defaultView.getComputedStyle(T,null)).marginRight,O.display=R),N}function A(U,R,T,Q){var P,O,S,N=Q.marginRight;return"0px"!==N&&(P=U.style,O=I(U),S=P.display,P.display="inline-block",N=(T?Q:U.ownerDocument.defaultView.getComputedStyle(U,"")).marginRight,P.display=S,O()),N}var F,D,k,K,B=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,z=[],G=p.setWidth,H=p.setHeight,L=p.setSize,M=/^\d+(?:\.\d*)?px$/i;if(t.FixedTableWidthBug&&(x.width={name:"width",set:function(S,R,P){var O=S.style,N=P._needsTableWidthFix,Q=O.display;N&&(O.display="none"),O.width=R,N&&(S.scrollWidth,O.display=Q)}},p.setWidth=function(Q,O){var S=this,T=S.dom,P=T.style,N=S._needsTableWidthFix,R=P.display;return N&&!O&&(P.display="none"),G.call(S,Q,O),N&&!O&&(T.scrollWidth,P.display=R),S},p.setSize=function(R,O,P){var T=this,U=T.dom,Q=U.style,N=T._needsTableWidthFix,S=Q.display;return N&&!P&&(Q.display="none"),L.call(T,R,O,P),N&&!P&&(U.scrollWidth,Q.display=S),T}),Ext.isIE8&&(x.height={name:"height",set:function(S,R,P){var Q,N,O=P.component;O&&O._syncFrameHeight&&P===O.el&&(N=O.frameBody.dom.style,M.test(R)?(Q=O.getFrameInfo())&&(N.height=parseInt(R,10)-Q.height+"px"):R&&"auto"!==R||(N.height="")),S.style.height=R}},p.setHeight=function(N,P){var R,O,Q=this.component;return Q&&Q._syncFrameHeight&&this===Q.el&&(O=Q.frameBody.dom.style,N&&"auto"!==N?(R=Q.getFrameInfo())&&(O.height=N-R.height+"px"):O.height=""),H.call(this,N,P)},p.setSize=function(R,N,P){var S,O,Q=this.component;return Q&&Q._syncFrameHeight&&this===Q.el&&(O=Q.frameBody.dom.style,N&&"auto"!==N?(S=Q.getFrameInfo())&&(O.height=N-S.height+"px"):O.height=""),L.call(this,R,N,P)}),Ext.getDoc().on("selectstart",function(R,S){var Q=q.selectableCls,P=q.unselectableCls,N=S&&S.tagName;if("input"!==(N=N&&N.toLowerCase())&&"textarea"!==N)for(;S&&1===S.nodeType&&S!==b.documentElement;){var O=Ext.fly(S);if(O.hasCls(Q))return;if(O.hasCls(P))return void R.stopEvent();S=S.parentNode}}),t.RightMargin||(x.marginRight=x["margin-right"]={name:"marginRight",get:t.DisplayChangeInputSelectionBug||t.DisplayChangeTextAreaSelectionBug?A:C}),!t.TransparentColor)for(F=["background-color","border-color","color","outline-color"],D=F.length;D--;)k=F[D],K=q.normalize(k),x[k]=x[K]={name:K,get:E};p.verticalStyleHooks90=e=Ext.Object.chain(x),p.verticalStyleHooks270=o=Ext.Object.chain(x),e.width=x.height||{name:"height"},e.height=x.width||{name:"width"},e["margin-top"]={name:"marginLeft"},e["margin-right"]={name:"marginTop"},e["margin-bottom"]={name:"marginRight"},e["margin-left"]={name:"marginBottom"},e["padding-top"]={name:"paddingLeft"},e["padding-right"]={name:"paddingTop"},e["padding-bottom"]={name:"paddingRight"},e["padding-left"]={name:"paddingBottom"},e["border-top"]={name:"borderLeft"},e["border-right"]={name:"borderTop"},e["border-bottom"]={name:"borderRight"},e["border-left"]={name:"borderBottom"},o.width=x.height||{name:"height"},o.height=x.width||{name:"width"},o["margin-top"]={name:"marginRight"},o["margin-right"]={name:"marginBottom"},o["margin-bottom"]={name:"marginLeft"},o["margin-left"]={name:"marginTop"},o["padding-top"]={name:"paddingRight"},o["padding-right"]={name:"paddingBottom"},o["padding-bottom"]={name:"paddingLeft"},o["padding-left"]={name:"paddingTop"},o["border-top"]={name:"borderRight"},o["border-right"]={name:"borderBottom"},o["border-bottom"]={name:"borderLeft"},o["border-left"]={name:"borderTop"},Ext.scopeCss||z.push("x-body"),t.Touch&&z.push("x-touch"),Ext.isIE&&Ext.isIE9m&&(z.push("x-ie","x-ie9m"),z.push("x-ie8p"),Ext.isIE8?z.push("x-ie8"):z.push("x-ie9","x-ie9p"),Ext.isIE8m&&z.push("x-ie8m")),Ext.isIE10&&z.push("x-ie10"),Ext.isIE10p&&z.push("x-ie10p"),Ext.isIE11&&z.push("x-ie11"),Ext.isEdge&&z.push("x-edge"),Ext.isGecko&&z.push("x-gecko"),Ext.isOpera&&z.push("x-opera"),Ext.isOpera12m&&z.push("x-opera12m"),Ext.isWebKit&&z.push("x-webkit"),Ext.isSafari&&z.push("x-safari"),Ext.isChrome&&z.push("x-chrome"),Ext.isMac&&z.push("x-mac"),Ext.isLinux&&z.push("x-linux"),t.CSS3BorderRadius||z.push("x-nbr"),t.CSS3LinearGradient||z.push("x-nlg"),t.Touch&&z.push("x-touch"),Ext.os.deviceType&&z.push("x-"+Ext.os.deviceType.toLowerCase()),Ext.getBody().addCls(z)},null,{priority:1500})}),Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var a=this;a.callParent(),Ext.onInternalReady(function(){a.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer}),Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(a){this.fireEvent("mousedown",a)},
fireResize:function(){var d=this,b=Ext.Element,a=b.getViewportWidth(),c=b.getViewportHeight();d.curHeight===c&&d.curWidth===a||(d.curHeight=c,d.curWidth=a,d.fireEvent("resize",a,c))}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(a){Ext.on=function(){return a.addListener.apply(a,arguments)},Ext.un=function(){return a.removeListener.apply(a,arguments)},Ext.fireEvent=function(){return a.fireEvent.apply(a,arguments)}}),Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(d,h,i,j,c,b,e){var a,g;if("ready"===d)g=h;else if("string"!=typeof d)for(a in d)"ready"===a&&(g=d[a]);g&&Ext.onReady(g),this.callParent([d,h,i,j,c,b,e])}}}}}),Ext.cmd.derive("Ext.Glyph",Ext.Base,{isGlyph:!0,constructor:function(a){a&&this.setGlyph(a)},setGlyph:function(b){var a;return this.glyphConfig=b,"string"==typeof b?(a=b.split("@"),!isNaN(b=isNaN(a[0])?parseInt("0"+a[0],16):parseInt(a[0],10))&&b||(b=a[0].charCodeAt(0)),this.fontFamily=a[1]||Ext._glyphFontFamily):this.fontFamily=Ext._glyphFontFamily,this.codepoint=b,this.character=Ext.String.fromCodePoint(this.codepoint),this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(a){return a&&a.isGlyph&&a.codepoint===this.codepoint&&a.fontFamily===this.fontFamily},statics:function(){var a;return{fly:function(b){return b.isGlyph?b:(a||(a=new Ext.Glyph)).setGlyph(b)}}}()},1,0,0,0,0,0,[Ext,"Glyph"],0),Ext.USE_NATIVE_JSON=!1,Ext.JSON=new function(){var me=this,hasNative=window.JSON&&"[object JSON]"===JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){return null===o||void 0===o?"null":Ext.isDate(o)?me.encodeDate(o):Ext.isString(o)?Ext.isMSDate(o)?me.encodeMSDate(o):me.encodeString(o):"number"==typeof o?isFinite(o)?String(o):"null":Ext.isBoolean(o)?String(o):o.toJSON?o.toJSON():Ext.isArray(o)?encodeArray(o,newline):Ext.isObject(o)?encodeObject(o,newline):"function"==typeof o?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var i,len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline];for(i=0;i<len;i+=1)a.push(me.encodeValue(o[i],cnewline),sep);return a[a.length-1]=newline+"]",a.join("")},encodeObjectPretty=function(o,newline){var i,val,cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline];for(i in o)if(val=o[i],!useHasOwn||o.hasOwnProperty(i)){if("function"==typeof val||void 0===val)continue;a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}return a[a.length-1]=newline+"}",a.join("")},encodeArray=function(o,newline){if(newline)return encodeArrayPretty(o,newline);var i,a=["[",""],len=o.length;for(i=0;i<len;i+=1)a.push(me.encodeValue(o[i]),",");return a[a.length-1]="]",a.join("")},encodeObject=function(o,newline){if(newline)return encodeObjectPretty(o,newline);var i,val,a=["{",""];for(i in o)if(val=o[i],!useHasOwn||o.hasOwnProperty(i)){if("function"==typeof val||void 0===val)continue;a.push(me.encodeValue(i),":",me.encodeValue(val),",")}return a[a.length-1]="}",a.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'},me.encode=function(o){return hasNative&&Ext.USE_NATIVE_JSON?JSON.stringify(o):me.encodeValue(o)},me.decode=function(json,safe){try{return hasNative&&Ext.USE_NATIVE_JSON?JSON.parse(json):doDecode(json)}catch(e){if(safe)return null;Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}},me.encodeMSDate=encodeMSDate,Ext.util||(Ext.util={}),Ext.util.JSON=me,Ext.encode=me.encode,Ext.decode=me.decode},Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(j){var i,c,d,g,e=this,h=j&&e.inheritedStateInner||e.inheritedState,b=e.getRefOwner(),a=e.isContainer;return h&&!h.invalid||(i=e.getRefOwner(),g=e.ownerLayout,b&&(d=!g||g===b.layout),e.inheritedState=h=Ext.Object.chain(i?i.getInherited(d):Ext.rootInheritedState),a&&(e.inheritedStateInner=c=Ext.Object.chain(h)),e.initInheritedState(h,c),h=a&&j?e.inheritedStateInner:e.inheritedState),h},getInheritedConfig:function(e,a){var b,c,d=this.inheritedState;return d&&!d.invalid||(d=this.getInherited()),c=d[e],a&&d.hasOwnProperty(e)&&(b=c,delete d[e],c=d[e],d[e]=b),c},resolveListenerScope:function(g,a){var b,d=this,e="boolean"==typeof a,c=Ext._namedScopes[g];return c?c.isController?b=d.getInheritedConfig("controller",e?a:!c.isSelf):c.isSelf?b=d.getInheritedConfig("defaultListenerScope",e&&a)||d:c.isThis&&(b=d):b=d.getInheritedConfig("defaultListenerScope",!e||a)||g||d,b||null},resolveSatelliteListenerScope:function(c,e){var a,d=this,b=Ext._namedScopes[e];return b?b.isController?a=d.getInheritedConfig("controller"):b.isSelf?a=d.getInheritedConfig("defaultListenerScope")||c:b.isThis&&(a=c):a=d.getInheritedConfig("defaultListenerScope")||e||d,a||null},lookupReferenceHolder:function(a){return this.getInheritedConfig("referenceHolder",!1!==a)||null},getRefOwner:function(){var a=this;return a.ownerCt||a.parent||a.$initParent||a.ownerCmp||a.floatParent},invalidateInheritedState:function(){var a=this.inheritedState;a&&(a.invalid=!0,delete this.inheritedState)},privates:{fixReference:function(){var b,a=this;a.getReference()&&(b=a.lookupReferenceHolder())&&b.attachReference(a)},onInheritedAdd:function(b,a){var c=this;c.inheritedState&&a&&c.invalidateInheritedState(),c.getReference()&&Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(b){var c,a=this;a.getReference()&&(c=a.lookupReferenceHolder())&&c.clearReference(a),a.inheritedState&&!b&&a.invalidateInheritedState()}}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}}),Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(b,a){return this.mergeSets(b,a)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(b,a){return this.mergeSets(b,a)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(d){var e=this,a=e.getReference(),b=e.getController(),c=e.getConfig("viewModel",!0),h=e.getConfig("session",!0),g=e.getDefaultListenerScope();b&&(d.controller=b),g?d.defaultListenerScope=e:b&&(d.defaultListenerScope=b),c&&(c.isViewModel||(c=e),d.viewModel=c),h&&(h.isSession||(h=e),d.session=h),a&&(e.referenceKey=(d.referencePath||"")+a,e.viewModelKey=(d.viewModelPath||"")+a)},lookupController:function(a){return this.getInheritedConfig("controller",a)||null},lookupSession:function(a){var b=a?null:this.getSession();return b||(b=this.getInheritedConfig("session",a))&&!b.isSession&&(b=b.getInherited().session=b.getSession()),b||null},lookupViewModel:function(a){var b=a?null:this.getViewModel();return b||(b=this.getInheritedConfig("viewModel",a))&&!b.isViewModel&&(b=b.getInherited().viewModel=b.getViewModel()),b||null},publishState:function(k,j){var c,a,d,l,i=this,b=i.publishedState,e=i.getBind(),h=e&&k&&e[k],g=0;if(!h||h.syncing||h.isReadOnly()||(0!==h.calls||null!=j&&j!==i.getInitialConfig()[k])&&h.setValue(j),(a=i.getPublishes())&&(d=i.lookupViewModel())&&(l=i.viewModelKey)){if(k&&b){if(!a[k])return;if(!(j&&j.constructor===Object||j instanceof Array)&&b[k]===j)return;l+=".",l+=k}else{b=b||(i.publishedState={});for(c in a)++g,b[c]=c===k?j:i[c];if(!g)return;j=b}d.set(l,j)}},privates:{addBindableUpdater:function(c){var e,b=this,d=b.self.$config.configs,a=d[c];a&&!b.hasOwnProperty(e=a.names.update)&&(b[e]=a.bindableUpdater||(a.root.bindableUpdater=b.makeBindableUpdater(a)))},applyBind:function(d,l){if(!d)return d;var h,k,c,i,g=this,j=g.lookupViewModel(),e=g.getTwoWayBindable(),a=g._getBindTemplateScope;g.$hasBinds=!0,l&&"string"!=typeof l||(l={}),Ext.isString(d)&&(h=d,d={},d[g.defaultBindProperty]=h);for(k in d)c=d[k],h=l[k],h&&"string"!=typeof h&&(h.destroy(),h=null,i=!0),c&&(h=j.bind(c,g.onBindNotify,g),h._config=Ext.Config.get(k),h.getTemplateScope=a),i?delete l[k]:l[k]=h,e&&e[k]&&(i?g.clearBindableUpdater(k):h.isReadOnly()||g.addBindableUpdater(k));return l},applyController:function(a){return a&&(a=Ext.Factory.controller(a),a.setView(this)),a},applyPublishes:function(a){if(this.lookupViewModel())for(var b in a)this.addBindableUpdater(b);return a},applySession:function(c){if(!c)return null;if(!c.isSession){var b=this.lookupSession(!0),a=!0===c?{}:c;c=b?b.spawn(a):new Ext.data.Session(a)}return c},applyViewModel:function(b){var a,c=this;return b?(b.isViewModel||(a={parent:c.lookupViewModel(!0),view:c},a.session=c.getSession(),a.parent||(a.session=c.lookupSession()),b&&(b.constructor===Object?Ext.apply(a,b):"string"==typeof b&&(a.type=b)),b=Ext.Factory.viewModel(a)),b):null},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(c){var e,b=this,d=b.self.$config.configs,a=d[c];a&&b.hasOwnProperty(e=a.names.update)&&b[e].$bindableUpdater&&delete b[e]},destroyBindable:function(){var c=this,b=c.getConfig("viewModel",!0),d=c.getConfig("session",!0),a=c.getController();b&&b.isViewModel&&(b.destroy(),c.setViewModel(null)),d&&d.isSession&&(d.getAutoDestroy()&&d.destroy(),c.setSession(null)),a&&(c.setController(null),a.destroy())},initBindable:function(){this.initBindable=Ext.emptyFn,this.getBind(),this.getPublishes()},makeBindableUpdater:function(a){var c=a.names.update,b=function(g,d){var e=this,h=e.self.prototype[c];h&&h.call(e,g,d),e.publishState(a.name,g)};return b.$bindableUpdater=!0,b},isSyncing:function(b){var c,d=this.getBind(),a=!1;return d&&(c=d[b])&&(a=c.syncing>0),a},onBindNotify:function(b,a,c){c.syncing=c.syncing+1||1,this[c._config.names.set](b),--c.syncing},removeBindings:function(){var d,a,c,b=this;if(b.$hasBinds&&(d=b.getBind())&&"string"!=typeof d)for(a in d)c=d[a],c.destroy(),c._config=c.getTemplateScope=null;b.setBind(null)},updateSession:function(b){var a=this.getInherited();b?a.session=b:delete a.session},updateViewModel:function(b){var c=this.getInherited(),a=this.getController();b?(c.viewModel=b,b.setView(this),a&&a.initViewModel(b)):delete c.viewModel}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0),Ext.cmd.derive("Ext.mixin.ComponentDelegation",Ext.Mixin,{mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(g,i,k,l,d,c,e){var b,a,h=this;g=Ext.canonicalEventName(g),d=d||l.order,d&&(l&&l.priority||(l=l?Ext.Object.chain(l):{},l.priority=h.$orderToPriority[d])),b=h.$delegatedEvents||(h.$delegatedEvents={}),a=b[g]||(b[g]=new Ext.util.Event(h,g)),a.addListener(i,k,l,c,e)&&h.$hasDelegatedListeners._incr_(g)},clearDelegatedListeners:function(){var a,c,e,d=this,b=d.$delegatedEvents;if(b)for(a in b)c=b[a],e=c.listeners.length,c.clearListeners(),d.$hasDelegatedListeners._decr_(a,e),delete b[a]},doFireDelegatedEvent:function(b,d){var a,e,g,h=this,c=!0;if(h.$hasDelegatedListeners[b])for(a=h.getRefOwner();a&&(!(e=a.$delegatedEvents)||!(g=e[b])||!1!==(c=g.fireDelegated(h,d)));)a=a.getRefOwner();return c},removeDelegatedListener:function(a,d,c){var e,g=this,b=g.$delegatedEvents;b&&(e=b[a])&&e.removeListener(d,c)&&(g.$hasDelegatedListeners._decr_(a),0===e.listeners.length&&delete b[a])},destroyComponentDelegation:function(){this.clearPropertiesOnDestroy&&(this.$delegatedEvents=null)}},onClassMixedIn:function(a){function b(){}a.prototype.HasListeners=a.HasListeners=b,b.prototype=a.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners}},0,0,0,0,0,0,[Ext.mixin,"ComponentDelegation"],function(b){function a(){}b.HasDelegatedListeners=a,a.prototype=b.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners}),Ext.cmd.derive("Ext.mixin.Pluggable",Ext.Base,function(b){var a=[];return{config:{plugins:null},addPlugin:function(e){var d=this,c=d.getPlugins();return c?(e=d.createPlugin(e),e.init(d),c.push(e)):d.setPlugins(e),e},destroyPlugin:function(c){return this.removePlugin(c,!0)},findPlugin:function(g){var e,h,d,c=this.getPlugins(),j=c&&c.length;for(e=0;e<j&&!d;e++)h=c[e],h.type!==g&&h.ptype!==g||(d=h);return d||null},getPlugin:function(j){var e,g,d,c=this.getPlugins(),h=c&&c.length;for(e=0;e<h&&!d;e++)g=c[e],g.id!==j&&g.pluginId!==j||(d=g);return d||null},removePlugin:function(g,e){for(var h,c=this.getPlugins(),d=c&&c.length||0;d-- >0;){if((h=c[d])===g||h.id===g){c.splice(d,1),e?h.destroy&&h.destroy():h.detachCmp&&(h.detachCmp(),h.setCmp&&h.setCmp(null));break}h=null}return h},privates:{statics:{idSeed:0},activatePlugin:function(h){var g,k,j=this,e=j.initialConfig,c=e&&e.plugins,d=null;if(c)for(c=a.concat(c),g=c.length;g-- >0;)if((k=c[g])===h||k.type===h){j.initialConfig=e=Ext.apply({},e),e.plugins=c,c[g]=d=j.createPlugin(k);break}return d},applyPlugins:function(d,c){var j,g,h,k=this,e=c&&c.length||0;for(d=d?a.concat(d):null,j=d&&d.length||0,g=0;g<e;++g)c[g].$dead=!0;for(g=0;g<j;++g)d[g]=k.createPlugin(d[g]);for(g=0;g<j;++g)h=d[g],h.$dead?delete h.$dead:h.init(k);for(g=0;g<e;++g)(h=c[g]).$dead&&(delete h.$dead,Ext.destroy(h));return d},createPlugin:function(d){"string"==typeof d&&(d={type:d});var c=d;return d.isInstance||(d.cmp=this,c=Ext.factory(d,null,null,"plugin"),delete d.cmp),c.id||(c.id=++b.idSeed),c.setCmp&&c.setCmp(this),c}}}},0,0,0,0,0,0,[Ext.mixin,"Pluggable"],0),Ext.cmd.derive("Ext.Widget",Ext.Evented,{alternateClassName:"Ext.Gadget",isWidget:!0,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:!0,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:!0,clearPropertiesOnDestroy:"async",noBorderCls:"x-noborder-trbl",constructor:function(b){var a,c=this;c.initId(b),c.initElement(),c.mixins.observable.constructor.call(c,b),Ext.ComponentManager.register(c),(a=c.getController())&&a.init(c)},afterCachedConfig:function(){var g,d,e,h,b,a,j=this,k=j.self.prototype,l=j.referenceList,c=j.renderElement;for(k.renderTemplate=g=document.createDocumentFragment(),g.appendChild(c.clone(!0,!0)),a=g.querySelectorAll("[id]"),e=0,h=a.length;e<h;e++)d=a[e],d.removeAttribute("id");for(e=0,h=l.length;e<h;e++)b=l[e],j[b].dom.removeAttribute("reference")},addCls:function(a){this.el.addCls(a)},applyBaseCls:function(a){var c=this.xtype;return!0===a?a=this.classCls||"x-"+c:a||(a="x-"+c),a},applyCls:function(a){return"string"==typeof a&&(a=[a]),a&&a.length||(a=null),a},applyHidden:function(a){return!!a},applyTouchAction:function(a,b){return null!=b&&(a=Ext.merge({},b,a)),a},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},updateBorder:function(a){a=a||null===a,this.el.toggleCls(this.noBorderCls,!a)},clearListeners:function(){var a=this;a.mixins.observable.clearListeners.call(a),a.mixins.componentDelegation.clearDelegatedListeners.call(a)},destroy:function(){var a=this;a.isDestroying=a.destroying=!0,a.doDestroy(),a.clearListeners(),a.isDestroying=a.destroying=!1,a.mixins.componentDelegation.destroyComponentDelegation.call(a),Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var c,d,a,e=this,b=e.referenceList;for(c=0,d=b.length;c<d;c++)a=b[c],e.hasOwnProperty(a)&&(e[a].destroy(),e[a]=null);e.destroyBindable(),Ext.ComponentManager.unregister(e)},doFireEvent:function(b,d,a){var e=this,c=e.mixins.observable.doFireEvent.call(e,b,d,a);return!1!==c&&(c=e.mixins.componentDelegation.doFireDelegatedEvent.call(e,b,d)),c},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var b=this,a=b.element;return"children"in a||(a=Ext.apply({children:b.getTemplate()},a)),a},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){for(var c,g,b,d,e=this.self.prototype,a=e;a;){if(g=a.classCls)if(g instanceof Array)for(b=0,d=g.length;b<d;b++)(c||(c=[])).push(g[b]);else(c||(c=[])).push(g);if(a.classClsRoot&&a.hasOwnProperty("classClsRoot"))break;a=a.superclass}return c&&(e.classClsList=c),c},hide:function(){this.setHidden(!0)},initElement:function(){var j,e,h,b,g,n,m,d,k,o=this,p=o.self.prototype,a=o.getId(),q=o.referenceList=o.referenceList=[],c=!0,l=!p.hasOwnProperty("renderTemplate");for(l?(c=!1,j=document.createDocumentFragment(),e=Ext.Element.create(o.processElementConfig.call(p),!0),j.appendChild(e)):(j=o.renderTemplate.cloneNode(!0),e=j.firstChild),b=j.querySelectorAll("[reference]"),g=0,n=b.length;g<n;g++)m=b[g],d=m.getAttribute("reference"),c&&m.removeAttribute("reference"),"element"===d?(m.id=a,h=o.el=o.addElementReference(d,m),h.dom.setAttribute("data-componentid",a),l&&(k=o.getClassCls())&&h.addCls(k)):o.addElementReferenceOnDemand(d,m),q.push(d);e===h.dom?o.renderElement=h:o.addElementReferenceOnDemand("renderElement",e)},is:function(a){return Ext.ComponentQuery.is(this,a)},isHidden:function(b){var a,c=!!this.getHidden();if(!c&&b)for(a=this.getRefOwner();a&&a!==b&&!(c=!!a.getHidden());)a=a.getRefOwner();return c},isVisible:function(a){return!this.isHidden(a)},isXType:function(b,a){return a?-1!==Ext.Array.indexOf(this.xtypes,b):!!this.xtypesMap[b]},lookupTpl:function(a){return Ext.XTemplate.getTpl(this,a)},removeCls:function(a){this.el.removeCls(a)},toggleCls:function(a,b){this.element.toggleCls(a,b)},resolveListenerScope:function(b,a){return this.mixins.inheritable.resolveListenerScope.call(this,b,a)},setSize:function(b,a){if(b&&"object"==typeof b)return this.setSize(b.width,b.height);void 0!==b&&this.setWidth(b),void 0!==a&&this.setHeight(a)},show:function(){this.setHidden(!1)},updateBaseCls:function(a,b){var d=this,c=d.element;b&&c.removeCls(b),a&&c.addCls(a),d.isConfiguring||d.syncUiCls()},updateCls:function(b,a){this.element.replaceCls(a,b)},updateHidden:function(b){var a=this.renderElement;a&&!a.destroyed&&(b?a.hide():a.show())},applyStyle:function(b,a){return a&&b===a&&Ext.isObject(a)&&(b=Ext.apply({},b)),b},updateStyle:function(a){this.element.applyStyles(a)},updateTouchAction:function(e){var b,a,c,d;for(b in e)a=this[b],c=e[b],a&&a.isElement?a.setTouchAction(c):d=!0;d&&this.el.setTouchAction(e)},updateUi:function(){this.syncUiCls()},updateWidth:function(a){this.element.setWidth(a)},updateHeight:function(a){this.element.setHeight(a)},up:function(d,e){var c=this.getRefOwner(),b="string"==typeof e,h="number"==typeof e,a=e&&e.isComponent,g=0;if(d)for(;c;c=c.getRefOwner()){if(g++,d.isComponent||d.isWidget){if(c===d)return c}else if(Ext.ComponentQuery.is(c,d))return c;if(b&&c.is(e))return;if(h&&g===e)return;if(a&&c===e)return}return c},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return!1},privates:{addElementReferenceOnDemand:function(a,b){this._elementListeners[a]?this.addElementReference(a,b):Ext.Object.defineProperty(this,a,{get:function(){return delete this[a],this.addElementReference(a,b)},configurable:!0})},addElementReference:function(c,e){var a,h,g=this,b=g[c]=Ext.get(e),d=g._elementListeners[c];if(b.skipGarbageCollection=!0,b.component=g,d){d=Ext.clone(d);for(a in d)"object"==typeof(h=d[a])&&(h.scope=g);d.scope=g,b.on(d)}return b},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element),this.isDetached=!0},doAddListener:function(a,k,l,n,c,b,e){var h,d,g,j=this,m=n&&n.element,i=n&&n.delegate;if(m){h={},h[a]=k,l&&(h.scope=l),d=Ext.Element.prototype.$eventOptions;for(g in n)d[g]&&(h[g]=n[g]);return void j.mon(j[m],h)}if(i)return void j.mixins.componentDelegation.addDelegatedListener.call(j,a,k,l,n,c,b,e);Ext.Evented.prototype.doAddListener.call(this,a,k,l,n,c,b,e)},doRemoveListener:function(a,c,b){var d=this;d.mixins.observable.doRemoveListener.call(d,a,c,b),d.mixins.componentDelegation.removeDelegatedListener.call(d,a,c,b)},filterLengthValue:function(a){return"auto"===a||!a&&0!==a?null:a},getFocusEl:function(){return this.element},initElementListeners:function(m){var h,k,b,j,g,l=this,d=l.self.superclass,c=d._elementListeners,e=m.reference,a=m.children;if(h=l.hasOwnProperty("_elementListeners")?l._elementListeners:l._elementListeners=c?Ext.Object.chain(c):{},e&&(k=m.listeners)&&(c&&(b=c[e])&&(k=Ext.Object.chain(b),Ext.apply(k,m.listeners)),h[e]=k,m.listeners=null),a)for(g=0,j=a.length;g<j;g++)l.initElementListeners(a[g])},initId:function(b){var c=this,a=c.config,d=b&&b.id||a&&a.id;d?(c.setId(d),c.id=d):c.getId()},processElementConfig:function(){var b,a=this,c=a.self.superclass;return a.hasOwnProperty("_elementConfig")?b=a._elementConfig:(b=a._elementConfig=a.getElementConfig(),c.isWidget&&a.processElementConfig.call(c),a.initElementListeners(b)),b},reattachToBody:function(){this.isDetached=!1},addUi:function(g){var c,b,a,d=this,e=d.getUi();if(g){for(g=g.split(" "),a=g.length,e=e&&e.split(" ")||[],c=0;c<a;c++)b=g[c],-1===e.indexOf(b)&&e.push(b);d.setUi(e.join(" "))}},removeUi:function(h){var d,b,c,a,e=this,g=e.getUi();if(h){for(h=h.split(" "),a=h.length,g=g&&g.split(" ")||[],d=0;d<a;d++)b=h[d],-1!==(c=g.indexOf(b))&&g.splice(c,1);e.setUi(g.join(" "))}},syncUiCls:function(){var a,c,k,b,l,m=this,n=m.getUi(),g=m.currentUiCls,e=m.element,h=m.getBaseCls(),o=m.classClsList,d=[];if(g&&e.removeCls(g),n){for(n=n.split(" "),c=0,k=n.length;c<k;c++)if(a="-"+n[c],h&&h!==m.classCls&&d.push(h+a),o)for(b=0,l=o.length;b<l;b++)d.push(o[b]+a);e.addCls(d),m.currentUiCls=d}},updateUserCls:function(b,a){this.element.replaceCls(a,b)}}},1,["widget"],["widget"],{widget:!0},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,Ext.mixin.Pluggable]],[Ext,"Widget",Ext,"Gadget"],function(b){var a=b.prototype;(a.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(a.$eventOptions=Ext.Object.chain(a.$eventOptions)).delegate=1}),Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},constructor:function(a){var c,b=this;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,a),b.getComponentLayout(),(c=b.getRenderTo())&&b.render(c)},addClsWithUI:function(a){this.el.addCls(a)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var a=this.getRefOwner();a&&a.updateLayout()},destroy:function(){var b=this,a=b.ownerCt;a&&a.remove&&a.remove(b,!1),(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=!1,this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var b=this,a=b.componentLayout;return a||(a=b.componentLayout=new Ext.layout.component.Auto,a.setOwner(b)),a},getEl:function(){return this.element},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(b,d,a){var c=this;c.ownerCt=b,c.onInheritedAdd(c,a)},onRemoved:function(b){var a=this;b||a.removeBindings(),a.onInheritedRemove(b),a.ownerCt=a.ownerLayout=null},parseBox:function(a){return Ext.Element.parseBox(a)},removeClsWithUI:function(a){this.el.removeCls(a)},render:function(b,a){var g,e=this,c=e.element,d=Ext.Component.prototype;if(e.ownerCt&&!e.floating||(Ext.scopeCss&&c.addCls(d.rootCls),c.addCls(d.borderBoxCls)),a&&(g=b.childNodes[a]))return void Ext.fly(b).insertBefore(c,g);Ext.fly(b).appendChild(c)},setPosition:function(a,b){this.el.setLocalXY(a,b)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(b){var a=this.ownerCt;return!!a&&(a===b||a.isLayoutChild(b))},privates:{doAddListener:function(d,h,g,c,a,b,e){"painted"!=d&&"resize"!=d||this.element.doAddListener(d,h,g||this,c,a),(arguments.callee.$previous||Ext.Evented.prototype.doAddListener).call(this,d,h,g,c,a,b,e)},doRemoveListener:function(a,c,b){"painted"!=a&&"resize"!=a||this.element.doRemoveListener(a,c,b),(arguments.callee.$previous||Ext.Evented.prototype.doRemoveListener).call(this,a,c,b)}}},function(b){var a=b.prototype;Ext.isIE9m&&(a.addElementReferenceOnDemand=a.addElementReference)}),Ext.cmd.derive("Ext.ProgressBase",Ext.Base,{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(a){return a.isTemplate||(a=new Ext.XTemplate(a)),a},applyValue:function(a){return a||0}},0,0,0,0,0,0,[Ext,"ProgressBase"],0),Ext.cmd.derive("Ext.Progress",Ext.Gadget,{alternateClassName:"Ext.ProgressBarWidget",config:{text:null,animate:!1},cachedConfig:{baseCls:"x-progress",textCls:"x-progress-text",cls:null},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateCls:function(a,c){var b=this.element;c&&b.removeCls(c),a&&b.addCls(a)},updateUi:function(e,d){var c=this.element,a=this.barEl,b=this.getBaseCls()+"-";d&&(c.removeCls(b+d),a.removeCls(b+"bar-"+d)),c.addCls(b+e),a.addCls(b+"bar-"+e)},updateBaseCls:function(b,a){this.element.addCls(b),this.barEl.addCls(b+"-bar")},updateTextCls:function(a){this.backgroundEl.addCls(a+" "+a+"-back"),this.textEl.addCls(a)},updateValue:function(e,b){var d=this,a=d.barEl,c=d.getTextTpl();c&&d.setText(c.apply({value:e,percent:Math.round(100*e)})),d.getAnimate()?(a.stopAnimation(),a.animate(Ext.apply({from:{width:100*b+"%"},to:{width:100*e+"%"}},d.animate))):a.setStyle("width",100*e+"%")},updateText:function(a){this.backgroundEl.setHtml(a),this.textEl.setHtml(a)}},0,["progress","progressbarwidget"],["widget","progress","progressbarwidget"],{widget:!0,progress:!0,progressbarwidget:!0},["widget.progress","widget.progressbarwidget"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"Progress",Ext,"ProgressBarWidget"],0),Ext.define("Ext.overrides.Progress",{override:"Ext.Progress",config:{ui:"default"},updateWidth:function(b,a){var c=this;(arguments.callee.$previous||Ext.Widget.prototype.updateWidth).call(this,b,a),b-=c.element.getBorderWidth("lr"),c.backgroundEl.setWidth(b),c.textEl.setWidth(b)}}),Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var a;return{singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},nbsp:function(c,b){return b=!1!==b,(b?""!==c&&null!=c:c)||(c=" "),c},undef:function(b){return void 0!==b?b:""},defaultValue:function(c,b){return void 0!==c&&""!==c?c:b},substr:"b"!="ab".substr(-1)?function(c,e,b){var d=String(c);return e<0?d.substr(Math.max(d.length+e,0),b):d.substr(e,b)}:function(c,d,b){return String(c).substr(d,b)},lowercase:function(b){return String(b).toLowerCase()},uppercase:function(b){return String(b).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(d,g,c,b,k){var j="",h=",0",e=0;for(d-=0,d<0&&(d=-d,j="-"),c=Ext.isDefined(c)?c:a.currencyPrecision,h+=c>0?".":"";e<c;e++)h+="0";return d=a.number(d,h),null==k&&(k=a.currencySpacer),!0===(b||a.currencyAtEnd)?Ext.String.format("{0}{1}{2}{3}",j,d,k,g||a.currencySign):Ext.String.format("{0}{1}{2}{3}",j,g||a.currencySign,k,d)},date:function(b,c){return b?(Ext.isDate(b)||(b=new Date(Date.parse(b))),Ext.Date.dateFormat(b,c||Ext.Date.defaultFormat)):""},dateRenderer:function(b){return function(c){return a.date(c,b)}},hex:function(d,c){var b=parseInt(d||0,10).toString(16);if(c)for(c<0&&(c=-c,b.length>c&&(b=b.substring(b.length-c)));b.length<c;)b="0"+b;return b},or:function(c,b){return c||b},pick:function(d,c,e){if(Ext.isNumber(d)){var b=arguments[d+1];if(b)return b}return d?e:c},lessThanElse:function(i,c,j,b,h){var d=Ext.Number.from(i,0),g=Ext.Number.from(c,0),e=!Ext.isDefined(h);return d<g?j:d>g?b:e?b:h},sign:function(e,c,b,d){return void 0===d&&(d=b),a.lessThanElse(e,0,c,b,d)},stripTags:function(b){return b?String(b).replace(a.stripTagsRe,""):b},stripScripts:function(b){return b?String(b).replace(a.stripScriptsRe,""):b},fileSize:function(){var c=1048576,d=1073741824;return function(g){return g<1024?1===g?"1 byte":g+" bytes":g<c?Math.round(10*g/1024)/10+" KB":g<d?Math.round(10*g/c)/10+" MB":Math.round(10*g/d)/10+" GB"}}(),math:function(){var b={};return function(d,c){return b[c]||(b[c]=Ext.functionFactory("v","return v "+c+";")),b[c](d)}}(),round:function(d,c){var b=Number(d);return"number"==typeof c?(c=Math.pow(10,c),b=Math.round(d*c)/c):void 0===c&&(b=Math.round(b)),b},number:function(m,g){if(!g)return m;if(isNaN(m))return"";var e=a.formatFns[g];if(!e){var c,k,l,o,b,i,j=g,p=a.thousandSeparator,n=a.decimalSeparator,h=0,d="";"/i"===g.substr(g.length-2)?(a.I18NFormatCleanRe&&a.lastDecimalSeparator===n||(a.I18NFormatCleanRe=new RegExp("[^\\d\\"+n+"#]","g"),a.lastDecimalSeparator=n),g=g.substr(0,g.length-2),c=-1!==g.indexOf(p),k=g.replace(a.I18NFormatCleanRe,"").split(n)):(c=-1!==g.indexOf(","),k=g.replace(a.formatCleanRe,"").split(".")),l=g.replace(a.formatPattern,""),k.length>2||2===k.length&&(h=k[1].length,(o=k[1].match(a.hashRe))&&(i=o[0].length,d='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+i+'}$")')),b=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(c?",thousandSeparator,thousands=[],j,n,i":"")+(l?',formatString="'+g+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+h+");",d,";"],c?(h&&(b[b.length]='parts=fnum.split(".");',b[b.length]="fnum=parts[0];"),b[b.length]="if(absVal>=1000) {",b[b.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",h&&(b[b.length]="fnum += utilFormat.decimalSeparator+parts[1];")):h&&(b[b.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),b[b.length]='if(neg&&fnum!=="'+(h?"0."+Ext.String.repeat("0",h):"0")+'") { fnum="-"+fnum; }',o&&(b[b.length]='fnum=fnum.replace(trailingZeroes,"");'),b[b.length]="return ",b[b.length]=l?"formatString.replace(formatPattern, fnum);":"fnum;",b[b.length]="};",e=a.formatFns[j]=Ext.functionFactory("Ext",b.join(""))(Ext)}return e(m)},numberRenderer:function(b){return function(c){return a.number(c,b)}},percent:function(c,b){return a.number(100*c,b||"0")+a.percentSign},attributes:function(c){if("object"==typeof c){var d,b=[];for(d in c)c.hasOwnProperty(d)&&b.push(d,'="',"style"===d?Ext.DomHelper.generateStyles(c[d],null,!0):Ext.htmlEncode(c[d]),'" ');c=b.join("")}return c||""},plural:function(d,c,b){return d+" "+(1===d?c:b||c+"s")},nl2br:function(b){
return Ext.isEmpty(b)?"":b.replace(a.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(c){if("number"==typeof(c=c||0))return{top:c,right:c,bottom:c,left:c};var d=c.split(" "),b=d.length;return 1===b?d[1]=d[2]=d[3]=d[0]:2===b?(d[2]=d[0],d[3]=d[1]):3===b&&(d[3]=d[1]),{top:parseInt(d[0],10)||0,right:parseInt(d[1],10)||0,bottom:parseInt(d[2],10)||0,left:parseInt(d[3],10)||0}},uri:function(b){return encodeURI(b)},uriCmp:function(b){return encodeURIComponent(b)},wordBreakRe:/[\W\s]+/,word:function(e,c,b){var d=b?"string"==typeof b?new RegExp(b):b:a.wordBreakRe;return(e||"").split(d)[c||0]||""}}},1,0,0,0,0,0,[Ext.util,"Format"],0),Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(b,a){return b=Ext.getDom(b),new this(b.value||b.innerHTML,a||"")}},useEval:Ext.isGecko,constructor:function(d){var c,h,g=this,b=arguments,a=[],e=b.length;if(g.initialConfig={},1===e&&Ext.isArray(d)&&(b=d,e=b.length),e>1)for(c=0;c<e;c++)h=b[c],"object"==typeof h?(Ext.apply(g.initialConfig,h),Ext.apply(g,h)):a.push(h);else a.push(d);g.html=a.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(a){var b=this;return b.compiled?(b.fn||b.compile(),b.fn(a).join("")):b.evaluate(a)},evaluate:function(a){function d(k,j,i,l,h){return null!=i&&""!==i||(i=j),l&&c?(h=h?[a[i]].concat(Ext.functionFactory("return ["+h+"];")()):[a[i]],"this."===l.substr(0,5)?b[l.substr(5)].apply(b,h):e[l]?e[l].apply(e,h):k):void 0!==a[i]?a[i]:""}var g=this,c=!g.disableFormats,e=Ext.util.Format,b=g;return g.html.replace(g.tokenRe,d)},applyOut:function(a,b){var c=this;return c.compiled?(c.fn||c.compile(),b.push.apply(b,c.fn(a))):b.push(c.apply(a)),b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,c){var b=this;return b.html=a,b.compiled=!!c,b.fn=null,b},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a,b=this;return a=b.html.replace(b.compileARe,"\\\\").replace(b.compileBRe,"\\n").replace(b.compileCRe,"\\'").replace(b.tokenRe,b.regexReplaceFn.bind(b)),a=(!0!==this.disableFormats?"var fm=Ext.util.Format;":"")+(b.useEval?"$=":"return")+" function(v){return ['"+a+"'];};",b.fn=b.useEval?b.evalCompiled(a):new Function("Ext",a)(Ext),b.compiled=!0,b},evalCompiled:function($){return eval($),$},regexReplaceFn:function(d,c,b,e,a){if(null==c||""===c?c='"'+b+'"':this.stringFormat&&(c=parseInt(c)+1),e&&!0!==this.disableFormats){if(a=a?","+a:"","this."===e.substr(0,5))e+="(";else{if(!Ext.util.Format[e])return d;e="fm."+e+"("}return"',"+e+"v["+c+"]"+a+"),'"}return"',v["+c+"] == undefined ? '' : v["+c+"],'"},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(b,d,a,e){var c=Ext.DomHelper.insertHtml(b,Ext.getDom(d),this.apply(a));return e?Ext.get(c):c},overwrite:function(c,a,d){var b=Ext.DomHelper.overwrite(Ext.getDom(c),this.apply(a));return d?Ext.get(b):b}},1,0,0,0,0,0,[Ext,"Template"],function(d){var c=/\{\d+\}/,a=function(g){return c.test(g)?(g=new d(g,b),function(){return g.apply(arguments)}):function(){return g}},b={useFormat:!1,compiled:!0,stringFormat:!0},e={};Ext.String.format=Ext.util.Format.format=function(h){return(e[h]||(e[h]=a(h))).apply(this,arguments)},Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}),Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(n){var e,d,j,o,h,k,i,v,u,b,g,a,l,w=this,q=n.length,p={elseif:"elif"},r=w.topRe,c=w.actionsRe;for(w.level=0,w.stack=d=[],e=0;e<q;e=b){if(r.lastIndex=e,!(o=r.exec(n))){w.doText(n.substring(e,q));break}if(u=o.index,b=r.lastIndex,e<u&&(j=n.substring(e,u),l&&""===Ext.String.trim(j)||w.doText(j)),l=!1,o[1])b=n.indexOf("%}",u+2),w.doEval(n.substring(u+2,b)),b+=2;else if(o[2])b=n.indexOf("]}",u+2),w.doExpr(n.substring(u+2,b)),b+=2;else if(o[3])w.doTag(o[3]);else if(o[4]){for(g=null;null!==(v=c.exec(o[4]));)(j=v[2]||v[3])&&(j=Ext.String.htmlDecode(j),h=v[1],h=p[h]||h,g=g||{},k=g[h],"string"==typeof k?g[h]=[k,j]:k?g[h].push(j):g[h]=j);g?g.if?(w.doIf(g.if,g),d.push({type:"if"})):g.switch?(w.doSwitch(g.switch,g),d.push({type:"switch"}),l=!0):g.case?w.doCase(g.case,g):g.elif?w.doElseIf(g.elif,g):g.for?(++w.level,(a=w.propRe.exec(o[4]))&&(g.propName=a[1]||a[2]),w.doFor(g.for,g),d.push({type:"for",actions:g})):g.foreach?(++w.level,(a=w.propRe.exec(o[4]))&&(g.propName=a[1]||a[2]),w.doForEach(g.foreach,g),d.push({type:"foreach",actions:g})):g.exec&&(w.doExec(g.exec,g),d.push({type:"exec",actions:g})):w.elseRe.test(o[4])?w.doElse():w.defaultRe.test(o[4])?w.doDefault():(w.doTpl(),d.push({type:"tpl"}))}else 5===o[0].length?d.push({type:"tpl"}):(i=d.pop(),w.doEnd(i.type,i.actions),"for"!=i.type&&"foreach"!=i.type||--w.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0),Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){var c=this,b=c.generate(a);return c.useEval?c.evalTpl(b):new Function("Ext",b)(Ext)},generate:function(a){var c,d=this,b="var fm=Ext.util.Format,ts=Object.prototype.toString;";return d.maxLevel=0,d.body=["var c0=values, a0="+d.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],d.definitions?"string"==typeof d.definitions?d.definitions=[d.definitions,b]:d.definitions.push(b):d.definitions=[b],d.switches=[],d.parse(a),d.definitions.push((d.useEval?"$=":"return")+" function ("+d.fnArgs+") {",d.body.join(""),"}"),c=d.definitions.join("\n"),d.definitions.length=d.body.length=d.switches.length=0,delete d.definitions,delete d.body,delete d.switches,c},doText:function(c){var b=this,a=b.body;c=c.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n"),b.useIndex?a.push("out[out.length]='",c,"'\n"):a.push("out.push('",c,"')\n")},doExpr:function(b){var a=this.body;a.push("if ((v="+b+") != null) out"),this.useIndex?a.push("[out.length]=v+''\n"):a.push(".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(b,c){var a=this;"."===b?a.body.push("if (values) {\n"):a.propNameRe.test(b)?a.body.push("if (",a.parseTag(b),") {\n"):a.body.push("if (",a.addFn(b),a.callFn,") {\n"),c.exec&&a.doExec(c.exec)},doElseIf:function(b,c){var a=this;"."===b?a.body.push("else if (values) {\n"):a.propNameRe.test(b)?a.body.push("} else if (",a.parseTag(b),") {\n"):a.body.push("} else if (",a.addFn(b),a.callFn,") {\n"),c.exec&&a.doExec(c.exec)},doSwitch:function(c){var a,b=this;"."===c||"#"===c?(a="."===c?"values":"xindex",b.body.push("switch (",a,") {\n")):b.propNameRe.test(c)?b.body.push("switch (",b.parseTag(c),") {\n"):b.body.push("switch (",b.addFn(c),b.callFn,") {\n"),b.switches.push(0)},doCase:function(e){var a,b,d=this,c=Ext.isArray(e)?e:[e],g=d.switches.length-1;for(d.switches[g]?d.body.push("break;\n"):d.switches[g]++,b=0,g=c.length;b<g;++b)a=d.intRe.exec(c[b]),c[b]=a?a[1]:"'"+c[b].replace(d.aposRe,"\\'")+"'";d.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;a.switches[b]?a.body.push("break;\n"):a.switches[b]++,a.body.push("default:\n")},doEnd:function(b,d){var c=this,a=c.level-1;"for"==b||"foreach"==b?(d.exec&&c.doExec(d.exec),c.body.push("}\n"),c.body.push("parent=p",a,";values=r",a+1,";xcount=n"+a+";xindex=i",a,"+1;xkey=k",a,";\n")):"if"!=b&&"switch"!=b||c.body.push("}\n")},doFor:function(e,h){var c,g,d=this,b=d.level,a=b-1;c="."===e?"values":d.propNameRe.test(e)?d.parseTag(e):d.addFn(e)+d.callFn,d.maxLevel<b&&(d.maxLevel=b,d.body.push("var ")),g="."==e?"c"+b:"a"+a+"?c"+a+"[i"+a+"]:c"+a,d.body.push("i",b,"=0,n",b,"=0,c",b,"=",c,",a",b,"=",d.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",g,"\n","if (c",b,"){if(a",b,"){n",b,"=c",b,".length;}else if (c",b,".isMixedCollection){c",b,"=c",b,".items;n",b,"=c",b,".length;}else if(c",b,".isStore){c",b,"=c",b,".data.items;n",b,"=c",b,".length;}else{c",b,"=[c",b,"];n",b,"=1;}}\n","for (xcount=n",b,";i",b,"<n"+b+";++i",b,"){\n","values=c",b,"[i",b,"]"),h.propName&&d.body.push(".",h.propName),d.body.push("\n","xindex=i",b,"+1\n"),h.between&&d.body.push('if(xindex>1){ out.push("',h.between,'"); } \n')},doForEach:function(e,h){var c,g,d=this,b=d.level,a=b-1;c="."===e?"values":d.propNameRe.test(e)?d.parseTag(e):d.addFn(e)+d.callFn,d.maxLevel<b&&(d.maxLevel=b,d.body.push("var ")),g="."==e?"c"+b:"a"+a+"?c"+a+"[i"+a+"]:c"+a,d.body.push("i",b,"=-1,n",b,"=0,c",b,"=",c,",a",b,"=",d.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",g,"\n","for(k",b," in c",b,"){\n","xindex=++i",b,"+1;\n","xkey=k",b,";\n","values=c",b,"[k",b,"];"),h.propName&&d.body.push(".",h.propName),h.between&&d.body.push('if(xindex>1){ out.push("',h.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(d,e){var c=this,a="f"+c.definitions.length,b=c.guards[c.strict?0:1];c.definitions.push("function "+a+"("+c.fnArgs+") {",b.doTry," var $v = values; with($v) {","  "+d," }",b.doCatch,"}"),c.body.push(a+c.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(a){var d=this,b="f"+d.definitions.length,c=d.guards[d.strict?0:1];return"."===a?d.definitions.push("function "+b+"("+d.fnArgs+") {"," return values","}"):".."===a?d.definitions.push("function "+b+"("+d.fnArgs+") {"," return parent","}"):d.definitions.push("function "+b+"("+d.fnArgs+") {",c.doTry," var $v = values; with($v) {","  return("+a+")"," }",c.doCatch,"}"),b},parseTag:function(b){var e,i,d,g,c,h=this,a=h.tagRe.exec(b);return a?(e=a[1],i=a[2],d=a[3],g=a[4],"."==e?(h.validTypes||(h.definitions.push("var validTypes={string:1,number:1,boolean:1};"),h.validTypes=!0),c='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):c="#"==e?"xindex":"$"==e?"xkey":"parent."==e.substr(0,7)?e:isNaN(e)&&-1==e.indexOf("-")&&-1!=e.indexOf(".")?"values."+e:"values['"+e+"']",g&&(c="("+c+g+")"),i&&h.useFormat?(d=d?","+d:"","this."!=i.substr(0,5)?i="fm."+i+"(":i+="(",i+c+d+")"):c):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey",a.callFn=".call(this,"+a.fnArgs+")"}),Ext.cmd.derive("Ext.XTemplate",Ext.Template,{isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(a,b,c,d){return this.applyOut(a,[],b,c,d).join("")},applyOut:function(a,b,d,h,j){var c,g=this;if(g.fn||(c=new Ext.util.XTemplateCompiler({useFormat:!0!==g.disableFormats,definitions:g.definitions,strict:g.strict}),g.fn=c.compile(g.html)),h=h||1,j=j||1,g.strict)g.fn(b,a,d||g.emptyObj,h,j);else try{g.fn(b,a,d||g.emptyObj,h,j)}catch(i){}return b},compile:function(){return this},statics:{getTpl:function(b,d){var a,c=b[d];if(c&&!c.isTemplate){if(c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c),b.hasOwnProperty(d))a=b;else for(a=b.self.prototype;a&&!a.hasOwnProperty(d);a=a.superclass);a[d]=c,c.owner=a}return c||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0),Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var a=this;a.isInstance||(Ext.app.EventDomain.instances[a.type]=a),a.bus={},a.monitoredClasses=[]},dispatch:function(j,n,l){n=Ext.canonicalEventName(n);var e,c,b,d,p,h,g,a,m=this,k=m.bus,o=k[n];if(!o)return!0;for(e in o)if(o.hasOwnProperty(e)&&m.match(j,e,m.controller)){c=o[e];for(b in c)if(c.hasOwnProperty(b)&&(d=c[b],d.controller.isActive()))for(p=d.list,h=p.length,g=0;g<h;g++)if(a=p[g],!1===a.fire.apply(a,l))return!1}return!0},listen:function(d,n){var s,k,t,r,b,c,a,p,o,u,g,w=this,m=w.bus,h=w.idProperty,j=w.monitoredClasses,e=j.length,l=n.getId(),v="component"===w.type,q=v?n.getRefMap():null;for(r in d)if(o=d[r],v&&(r=q[r]||r),o){h&&(r="*"===r?r:r.substring(1));for(u in o){for(b=null,c=o[u],a=n,u=Ext.canonicalEventName(u),p=new Ext.util.Event(n,u),Ext.isObject(c)&&(b=c,c=b.fn,a=b.scope||n,delete b.fn,delete b.scope),"string"==typeof c&&(c=a[c]),p.addListener(c,a,b),s=0;s<e;++s)(g=j[s].hasListeners)&&g._incr_(u);k=m[u]||(m[u]={}),k=k[r]||(k[r]={}),t=k[l]||(k[l]={controller:n,list:[]}),t.list.push(p)}}},match:function(c,a){var b=this.idProperty;return!!b&&("*"===a||c[b]===a)},monitor:function(c){var b=this,a=c.isInstance?c:c.prototype,d=a.doFireEvent;b.monitoredClasses.push(c),a.doFireEvent=function(i,g){var e,h=this;return e=d.apply(h,arguments),!1===e||h.destroyed||h.isSuspended(i)||(e=b.dispatch(h,i,g)),e}},unlisten:function(d){var b,o,s,m,q,e,p,k,h,c,g,n=this.bus,a=d,r=this.monitoredClasses,l=r.length;d.isController&&(a=d.getId());for(o in n)if(o=Ext.canonicalEventName(o),n.hasOwnProperty(o)&&(p=n[o]))for(e in p)if(b=p[e],(c=b[a])&&(s=c.list)){for(k=0,m=s.length;k<m;++k)for(q=s[k],q.clearListeners(),h=0;h<l;++h)(g=r[h].hasListeners)&&g._decr_(q.name);delete b[a]}},destroy:function(){this.monitoredClasses=this.bus=null,this.callParent()}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0),Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:!0,type:"component",constructor:function(){this.callParent(),this.monitor(Ext.Widget)},dispatch:function(g,d,c){for(var e,a,b=g.lookupController(!1);b;){if((e=b.compDomain)&&!1===e.dispatch(g,d,c))return!1;a=b.getView(),b=a?a.lookupController(!0):null}return this.callParent(arguments)},match:function(b,a){return b.is(a)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0),Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var b=Ext.String.splitWords,a=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(d){var c,e,g=this;d&&(Ext.apply(g,d),c=g.cls,e=g.style,delete g.cls),g.classList=c?b(c):[],g.classMap=c?a(g.classList):{},e&&("string"==typeof e?g.style=Ext.Element.parseStyles(e):Ext.isFunction(e)?(g.styleFn=e,delete g.style):g.style=Ext.apply({},e))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(n){if(!n)return this;for(var k,l=this,m="string"==typeof n?b(n):n,e=m.length,j=l.classList,d=l.classMap,g=l.flushClassList,h=0;h<e;++h)k=m[h],d[k]||(d[k]=!0,j.push(k),g&&(g.push(k),delete l.removedClasses[k]));return l},hasCls:function(c){return c in this.classMap},removeCls:function(o){var h,m,n=this,l=n.classList,g=n.classList=[],j=a(b(o)),e=l.length,d=n.classMap,k=n.removedClasses;for(h=0;h<e;++h)m=l[h],j[m]?(k&&d[m]&&(k[m]=!0,Ext.Array.remove(n.flushClassList,m)),delete d[m]):g.push(m);return n},setStyle:function(g,e){var d=this,c=d.style||(d.style={});return"string"==typeof g?1===arguments.length?d.setStyle(Ext.Element.parseStyles(g)):c[g]=e:Ext.apply(c,g),d},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(h){var c,e=this,g=e.flushClassList||e.classList,d=e.removedClasses;return e.styleFn?(c=Ext.apply({},e.styleFn()),Ext.apply(c,e.style)):c=e.style,h[e.clsProp]=g.join(" "),c&&(h[e.styleProp]=e.styleIsText?Ext.DomHelper.generateStyles(c,null,!0):c),d&&(d=Ext.Object.getKeys(d),d.length&&(h[e.removedProp]=d.join(" "))),e.unselectableAttr&&(h.unselectable="on"),h}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0),Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:!1,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0),Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var c,e=null,d=document,b=/(-[a-z])/gi,a=function(g,h){return h.charAt(1).toUpperCase()};return{singleton:!0,rules:e,initialized:!1,constructor:function(){c=this},createStyleSheet:function(i,k){var h,g=d.getElementsByTagName("head")[0],j=d.createElement("style");return j.setAttribute("type","text/css"),k&&j.setAttribute("id",k),h=j.styleSheet,h?(g.appendChild(j),h.cssText=i):(j.appendChild(d.createTextNode(i)),g.appendChild(j),h=j.sheet),c.cacheStyleSheet(h),h},removeStyleSheet:function(g){var h="string"==typeof g?d.getElementById(g):g.ownerNode;h&&h.parentNode.removeChild(h)},swapStyleSheet:function(i,g){var h;c.removeStyleSheet(i),h=d.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("id",i),h.setAttribute("href",g),d.getElementsByTagName("head")[0].appendChild(h)},cacheStyleSheet:function(m){e||(e=c.rules={});try{var o,k,p=m.cssRules||m.rules,l=p.length-1,h=m.imports,g=h?h.length:0;for(k=0;k<g;++k)c.cacheStyleSheet(h[k]);for(;l>=0;--l)o=p[l],o.styleSheet&&c.cacheStyleSheet(o.styleSheet),c.cacheRule(o,m)}catch(n){}},cacheRule:function(h,l){if(h.styleSheet)return c.cacheStyleSheet(h.styleSheet);var i,g,k=h.selectorText;if(k)for(k=k.split(","),i=k.length,g=0;g<i;g++)e[Ext.String.trim(k[g]).toLowerCase()]={parentStyleSheet:l,cssRule:h}},getRules:function(i){var g,h={};(null===e||i)&&c.refreshCache();for(g in e)h[g]=e[g].cssRule;return h},refreshCache:function(){var j=d.styleSheets,h=0,g=j.length;for(e=c.rules={};h<g;h++)try{j[h].disabled||c.cacheStyleSheet(j[h])}catch(k){}},getRule:function(h,k,j){var l,g;if(e&&!k||c.refreshCache(),!Ext.isArray(h))return g=e[h.toLowerCase()],g&&!j&&(g=g.cssRule),g||null;for(l=0;l<h.length;l++)if(e[h[l]])return j?e[h[l].toLowerCase()]:e[h[l].toLowerCase()].cssRule;return null},createRule:function(l,h,j){var g,k=l.cssRules||l.rules,i=k.length;return l.insertRule?l.insertRule(h+" {"+j+"}",i):l.addRule(h,j||" "),c.cacheRule(g=k[i],l),g},updateRule:function(g,l,k){var m,h,j;if(Ext.isArray(g)){for(h=0;h<g.length;h++)if(c.updateRule(g[h],l,k))return!0}else if(m=c.getRule(g)){if(2===arguments.length){j=Ext.Element.parseStyles(l);for(l in j)m.style[l.replace(b,a)]=j[l]}else m.style[l.replace(b,a)]=k;return!0}return!1},deleteRule:function(g){var j,h,i=c.getRule(g,!1,!0);i&&(j=i.parentStyleSheet,h=Ext.Array.indexOf(j.cssRules||j.rules,i.cssRule),j.deleteRule?j.deleteRule(h):j.removeRule(h),delete e[g])}}},1,0,0,0,0,0,[Ext.util,"CSS"],0),Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){return this.initConfig(a),this},applyStartTime:function(a){return a||(a=Ext.Date.now()),a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0),Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();return a>b?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+a/b*this.distance}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0),Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a),this.position={x:0,y:0}},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){this.getEasingX()||this.setEasingX(this.factoryEasing(a)),this.getEasingY()||this.setEasingY(this.factoryEasing(a))},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},doTranslate:function(a,b){this.hasListeners.translate&&this.fireEvent("translate",this,a,b)},translate:function(a,c,b){if(b)return this.translateAnimated(a,c,b);this.isAnimating&&this.stopAnimation(),isNaN(a)||"number"!=typeof a||(this.x=a),isNaN(c)||"number"!=typeof c||(this.y=c),this.doTranslate(a,c)},translateAxis:function(b,d,c){var a,e;return"x"==b?a=d:e=d,this.translate(a,e,c)},getPosition:function(){var b=this,a=b.position;return a.x=-b.x,a.y=-b.y,a},animate:function(b,a){return this.activeEasingX=b,this.activeEasingY=a,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(b,i,g){var e=this;Ext.isObject(g)||(g={}),e.isAnimating&&e.stopAnimation(),e.callback=g.callback,e.callbackScope=g.scope;var d=Ext.Date.now(),h=g.easing,c="number"==typeof b?g.easingX||h||e.getEasingX()||!0:null,a="number"==typeof i?g.easingY||h||e.getEasingY()||!0:null;return c&&(c=e.factoryEasing(c),c.setStartTime(d),c.setStartValue(e.x),c.setEndValue(b),"duration"in g&&c.setDuration(g.duration)),a&&(a=e.factoryEasing(a),a.setStartTime(d),a.setStartValue(e.y),a.setEndValue(i),"duration"in g&&a.setDuration(g.duration)),e.animate(c,a)},doAnimationFrame:function(){var a,g,e=this,c=e.activeEasingX,b=e.activeEasingY,d=Date.now();if(e.isAnimating){if(e.lastRun=d,null===c&&null===b)return void e.stopAnimation();null!==c?(e.x=a=Math.round(c.getValue()),c.isEnded&&(e.activeEasingX=null,e.fireEvent("axisanimationend",e,"x",a))):a=e.x,null!==b?(e.y=g=Math.round(b.getValue()),b.isEnded&&(e.activeEasingY=null,e.fireEvent("axisanimationend",e,"y",g))):g=e.y,e.lastX===a&&e.lastY===g||(e.doTranslate(a,g),e.lastX=a,e.lastY=g),e.fireEvent("animationframe",e,a,g)}},stopAnimation:function(){var a=this;a.isAnimating&&(a.activeEasingX=null,a.activeEasingY=null,a.isAnimating=!1,Ext.AnimationQueue.stop(a.doAnimationFrame,a),a.destroying||(a.fireEvent("animationend",a,a.x,a.y),a.callback&&(a.callback.call(a.callbackScope),a.callback=null)))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){var a=this;a.destroying=!0,a.isAnimating&&a.stopAnimation(),Ext.Evented.prototype.destroy.call(this),a.destroying=!1,a.destroyed=!0}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0),Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0),Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",constructor:function(a){a&&a.element&&(this.x=a.element.getScrollLeft(),this.y=a.element.getScrollTop()),Ext.util.translatable.Dom.prototype.constructor.call(this,a)},translateAnimated:function(){var a=this.getElement();this.x=a.getScrollLeft(),this.y=a.getScrollTop(),Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(a,c){var b=this.getElement();b.setScrollLeft(Math.round(a)),b.setScrollTop(Math.round(c))},getPosition:function(){var c=this,a=c.position,b=c.getElement();return a.x=b.getScrollLeft(),a.y=b.getScrollTop(),a}},1,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0),Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"scroller"},isScroller:!0,config:{direction:void 0,element:void 0,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:!0,y:!0,scrollElement:null,size:null,spacerXY:null},snappableCls:"x-scroller-snappable",elementCls:"x-scroller",spacerCls:"x-scroller-spacer",noScrollbarsCls:"x-no-scrollbars",statics:{create:function(a,b){return Ext.Factory.scroller(a,b)},getScrollingElement:function(){var c,b,e=document,a=this.$standardScrollElement;return e.scrollingElement||(void 0===a&&(c=document.createElement("iframe"),c.style.height="1px",document.body.appendChild(c),b=c.contentWindow.document,b.write('<!DOCTYPE html><div style="height:9999em">x</div>'),b.close(),a=b.documentElement.scrollHeight>b.body.scrollHeight,c.parentNode.removeChild(c),this.$standardScrollElement=a),a?e.documentElement:e.body)}},constructor:function(a){var b=this;b.position={x:0,y:0},Ext.Evented.prototype.constructor.call(this,a),b.onDomScrollEnd=Ext.Function.createBuffered(b.onDomScrollEnd,100,b)},destroy:function(){var a=this;a.setX(Ext.emptyString),a.setY(Ext.emptyString),a.setElement(null),a.setScrollElement(null),a.onDomScrollEnd=a._partners=a.component=null,a._translatable&&(a._translatable.destroy(),a._translatable=null),a.removeSnapStylesheet(),Ext.Evented.prototype.destroy.call(this)},addPartner:function(d,b){var c=this,e=c._partners||(c._partners={}),a=d._partners||(d._partners={});e[d.getId()]={scroller:d,axis:b},a[c.getId()]={scroller:c,axis:b}},applyElement:function(b,a){var c,e,g,d=this;if(a&&d.scrollListener.destroy(),b)return c=b.isElement?b:Ext.get(b),c.dom===document.documentElement||c.dom===document.body?(e=Ext.getWin(),g=Ext.scroll.Scroller.getScrollingElement()):g=e=c,d.setScrollElement(Ext.get(g)),d.scrollListener=e.on({scroll:d.onDomScroll,scope:d,destroyable:!0}),c},applySize:function(b,c){var a,d;return null===b||"number"==typeof b?a=d=b:b&&(a=b.x,d=b.y),null===a?a=0:void 0===a&&(a=c?c.x:0),null===d?d=0:void 0===d&&(d=c?c.y:0),{x:a,y:d}},getClientSize:function(){var a=this.getElement().dom;return{x:a.clientWidth,y:a.clientHeight}},getScrollbarSize:function(){var d,j,i,h,c,a,g=this,b=0,k=0,e=g.getElement();return e&&!e.destroyed&&(j=g.getX(),i=g.getY(),d=e.dom,(j||i)&&(a=Ext.getScrollbarSize()),"scroll"===j?h=!0:j&&(h=d.scrollWidth>d.clientWidth),"scroll"===i?c=!0:i&&(c=d.scrollHeight>d.clientHeight),h&&(k=a.height),c&&(b=a.width)),{width:b,height:k}},getPosition:function(){var a=this;return a.positionDirty&&a.updateDomScrollPosition(),a.position},getSize:function(){var a,c,b=this.getElement();return b&&!b.destroyed?(c=b.dom,a={x:c.scrollWidth,y:c.scrollHeight}):a={x:0,y:0},a},getMaxPosition:function(){var c,b=this.getElement(),a=0,d=0;return b&&!b.destroyed&&(c=b.dom,a=c.scrollWidth-c.clientWidth,d=c.scrollHeight-c.clientHeight),{x:a,y:d}},getMaxUserPosition:function(){var d,c=this,b=c.getElement(),a=0,e=0;return b&&!b.destroyed&&(d=b.dom,c.getX()&&(a=d.scrollWidth-d.clientWidth),c.getY()&&(e=d.scrollHeight-d.clientHeight)),{x:a,y:e}},refresh:function(){return this.positionDirty=!0,this.fireEvent("refresh",this),this},removePartner:function(b){var c=this._partners,a=b._partners;c&&delete c[b.getId()],a&&delete a[this.getId()]},scrollBy:function(c,b,d){var a=this.getPosition();return c&&(c.length?(d=b,b=c[1],c=c[0]):"number"!=typeof c&&(d=b,b=c.y,c=c.x)),c="number"==typeof c?c+a.x:null,b="number"==typeof b?b+a.y:null,this.doScrollTo(c,b,d)},scrollIntoView:function(d,e,b,h){var g,a,k,j=this,i=j.getPosition(),c=j.getElement();d&&(g=Ext.fly(d).getScrollIntoViewXY(c,i.x,i.y),a=!1===e?i.x:g.x,k=g.y,k!==i.y||a!==i.x?(h&&j.on({scrollend:"doHighlight",scope:j,single:!0,args:[d,h]}),j.doScrollTo(a,k,b)):h&&j.doHighlight(d,h))},isInView:function(a){return this.doIsInView(a)},scrollTo:function(a,d,b){var c;a&&(a.length?(b=d,d=a[1],a=a[0]):"number"!=typeof a&&(b=d,d=a.y,a=a.x)),(a<0||d<0)&&(c=this.getMaxPosition(),a<0&&(a+=c.x),d<0&&(d+=c.y)),this.doScrollTo(a,d,b)},updateDirection:function(c){var a,d,b=this;c?("auto"===c?(a=!0,d=!0):"vertical"===c?(a=!1,d=!0):"horizontal"===c?(a=!0,d=!1):"both"===c&&(a="scroll",d="scroll"),b.setX(a),b.setY(d)):(a=b.getX(),d=b.getY(),a&&d?c="scroll"===d&&"scroll"===a?"both":"auto":d?c="vertical":a&&(c="horizontal"),b._direction=c)},updateScrollbars:function(a,b){this.syncScrollbarCls()},updateSize:function(d){var b,e=this,c=e.getElement(),a=d.x,g=d.y;c&&(e.positionDirty=!0,b=e.getSpacer(),a||g?(a>0&&(a-=1),g>0&&(g-=1),e.setSpacerXY({x:a,y:g}),b.show()):b.hide())},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(a){var b=this;b.initXStyle(),b.initYStyle(),a.addCls(b.elementCls),b.initSnap(),b.initMsSnapInterval(),b.syncScrollbarCls()},updateX:function(a){this.initXStyle()},updateY:function(a){this.initYStyle()},deprecated:{5:{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(a){return this.scrollTo(0,0,a)},scrollToEnd:function(a){return this.scrollTo(1/0,1/0,a)}}}},privates:{getSpacer:function(){var b,c=this,a=c._spacer;return a||(b=c.getElement(),a=c._spacer=b.createChild({cls:c.spacerCls,role:"presentation"},b.dom.firstChild),a.setVisibilityMode(2),a.hide(),b.position()),a},applySpacerXY:function(b,a){return a&&b.x===a.x&&b.y===a.y&&(b=void 0),b},updateSpacerXY:function(g){var d,c=this,a=c.getSpacer(),e=a.dom.style,b=g.y;e.marginTop="",c.translateSpacer(g.x,c.constrainScrollRange(b)),e.lineHeight=Number(!parseInt(e.lineHeight,10))+"px",(d=b-c.getElement().dom.scrollHeight)>0&&(e.marginTop=Math.min(d,c.maxSpacerMargin||0)+"px")},translateSpacer:function(a,b){this.getSpacer().translate(a,b)},doIsInView:function(d,g){var h,b,e=this,j=e.component,a={x:!1,y:!1},i=e.getElement();return d&&(g||i.contains(d)||j&&j.owns(d))&&(b=i.getRegion(),h=Ext.fly(d).getRegion(),a.x=h.right>b.left&&h.left<b.right,a.y=h.bottom>b.top&&h.top<b.bottom),a},constrainScrollRange:function(c){if(c<1e6)return c;if(!this.maxSpacerTranslate){var b=Math.pow(2,32),h=b,e=500,a=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,!0),d=Ext.get(a.firstChild),g=d.dom.style;for(d.translate(0,b-1),g.lineHeight=Number(!parseInt(g.lineHeight,10))+"px";h!==e+1;)d.translate(0,b=e+Math.floor((h-e)/2)),g.lineHeight=Number(!parseInt(g.lineHeight,10))+"px",a.scrollHeight<b?h=b:e=b;for(d.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=e),h=2*e;h!==e+1;)d.dom.style.marginTop=(b=e+Math.floor((h-e)/2))+"px",g.lineHeight=Number(!parseInt(g.lineHeight,10))+"px",a.scrollHeight<b?h=b:e=b;Ext.fly(a).destroy(),Ext.scroll.Scroller.prototype.maxSpacerMargin=e-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(c,this.maxSpacerTranslate)},convertX:function(a){return a},doHighlight:function(b,a){!0!==a?Ext.fly(b).highlight(a):Ext.fly(b).highlight()},doScrollTo:function(k,j,a){var e,b,l,g,h=this,d=h.getScrollElement();d&&!d.destroyed&&(b=d.dom,l=k===1/0,g=j===1/0,(l||g)&&(e=h.getMaxPosition(),l&&(k=e.x),g&&(j=e.y)),k=h.convertX(k),a?(this._translatable||(this._translatable=new Ext.util.translatable.ScrollPosition({element:d})),this._translatable.translate(k,j,a)):(null!=j&&(b.scrollTop=j),null!=k&&(b.scrollLeft=k,Ext.isIE8&&(b.scrollLeft,b.scrollLeft=k))),h.positionDirty=!0)},fireScrollStart:function(a,d){var c=this,b=c.component;c.invokePartners("onPartnerScrollStart",a,d),c.hasListeners.scrollstart&&c.fireEvent("scrollstart",c,a,d),b&&b.onScrollStart&&b.onScrollStart(a,d),Ext.GlobalEvents.fireEvent("scrollstart",c,a,d)},fireScroll:function(a,d){var c=this,b=c.component;c.invokePartners("onPartnerScroll",a,d),c.hasListeners.scroll&&c.fireEvent("scroll",c,a,d),b&&b.onScrollMove&&b.onScrollMove(a,d),Ext.GlobalEvents.fireEvent("scroll",c,a,d)},fireScrollEnd:function(a,d){var c=this,b=c.component;c.invokePartners("onPartnerScrollEnd",a,d),c.hasListeners.scrollend&&c.fireEvent("scrollend",c,a,d),b&&b.onScrollEnd&&b.onScrollEnd(a,d),Ext.GlobalEvents.fireEvent("scrollend",c,a,d)},
getElementScroll:function(a){return a.getScroll()},initSnap:function(){var a,g,b,d=this,h=d.getSnapOffset(),e=d.getSnapSelector(),c=d.getElement();c&&e&&(c.addCls(d.snappableCls),d.removeSnapStylesheet(),h&&(a=h.x||0,g=h.y||0,a&&(a=-a+"px"),g&&(g=-g+"px")),b=a+" "+g+";",d.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+c.id+" "+e+"{-webkit-scroll-snap-coordinate:"+b+"scroll-snap-coordinate:"+b+"}"))},initMsSnapInterval:function(){var b,a,e,d,c=this.getElement();c&&(b=this.getMsSnapInterval())&&(a=b.x,e=b.y,d=c.dom.style,a&&(d["-ms-scroll-snap-points-x"]="snapInterval(0px, "+a+"px)"),e&&(d["-ms-scroll-snap-points-y"]="snapInterval(0px, "+e+"px)"))},initXStyle:function(){var b=this.getElement(),a=this.getX();b&&b.dom&&(a?!0===a&&(a="auto"):a="hidden",b.setStyle("overflow-x",a))},initYStyle:function(){var a=this.getElement(),b=this.getY();a&&a.dom&&(b?!0===b&&(b="auto"):b="hidden",a.setStyle("overflow-y",b))},invokePartners:function(i,a,h){var b,g,c=this,e=c._partners,d="onPartnerScrollEnd"===i;if(!c.suspendSync&!c.isReflecting)for(g in e)b=e[g].scroller,b.isReflecting=!0,b[i](c,a,h),d&&(b.isReflecting=!1)},clearReflecting:function(){this.isReflecting=!1},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(c){var a,b=this;b.suspendSync&&b.suspendSync--,!b.suspendSync&&c&&(a=b.getPosition(),b.invokePartners("onPartnerScroll",a.x,a.y),b.invokePartners("onPartnerScrollEnd",a.x,a.y))},updateDomScrollPosition:function(){var b,d=this,c=d.getScrollElement(),a=d.position;return c&&!c.destroyed&&(b=d.getElementScroll(c),a.x=b.left,a.y=b.top),d.positionDirty=!1,a},syncWithPartners:function(){var e,b,a,c=this,d=c._partners;c.isReflecting=!0;for(e in d)b=d[e].scroller,a=b.getPosition(),c.onPartnerScroll(b,a.x,a.y);c.isReflecting=!1},syncScrollbarCls:function(){var a=this.getElement();a&&a.toggleCls(this.noScrollbarsCls,!1===this.getScrollbars())},onDomScroll:function(){var b,a,d,c=this;b=c.updateDomScrollPosition(),c.restoring||(a=b.x,d=b.y,c.isScrolling||(c.isScrolling=Ext.isScrolling=!0,c.fireScrollStart(a,d)),c.fireScroll(a,d),c.onDomScrollEnd())},onDomScrollEnd:function(){var b,a,d,c=this;c.destroying||c.destroyed||(b=c.getPosition(),a=b.x,d=b.y,c.isScrolling=Ext.isScrolling=!1,c.trackingScrollLeft=a,c.trackingScrollTop=d,c.fireScrollEnd(a,d))},onPartnerScroll:function(c,a,d){var b=c._partners[this.getId()].axis;b&&("x"===b?d=null:"y"===b&&(a=null)),this.doScrollTo(a,d,!1,!0)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var a=this.snapStylesheet;a&&(Ext.util.CSS.removeStyleSheet(a),this.snapStylesheet=null)},restoreState:function(){var b=this;b.getScrollElement()&&void 0!==b.trackingScrollTop&&(b.restoring=!0,Ext.defer(function(){b.restoring=!1},50),b.doScrollTo(b.trackingScrollLeft,b.trackingScrollTop,!1))}}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],function(a){Ext.getViewportScroller=function(){return a.viewport||(a.viewport=new a)},Ext.setViewportScroller=function(b){a.viewport!==b&&(Ext.destroy(a.viewport),a.viewport=b.isScroller?b:new a(b))},Ext.onReady(function(){Ext.defer(function(){var b=Ext.getViewportScroller();b.getElement()||b.setElement(Ext.getBody())},100)})}),Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:!0,shadow:"sides",animateShadow:!1,constrain:!1,alignOnScroll:!0,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var a,b,d=this,c=d.el,e=d.shadow;e&&(b={mode:!0===e?"sides":e},a=d.shadowOffset,a&&(b.offset=a),b.animate=d.animateShadow,b.fixed=d.fixed,c.enableShadow(b,!1)),(d.shim||Ext.useShims)&&c.enableShim({fixed:d.fixed},!1),c.setVisibilityMode(d._visModeMap[d.hideMode]),d.el.on({mousedown:d.onMouseDown,scope:d,capture:!0}),d.registerWithOwnerCt(),d.initHierarchyEvents()},alignTo:function(c,g,b,a,j){var m,l,e,d,k,h,i=this;if(c.isComponent?(m=c.el,l=c.destroyed):(m=c=Ext.get(c),e=m.dom,l=!e||Ext.isGarbage(e)),l)return i._lastAlignTarget=null,void(i.alignListeners&&i.alignListeners.destroy());i.mixins.positionable.alignTo.call(i,m,g,b,a,!1!==j),d=i.getXY(),k=c.getXY(),i.alignVector=[d[0]-k[0],d[1]-k[1]],i._lastAlignTarget=c,i._lastAlignToPos=g,i._lastAlignToOffsets=b,i._topAlignTarget=i.getTopAlignTarget(),i.clearClip(),i.alignListeners||(h={resize:{fn:i.alignOnResize,buffer:100},scope:i,destroyable:!0},i.alignOnScroll&&!m.contains(i.el)&&(h.scroll=i.doRealign),i.alignListeners=Ext.on(h))},initFloatConstrain:function(){var a=this,b=a.floatParent;!a.constrain&&!a.constrainHeader||a.constrainTo||(a.constrainTo=b?b.getTargetEl():a.container)},initHierarchyEvents:function(){var b=this,a=this.syncHidden;b.hasHierarchyEventListeners||(b.mon(Ext.GlobalEvents,{hide:a,collapse:a,show:a,expand:a,added:a,scope:b}),b.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var c=this,b=c.ownerCt,a=c.zIndexParent;a&&a.unregisterFloatingItem(c),a=c.zIndexParent=c.up("[floating]"),c.floatParent=b||a,c.initFloatConstrain(),delete c.ownerCt,a?a.registerFloatingItem(c):Ext.WindowManager.register(c)},onMouseDown:function(h){var g,i,j,c=this,b=c.focusTask,a=c.getRefOwner(),d="touch"===h.pointerType;if(c.floating&&(!b||!b.id)){for(c.owns(Ext.Element.getActiveElement())&&(d=!0),g=h.target,i=c.el.dom;!d&&g&&g!==i;)Ext.fly(g).isFocusable()&&(d=!0),g=g.parentNode;j=Ext.WindowManager.getActive()===c&&(g===i||d),j||c.toFront(d),!d&&a&&a.containsFocus&&h.preventDefault()}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var a=this.el;(a.shadow||a.shim)&&(a.setUnderlaysVisible(!0),a.syncUnderlays())},syncHidden:function(){var c=this,d=c.hidden||!c.rendered,a=c.hierarchicallyHidden=c.isHierarchicallyHidden(),b=c.pendingShow;d!==a&&(a?(c.hide(),c.pendingShow=!0):b&&(delete c.pendingShow,b.length?c.show.apply(c,b):c.show()))},setZIndex:function(a){var b=this;return b.el.setZIndex(a),a+=10,b.floatingDescendants&&(a=100*Math.floor(b.floatingDescendants.setBase(a)/100)+1e4),a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,!0);c&&b.setPosition(c)},updateActiveCounter:function(a){var b=this,c=b.zIndexParent;c&&c!==c.zIndexManager.front&&!1!==b.bringParentToFront&&c.setActiveCounter(++Ext.ZIndexManager.activeCounter),(c=b.zIndexManager)&&c.onComponentUpdate(b)},updateAlwaysOnTop:function(a){var b=this.zIndexManager;b&&b.onComponentUpdate(this)},toFront:function(b){var a=this;return a.zIndexManager.bringToFront(a,b||!a.focusOnToFront)&&a.hasListeners.tofront&&a.fireEvent("tofront",a,a.el.getZIndex()),a},setActive:function(d,b){var a,c=this;d?(c.el.shadow&&!1!==c.el.getData().isVisible&&!c.maximized&&c.el.enableShadow(null,!0),b&&((a=Ext.ComponentManager.getActiveComponent())&&a.up(c)||c.focus()),c.fireEvent("activate",c)):c.fireEvent("deactivate",c)},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var b,a=this;return a.isVisible()?(b=a.getAlignToXY(a.container,"c-c"),a.setPagePosition(b)):a.needsCenter=!0,a},onFloatShow:function(){var a=this;a.needsCenter?a.center():a._lastAlignTarget&&a.alignTo(a._lastAlignTarget,a._lastAlignToPos,a._lastAlignToOffsets,!1,!a.fixed),a.needsCenter=!1},fitContainer:function(c){var g=this,e=g.floatParent,b=e?e.getTargetEl():g.container,a=b.getViewSize(),d=e||b.dom!==document.body?[0,0]:b.getXY();a.x=d[0],a.y=d[1],g.setBox(a,c)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){for(var b=this._lastAlignTarget,a=b;b&&(a=b)&&b.isComponent;)a.isFloating()?b=a._lastAlignTarget:(b=a.up("{isFloating()}"),b=b&&b._lastAlignTarget);return a},clearAlignEl:function(){var a=this;a._lastAlignTarget&&(a.alignListeners=Ext.destroy(a.alignListeners),Ext.un("scroll",a.doRealign,a),a._lastAlignToPos=a._lastAlignTarget=a._lastAlignToOffsets=a._topAlignTarget=null)},alignOnResize:function(){this.doRealign()},doRealign:function(a){var d,g,h,b,e=this,c=e._lastAlignTarget.el;c&&e.isVisible()&&(c.isComponent?d=c.destroyed:(g=c.dom,d=!g||Ext.isGarbage(g)),d?e.clearAlignEl():(!a||a.getElement().contains(e._topAlignTarget.el)&&!a.getElement().contains(e.el))&&(h=c.getXY(),b=[h[0]+e.alignVector[0],h[1]+e.alignVector[1]],e.setXY(b),a&&e.clipToScroller(a)))},clipToScroller:function(a){var d=this,e=d._topAlignTarget.getBox(),b=a.getElement().getConstrainRegion(),c=0;e.top<b.top&&(c=1),e.right>b.right&&(c|=2),e.bottom>b.bottom&&(c|=4),e.left<b.left&&(c|=8),c?d.clipTo(b,c):d.clearClip()}}},1,0,0,0,0,0,[Ext.util,"Floating"],0),Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(g,a,e,d){var b,h,c=a?Ext.Object.chain(a):{};if(g instanceof Array)for(b=g.length;b--;)h=g[b],d&&h in c||("string"==typeof h?c[h]={name:h,itemId:h}:c[h.name]=h);else if(g)if(g.constructor===Object)for(b in g)d&&b in c||(h=g[b],!0===h?c[b]={itemId:b}:"string"==typeof h?c[b]={itemId:h}:(c[b]=h,"itemId"in h||(h.itemId=b)),c[b].name=b);else d&&g in c||(c[g]={name:g,itemId:g});return c}}},destroy:function(){var d,a,c=this,b=c.getChildEls();for(a in b)(d=c[a])&&(d.destroy&&(d.component=null,d.destroy()),c[a]=null)},privates:{addChildEl:function(a){var c=this,b=c.getChildEls();c.hasOwnProperty("childEls")||(c.childEls=b=Ext.Object.chain(b)),"string"==typeof a&&(a={name:a,itemId:a}),b[a.name]=a},afterClassMixedIn:function(c){var b=c.prototype,a=b.childEls;a&&(delete b.childEls,c.getConfigurator().add({childEls:a}))},attachChildEls:function(d,c){var p,a,m,g,e,l,b,i=this,j=i.getChildEls(),h=c||i,o=h.id+"-",n=!h.frame;for(p in j)if(m=j[p],!n||!m.frame){if(e=m.select,e?l=d.select(e,!0):(e=m.selectNode)?l=d.selectNode(e,!1):(b=m.id)?l=Ext.cache[b]||d.getById(b):(b=o+m.itemId,l=Ext.cache[b]),l)if(l.isElement)l.component=h;else if(l.isComposite&&!l.isLite)for(a=l.elements,g=a.length;g--;)a[g].component=h;i[p]=l||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0),Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",ariaStaticRoles:{presentation:!0,article:!0,definition:!0,directory:!0,document:!0,img:!0,heading:!0,math:!0,note:!0,banner:!0,complementary:!0,contentinfo:!0,navigation:!0,search:!0,undefined:!0,null:!0},statics:{makeRenderSetter:function(a,c){var b=a.name;return function(e){var d=this,h=d.renderConfigs||(d.renderConfigs={}),g=h[c];return d._renderState>=c?(a.setter||a.getSetter()).call(d,e):(g||(h[c]=g={}),b in g||(g[b]=d[b]),d[b]=e),d}},processRenderConfig:function(a,l,c){var i,j,b,g,h=this.prototype,e=this.getConfigurator(),m=Ext.util.Renderable,k=m.makeRenderSetter,d=a[l];for(b in d)j=Ext.Config.get(b),h[g=j.names.set]||(i=j.renderSetter||(j.renderSetter={}),h[g]=i[c]||(i[c]=k(j,c)));delete a[l],e.add(d)}},onClassMixedIn:function(c){var a=c.override,e=this.processRenderConfig,d=function(g){g.beforeRenderConfig&&this.processRenderConfig(g,"beforeRenderConfig",1),g.renderConfig&&this.processRenderConfig(g,"renderConfig",3),a.call(this,g)},b=function(h,g){h.override=d,h.processRenderConfig=e,g.beforeRenderConfig&&h.processRenderConfig(g,"beforeRenderConfig",1),g.renderConfig&&h.processRenderConfig(g,"renderConfig",3)};b(c,c.prototype),c.onExtended(b)},afterRender:function(){var e,j,c,g,a,i=this,d={},b=i.protoEl,h=i.el;i.finishRenderChildren(),i._renderState=4,i.contentEl&&(c="x-",g=c+"hidden-",a=i.contentEl=Ext.get(i.contentEl),a.component=i,a.removeCls([c+"hidden",g+"display",g+"offsets"]),i.getContentTarget().appendChild(a.dom)),b.writeTo(d),j=d.removed,j&&h.removeCls(j),j=d.cls,j.length&&h.addCls(j),j=d.style,d.style&&h.setStyle(j),i.protoEl=null,i.ownerCt||i.skipLayout||i.updateLayout(),i.x&&i.y||!i.pageX&&!i.pageY||i.setPagePosition(i.pageX,i.pageY),i.disableOnRender&&i.onDisable(),(e=i.controller)&&e.afterRender&&e.afterRender(i)},afterFirstLayout:function(d,l){var e,c,a,h,m,g=this,k=g.x,i=g.y,j=g.defaultAlign,b=g.alignOffset;g.ownerLayout||(c=void 0!==k,a=void 0!==i),!g.floating||g.preventDefaultAlign||c&&a||(g.floatParent?(h=g.floatParent.getTargetEl().getViewRegion(),m=g.el.getAlignToXY(g.alignTarget||g.floatParent.getTargetEl(),j,b),h.x=m[0]-h.x,h.y=m[1]-h.y):(m=g.el.getAlignToXY(g.alignTarget||g.container,j,b),h=g.el.translateXY(m[0],m[1])),k=c?k:h.x,i=a?i:h.y,c=a=!0),(c||a)&&g.setPosition(k,i),g.onBoxReady(d,l),(e=g.controller)&&e.boxReady&&e.boxReady(g,d,l)},beforeRender:function(){var a,d=this,e=d.floating,c=d.getComponentLayout(),b=d.userCls;d._renderState=1,d.ariaUsesMainElement="el"===d.ariaEl,a=d.controller,a&&a.beforeRender&&a.beforeRender(d),d.initBindable(),d.renderConfigs&&d.flushRenderConfigs(),d.reference&&d.publishState(),b&&d.addCls(b),e&&(d.addCls(d.fixed?d._fixedLayerCls:d._layerCls),(b=e.cls)&&d.addCls(b)),d.frame=d.frame||d.alwaysFramed,c.initialized||c.initLayout(),d.initOverflow(),d.setUI(d.ui)},doApplyRenderTpl:function(c,a){var b,d=a.$comp;d.rendered||(b=d.initRenderTpl(),b.applyOut(a.renderData,c))},getElConfig:function(){var c,e=this,h=e.autoEl,d=e.getFrameInfo(),b={tag:"div",tpl:d?e.initFramingTpl(d.table):e.initRenderTpl()},i=e.layoutTargetCls,g=e.protoEl,a=e.ariaRole;return e.initStyles(g),i&&!d&&g.addCls(i),g.writeTo(b),g.flush(),h&&(Ext.isString(h)?b.tag=h:Ext.apply(b,h)),a&&e.ariaUsesMainElement&&(b.role=a,e.ariaStaticRoles[a]||(b["aria-hidden"]=!!e.hidden,b["aria-disabled"]=!!e.disabled,e.ariaLabel&&!e.ariaLabelledBy&&(b["aria-label"]=e.ariaLabel),e.collapsible&&(b["aria-expanded"]=!e.collapsed),e.ariaRenderAttributes&&Ext.apply(b,e.ariaRenderAttributes),e.config.ariaAttributes&&Ext.apply(b,e.getAriaAttributes()))),b.id=e.id,b.tpl&&(d?(b.tplData=c=e.getFrameRenderData(),c.renderData=e.initRenderData()):b.tplData=e.initRenderData()),e.ariaRenderAttributes=null,b},getInsertPosition:function(a){return void 0!==a&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a)),a},getRenderTree:function(){var b=this,a=null;return b.hasListeners.beforerender&&!1===b.fireEvent("beforerender",b)||(b._renderState=1,b.beforeRender(),b.rendering=!0,b._renderState=2,a=b.getElConfig(),b.el&&(a.id=b.$pid=Ext.id(null,b.el.identifiablePrefix))),a},initRenderData:function(){var d,b,c=this,a=c.ariaRole;return d=Ext.apply({$comp:c,id:c.id,ui:c.ui,uiCls:c.uiCls,baseCls:c.baseCls,componentCls:c.componentCls,frame:c.frame,hasTabGuard:!!c.tabGuard,scrollerCls:c.scrollerCls,childElCls:"",ariaEl:c.ariaEl},c.renderData),a&&!c.ariaUsesMainElement&&(b={role:a},c.ariaStaticRoles[a]||(b["aria-hidden"]=!!c.hidden,b["aria-disabled"]=!!c.disabled,c.ariaLabel&&!c.ariaLabelledBy&&(b["aria-label"]=c.ariaLabel),c.collapsible&&(b["aria-expanded"]=!c.collapsed),c.ariaRenderAttributes&&Ext.apply(b,c.ariaRenderAttributes),c.config.ariaAttributes&&Ext.apply(b,c.getAriaAttributes())),d.ariaAttributes=b),d},onRender:function(d,e){var a,k,h=this,j=h.x,i=h.y,c=null,b=h.el,g=h.scrollable;h.applyRenderSelectors(),g&&g.isScroller&&(g.setElement(h.getOverflowEl()),Ext.isIE&&(h.showListenerIE=Ext.on("show",h.onGlobalShow,h,{destroyable:!0}))),h.rendering=null,h.rendered=!0,h._renderState=3,h.renderConfigs&&h.flushRenderConfigs(),null!=j&&(c={x:j}),null!=i&&((c=c||{}).y=i),h.getFrameInfo()||(a=h.width,k=h.height,"number"==typeof a&&(c=c||{},c.width=a),"number"==typeof k&&(c=c||{},c.height=k)),h.lastBox=b.lastBox=c},render:function(c,b){var h,a,g,e=this,d=e.el,i=e.ownerLayout;d&&!d.isElement&&(e.wrapPrimaryEl(d),d=e.el),e.skipLayout||Ext.suspendLayouts(),c=e.initContainer(c),g=e.getInsertPosition(b),d?e.hasListeners.beforerender&&!1===e.fireEvent("beforerender",e)?h=!0:(e.beforeRender(),e.needsRenderTpl=e.rendering=!0,e._renderState=2,e.initStyles(d),!1!==e.allowDomMove&&(g?c.dom.insertBefore(d.dom,g):c.dom.appendChild(d.dom))):(a=e.getRenderTree(),i&&i.transformItemRenderTree&&(a=i.transformItemRenderTree(a)),a&&(d=g?Ext.DomHelper.insertBefore(g,a):Ext.DomHelper.append(c,a),e.wrapPrimaryEl(d),e.cacheRefEls(d))),d&&!h&&e.finishRender(b),e.skipLayout||Ext.resumeLayouts(!e.hidden&&!c.isDetachedBody)},ensureAttachedToBody:function(c){for(var a,b=this;b.ownerCt;)b=b.ownerCt;b.container.isDetachedBody&&(b.container=a=Ext.getBody(),a.appendChild(b.el.dom),c&&b.updateLayout(),"number"!=typeof b.x&&"number"!=typeof b.y||b.setPosition(b.x,b.y))},privates:{applyRenderSelectors:function(){var e,a,d=this,b=d.renderSelectors,c=d.el;if(d.attachChildEls(c),d.ariaEl=d[d.ariaEl]||d.el,b)for(a in b)(e=b[a])&&(d[a]=c.selectNode(e,!1))},cacheRefEls:function(e){e=e||this.el;var g,d,c=Ext.cache,h=Ext.dom.Element,j=e.isElement?e.dom:e,b=j.querySelectorAll("[data-ref]"),a=b.length;for(d=0;d<a;d++)g=b[d],c[g.id]||new h(g)},doAutoRender:function(){var a=this;a.rendered||(a.floating?a.render(a.renderTo||document.body):a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender))},doRenderContent:function(a,d){var b=d.$comp,c=b.data;b.html&&(Ext.DomHelper.generateMarkup(b.html,a),delete b.html),b.tpl&&(b.tpl.isTemplate||(b.tpl=new Ext.XTemplate(b.tpl)),c&&(b.data=c=c.isEntity?c.getData(!0):c,b.tpl.applyOut(c,a)))},doRenderFramingTabGuard:function(b,d,a){var c=d.$comp.layout;d.renderData.$skipTabGuards=!0,c&&c.doRenderTabGuard&&c.doRenderTabGuard.call(this,b,d,a)},flushRenderConfigs:function(){var j,c,b,a,e,d=this,h=d.renderConfigs,g=d._renderState;if(h){for(c=0;c<=g;++c)if(j=h[c]){h[c]=null;for(b in j)e=j[b],(a||(a={}))[b]=d[b],d[b]=e}a&&d.setConfig(a)}},finishRender:function(h){var j,g,b,i,e,d,c,k=this,a=Ext.cache;if(!k.el||k.$pid)if(k.container?(c=a[k.id],d=c?c.dom:k.container.getById(k.id,!0)):(b=k.$pid||k.id,c=a[b],d=c?c.dom:Ext.getDom(b)),k.el){for(delete k.$pid,k.el.dom||k.wrapPrimaryEl(k.el),d.parentNode.insertBefore(k.el.dom,d),j=d,d=k.el.dom,g=d.firstChild;j.firstChild;)d.insertBefore(j.firstChild,g);k.el.addCls(j.className),Ext.removeNode(j)}else k.wrapPrimaryEl(d);else k.needsRenderTpl&&(i=k.initRenderTpl(),i&&(e=k.initRenderData(),i.insertFirst(k.getTargetEl(),e)),k.cacheRefEls());k.el.component=k,k.container||(k.container=Ext.get(k.el.dom.parentNode)),k.ctCls&&k.container.addCls(k.ctCls),k.onRender(k.container,h),k.overflowInited||k.initOverflow(),k.el.setVisibilityMode(Ext.Element[k.hideMode.toUpperCase()]),k.overCls&&k.el.hover(k.addOverCls,k.removeOverCls,k),k.hasListeners.render&&k.fireEvent("render",k),k.afterRender(),k.hasListeners.afterrender&&k.fireEvent("afterrender",k),k.initEvents(),k.hidden&&k.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var c=this,b=c.frameSize,a="";return c._syncFrameHeight&&c.height&&(a="height:"+(c.height-b.height)+"px"),{$comp:c,id:c.id,fgid:c.id+"-frame",ui:c.ui,uiCls:c.uiCls,frameCls:c.frameCls,frameBodyCls:c.layoutTargetCls||"",baseCls:c.baseCls,hasTabGuard:c.tabGuard,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,mcStyle:a,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var i,l,h,r,d,e,k,s,o,b,m,a,g,n,p=this,j=p.frameInfoCache,c=p.getFramingInfoCls()+"-frameInfo",q=j[c];return null==q&&(i=Ext.fly(p.getStyleProxy(c),"frame-style-el"),l=i.getStyle("font-family"),l?(l=l.split("-"),h=parseInt(l[1],10),r=parseInt(l[2],10),d=parseInt(l[3],10),e=parseInt(l[4],10),k=parseInt(l[5],10),s=parseInt(l[6],10),o=parseInt(l[7],10),b=parseInt(l[8],10),m=parseInt(l[9],10),a=parseInt(l[10],10),g=parseInt(l[11],10),n=parseInt(l[12],10),q={table:"t"===l[0].charAt(0),vertical:"v"===l[0].charAt(1),top:h,right:r,bottom:d,left:e,width:e+r,height:h+d,border:{top:k,right:s,bottom:o,left:b,width:b+s,height:k+o},padding:{top:m,right:a,bottom:g,left:n,width:n+a,height:m+g}}):q=!1,j[c]=q),p.frame=!!q,p.frameSize=q,q},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return a.className=b,a},getFrameTpl:function(a){return this.lookupTpl(a?"frameTableTpl":"frameTpl")},initContainer:function(a){var b=this;return!a&&b.el&&(a=b.el.dom.parentNode,b.allowDomMove=!1),b.container=a.dom?a:Ext.get(a),b.container},initOverflow:function(){var c=this,a=c.getOverflowStyle(),e=c.scrollFlags,d=c.getOverflowEl();(e.y||e.x)&&d&&d.isElement&&(c.overflowInited=!0,d.setStyle(a))},initFramingTpl:function(b){var a=this.getFrameTpl(b);return a&&!a.applyRenderTpl&&this.setupFramingTpl(a),a},initRenderTpl:function(){var a=this.lookupTpl("renderTpl");return a&&!a.renderContent&&this.setupRenderTpl(a),a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl,a.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var q,g,b,e,k,r,s,d,j,a,o,n=this,h=n.el.dom,m=n.frameTable,c=n.frameBody,p=c.dom,l=n.getFrameInfo();for(b=document.createElement("div"),r=n.getFrameRenderData(),r.hasTabGuard=!1,d=n.getFrameTpl(l.table),d.insertFirst(b,r),o=b.querySelectorAll("[data-ref]"),a=b.querySelector('[data-ref="frameBody"]'),k=p;k.parentNode!==h;)k=k.parentNode;for(;b.firstChild;)h.insertBefore(b.firstChild,k);a.parentNode.replaceChild(p,a),p.className=a.className,c.setSize(),q=n.getChildEls(),m&&(m.destroy(),n.frameTable=null);for(g in q)q[g].frame&&(e=n[g])&&e!==c&&(e.destroy(),n[g]=null);for(j=o.length;j--;)"frameBody"!==(g=(s=o[j]).getAttribute("data-ref"))&&(n[g]=new Ext.dom.Element(s))}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0),Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(a){var b=this;Ext.apply(b,a),b.state={},b.mixins.observable.constructor.call(b)},get:function(c,a){var b=this.state[c];return void 0===b?a:b},clear:function(a){var b=this;delete b.state[a],b.fireEvent("statechange",b,a,null)},set:function(a,c){var b=this;b.state[a]=c,b.fireEvent("statechange",b,a,c)},decodeValue:function(g){var h,d,a,j,e,i,c=this,k=/^(a|n|d|b|s|o|e)\:(.*)$/,b=k.exec(unescape(g));if(b&&b[1])switch(d=b[1],g=b[2],d){case"e":return null;case"n":return parseFloat(g);case"d":return new Date(Date.parse(g));case"b":return"1"===g;case"a":if(h=[],g)for(j=g.split("^"),e=j.length,i=0;i<e;i++)g=j[i],h.push(c.decodeValue(g));return h;case"o":if(h={},g)for(j=g.split("^"),e=j.length,i=0;i<e;i++)g=j[i],a=g.split("="),h[a[0]]=c.decodeValue(a[1]);return h;default:return g}},encodeValue:function(e){var b,a,c,g="",d=0;if(null==e)return"e:1";if("number"==typeof e)b="n:"+e;else if("boolean"==typeof e)b="b:"+(e?"1":"0");else if(Ext.isDate(e))b="d:"+e.toUTCString();else if(Ext.isArray(e)){for(a=e.length;d<a;d++)g+=this.encodeValue(e[d]),d!==a-1&&(g+="^");b="a:"+g}else if("object"==typeof e){for(c in e)"function"!=typeof e[c]&&void 0!==e[c]&&(g+=c+"="+this.encodeValue(e[c])+"^");b="o:"+g.substring(0,g.length-1)}else b="s:"+e;return escape(b)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0),Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0),Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",config:{stateful:null},saveDelay:100,constructor:function(){var a=this;a.stateEvents||(a.stateEvents=[]),a.stateful&&(a.addStateEvents(a.stateEvents),a.initState())},addStateEvents:function(d){var c,e,b,a,g=this;if(g.stateful&&g.getStateId())for(a="string"==typeof d?arguments:d,b=g.stateEventsByName||(g.stateEventsByName={}),c=a.length;c--;)(e=a[c])&&!b[e]&&(b[e]=1,g.on(e,g.onStateChange,g))},onStateChange:function(){var d,b,c=this,a=c.saveDelay;c.stateful&&(a?(c.stateTask||(d=Ext.state.Stateful,b=d.runner||(d.runner=new Ext.util.TaskRunner),c.stateTask=b.newTask({run:c.saveState,scope:c,interval:a,repeat:1,fireIdleEvent:!1})),c.stateTask.start()):c.saveState())},saveState:function(){var j,k,d,g,e,h,a,n,m=this,c=m.getStateful(),b=c&&m.getStateId(),l=m.hasListeners;if(b){if(a=m.getState()||{},Ext.isObject(c)){k=m.self.getConfigurator(),k=k.configs;for(e in c)c[e]?e in a||(j=k[e],a[e]=j?m[j.get]():m[e]):delete a[e]}for(d=m.getPlugins()||[],e=0,h=d.length;e<h;e++)(g=d[e])&&g.getState&&(n=g.getState(a))&&!a[g.ptype]&&(a[g.ptype]=n);l.beforestatesave&&!1===m.fireEvent("beforestatesave",m,a)||(Ext.state.Manager.set(b,a),l.statesave&&m.fireEvent("statesave",m,a))}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a,l,e,h,d,g,c,k=this,b=k.stateful&&k.getStateId(),j=k.hasListeners;if(b&&(l=Ext.state.Manager.get(b))&&(a=Ext.apply({},l),!j.beforestaterestore||!1!==k.fireEvent("beforestaterestore",k,l))){for(d=k.getPlugins()||[],e=0,h=d.length;e<h;e++)(g=d[e])&&(c=g.ptype,g.applyState&&g.applyState(a[c],l),delete a[c]);k.applyState(a),j.staterestore&&k.fireEvent("staterestore",k,l)}},savePropToState:function(g,e,d){var b=this,c=b[g],a=b.initialConfig;return!(!b.hasOwnProperty(g)||a&&a[g]===c||(e&&(e[d||g]=c),0))},savePropsToState:function(e,c){var a,d,b=this;if("string"==typeof e)b.savePropToState(e,c);else for(a=0,d=e.length;a<d;++a)b.savePropToState(e[a],c);return c},destroy:function(){var a=this.stateTask;a&&(a.destroy(),this.stateTask=null)}},1,0,0,0,0,0,[Ext.state,"Stateful"],0),Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:!1,focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var a=this;Ext.destroy(a.focusListeners),a.focusListeners=a.focusEnterEvent=a.focusTask=null,a.focusEl=a.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var b,a,d=this,c=d.focusCls;d.hasFocus&&(b=d.findFocusTarget())&&b.focus(),a=d.getFocusClsEl(),c&&a&&a.removeCls(d.removeClsWithUI(c,!0))},isFocusable:function(a){var b,c=this;return!!(c.focusable||c.isContainer&&a)&&!(!(b=c.getFocusEl())||!c.canFocus())&&b.isFocusable(a)},canFocus:function(b,d){var c=this;return(c.isContainer||c.focusable)&&c.rendered&&!c.destroying&&!c.destroyed&&!c.disabled&&(b||c.isVisible(!0))||d&&!!c.findFocusTarget()},focus:function(g,c,i,d){var a,h,b,e=this;if((e.focusable||e.isContainer)&&!e.destroyed&&!e.destroying){if(c)return e.getFocusTask().delay(Ext.isNumber(c)?c:10,e.focus,e,[g,!1,i,d]),e;if(e.cancelFocus(),e.canFocus()){if(a=e.getFocusEl()){if(a.isComponent)return a.focus(g,c,i,d);h=a.dom,h&&(e.floating&&(b=e.container.dom.scrollTop),a.focus(),g&&(Ext.isArray(g)?e.selectText&&e.selectText.apply(e,g):h.select?h.select():e.selectText&&e.selectText()),Ext.callback(i,d)),e.floating&&void 0!==b&&(e.container.dom.scrollTop=b)}}else if(a=e.findFocusTarget())return a.focus(g,c,i,d);return e}},cancelFocus:function(){var a=this.getFocusTask();a&&a.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(g){
var a,d=this,b=d.focusableContainer,c=d.focusCls;d.focusable&&!d.destroying&&(d.hasFocus=!1,d.beforeBlur(g),b&&b.beforeFocusableChildBlur(d,g),a=d.getFocusClsEl(),c&&a&&a.removeCls(d.removeClsWithUI(c,!0)),d.fireEvent("blur",d,g),d.postBlur(g),b&&b.afterFocusableChildBlur(d,g))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(g){var a,d=this,b=d.focusableContainer,c=d.focusCls;d.focusable&&d.canFocus()&&(d.beforeFocus(g),b&&b.beforeFocusableChildFocus(d,g),a=d.getFocusClsEl(),c&&a&&a.addCls(d.addClsWithUI(c,!0)),d.hasFocus||(d.hasFocus=!0,d.fireEvent("focus",d,g)),d.postFocus(g),b&&b.afterFocusableChildFocus(d,g))},postFocus:Ext.emptyFn,getTabIndex:function(){var b,a,c=this;if(c.focusable){if(b=c.rendered&&c.getFocusEl()){if(b.isComponent)a=b.getTabIndex();else{if(!b.isElement)return;a=b.getAttribute("tabIndex")}c.tabIndex=a}else a=c.tabIndex;return a-0}},setTabIndex:function(d,a){var b,c=this;c.focusable&&(c.tabIndex=d,c.rendered&&(b=a||c.getFocusEl())&&(b.isComponent?b.setTabIndex(d):b.isElement&&b.set({tabIndex:d})))},onFocusEnter:function(b){var a=this;a.destroying||a.destroyed||(a.floating&&a!==a.zIndexManager.getActive()&&a.toFront(!0),a.focusEnterEvent=b,a.containsFocus=!0,a.fireEvent("focusenter",a,b))},onFocusLeave:function(b){var a=this;a.destroying||a.destroyed||(a.focusEnterEvent=null,a.containsFocus=!1,a.fireEvent("focusleave",a,b))},privates:{revertFocus:function(){var a,c=this,b=c.focusEnterEvent;!c.preventRefocus&&c.el.contains(Ext.Element.getActiveElement())&&b&&(a=b&&b.relatedTarget,Ext.getDoc().contains(a)&&Ext.fly(a).isFocusable()?a.focus():b.fromComponent&&b.fromComponent.focus&&b.fromComponent.focus())},findFocusTarget:function(){var a,c,d,b=this;for(a=b.up(":visible(true):not([disabled]):not([destroying])");a;a=a.up(":visible(true):not([disabled]):not([destroying])")){if(c=Ext.ComponentQuery.query(":canfocus()",a),c.length)return d=Ext.Array.indexOf(c,Ext.ComponentManager.getActiveComponent()),c[d+1]||c[d-1]||c[0];if(a.isFocusable&&a.isFocusable())return a}},initFocusableElement:function(){var c=this,a=c.tabIndex,b=c.getFocusEl();b&&!b.isComponent&&(c.focusEl=b,null!=a&&c.canFocus(!0)&&c.setTabIndex(a,b),b.dom.setAttribute("data-componentid",c.id))},getFocusTask:function(){return this.focusTask||(this.focusTask=Ext.focusTask),this.focusTask},handleFocusEvent:function(b){var a;this.isFocusing(b)&&(a=new Ext.event.Event(b.event),a.type="focus",a.relatedTarget=b.fromElement,a.target=b.toElement,this.onFocus(a))},handleBlurEvent:function(b){var a;this.isBlurring(b)&&(a=new Ext.event.Event(b.event),a.type="blur",a.target=b.fromElement,a.relatedTarget=b.toElement,this.onBlur(a))},isFocusing:function(b){var a;return!(!this.focusable||!(a=this.getFocusEl()))&&(a.isComponent?a.isFocusing(b):b.toElement===a.dom&&b.fromElement!==b.toElement)},isBlurring:function(b){var a;return!(!this.focusable||!(a=this.getFocusEl()))&&(a.isComponent?a.isBlurring(b):b.fromElement===a.dom&&b.fromElement!==b.toElement)},blur:function(){var a,b=this;if(b.focusable&&b.canFocus())return a=b.getFocusEl(),a&&(b.blurring=!0,a.blur(),delete b.blurring),b},disableTabbing:function(){var a,c=this,b=c.el;b&&b.saveTabbableState(),(a=c.getFocusEl())&&(a.isComponent?a.disableTabbing():a.isElement&&b&&!b.contains(a)&&a.saveTabbableState())},enableTabbing:function(){var a,c=this,b=c.el;a=c.getFocusEl(),a&&(a.isComponent?a.enableTabbing():a.isElement&&b&&!b.contains(a)&&a.restoreTabbableState()),b&&b.restoreTabbableState()},updateMaskState:function(e,a){var d,c=this,b=c.ariaEl.dom;e?(c.disableTabbing(),c.setMasked(!0),b&&(b.setAttribute("aria-busy","true"),d=b.getAttribute("aria-describedby"),d&&(c._savedAriaDescribedBy=d),b.setAttribute("aria-describedby",a.ariaEl.id))):(c.enableTabbing(),c.setMasked(!1),b&&(b.removeAttribute("aria-busy"),d=b.getAttribute("aria-describedby"),b.removeAttribute("aria-describedby"),d===a.ariaEl.id&&c._savedAriaDescribedBy&&(b.setAttribute("aria-describedby",c._savedAriaDescribedBy),delete c._savedAriaDescribedBy)))}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)}),Ext.cmd.derive("Ext.mixin.Accessible",Ext.Mixin,{mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:!0}},privates:{getAriaLabelEl:function(c){var h,d,b,g,e=[];if(c){if(Ext.isFunction(c))return c.call(this);if(Ext.isArray(c)||(c=[c]),h=this.lookupReferenceHolder())for(d=0,b=c.length;d<b;d++)(g=h.lookupReference(c[d]))&&e.push(g.ariaEl.id)}return e.length?e.join(" "):null}}},0,0,0,0,0,0,[Ext.mixin,"Accessible"],0),Ext.cmd.derive("Ext.mixin.Keyboard",Ext.Mixin,function(a){return{mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:!0,merge:function(d,b,k,i){if(null===d)return d;var e,h,g,j,c=b?Ext.Object.chain(b):{};for(e in d)"scope"!==e&&(h=e.toUpperCase(),i&&void 0!==c[h]||(g=d[e],g&&(g="string"==typeof g||"function"==typeof g?{handler:g}:Ext.apply({handler:g.fn},g),j=g.scope||d.scope||"self",g.scope="controller"===j?"self.controller":j),c[h]=g));return c}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(i,g){var h,d,c,b,e=this;if(i){g&&e.isConfiguring&&(g=Ext.apply({},g)),h=i.scope||"controller";for(c in i)if("scope"!==c){if(b=i[c])"string"==typeof b||"function"==typeof b?b={handler:b,scope:h}:b&&(b=Ext.apply({handler:b.fn,scope:h},b)),g=g||{};else if(!g)continue;a.parseEntry(c,d=b||{})&&(g[d.name]=b)}}else g=null;return e._keyMapReady&&e.setKeyMapListener(g&&e.getKeyMapEnabled()),g||null},initKeyMap:function(){var c=this,b=c.getKeyMapEnabled();c._keyMapReady=!0,null===b?c.setKeyMapEnabled(!0):c.setKeyMapListener(b&&c.getKeyMap())},updateKeyMapEnabled:function(b){this.setKeyMapListener(b&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:!1,callKeyMapEntry:function(b,c){return b&&Ext.callback(b.handler,b.scope,[c,this],0,this)},findKeyMapEntry:function(g){var b,c,d=this,h=d.getKeyMap();if(h)for(b in h)if(a.matchEntry(b,c=h[b],g))return c;return null},onKeyMapEvent:function(d){var c=this,b=c.getKeyMapEnabled()?c.findKeyMapEntry(d):null;return c.callKeyMapEntry(b,d)},setKeyMapListener:function(b){var d,c=this,e=c._keyMapListener;e&&(e.destroy(),e=null),b&&(d=c[c.keyMapTarget],"function"==typeof d&&(d=d.call(c)),e=d.on({destroyable:!0,scope:c,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})),c._keyMapListener=e||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(b,g,h){var c,d=h.browserEvent;if(h.type!==g.event)return!1;if(c=g.charCode){if(h.getCharCode()!==c)return!1}else if(g.keyCode!==h.keyCode||!g.shiftKey!=!d.shiftKey)return!1;return!g.ctrlKey==!d.ctrlKey&&!g.altKey==!d.altKey&&!g.metaKey==!d.metaKey},parseEntry:function(r,q){r=r.toUpperCase();var c,h,j,m=this,s=Ext.event.Event,p=s.keyFlags,d=m._hyphenRe.test(r)?"-":"+",o=r===d?[d]:r.split(d),e=o.length-1,g=o[e],b=g,l="keyCode";for(h=0;h<e;h++)q[p[o[h]]]=!0;return e&&(b=q.ctrlKey?"CTRL+":"",b+=q.altKey?"ALT+":"",b+=q.metaKey?"META+":"",b+=q.shiftKey?"SHIFT+":"",b+=g),q.name=b,isNaN(c=s[g])&&((j=m._charCodeRe.exec(g))?c=+j[1]:1===g.length&&(c=g.charCodeAt(0)),c?l="charCode":c=+g),q.event=q.event||m._keyMapEvents[l],!isNaN(c)&&(q[l]=c)}}}}},0,0,0,0,0,0,[Ext.mixin,"Keyboard"],0),Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:"x-aria-highcontrast",cancelLayout:function(a,c){var b=this.runningLayoutContext||this.pendingLayouts;b&&b.cancelComponent(a,!1,c)},fromElement:function(c,b,a){return Ext.ComponentManager.fromElement(c,b,a)},flushLayouts:function(){var b=this,a=b.pendingLayouts;a&&a.invalidQueue.length&&(b.pendingLayouts=null,b.runningLayoutContext=a,Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var c,e=Ext.scroll.Scroller,d=Ext.GlobalEvents;return e.viewport&&e.viewport.restoreState(),c=this.callParent(),d.hasListeners.afterlayout&&d.fireEvent("afterlayout"),c}}),a.run())},resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(a&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,e){var d,c=this,a=c.runningLayoutContext;a?a.queueInvalidate(b):(d=c.pendingLayouts||(c.pendingLayouts=new Ext.layout.Context),d.queueInvalidate(b),e||c.layoutSuspendCount||b.isLayoutSuspended()||c.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,clearPropertiesOnDestroy:"async",manageLayoutScroll:!0,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:"x-component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var a=["input","select","textarea","optgroup","option","table"];return!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||a.push("p"),new RegExp("^(?:"+a.join("|")+")$","i")}(),disabledCls:"x-item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,rendered:!1,rootCls:"x-body",scrollerCls:"x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"auto",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"auto",overflowY:"scroll",x:!0,y:!0,both:!0}},false:{auto:{overflowX:"hidden",overflowY:"auto",x:!1,y:!0,both:!1},false:{overflowX:"hidden",overflowY:"hidden",x:!1,y:!1,both:!1},scroll:{overflowX:"hidden",overflowY:"scroll",x:!1,y:!0,both:!1}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"scroll",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"scroll",overflowY:"scroll",x:!0,y:!0,both:!0}},none:{overflowX:"",overflowY:"",x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},true:{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(a){var c,g,j,e,l,d,b,k,h=this;if(a=a||{},a.initialConfig?(a.isAction&&(h.baseAction=a),a=a.initialConfig):(a.tagName||a.dom||Ext.isString(a))&&(a={applyTo:a,id:a.id||a}),h.initialConfig=a,h.getId(),h.protoEl=new Ext.util.ProtoElement,h.initConfig(a),null==h.scrollable&&(l=h.autoScroll,l?k=!!l:(d=h.overflowX,b=h.overflowY,(d||b)&&(k={x:!(!d||"hidden"===d)&&d,y:!(!b||"hidden"===b)&&b})),k&&h.setScrollable(k)),j=h.xhooks,j&&(delete h.xhooks,Ext.override(h,j)),h.mixins.elementCt.constructor.call(h),h.setupProtoEl(),h.cls&&(h.initialCls=h.cls,h.protoEl.addCls(h.cls)),h.style&&(h.initialStyle=h.style,h.protoEl.setStyle(h.style)),h.renderData=h.renderData||{},h.initComponent(),h.preventRegister||Ext.ComponentManager.register(h),h.mixins.state.constructor.call(h),h.addStateEvents("resize"),e=h.getController(),e&&e.init(h),h.plugins)for(c=0,g=h.plugins.length;c<g;c++)h.plugins[c]=h.initPlugin(h.plugins[c]);h.loader=h.getLoader(),h.disabled&&(h.disabled=!1,h.disable(!0)),h.renderTo&&h.render(h.renderTo),h.autoShow&&!h.$initParent&&h.show(),h.baseAction&&h.baseAction.addComponent(h)},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;return b.addCls.apply(b,arguments),c},addClsWithUI:function(c,j){var a,k,h=this,g=[],e=0,d=h.uiCls=Ext.Array.clone(h.uiCls),b=h.activeUI;for("string"==typeof c&&(c=c.indexOf(" ")<0?[c]:Ext.String.splitWords(c)),a=c.length;e<a;e++)(k=c[e])&&!h.hasUICls(k)&&(d.push(k),b&&(g=g.concat(h.addUIClsToElement(k))));return!0!==j&&b&&h.addCls(g),g},afterComponentLayout:function(d,b,c,g){var e=this,a=e.scrollable;1==++e.componentLayoutCounter?e.afterFirstLayout(d,b):e.manageLayoutScroll&&a&&a.restoreState(),d===c&&b===g||e.onResize(d,b,c,g),e.floating&&e.onAfterFloatLayout()},addPlugin:function(b){var a=this;return b=a.constructPlugin(b),a.plugins?a.plugins.push(b):a.plugins=[b],a.pluginsInitialized&&a.initPlugin(b),b},addPropertyToState:function(e,d,c){var b=this,a=arguments.length;return(3===a||b.hasOwnProperty(d))&&(a<3&&(c=b[d]),c!==b.initialConfig[d]&&((e||(e={}))[d]=c)),e},addUIClsToElement:function(i){var d,h,c,g,e=this,b=e.baseCls+"-"+e.ui+"-"+i,a=["x-"+i,e.baseCls+"-"+i,b];if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){b+="-",d=e.getChildEls();for(h in d)(g=d[h].frame)&&!0!==g&&(c=e[h])&&c.addCls(b+g)}return a},removeUIClsFromElement:function(i){var d,h,c,g,e=this,b=e.baseCls+"-"+e.ui+"-"+i,a=["x-"+i,e.baseCls+"-"+i,b];if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){b+="-",d=e.getChildEls();for(h in d)(g=d[h].frame)&&!0!==g&&(c=e[h])&&c.removeCls(b+g)}return a},adjustPosition:function(a,d){var c,b=this;return b.isContainedFloater()&&(c=b.floatParent.getTargetEl().getViewRegion(),a+=c.left,d+=c.top),{x:a,y:d}},afterHide:function(d,b){var c=this,a=c.focusableContainer;delete c.getInherited().topmostFocusEvent,c.hiddenByLayout=null,c.ownerLayout&&c.updateLayout({isRoot:!1}),a&&a.onFocusableChildHide(c),c.fireHierarchyEvent("hide"),c.fireEvent("hide",c),Ext.callback(d,b||c)},afterSetPosition:function(a,c){var b=this;b.onPosition(a,c),b.hasListeners.move&&b.fireEvent("move",b,a,c)},afterShow:function(g,i,d){var a,b,c,e=this,h=e.el;g=e.getAnimateTarget(g),e.ghost||(g=null),g?(b={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight},a={x:g.getX(),y:g.getY(),width:g.dom.offsetWidth,height:g.dom.offsetHeight},e.fireHierarchyEvent("show"),c=e.ghost(),c.el.stopAnimation(),c.setX(-1e4),e.ghostBox=b,c.el.animate({from:a,to:b,listeners:{afteranimate:function(){e.destroying||(c.componentLayout.lastComponentSize=null,e.unghost(),e.ghostBox=null,e.onShowComplete(i,d))}}})):(e.onShowComplete(i,d),e.fireHierarchyEvent("show"))},animate:function(c){var g,l,k,a,d,b,s,p,m,e,q,n,i,o,r,j,t=this;return c=c||{},d=c.to||{},Ext.fx.Manager.hasFxBlock(t.id)?t:(g=Ext.isDefined(d.width),g&&(a=Ext.Number.constrain(d.width,t.minWidth,t.maxWidth)),l=Ext.isDefined(d.height),l&&(k=Ext.Number.constrain(d.height,t.minHeight,t.maxHeight)),c.dynamic||!g&&!l||(p=(c.from?c.from.width:void 0)||t.getWidth(),m=p,e=(c.from?c.from.height:void 0)||t.getHeight(),q=e,n=!1,l&&k>e&&(q=k,n=!0),g&&a>p&&(m=a,n=!0),(l||g)&&"hidden"!==(j=t.el.getStyle("overflow"))&&t.el.setStyle("overflow","hidden"),n&&(b=!Ext.isNumber(t.width),s=!Ext.isNumber(t.height),t.setSize(m,q),t.el.setSize(p,e),b&&delete t.width,s&&delete t.height),g&&(d.width=a),l&&(d.height=k)),i=t.constrain,o=t.constrainHeader,(i||o)&&(t.constrain=t.constrainHeader=!1,r=c.callback,c.callback=function(){t.constrain=i,t.constrainHeader=o,r&&r.call(c.scope||t,arguments),"hidden"!==j&&t.el.setStyle("overflow",j)}),t.mixins.animate.animate.apply(t,arguments))},applyScrollable:function(b,c){var d,a=this,e=a.rendered;return b?(!0!==b&&"string"!=typeof b||(d=a._scrollableCfg[b],b=d),c?(c.setConfig(b),b=c):(b=Ext.Object.chain(b),e&&(b.element=a.getOverflowEl()),b=Ext.scroll.Scroller.create(b,a.scrollableType),b.component=a)):c&&(b=c,c.setConfig({x:!1,y:!1})),!a.rendered||a.destroying||a.destroyed||(b?a.getOverflowStyle():a.scrollFlags=a._scrollFlags.none,a.updateLayout()),b},applyTouchAction:function(a,b){return null!=b&&(a=Ext.merge({},b,a)),a},beforeDestroy:Ext.emptyFn,beforeLayout:function(){this.floating&&this.onBeforeFloatLayout()},beforeSetPosition:function(j,h,b){var d,c,a,e,g=this,i=null;return j&&(Ext.isNumber(d=j[0])?(b=h,h=j[1],j=d):void 0!==(d=j.x)&&(b=h,h=j.y,j=d)),(g.constrain||g.constrainHeader)&&(i=g.calculateConstrainedPosition(null,[j,h],!0))&&(j=i[0],h=i[1]),c=void 0!==j,a=void 0!==h,(c||a)&&(g.x=j,g.y=h,e=g.adjustPosition(j,h),i={x:e.x,y:e.y,anim:b,hasX:c,hasY:a}),i},beforeShow:Ext.emptyFn,bubble:function(c,b,a){for(var d=this;d&&!1!==c.apply(b||d,a||[d]);)d=d.getBubbleTarget();return this},clearListeners:function(){var a=this;a.mixins.observable.clearListeners.call(a),a.mixins.componentDelegation.clearDelegatedListeners.call(a)},cloneConfig:function(c){c=c||{};var d=c.id||Ext.id(),a=Ext.applyIf(c,this.initialConfig);return a.id=d,new(Ext.getClass(this))(a)},destroy:function(){var a=this;a.hasListeners.beforedestroy&&!1===a.fireEvent("beforedestroy",a)||(a.isDestroying=a.destroying=!0,a.doDestroy(),a.clearListeners(),a.isDestroying=a.destroying=!1,a.callParent(),a.mixins.componentDelegation.destroyComponentDelegation.call(a),a.mixins.observable.destroyObservable.call(a,!0))},doDestroy:function(){var a,e,d,g=this,b=g.focusableContainer,c=g.renderSelectors;if(e=g.floatParent||g.ownerCt,g.floating&&(delete g.floatParent,g.zIndexManager&&!g.zIndexManager.destroyed&&g.zIndexManager.unregister(g),g.floating=!0),g.removeBindings(),g.beforeDestroy.$emptyFn||g.beforeDestroy(),g.destroyBindable(),e&&e.remove&&e.remove(g,!1),g.stopAnimation(),g.rendered&&Ext.destroy(g.loadMask,g.dd,g.resizer,g.proxy,g.proxyWrap,g.resizerComponent,g.scrollable,g.contentEl),b&&b.onFocusableChildDestroy(g),g.focusable&&g.destroyFocusable(),Ext.destroy(g.componentLayout,g.loadMask,g.floatingDescendants),g.onDestroy.$emptyFn||g.onDestroy(),Ext.destroy(g.plugins),g.rendered&&Ext.Component.cancelLayout(g,!0),g.componentLayout=null,g.hasListeners.destroy&&g.fireEvent("destroy",g),g.preventRegister||Ext.ComponentManager.unregister(g),g.mixins.state.destroy.call(g),g.floating&&g.onFloatDestroy(),g.rendered){if(g.showListenerIE&&(g.showListenerIE.destroy(),g.showListenerIE=null),g.preserveElOnDestroy||g.el.destroy(),g.el.component=null,g.mixins.elementCt.destroy.call(g),c)for(a in c)c.hasOwnProperty(a)&&(d=g[a])&&(delete g[a],d.destroy());g.rendered=!1}},disable:function(c,e){var d=this,b=d.focusableContainer,a=d.getInherited();return e||(a.disabled=!0,d.savedDisabled=!0),d.maskOnDisable&&(a.disableMask=!0),d.disabled||(b&&b.beforeFocusableChildDisable(d),d.addCls(d.disabledCls),d.rendered?d.onDisable():d.disableOnRender=!0,d.disabled=!0,!0!==c&&d.fireEvent("disable",d),b&&b.onFocusableChildDisable(d)),d},doFireEvent:function(b,d,a){var c,e=this;return c=e.mixins.observable.doFireEvent.call(e,b,d,a),!1===c||e.destroyed||(c=e.mixins.componentDelegation.doFireDelegatedEvent.call(e,b,d)),c},enable:function(c,e){var d=this,b=d.focusableContainer,a=d.getInherited();return e||(delete d.getInherited().disabled,d.savedDisabled=!1),d.maskOnDisable&&delete a.disableMask,d.disabled&&(e&&a.hasOwnProperty("disabled")||(b&&b.beforeFocusableChildEnable(d),d.disableOnRender=!1,d.removeCls(d.disabledCls),d.rendered&&d.onEnable(),d.disabled=!1,!0!==c&&d.fireEvent("enable",d),b&&b.onFocusableChildEnable(d))),d},findParentBy:function(a){var b;for(b=this.getRefOwner();b&&!a(b,this);b=b.getRefOwner());return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.self===a||b.constructor===a}):this.up(a)},findPlugin:function(d){var b,a=this.plugins,c=a&&a.length;for(b=0;b<c;b++)if(a[b].ptype===d)return a[b]},getAnimateTarget:function(a){return a=a||this.animateTarget,a&&(a=a.isComponent?a.getEl():Ext.get(a)),a||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var a=this;return a.componentLayout&&a.componentLayout.isLayout||a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent")),a.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(a){var c=this,b=c.componentLayout;c.hidden&&(a.hidden=!0),c.collapseImmune&&(a.collapseImmune=!0),void 0!==c.modelValidation&&(a.modelValidation=c.modelValidation),c.savedDisabled&&(a.disabled=!0),c.mixins.bindable.initInheritedState.call(c,a),b&&b.initInheritedState&&b.initInheritedState(a)},getId:function(){var b,a=this;return a.id||(a.id=a.initialConfig.id)||(b=a.getXType(),b=b?b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",a.id=b+"-"+a.getAutoId()),a.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var b=this,a=b.loader;return a?(a.isLoader?a.setTarget(b):b.loader=new Ext.ComponentLoader(Ext.apply({target:b},a)),b.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){var b,c,a=this.plugins,d=a&&a.length;for(b=0;b<d;b++)if(c=a[b],c.id===e||c.pluginId===e)return c;return null},getPosition:function(a){var d,e,b=this,c=b.isContainedFloater();return!0!==a||c?(d=b.getXY(),!0===a&&c&&(e=b.floatParent.getTargetEl().getViewRegion(),d[0]-=e.left,d[1]-=e.top),d):[b.getLocalX(),b.getLocalY()]},getScrollX:function(){var a=this.getScrollable();return a?a.getPosition().x:0},getScrollY:function(){var a=this.getScrollable();return a?a.getPosition().y:0},getSize:function(a){return this.el.getSize(a)},getSizeModel:function(k){var r,c,h,g,i,p,m,n,l,j,o=this,a=Ext.layout.SizeModel,d=o.componentLayout.ownerContext,b=o.width,q=o.height,e=o.floating||o.floated;return d&&(j=d.widthModel,i=d.heightModel),j&&i||(h="number"==(r=typeof b),g="number"==(c=typeof q),l=e||!(p=o.ownerLayout),l?(m=Ext.layout.Layout.prototype.autoSizePolicy,n=e?3:o.shrinkWrap,h&&(j=a.configured),g&&(i=a.configured)):(m=p.getItemSizePolicy(o,k),n=p.isItemShrinkWrap(o)),d&&(d.ownerSizePolicy=m),n=!0===n?3:n||0,l&&n&&(b&&"string"===r&&(n&=2),q&&"string"===c&&(n&=1)),3!==n&&(k||(k=o.ownerCt&&o.ownerCt.getSizeModel()),k&&(n|=(k.width.shrinkWrap?1:0)|(k.height.shrinkWrap?2:0))),j||(j=m.setsWidth?m.readsWidth?h?a.calculatedFromConfigured:1&n?a.calculatedFromShrinkWrap:a.calculatedFromNatural:a.calculated:h?a.configured:1&n?a.shrinkWrap:a.natural),i||(i=m.setsHeight?m.readsHeight?g?a.calculatedFromConfigured:2&n?a.calculatedFromShrinkWrap:a.calculatedFromNatural:a.calculated:g?a.configured:2&n?a.shrinkWrap:a.natural)),j.pairsByHeightOrdinal[i.ordinal]},getState:function(){var b=this,c=null,a=b.getSizeModel();return a.width.configured&&(c=b.addPropertyToState(c,"width")),a.height.configured&&(c=b.addPropertyToState(c,"height")),c},getUserCls:function(){return this.userCls},setUserCls:function(a){var b=this,c=b.userCls;return a!==c&&(b.userCls=a,b.rendered&&b.el.replaceCls(c,a)),c},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var d,b,a,c=this.self;if(!c.xtypes){for(d=[],b=this;b;)a=b.xtypes,void 0!==a&&d.unshift.apply(d,a),b=b.superclass;c.xtypeChain=d,c.xtypes=d.join("/")}return c.xtypes},hasCls:function(b){var a=this.rendered?this.el:this.protoEl;return a.hasCls.apply(a,arguments)},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},hide:function(d,e,b){var c=this,a=c.focusableContainer;return c.pendingShow&&(c.pendingShow=!1),c.rendered&&!c.isVisible()||c.hasListeners.beforehide&&!1===c.fireEvent("beforehide",c)&&!c.hierarchicallyHidden||(c.getInherited().hidden=c.hidden=!0,a&&a.beforeFocusableChildHide(c),c.fireHierarchyEvent("beforehide"),c.rendered&&c.onHide.apply(c,arguments)),c},initComponent:function(){var c=this,b=c.width,a=c.height;c.plugins&&!c.plugins.processed&&(c.plugins=c.constructPlugins()),c.pluginsInitialized=!0,null==b&&null==a||c.setSize(b,a),c.listeners&&(c.on(c.listeners),c.listeners=null),c.focusable&&c.initFocusable()},initEvents:function(){var b,d,g,c,a,e=this,h=e.afterRenderEvents;if(h)for(g in h)if((d=e[g])&&d.on)for(b=h[g],c=0,a=b.length;c<a;++c)e.mon(d,b[c]);e.focusable&&e.initFocusableEvents(),e.initKeyMap()},is:function(a){return Ext.ComponentQuery.is(this,a)},isDescendantOf:function(a){var b;for(b=this.getRefOwner();b&&b!==a;b=b.getRefOwner());return b||null},isAncestor:function(a){for(;a;){if(a.getRefOwner()===this)return!0;a=a.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var a,b,d=this,c=!1;a=d.ownerCt||d.floatParent;d=a){if(b=a.getInherited(),b.hidden){c=!0;break}if(!d.getInherited().collapseImmune){c=!!b.collapsed;break}if(a.collapsed&&!d.collapseImmune){c=!0;break}}return c},isLayoutChild:function(a){return!this.floating&&!!this.up(a)},isLayoutRoot:function(){var a=this,b=a.ownerLayout;return!(b&&!a._isLayoutRoot&&!a.floating)||b.isItemLayoutRoot(a)},isLayoutSuspended:function(){for(var b,a=this;a;){if(a.layoutSuspendCount||a.suspendLayout)return!0;if(!(b=a.ownerLayout))break;a=b.owner}return!1},isVisible:function(a){var c,b=this;return b.hidden||!b.rendered||b.destroyed?c=!0:a&&(c=b.isHierarchicallyHidden()),!c},isXType:function(b,a){return a?-1!==Ext.Array.indexOf(this.xtypes,b):!!this.xtypesMap[b]},isMasked:function(a){var b=this;return!!(b.masked||b.loadMask&&b.loadMask.isVisible()||a&&b.getInherited().masked)},lookupTpl:function(a){return Ext.XTemplate.getTpl(this,a)},setMasked:function(c){var b=this,a=b.focusableContainer;return c?(b.masked=!0,b.getInherited().masked=c):(b.masked=!1,delete b.getInherited().masked),a&&a.onFocusableChildMasked(b,c),b},mask:function(e,c,a){var b=this.lastBox,d=this.getMaskTarget()||this.el;b&&(a=b.height),d.mask(e,c,a),this.setMasked(!0)},nextNode:function(d,j){var k,e,h,g,a,b=this,c=b.ownerCt;if(j&&b.is(d))return b;if(c){for(e=c.items.items,g=Ext.Array.indexOf(e,b)+1,h=e.length;g<h;g++){if(a=e[g],a.is(d))return a;if(a.down&&(k=a.down(d)))return k}return c.nextNode(d)}return null},nextSibling:function(b){var d,e,a,h,g=this.ownerCt;if(g&&(d=g.items,a=d.indexOf(this)+1))if(b){for(e=d.getCount();a<e;a++)if((h=d.getAt(a)).is(b))return h}else if(a<d.getCount())return d.getAt(a);return null},onAdded:function(b,d,a){var c=this;c.ownerCt=b,c.onInheritedAdd(c,a),c.hasListeners&&c.hasListeners.added&&c.fireEvent("added",c,b,d),Ext.GlobalEvents.hasListeners.added&&c.fireHierarchyEvent("added")},onRemoved:function(c){var a,b=this;!b.isLayoutMoving&&b.el&&b.el.contains(Ext.Element.getActiveElement())&&(a=b.findFocusTarget())&&a.focus(),Ext.GlobalEvents.hasListeners.removed&&b.fireHierarchyEvent("removed"),b.hasListeners.removed&&b.fireEvent("removed",b,b.ownerCt),c||b.removeBindings(),b.onInheritedRemove(c),b.ownerCt=b.ownerLayout=null},onBoxReady:function(c,a){var b,d=this;(d.ariaLabelledBy||d.ariaDescribedBy)&&(d.ariaLabelledBy&&(b=d.getAriaLabelEl(d.ariaLabelledBy))&&d.ariaEl.dom.setAttribute("aria-labelledby",b),d.ariaDescribedBy&&(b=d.getAriaLabelEl(d.ariaDescribedBy))&&d.ariaEl.dom.setAttribute("aria-describedby",b)),d.resizable&&d.initResizable(d.resizable),d.draggable&&d.initDraggable(),d.hasListeners.boxready&&d.fireEvent("boxready",d,c,a)},onDestroy:Ext.emptyFn,onDisable:function(){var b,c,a=this;a.focusable&&a.disableFocusable(),a.ariaStaticRoles[a.ariaRole]||a.ariaEl.dom.setAttribute("aria-disabled",!0),a.maskOnDisable&&!a.getInheritedConfig("disableMask",!0)&&(b=a.el.dom,c=b.nodeName,a.disabledRe.test(c)&&(b.disabled=!0),a.nonMaskableRe.test(c)||a.mask())},onEnable:function(){var b,c,a=this;a.focusable&&a.enableFocusable(),a.ariaStaticRoles[a.ariaRole]||a.ariaEl.dom.setAttribute("aria-disabled",!1),a.maskOnDisable&&a.getInherited().hasOwnProperty("masked")&&(b=a.el.dom,c=b.nodeName,a.disabledRe.test(c)&&(b.disabled=!1),a.nonMaskableRe.test(c)||a.unmask())},onGlobalShow:function(a){this.up(a)&&this.getScrollable().restoreState()},onHide:function(h,a,e){var c,d,b,g=this;g.ariaStaticRoles[g.ariaRole]||g.destroying||g.destroyed||g.ariaEl.dom.setAttribute("aria-hidden",!0),g.revertFocus(),h=g.getAnimateTarget(h),g.ghost||(h=null),h?(b={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight},c=g.ghost(),c.el.stopAnimation(),d=g.getSize(),c.el.animate({to:b,listeners:{afteranimate:function(){g.destroying||(c.componentLayout.lastComponentSize=null,g.unghost(!1),c.el.setSize(d),g.afterHide(a,e))}}})):g.el.hide(),h||g.afterHide(a,e)},onPosition:Ext.emptyFn,onResize:function(c,a,b,e){var d=this;d.floating&&d.constrain&&d.doConstrain(),d.hasListeners.resize&&d.fireEvent("resize",d,c,a,b,e)},onShow:function(){var a=this;a.ariaStaticRoles[a.ariaRole]||a.ariaEl.dom.setAttribute("aria-hidden",!1),a.el.show(),a.updateLayout({isRoot:!1,context:a._showContext}),a.floating&&(a.maximized?a.fitContainer():a.constrain&&a.doConstrain())},_showContext:{show:!0},onShowComplete:function(a,c){var d=this,b=d.focusableContainer;d.floating&&d.onFloatShow(),Ext.callback(a,c||d),d.fireEvent("show",d),b&&b.onFocusableChildShow(d),delete d.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(b,d){var a,g,e,c,j=this,h=j.ownerCt;if(d&&j.is(b))return j;if(h){for(g=h.items.items,e=Ext.Array.indexOf(g,j)-1;e>-1;e--){if(c=g[e],c.query&&(a=c.query(b),a=a[a.length-1]))return a;if(c.is(b))return c}return h.previousNode(b,!0)}return null},previousSibling:function(b){var d,a,g,e=this.ownerCt;if(e&&(d=e.items,-1!==(a=d.indexOf(this))))if(b){for(--a;a>=0;a--)if((g=d.getAt(a)).is(b))return g}else if(a)return d.getAt(--a);return null},registerFloatingItem:function(b){var a=this;a.floatingDescendants||(a.floatingDescendants=new Ext.ZIndexManager(a)),a.floatingDescendants.register(b)},removeCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;return b.removeCls.apply(b,arguments),c},removeClsWithUI:function(d,l){var b,m,k=this,j=[],g=0,a=Ext.Array,h=a.remove,e=k.uiCls=a.clone(k.uiCls),c=k.activeUI;for("string"==typeof d&&(d=d.indexOf(" ")<0?[d]:Ext.String.splitWords(d)),b=d.length,g=0;g<b;g++)(m=d[g])&&k.hasUICls(m)&&(h(e,m),c&&(j=j.concat(k.removeUIClsFromElement(m))));return!0!==l&&c&&k.removeCls(j),j},resumeLayouts:function(b){var a=this;a.rendered&&a.layoutSuspendCount&&!--a.layoutSuspendCount&&(a.suspendLayout=!1,b&&!a.isLayoutSuspended()&&a.updateLayout(b))},scrollBy:function(c,b,d){var a=this.getScrollable();a&&a.scrollBy(c,b,d)},scrollTo:function(b,d,c){var a=this.getScrollable();a&&a.scrollTo(b,d,c)},setAutoScroll:function(a){return this.setScrollable(!!a),this},setBorder:function(b,d){var c=this,a=!!d;(c.rendered||a)&&(a||(d=c.el),b=b?!0===b?"1px":this.unitizeBox(b):0,d.setStyle("border-width",b),a||c.updateLayout()),c.border=b},setDock:function(c){var b=this,a=b.ownerCt;return c!==b.dock&&(a&&a.moveDocked?a.moveDocked(b,c):b.dock=c),b},setDisabled:function(a){return this[a?"disable":"enable"]()},setFlex:function(a){this.flex=a},setHeight:function(a){return this.setSize(void 0,a)},setLoading:function(c,d){var b=this,a={target:b};return b.rendered&&(!1!==c?(Ext.isString(c)?a.msg=c:Ext.apply(a,c),b.loadMask&&b.loadMask.isLoadMask?Ext.apply(b.loadMask,a):(d&&null==a.useTargetEl&&(a.useTargetEl=!0),b.loadMask=new Ext.LoadMask(a)),b.loadMask.isVisible()?b.loadMask.syncMaskState():b.loadMask.show()):b.loadMask&&b.loadMask.isLoadMask&&b.loadMask.hide()),b.loadMask},setMargin:function(c,b){var a=this;a.rendered?(c||0===c?(!0===c&&(c=5),c=this.unitizeBox(c)):c="",a.margin=c,a.margin$=null,a.getEl().setStyle("margin",c),b||a.updateLayout(a._notAsLayoutRoot)):a.margin=c},setOverflowXY:function(b,a){return this.setScrollable({x:!(!b||"hidden"===b)&&b,y:!(!a||"hidden"===a)&&a}),this},setPagePosition:function(a,g,b){var d,e,c=this;return Ext.isArray(a)&&(g=a[1],a=a[0]),c.pageX=a,c.pageY=g,c.floating?(c.isContainedFloater()?(e=c.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(a)&&Ext.isNumber(e.left)&&(a-=e.left),
Ext.isNumber(g)&&Ext.isNumber(e.top)&&(g-=e.top)):(d=c.el.translateXY(a,g),a=d.x,g=d.y),c.setPosition(a,g,b)):(d=c.el.translateXY(a,g),c.setPosition(d.x,d.y,b)),c},setPosition:function(a,e,b){var c=this,d=c.beforeSetPosition.apply(c,arguments);return d&&c.rendered&&(a=d.x,e=d.y,b?a===c.getLocalX()&&e===c.getLocalY()||(c.stopAnimation(),c.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(c.afterSetPosition,c,[a,e])},to:{left:a,top:e}},b))):(c.setLocalXY(a,e),c.afterSetPosition(a,e))),c},setScrollX:function(b,c){var a=this.getScrollable();a&&a.scrollTo(b,null,c)},setScrollY:function(c,b){var a=this.getScrollable();a&&a.scrollTo(null,c,b)},setSize:function(d,a){var g,c,e=this,b=e.width,h=e.height;return d&&"object"==typeof d&&(a=d.height,d=d.width),"number"==typeof d?e.width=Ext.Number.constrain(d,e.minWidth,e.maxWidth):null===d?delete e.width:"string"==typeof d&&(g=!0,e.width=d),"number"==typeof a?e.height=Ext.Number.constrain(a,e.minHeight,e.maxHeight):null===a?delete e.height:"string"==typeof a&&(c=!0,e.height=a),e.rendered&&e.isVisible()&&(b===e.width&&h===e.height||((e.liquidLayout||g||c)&&e.el.setSize(e.width,e.height),e.updateLayout(e._notAsLayoutRoot))),e},setStyle:function(c,b){return(this.el||this.protoEl).setStyle(c,b),this},setUI:function(c){var a,b=this,e=b.uiCls,d=b.activeUI;c!==d&&(d?(a=b.removeClsWithUI(e,!0),a.length&&b.removeCls(a),b.removeUIFromElement()):b.uiCls=[],b.ui=c,b.activeUI=c,b.addUIToElement(),a=b.addClsWithUI(e,!0),a.length&&b.addCls(a),b.rendered&&b.updateLayout())},setVisible:function(a){return this[a?"show":"hide"]()},setHidden:function(a){return this.setVisible(!a)},setWidth:function(a){return this.setSize(a)},show:function(e,a,c){var d=this,g=d.rendered,b=d.focusableContainer;return d.hierarchicallyHidden||d.floating&&!g&&d.isHierarchicallyHidden()?(g||d.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,d.pendingShow=arguments):d.pendingShow=!0):g&&d.isVisible()?d.floating&&d.onFloatShow():!1!==d.fireEvent("beforeshow",d)?(d.hidden=!1,delete this.getInherited().hidden,b&&b.beforeFocusableChildShow(d),Ext.suspendLayouts(),g||!d.autoRender&&!d.floating||(d.doAutoRender(),g=d.rendered),g?(d.beforeShow(),Ext.resumeLayouts(),d.onShow.apply(d,arguments),d.afterShow.apply(d,arguments)):Ext.resumeLayouts(!0)):d.onShowVeto(),d},showAt:function(a,d,b){var c=this;return c.rendered||!c.autoRender&&!c.floating?(c.floating?c.setPosition(a,d,b):c.setPagePosition(a,d,b),c.show()):(c.x=a,c.y=d,c.show())},showBy:function(b,d,c){var a=this;return a.floating&&b&&(a._lastAlignTarget=b,a._lastAlignToPos=d||a.defaultAlign,a._lastAlignToOffsets=c||a.alignOffset,a.show()),a},suspendLayouts:function(){var a=this;a.rendered&&1==++a.layoutSuspendCount&&(a.suspendLayout=!0)},toggleCls:function(a,b){return void 0===b&&(b=!this.hasCls(a)),this[b?"addCls":"removeCls"](a)},unitizeBox:function(a){return Ext.Element.unitizeBox(a)},unmask:function(){(this.getMaskTarget()||this.el).unmask(),this.setMasked(!1)},unregisterFloatingItem:function(b){var a=this;a.floatingDescendants&&a.floatingDescendants.unregister(b)},up:function(d,e){var c=this.getRefOwner(),b="string"==typeof e,h="number"==typeof e,a=e&&e.isComponent,g=0;if(d)for(;c&&!c.destroyed;c=c.getRefOwner()){if(g++,d.isComponent){if(c===d)return c}else if(Ext.ComponentQuery.is(c,d))return c;if(b&&c.is(e))return;if(h&&g===e)return;if(a&&c===e)return}return c},update:function(d,h,j,b){var g,a,e,i=this,k=i.tpl&&!Ext.isString(d),c=i.focusableContainer;k?i.data=d&&d.isEntity?d.getData(!0):d:i.html=Ext.isObject(d)?Ext.DomHelper.markup(d):d,i.rendered&&(g=i.getSizeModel(),a=g.width.shrinkWrap||g.height.shrinkWrap,i.isContainer?(e=i.layout.getRenderTarget(),a=a||i.items.items.length>0):e=i.getTargetEl(),k?i.tpl[i.tplWriteMode](e,i.data||{}):e.setHtml(i.html,h,j,b||i),a&&i.updateLayout(),c&&c.onFocusableChildUpdate(i))},setHtml:function(b,a,c){this.update(b,a,null,c)},applyData:function(a){this.update(a)},updateBox:function(a){return this.setSize(a.width,a.height),this.setPagePosition(a.x,a.y),this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(c){var g,e=this,b=e.lastBox,a=c&&c.isRoot,d=c&&c.context;b&&(b.invalid=!0),!e.rendered||e.layoutSuspendCount||e.suspendLayout||(e.hidden?Ext.Component.cancelLayout(e):"boolean"!=typeof a&&(a=e.isLayoutRoot()),!a&&e.ownerLayout&&e.ownerLayout.onContentChange(e,d)||e.isLayoutSuspended()||(g=c&&c.hasOwnProperty("defer")?c.defer:e.deferLayouts,Ext.Component.updateLayout(e,g)))},updateMaxHeight:function(b,a){this.changeConstraint(b,a,"min","max-height","height")},updateMaxWidth:function(b,a){this.changeConstraint(b,a,"min","max-width","width")},updateMinHeight:function(b,a){this.changeConstraint(b,a,"max","min-height","height")},updateMinWidth:function(a,b){this.changeConstraint(a,b,"max","min-width","width")},updateTouchAction:function(e){var b,a,c,d;for(b in e)a=this[b],c=e[b],a&&a.isElement?a.setTouchAction(c):d=!0;d&&this.el.setTouchAction(e)},getAnchorToXY:function(d,a,c,b){return d.getAnchorXY(a,c,b)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)},privates:{addOverCls:function(){var a=this;a.disabled||a.el.addCls(a.overCls)},addUIToElement:function(){var c,g,b,e,d=this,a=d.baseCls+"-"+d.ui;if(d.addCls(a),d.rendered&&d.frame&&!Ext.supports.CSS3BorderRadius){a+="-",c=d.getChildEls();for(g in c)(e=c[g].frame)&&!0!==e&&(b=d[g])&&b.addCls(a+e)}},changeConstraint:function(h,c,a,e,b){var g=this,d=g[b];null!=h&&"number"==typeof d&&(g[b]=Math[a](d,h)),g.liquidLayout&&(null!=h?g.setStyle(e,h+"px"):c&&g.setStyle(e,"")),g.rendered&&g.updateLayout()},constructPlugin:function(b){var a=this;return b="string"==typeof b?Ext.PluginManager.create({},b,a):Ext.PluginManager.create(b,null,a)},constructPlugins:function(){var b,d,a,e=this,c=e.plugins;if(c)for(b=[],b.processed=!0,Ext.isArray(c)||(c=[c]),d=0,a=c.length;d<a;d++)b[d]=e.constructPlugin(c[d]);return e.pluginsInitialized=!0,b},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el),Ext.Component.cancelLayout(this),this.isDetached=!0},doAddListener:function(d,l,m,o,b,a,e){var j,h,c,n,g,k=this;if(Ext.isObject(l)||o&&o.element){if(o.element){n=o.element,j={},j[d]=l,m&&(j.scope=m),c=k.$elementEventOptions;for(h in o)c[h]&&(j[h]=o[h])}else j=l,n=d;return g=k[n],void(g&&g.isObservable?k.mon(g,j):(k.afterRenderEvents=k.afterRenderEvents||{},k.afterRenderEvents[n]||(k.afterRenderEvents[n]=[]),k.afterRenderEvents[n].push(j)))}if(o&&o.delegate)return void k.mixins.componentDelegation.addDelegatedListener.call(k,d,l,m,o,b,a,e);k.mixins.observable.doAddListener.call(k,d,l,m,o,b,a,e)},doRemoveListener:function(a,c,b){var d=this;d.mixins.observable.doRemoveListener.call(d,a,c,b),d.mixins.componentDelegation.removeDelegatedListener.call(d,a,c,b)},fireHierarchyEvent:function(b){var a=Ext.GlobalEvents;a.hasListeners[b]&&a.fireEvent(b,this)},getActionEl:function(){return this.el},getAutoId:function(){return this.autoGenId=!0,++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a,g,e,d=this,b=d.getScrollable(),c=d._scrollFlags;return b?(a=b.getX(),!0===a&&(a="auto"),g=b.getY(),!0===g&&(g="auto"),e=c[a][g]):e=c.none,d.scrollFlags=e,{overflowX:e.overflowX,overflowY:e.overflowY}},getPlugins:function(){var a=this.plugins;return(a=a&&a.processed?a:this.constructPlugins())||null},getProxy:function(){var b,a=this;return a.proxy||(b=Ext.getBody(),a.proxy=a.el.createProxy("x-proxy-el",b,!0)),a.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(a){return this.lookupTpl(a)},initCls:function(){var b=this,a=[b.baseCls],c=b.getComponentLayout().targetCls;return c&&a.push(c),Ext.isDefined(b.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),b.componentCls=b.cmpCls,delete b.cmpCls),b.componentCls?a.push(b.componentCls):b.componentCls=b.baseCls,a},initDraggable:function(){var c=this,a=c.resizer&&c.resizer.el!==c.el?c.resizerComponent=new Ext.Component({el:c.resizer.el,rendered:!0,container:c.container}):c,b=Ext.applyIf({el:a.getDragEl(),constrainTo:c.constrain||c.draggable.constrain?c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.container):void 0},c.draggable);(c.constrain||c.constrainDelegate)&&(b.constrain=c.constrain,b.constrainDelegate=c.constrainDelegate),c.dd=new Ext.util.ComponentDragger(a,b)},initPadding:function(c){var a=this,b=a.padding;null!=b&&(a.layout&&a.layout.managePadding&&"padding"===a.contentPaddingProperty?c.setStyle("padding",0):c.setStyle("padding",this.unitizeBox(!0===b?5:b)))},initPlugin:function(a){return a.init(this),a},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:!1,constrainTo:b.constrain||a&&a.constrain?b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():b.container):void 0,handles:b.resizeHandles},a),a.target=b,b.resizer=new Ext.resizer.Resizer(a)},initStyles:function(k){var b,j,g=this,d=g.margin,e=g.border,l=g.cls,a=g.style,i=g.x,h=g.y,c=g.liquidLayout;g.initPadding(k),null!=d&&k.setStyle("margin",this.unitizeBox(!0===d?5:d)),null!=e&&g.setBorder(e,k),l&&l!==g.initialCls&&(k.addCls(l),g.cls=g.initialCls=null),a&&a!==g.initialStyle&&(k.setStyle(a),g.style=g.initialStyle=null),null!=i&&k.setStyle(g.horizontalPosProp,"number"==typeof i?i+"px":i),null!=h&&k.setStyle("top","number"==typeof h?h+"px":h),g.ownerCt&&!g.floating||(Ext.scopeCss&&k.addCls(g.rootCls),k.addCls(g.borderBoxCls)),!c&&g.getFrameInfo()||(b=g.width,j=g.height,null!=b&&("number"==typeof b?k.setStyle("width",b+"px"):k.setStyle("width",b)),null!=j&&("number"==typeof j?k.setStyle("height",j+"px"):k.setStyle("height",j)))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return!0;return!1},owns:function(b){var c,a=!1;return b.isEvent?b=b.target:b.isElement&&(b=b.dom),c=Ext.Component.fromElement(b),c&&(a=c===this||!!c.up(this)),a},parseBox:function(a){return Ext.Element.parseBox(a)},reattachToBody:function(){this.isDetached=!1},removeManagedListenerItem:function(b,a,i,d,g,e){var h=this,c=a.options?a.options.element:null;if(!c)return h.mixins.observable.removeManagedListenerItem.apply(h,arguments);(c=h[c])&&c.un&&(!b&&(a.item!==i||a.ename!==d||g&&a.fn!==g||e&&a.scope!==e)||(c.un(a.ename,a.fn,a.scope),b||Ext.Array.remove(h.managedListeners,a)))},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(a){Ext.Array.remove(this.plugins,a),a.destroy()},removeUIFromElement:function(){var c,g,b,e,d=this,a=d.baseCls+"-"+d.ui;if(d.removeCls(a),d.rendered&&d.frame&&!Ext.supports.CSS3BorderRadius){a+="-",c=d.getChildEls();for(g in c)(e=c[g].frame)&&!0!==e&&(b=d[g])&&b.removeCls(a+e)}},setComponentLayout:function(b){var a=this.componentLayout;a&&a.isLayout&&a!==b&&a.setOwner(null),this.componentLayout=b,b.setOwner(this)},setHiddenState:function(d){var c=this,b=c.getInherited(),a=c.zIndexManager;c.hidden=d,d?b.hidden=!0:delete b.hidden,a&&a.onComponentShowHide(c)},setupProtoEl:function(){var a=this.initCls();this.protoEl.addCls(a)},wrapPrimaryEl:function(c){var b=this,a=b.el;a&&a.isElement||(b.el=Ext.get(c)),b.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){return this.updateLayout(),this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:!0,box:!0},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard]],[Ext,"Component",Ext,"AbstractComponent"],function(b){var a=b.prototype;(a.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(a.$eventOptions=Ext.Object.chain(a.$eventOptions)).delegate=1,b.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(c){b.resumeLayouts(c)},Ext.suspendLayouts=function(){b.suspendLayouts()},Ext.batchLayouts=function(d,c){b.suspendLayouts();try{d.call(c)}finally{b.resumeLayouts(!0)}},Ext.setGlyphFontFamily=function(c){Ext._glyphFontFamily=c},b.hierarchyEventSource=a.hierarchyEventSource=Ext.GlobalEvents,Ext.onReady(function(){Ext.supports.HighContrastMode&&Ext.getBody().addCls(b.ariaHighContrastModeCls)})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;a._borderRegionInited||(a._borderRegionInited=!0,a.addStateEvents(["changeregion","changeweight"]),Ext.override(a,{getState:function(){var b=a.callParent();return b=a.addPropertyToState(b,"region"),b=a.addPropertyToState(b,"weight")}}))},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&a.isBorderLayout?a:null},setRegion:function(k){var c,j=this,d=j.region;if(k!==d)if(c=j.getOwningBorderLayout()){var m,i,h,g=c.regionFlags[k],l=j.placeholder,a=j.splitter,b=c.owner,n=c.regionMeta,e=j.collapsed||j.floated;if(!1===j.fireEventArgs("beforechangeregion",[j,k]))return d;Ext.suspendLayouts(),j.region=k,Ext.apply(j,g),j.updateCollapseTool&&j.updateCollapseTool(),a&&(Ext.apply(a,g),a.updateOrientation(),i=b.items,(h=i.indexOf(j))>=0&&(m=n[k].splitterDelta,i.getAt(h+m)!==a&&(i.remove(a),h=i.indexOf(j),m>0&&++h,i.insert(h,a)))),l&&(e&&j.expand(!1),b.remove(l),j.placeholder=null,e&&j.collapse(null,!1)),b.updateLayout(),Ext.resumeLayouts(!0),j.fireEventArgs("changeregion",[j,d])}else j.region=k;return d},setWeight:function(d){var c=this,b=c.getOwningBorderContainer(),e=c.placeholder,a=c.weight;return d!==a&&!1!==c.fireEventArgs("beforechangeweight",[c,d])&&(c.weight=d,e&&(e.weight=d),b&&b.updateLayout(),c.fireEventArgs("changeweight",[c,a])),a}},function(a){var b=a.prototype;b.setBorderRegion=b.setRegion,b.setRegionWeight=b.setWeight}),Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(a){a.monitor(Ext.Component)}),Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:!0,constructor:function(){var b=this,a=Ext.app.EventDomain.instances;b.callParent(),b.domains=a,b.bus=a.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(d,b){var c,a=this.domains;for(c in d)d.hasOwnProperty(c)&&a[c].listen(d[c],b)},unlisten:function(c){var b,a=Ext.app.EventDomain.instances;for(b in a)a[b].unlisten(c)}},1,0,0,0,0,0,[Ext.app,"EventBus"],0),Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:!0,type:"global",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.GlobalEvents)},listen:function(b,a){this.callParent([{global:b},a])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0),Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:!0,config:{id:void 0,control:null,listen:null,routes:null,before:null},constructor:function(a){var b=this;Ext.apply(b,a),delete b.control,delete b.listen,b.eventbus=Ext.app.EventBus,b.mixins.observable.constructor.call(b,a)},updateId:function(a){this.id=a},applyListen:function(a){return Ext.isObject(a)&&(a=Ext.clone(a)),a},applyControl:function(a){return Ext.isObject(a)&&(a=Ext.clone(a)),a},updateControl:function(a){this.getId(),a&&this.control(a)},updateListen:function(a){this.getId(),a&&this.listen(a)},updateRoutes:function(b){if(b){var d,c,h,e=this,g=e.getBefore()||{},a=Ext.app.route.Router;for(d in b)c=b[d],Ext.isString(c)&&(c={action:c}),h=c.action,c.before||(c.before=g[h]),a.connect(d,c,e)}},isActive:function(){return!0},control:function(b,c,a){var g,d=this,e=a;Ext.isString(b)?(g={},g[b]=c):(g=b,e=c),d.eventbus.control(g,e||d)},listen:function(b,a){this.eventbus.listen(b,a||this)},destroy:function(){var b=this,a=b.eventbus;Ext.app.route.Router.disconnectAll(b),a&&(a.unlisten(b),b.eventbus=null),b.callParent()},redirectTo:function(c,d){c.isModel&&(c=c.toUrl());var a=Ext.util.History.getToken()===c,b=!1;return a?d&&(b=!0,Ext.app.route.Router.onStateChange(c)):(b=!0,Ext.util.History.add(c)),b}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0),Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(c){var b,a,d=Ext.app.namespaces;for(Ext.isArray(c)||(c=[c]),b=0,a=c.length;b<a;b++)d[c[b]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(b){var c,d=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),a="";for(c in d)d.hasOwnProperty(c)&&c.length>a.length&&c+"."===b.substring(0,c.length+1)&&(a=c);return""===a?void 0:a},setupPaths:function(a,b,e){var c,d=Ext.manifest;if(a&&null!==b&&((d=d&&d.paths)&&void 0===b||Ext.Loader.setPath(a,void 0===b?"app":b)),e)for(c in e)e.hasOwnProperty(c)&&Ext.Loader.setPath(c,e[c])}}),Ext.getNamespace=Ext.app.getNamespace}),Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a)},get:function(a){return(this.map||this.getMap())[a]||null},clear:function(){this.map=null},getRootProperty:function(){var b=this,a=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return null!==a?a:b.getCollection().getRootProperty()},indexOf:function(k,e){var d,h,j,c,a=this.map||this.getMap(),l=a[k],g=this.getCollection(),b=g.length;if(!l)return-1;if(void 0===e&&(e=-1),l instanceof Array){for(j=l,h=b,c=j.length;c-- >0;)(d=g.indexOf(j[c]))<h&&d>e&&(h=d);if(h===b)return-1}else h=g.indexOf(l);return h>e?h:-1},updateKey:function(c,e){var g,a,b=this,d=b.map;d&&(g=d[e],g instanceof Array?(a=Ext.Array.indexOf(g,c))>=0&&(g.length>2?g.splice(a,1):d[e]=g[1-a]):g&&delete d[e],b.add([c]))},onCollectionAdd:function(b,a){this.map&&this.add(a.items)},onCollectionItemChange:function(b,a){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,d){var c,j,h=this,a=h.map,g=d.items,b=g.length;if(a)if(h.getUnique()&&b<e.length/2)for(c=0;c<b;++c)j=h.getKey(g[c]),delete a[j];else h.map=null},add:function(g){var b,e,k,j,c,d,h=this,a=h.map;for(c=g.length,d=h.getUnique(),e=0;e<c;++e)j=h.getKey(k=g[e]),!d&&j in a?((b=a[j])instanceof Array||(a[j]=b=[b]),b.push(k)):a[j]=k},applyKeyFn:function(a){Ext.isString(a)?this.getKey=function(b){return b[a]()}:this.getKey=a},updateProperty:function(b){var a=this.getRootProperty();this.getKey=function(c){return(a?c[a]:c)[b]}},getMap:function(){var a=this,b=a.map;return b||(a.map=b={},a.keysByItemKey={},++a.mapRebuilds,a.add(a.getCollection().items)),b},updateCollection:function(a){a.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0),Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(a){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(a){var b=this._groupFn(a);return null!=b?String(b):""},sortFn:function(d,c){var g=this,b=g._groupFn(d),e=g._groupFn(c),j=g._sortProperty,i=g._root,h=g._sorterFn,a=g._transform;if(b===e)return 0;if(j||h){if(h)return h.call(this,d,c);i&&(d=d[i],c=c[i]),b=d[j],e=c[j],a&&(b=a(b),e=a(e))}return b>e?1:b<e?-1:0},standardGroupFn:function(b){var a=this._root;return(a?b[a]:b)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}},1,0,0,0,0,0,[Ext.util,"Grouper"],0),Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(a){var b=this;b.items=[],b.map={},b.length=0,a&&a.keyFn&&(b.getKey=a.keyFn),b.mixins.observable.constructor.call(b,a)},destroy:function(){var c=this,b=c._filters,d=c._sorters,a=c._groups;b&&(b.destroy(),c._filters=null),d&&(c.grouped=c.sorted=!1,c.setSorters(null),c.manageSorters&&d.destroy()),a&&(a.destroy(),c._groups=null),c.setSource(null),c.observers=c.items=c.map=null,c.callParent()},add:function(d){var c=this,a=c.decodeItems(arguments,0),b=a;return a.length&&(c.splice(c.length,0,a),b=1===a.length?a[0]:a),b},replaceAll:function(){var b,a,c=this;return a=c.decodeItems(arguments,0),b=a,a.length?(c.splice(0,c.length,a),b=1===a.length?a[0]:a):c.removeAll(),b},aggregate:function(h,b,e,a,d){var g=this,c=Ext.Array.slice(arguments);return c.unshift(g.items),g.aggregateItems.apply(g,c)},aggregateByGroup:function(d,b,c){var a=this.getGroups();return this.aggregateGroups(a,d,b,c)},aggregateItems:function(l,r,d,a,e,s){var h,g,c,n,p,q,o,m=this,k=Ext.Number.clipIndices(l.length,[a,e]),b=0!==a&&e!==l.length;if(a=k[0],e=k[1],!Ext.isFunction(d))return d=m._aggregators[d],d.call(m,l,a,e,r,m.getRootProperty());for(n=m.getRootProperty(),q=new Array(c),o=b?new Array(c):l,h=a,g=0;h<e;++h,g++)b&&(o[g]=p=l[h]),q[g]=(n?p[n]:p)[r];return d.call(s||m,l,q,0)},aggregateGroups:function(a,k,c,l){var e,j,m,h=a.items,g=h.length,b=!Ext.isFunction(c),d={};for(e=0;e<g;++e)j=h[e],m=b?j[c](k):this.aggregateItems(j.items,k,c,null,null,l),d[j.getGroupKey()]=m;return d},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var b,e,c=this,d=c.generation,a=d?c.items:[];if(d&&(c.items=[],c.length=0,c.map={},c.indices={},c.generation++,b=c.getExtraKeys()))for(e in b)b[e].clear();return a},clone:function(){var a=this,b=new a.self(a.initialConfig);return b.add(a.items),b},collect:function(l,g,j){var c,h,k,e=this.items,b=e.length,a={},d=[];for(c=0;c<b;++c)k=e[c],k=(g?k[g]:k)[l],h=String(k),!j&&Ext.isEmpty(k)||a[h]||(a[h]=1,d.push(k));return d},contains:function(c){var b,a=!1;return null!=c&&(b=this.getKey(c),a=this.map[b]===c),a},containsKey:function(a){return a in this.map},createFiltered:function(o,n,e,k,d){var b,c,a,l,p,j=this,g=new j.self(j.initialConfig),m=j.getRootProperty(),h=j.items;if(Ext.isFunction(o))l=o,p=n;else{if(Ext.isString(o))a=[new Ext.util.Filter({property:o,value:n,root:m,anyMatch:e,caseSensitive:k,exactMatch:d})];else if(o instanceof Ext.util.Filter)a=[o],o.setRoot(m);else if(Ext.isArray(o))for(a=o.slice(0),c=0,b=a.length;c<b;++c)a[c].setRoot(m);l=Ext.util.Filter.createFilterFn(a)}for(p=p||j,c=0,b=h.length;c<b;c++)l.call(p,h[c])&&g.add(h[c]);return g},filterBy:function(b,a){return this.createFiltered(b,a)},each:function(g,e){var d,c,b=this.items,a=b.length;if(a)for(e=e||this,b=b.slice(0),d=0;d<a&&!1!==(c=g.call(e,b[d],d,a));d++);return c},eachKey:function(g,k){var a,j,h,c,e=this,d=e.items,b=d.length;if(b)for(k=k||e,d=d.slice(0),a=0;a<b&&(h=e.getKey(j=d[a]),!1!==(c=g.call(k,h,j,a,b)));a++);return c},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(h,g,i,d,c,b){if(Ext.isEmpty(g,!1))return null;var e=Ext.String.createRegex(g,d,c,b),a=this.getRootProperty();return this.findBy(function(j){return j&&e.test((a?j[a]:j)[h])},null,i)},findBy:function(g,k,a){var b,j,h,e=this,d=e.items,c=d.length;for(k=k||e,b=a||0;b<c;b++)if(h=e.getKey(j=d[b]),g.call(k,j,h))return d[b];return null},findIndex:function(g,e,h,c,b,a){var d=this.find(g,e,h,c,b,a);return d?this.indexOf(d):-1},findIndexBy:function(b,a,d){var c=this.findBy(b,a,d);return c?this.indexOf(c):-1},first:function(b){var a=b?this.getGroups():void 0;return a?this.aggregateGroups(a,null,"first"):this.items[0]},last:function(b){var a=b?this.getGroups():void 0;return a?this.aggregateGroups(a,null,"last"):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(a){var b=a.id;return 0===b||b?b:0===(b=a._id)||b?b:a.getId()},getRange:function(d,a){var b,c=this.items,e=c.length;return e?(b=Ext.Number.clipIndices(e,[d,a]),b=c.slice(b[0],b[1])):b=[],b},getValues:function(k,h,a,b){var c,j,g=this.items,d=Ext.Number.clipIndices(g.length,[a,b]),e=[];for(c=d[0],b=d[1];c<b;++c)j=g[c],j=(h?j[h]:j)[k],e.push(j);return e},indexOf:function(b){if(!b)return-1;var a=this.getKey(b);return this.indexOfKey(a)},indexOfKey:function(a){var b=this,c=b.indices;return a in b.map?(c||(c=b.getIndices()),c[a]):-1},insert:function(c,e){var d=this,a=d.decodeItems(arguments,1),b=a;return a.length&&(d.splice(c,0,a),b=1===a.length?a[0]:a),b},itemChanged:function(u,i,m,n){var t,s,g,w,h,b,v=this,c=0===m||!!m,j=v.filtered&&v.getAutoFilter(),e=!1,d=0,p=v.items,l=v.length-1,a=v.sorted&&l>0&&v.getAutoSort(),r=v.getSource(),q=0,k=!1,o=!1;r&&!r.updating?r.itemChanged(u,i,m,n):(s=v.getKey(u),j&&(h=v.indexOfKey(c?m:s),o=h<0,k=v.isItemFiltered(u),e=o!==k),e?k?(q=[u],b=-1):(w=[u],b=v.length):a&&!k&&(j||(h=v.indexOfKey(c?m:s)),g=v.getSortFn(),-1!==h&&(h&&g(p[h-1],p[h])>0?(d=-1,b=Ext.Array.binarySearch(p,u,0,h,g)):h<l&&g(p[h],p[h+1])>0&&(d=1,b=Ext.Array.binarySearch(p,u,h+1,g)),d&&(w=[u]))),t={item:u,key:s,index:b,filterChanged:e,keyChanged:c,indexChanged:!!d,filtered:k,oldIndex:h,newIndex:b,wasFiltered:o,meta:n},c&&(t.oldKey=m),i&&(t.modified=i),v.beginUpdate(),v.notify("beforeitemchange",[t]),c&&v.updateKey(u,m),(w||q)&&v.splice(b,q,w),d>0?t.newIndex--:d<0&&t.oldIndex++,v.notify(k?"filtereditemchange":"itemchange",[t]),v.endUpdate())},remove:function(d){var c=this,a=c.decodeRemoveItems(arguments,0),b=c.length;return c.splice(0,a),b-c.length},removeAll:function(){var b=this,a=b.length;return b.generation&&a&&b.splice(0,a),b},removeAt:function(i,h){var g,j=this,b=j.length,e=Ext.Number,d=e.clipIndices(b,[i,void 0===h?1:h],e.Clip.COUNT),c=d[0],a=d[1]-c,k=1===a&&j.getAt(c);return j.splice(c,a),g=j.length-b,k&&g?k:g},removeByKey:function(a){var b=this.getByKey(a);return!(!b||!this.remove(b))&&b},replace:function(b){var a=this.indexOf(b);-1===a?this.add(b):this.insert(a,b)},splice:function(E,o,C){var D,y,v,a,H,I,N,B,G,M,p,z,J,P,O,m=this,d=m.sorted&&m.getAutoSort(),A=m.map,s=m.items,q=m.length,w=o instanceof Array?m.decodeRemoveItems(o):null,x=!w,F=Ext.Number,e=F.clipIndices(q,[E,x?o:0],F.Clip.COUNT),h=e[0],l=e[1],L=l-h,u=m.decodeItems(arguments,2),K=u?u.length:0,c=h,b=m.indices||(K||w?m.getIndices():null),r=null,j=L?[h]:null,g=null,t=m.getSource();if(t&&!t.updating){if(x)for(w=[],N=0;N<L;++N)w.push(s[h+N]);return N=h<q?t.indexOf(s[h]):t.length,m.requestedIndex=E,t.splice(N,w,u),delete m.requestedIndex,m}if(K){for(D=u,g=[],y={},d&&(O=m.getSorters(),K>1&&(D.$cloned||(u=D=D.slice(0)),m.sortData(D))),N=0;N<K;++N)p=m.getKey(B=u[N]),void 0!==(M=y[p])?(P||(P={}))[M]=1:((G=b[p])<h||l<=G)&&(j||(j=[])).push(G),y[p]=N,g.push(p);if(P){for(z=g,D=[],g=[],D.$cloned=!0,N=0;N<K;++N)P[N]||(B=u[N],D.push(B),g.push(z[N]));K=D.length}r={items:D,keys:g}}for(N=w?w.length:0;N-- >0;)p=m.getKey(w[N]),void 0!==(G=b[p])&&(j||(j=[])).push(G);if(!r&&!j)return m;if(m.beginUpdate(),j){for(a=null,I=[],v={},j.length>1&&j.sort(Ext.Array.numericSortFn),N=0,J=j.length;N<J;++N)(p=m.getKey(B=s[G=j[N]]))in A&&(delete A[p],(!a||G>a.at+H.length)&&(I.push(a={at:G,items:H=[],keys:z=[],map:v,next:a,replacement:r}),r&&(r.replaced=a)),H.push(v[p]=B),z.push(p),G<c-1&&--c,L>1&&G===h&&(--L,j[N--]=++h));for(r&&(r.at=c),M=I.length;M-- >0;){if(a=I[M],N=a.at,J=a.items.length,N+J<q&&(m.indices=b=null),m.length=q-=J,s.splice(N,J),b)for(z=a.keys,N=0;N<J;++N)delete b[z[N]];++m.generation,m.notify("remove",[a])}}if(r)if(d&&K>1&&q)m.spliceMerge(D,g);else{if(d&&(K>1?(c=0,m.indices=b=null):c=O.findInsertionIndex(r.items[0],s,m.getSortFn(),E)),c===q){for(l=c,N=D.length-1;N>=0;--N)s[l+N]=D[N];if(b=m.indices)for(N=0;N<K;++N)b[g[N]]=c+N}else m.indices=null,Ext.Array.insert(s,c,D);for(N=0;N<K;++N)A[g[N]]=D[N];m.length+=K,r.at=c,r.atItem=0===c?null:s[c-1],++m.generation,m.notify("add",[r])}return m.endUpdate(),m},update:function(b,a){var c=this;c.beginUpdate();try{return b.call(a||c,c)}catch(d){throw d}finally{c.endUpdate()}},updateKey:function(b,e){var g,a=this,d=a.map,h=a.indices,c=a.getSource();c&&!c.updating?c.updateKey(b,e):(g=a.getKey(b))!==e&&(d[e]!==b||g in d||(delete d[e],a.updating++,a.generation++,d[g]=b,h&&(h[g]=h[e],delete h[e]),a.notify("updatekey",[{item:b,newKey:g,oldKey:e}]),a.updating--))},findInsertIndex:function(d){for(var c,a,e=this.getSource(),g=e.items,b=e.indexOf(d)-1;b>-1;){if(c=g[b],(a=this.indexOf(c))>-1)return a+1;--b}return 0},onCollectionAdd:function(a,b){var j,h,c,e,m,d,l=this,o=b.atItem,k=b.items,g=l.requestedIndex;if(l.sorted||(void 0!==g?h=g:o?(h=l.indexOf(o),-1===h?h=l.findInsertIndex(k[0]):++h):h=0),l.getAutoFilter()&&l.filtered)for(e=0,d=k.length;e<d;++e)m=k[e],l.isItemFiltered(m)?(c||(c=k.slice(0,e)),j||(j=[]),j.push(m)):c&&c.push(m);l.splice(h<0?l.length:h,0,c||k),j&&l.notify("filteradd",[j])},onCollectionBeforeItemChange:function(b,a){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionUpdateKey,this.itemChanged(a.item,a.modified,a.oldKey,a.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(a){var d,k,e,h,c,g=this,b={},j={};for(e=a.items,e=g.filtered&&g.getAutoFilter()?Ext.Array.filter(e,g.getFilterFn()):e.slice(0),g.sorted&&g.sortData(e),g.items=e,g.length=c=e.length,g.map=b,g.indices=j,d=0;d<c;++d)h=g.getKey(k=e[d]),b[h]=k,j[h]=d;g.notify("refresh")},onCollectionRemove:function(b,a){this.splice(0,a.items)},onCollectionUpdateKey:function(b,a){this.updateKey(a.item,a.oldKey)},_aggregators:{average:function(c,d,b,e,a){var g=b-d;return g&&this._aggregators.sum.call(this,c,d,b,e,a)/g},bounds:function(e,a,b,k,g){for(var j,h,c,d=a;d<b;++d)j=e[d],j=(g?j[g]:j)[k],j<h||(h=j),j>c||(c=j);return[c,h]},count:function(a){return a.length},extremes:function(g,a,c,m,k){
var e,n,j,d,l,h=null,b=null;for(e=a;e<c;++e)n=g[e],l=(k?n[k]:n)[m],l<j||(j=l,h=n),l>d||(d=l,b=n);return[b,h]},max:function(e,g,d,h,c){return this._aggregators.bounds.call(this,e,g,d,h,c)[1]},maxItem:function(e,g,d,h,c){return this._aggregators.extremes.call(this,e,g,d,h,c)[1]},min:function(e,g,d,h,c){return this._aggregators.bounds.call(this,e,g,d,h,c)[0]},minItem:function(e,g,d,h,c){return this._aggregators.extremes.call(this,e,g,d,h,c)[0]},sum:function(c,g,b,j,a){for(var h,e=0,d=g;d<b;++d)h=c[d],h=(a?h[a]:h)[j],e+=h;return e}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(a){var b=this,c=b.observers;c||(b.observers=c=[]),b.notifying&&(b.observers=c=c.slice(0)),c.push(a),c.length>1&&Ext.Array.sort(c,b.prioritySortFn)},prioritySortFn:function(g,e){return(g.observerPriority||0)-(e.observerPriority||0)},applyExtraKeys:function(e,a){var c,b,h,g=this,d=a||{};for(b in e)h=e[b],h.isCollectionKey?h.setCollection(g):(c={collection:g},Ext.isString(h)?c.property=h:c=Ext.apply(c,h),h=new Ext.util.CollectionKey(c)),d[b]=g[b]=h,h.name=b;return d},applyGrouper:function(a){return a&&(a=this.getSorters().decodeSorter(a,"Ext.util.Grouper")),a},decodeItems:function(d,c){var a,h,e,g=this,b=void 0===c?d:d[c];if(!b||!b.$cloned){if(a=d.length>c+1||!Ext.isIterable(b),a&&(b=Ext.Array.slice(d,c),1===b.length&&void 0===b[0]&&(b.length=0)),h=g.getDecoder())for(a||(b=b.slice(0),a=!0),e=b.length;e-- >0;)!1===(b[e]=h.call(g,b[e]))&&b.splice(e,1);a&&(b.$cloned=!0)}return b},getIndices:function(){var c,b,d=this,e=d.indices,a=d.items,g=a.length;if(!e)for(d.indices=e={},++d.indexRebuilds,c=0;c<g;++c)b=d.getKey(a[c]),e[b]=c;return e},notify:function(d,h){var e,b,a,g,i=this,c=i.observers,k=i._eventToMethodMap[d],j=0;if(h=h||[],c&&k){for(i.notifying=!0,e=0,b=c.length;e<b;++e)(a=(g=c[e])[k])&&(j++||h.unshift(i),a.apply(g,h));i.notifying=!1}i.hasListeners&&i.hasListeners[d]&&(j||h.unshift(i),i.fireEventArgs(d,h))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(b){var a=this._filters;return a||!1===b||(a=new Ext.util.FilterCollection,this.setFilters(a)),a},isItemFiltered:function(a){return!this.getFilters().filterFn(a)},onFilterChange:function(e){var c,b,a,d=this,g=d.getSource();if(g)(g.length||d.length)&&d.onCollectionRefresh(g);else{if(c=d.getExtraKeys()){b={};for(a in c)b[a]=c[a].clone(d)}g=new Ext.util.Collection({keyFn:d.getKey,extraKeys:b,rootProperty:d.getRootProperty()}),d.length&&g.add(d.items),d.setSource(g),d.autoSource=g}d.notify("filter")},applyFilters:function(a,b){return!a||a.isFilterCollection?a:(a&&(b||(b=this.getFilters()),b.splice(0,b.length,a)),b)},updateFilters:function(a,b){var c=this;b&&b.un("endupdate","onEndUpdateFilters",c),a&&(a.on({endupdate:"onEndUpdateFilters",scope:c,priority:c.$endUpdatePriority}),a.$filterable=c),c.onEndUpdateFilters(a)},onEndUpdateFilters:function(c){var b=this,d=b.filtered,a=!!c&&c.length>0;(d||a)&&(b.filtered=a,b.onFilterChange(c))},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(b){var a=this._sorters;return a||!1===b||(a=new Ext.util.SorterCollection,this.setSorters(a)),a},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(a,c,d){var b=this.getSorters();return b.addSort.apply(b,arguments),this},sortData:function(a){return Ext.Array.sort(a,this.getSortFn()),a},sortItems:function(b){var a=this;a.sorted&&(b=a.getSortFn()),a.indices=null,a.notify("beforesort",[a.getSorters(!1)]),a.length&&Ext.Array.sort(a.items,b),a.notify("sort")},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(g,b,e,d){var h,c,a;return b=b||this.items,e=e||this.getSortFn(),a=b.length,d<a&&(h=d>0?e(b[d-1],g):0,c=d<a-1?e(g,b[d]):0,h<1&&c<1)?d:Ext.Array.binarySearch(b,g,e)},applySorters:function(a,b){return!a||a.isSorterCollection?a:(a&&(b||(b=this.getSorters()),b.splice(0,b.length,a)),b)},createSortFn:function(){var c=this,a=c.getGrouper(),d=c.getSorters(!1),b=d?d.getSortFn():null;return a?function(e,h){var g=a.sort(e,h);return!g&&b&&(g=b(e,h)),g}:b},updateGrouper:function(b){var d,c=this,a=c.getGroups(),e=c.getSorters();c.onSorterChange(),c.grouped=!!b,b?c.getTrackGroups()&&(a||(a=new Ext.util.GroupCollection({itemRoot:c.getRootProperty()}),a.$groupable=c,c.setGroups(a)),a.setGrouper(b),d=!0):(a&&(c.removeObserver(a),a.destroy()),c.setGroups(null)),e.updating||c.onEndUpdateSorters(e),d&&a.onCollectionRefresh(c)},updateSorters:function(a,b){var c=this;b&&!b.destroyed&&b.un("endupdate","onEndUpdateSorters",c),a&&(a.on({endupdate:"onEndUpdateSorters",scope:c,priority:c.$endUpdatePriority}),a.$sortable=c),c.onSorterChange(),c.onEndUpdateSorters(a)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(c){var b=this,d=b.sorted,a=b.grouped&&b.getAutoGroup()||c&&c.length>0;(d||a)&&(b.sorted=!!a,b.onSortChange(c))},removeObserver:function(a){var b=this.observers;b&&Ext.Array.remove(b,a)},spliceMerge:function(k,s){var m,b,o,e,p,a,r=this,q=r.map,g=k.length,c=0,l=r.items,t=l.length,j=[],h=0,n=[],d=r.getSortFn();for(r.items=n,a=0;a<g;a=b){for(e=k[a];c<t&&!(d(e,p=l[c])<0);++c)n.push(p);if(c===t){for(j[h++]={at:n.length,itemAt:n[n.length-1],items:m=[]},h>1&&(j[h-2].next=j[h-1]);a<g;++a)m.push(e=k[a]),n.push(e);break}for(j[h++]={at:n.length,itemAt:n[n.length-1],items:m=[e]},h>1&&(j[h-2].next=j[h-1]),n.push(e),b=a+1;b<g&&!(d(e=k[b],p)>=0);++b)n.push(e),m.push(e)}for(;c<t;++c)n.push(l[c]);for(o=0;o<g;++o)q[s[o]]=k[o];for(r.length=n.length,++r.generation,r.indices=null,o=0;o<h;++o)r.notify("add",[j[o]])},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(b){var a=this.getGroups();a&&a.setAutoGroup(b),this.onEndUpdateSorters(this._sorters)},updateGroups:function(a,b){b&&this.removeObserver(b),a&&this.addObserver(a)},updateSource:function(b,a){var c=this.autoSource;a&&(a.destroyed||a.removeObserver(this),a===c&&(c.destroy(),this.autoSource=null)),b&&(b.addObserver(this),(b.length||this.length)&&this.onCollectionRefresh(b))}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var a=this.prototype;a.removeAtKey=a.removeByKey,a.decodeRemoveItems=a.decodeItems,Ext.Object.each(a._aggregators,function(b){a[b]=function(e,d,c){return this.aggregate(e,b,d,c)},a[b+"ByGroup"]=function(c){return this.aggregateByGroup(c,b)}})}),Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(b,a){return b.isObjectTemplate?b:new Ext.util.ObjectTemplate(b,a)}},constructor:function(b,a){Ext.apply(this,a),this.template=b},apply:function(a){var b=this;return delete b.apply,b.apply=b.compile(b.template),b.apply(a)},privates:{compile:function(e){var h,c,a,d,g=this,b=g.excludeProperties;if(Ext.isString(e))e.indexOf("{")<0?d=function(){return e}:g.valueRe.test(e)?(e=e.substring(1,e.length-1).split("."),d=function(l){for(var j=l,k=0;j&&k<e.length;++k)j=j[e[k]];return j}):(e=new Ext.XTemplate(e),d=function(i){return e.apply(i)});else if(!e||Ext.isPrimitive(e)||Ext.isFunction(e))d=function(){return e};else if(e instanceof Array){for(h=[],c=0,a=e.length;c<a;++c)h[c]=g.compile(e[c]);d=function(l){var k,j=[];for(k=0;k<a;++k)j[k]=h[k](l);return j}}else{h={};for(c in e)b[c]||(h[c]=g.compile(e[c]));d=function(m){var l,j,k={};for(l in e)void 0!==(j=b[l]?e[l]:h[l](m))&&(k[l]=j);return k}}return d}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0),Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(b,c){var d=this,a=c.extra;Ext.apply(d,c),a&&(a=Ext.apply({},a),delete a.type,Ext.apply(d,a),delete d.extra),d.association=b,b.owner===d.side&&(b.owner=d,d.owner=!0)},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(b,c,a,d){return a},checkMembership:Ext.emptyFn,adoptAssociated:function(b,c){var a=this.getAssociatedItem(b);a&&c.adopt(a)},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(g,l,e,m){var k,i=this,d=i.association,h=d.getFieldName(),j=d.isManyToMany,b=i.storeConfig,a=l.getId(),c={asynchronousLoad:!1,model:i.cls,role:i,session:g,associatedEntity:l,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!g};return j?c.filters=[{id:i.$roleFilterId,property:i.inverse.field,value:a,exactMatch:!0}]:h&&(c.filters=[{id:i.$roleFilterId,property:h,value:a,exactMatch:!0}],c.foreignKeyName=h),b&&Ext.apply(c,b),k=Ext.Factory.store(c),i.onStoreCreate(k,g,a),(h||j&&g)&&k.on({scope:i,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"}),e&&k.loadData(e),k.complete=!!m,k},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(q,e,b,s,u){var k,c,r,t,n,j,d,v,w=this,o=w.getStoreName(),g=q[o],a=q.session,l=e&&e.reload,p=q.$source,h=!1,m=!1;if(!g){if(a){if(p&&(m=p.phantom),!s&&p&&(d=p[o])&&!d.isLoading()){for(s=[],n=d.getData().items,r=0,t=n.length;r<t;++r)j=n[r],s.push(a.getRecord(j.self,j.id));h=!!d.complete,k=!0}k||(v=!!s,s=w.findRecords(a,q,s,u),v||s&&s.length||(s=null),h=m||v)}else h=!!s;g=w.createAssociationStore(a,q,s,h||q.phantom),g.$source=d,s||!w.autoLoad&&!e||(l=!0),q[o]=g}return e&&(l||g.isLoading()?g.on("load",function(y,x,z,i){c=[y,i],b=b||e.scope||q,z?Ext.callback(e.success,b,c):Ext.callback(e.failure,b,c),c.push(z),Ext.callback(e,b,c),Ext.callback(e.callback,b,c)},null,{single:!0}):(c=[g,null],b=b||e.scope||q,Ext.callback(e.success,b,c),c.push(!0),Ext.callback(e,b,c),Ext.callback(e.callback,b,c))),l&&!g.isLoading()&&g.load(),g},getAssociatedItem:function(b){return b[this.isMany?this.getStoreName():this.getInstanceName()]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){var a=this;return a.associationKey||(a.associationKey=a.association.schema.getNamer().readerRoot(a.role))},getReader:function(){var c=this,a=c.reader,d=c.cls,e=!c.associationKey,b=this.getReaderRoot();return a&&!a.isReader&&(Ext.isString(a)&&(a={type:a}),Ext.applyIf(a,{model:d,rootProperty:b,useSimpleAccessors:e,type:c.defaultReaderType}),a=c.reader=Ext.createByAlias("reader."+a.type,a)),a},getInstanceName:function(){var a=this;return a.instanceName||(a.instanceName=a.association.schema.getNamer().instanceName(a.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var a=this;return a.storeName||(a.storeName=a.association.schema.getNamer().storeName(a.role))},constructReader:function(e){var c,d,g=this,a=g.getReader(),h=g.cls,i=!g.associationKey,b=g.getReaderRoot();return a||(d=h.getProxy(),d?(c=d.getReader(),a=new c.self,a.copyFrom(c),a.setRootProperty(b)):a=new e.self({model:h,useSimpleAccessors:i,rootProperty:b}),g.reader=a),a},read:function(c,g,d,e){var a=this.constructReader(d),b=a.getRoot(g);if(b)return a.readRecords(b,e,this._internalReadOptions)},getCallbackOptions:function(a,b,c){return"function"==typeof a?a={callback:a,scope:b||c}:a&&(a=Ext.apply({},a),a.scope=b||a.scope||c),a},doGetFK:function(b,n,l){var c,g,i=this,m=i.cls,e=i.association.getFieldName(),k=i.getInstanceName(),j=b[k],a=n&&n.reload,d=void 0!==j&&!a,h=b.session;return d?j&&(d=!j.isLoading()):h?(c=b.get(e),c||0===c?(d=h.peekRecord(m,c,!0)&&!a,j=h.getRecord(m,c,!1)):(d=!0,b[k]=j=null)):e?(c=b.get(e),c||0===c?j||(j=m.createWithId(c)):(d=!0,b[k]=j=null)):(d=!0,j=null),d?n&&(g=[j,null],l=l||n.scope||b,Ext.callback(n.success,l,g),g.push(!0),Ext.callback(n,l,g),Ext.callback(n.callback,l,g)):(b[k]=j,n=i.getCallbackOptions(n,l,b),j.load(n)),j},doSetFK:function(a,j,n,m){var b,i=this,g=i.association.getFieldName(),k=i.getInstanceName(),e=a[k],c=i.inverse,d=c.setterName;if(a.session,j&&j.isEntity?e!==j&&(b=i.getOldInstanceName(),a[b]=e,a[k]=j,e&&e.isEntity&&(e[c.getInstanceName()]=void 0),g&&a.set(g,j.getId()),delete a[b],a.onAssociatedRecordSet(j,i),d&&j[d](a)):(a.changingKey&&!c.isMany||a.set(g,j))&&e&&e.isEntity&&!e.isEqual(e.getId(),j)&&(a[k]=void 0,c.isMany||(e[c.getInstanceName()]=void 0)),n)return Ext.isFunction(n)&&(n={callback:n,scope:m||a}),a.save(n)}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0),Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(a){var d,b,c=this;Ext.apply(c,a),c.left=d=new c.Left(c,c.left),c.right=b=new c.Right(c,c.right),d.inverse=b,b.inverse=d},hasField:function(){return!!this.field},getFieldName:function(){var a=this.field;return a?a.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0),Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(a,b){var c=this.getAssociatedItem(a);a[this.getInstanceName()]=null,c&&(c[this.inverse.getInstanceName()]=null)},onIdChanged:function(a,c,b){var e=this.getAssociatedItem(a),d=this.association.getFieldName();!a.session&&e&&d&&e.set(d,b)},createGetter:function(){var a=this;return function(){return a.doGet(this)}},createSetter:function(){var a=this;return function(b){return a.doSet(this,b)}},doGet:function(a){var b=this.getInstanceName(),c=a[b];return a.session,c||null},doSet:function(a,e){var b=this.getInstanceName(),d=a[b],c=this.inverse.setterName;return d!==e&&(a[b]=e,c&&e[c](a),a.onAssociatedRecordSet(e,this)),d},read:function(a,d,b,e){var h,c=this,g=c.callParent([a,d,b,e]);g&&(h=g[0])&&(h[c.inverse.getInstanceName()]=a,a[c.getInstanceName()]=h,delete a.data[c.role])}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(d,b,c){return a.doSetFK(this,d,b,c)}},onDrop:function(g,d){var e,b=this,c=b.association.field,a=b.getAssociatedItem(g);b.inverse.owner&&(d&&c?((e=g.get(c.name))||0===e)&&(a=d.getEntry(b.cls,e).record)&&a.drop():a&&a.drop()),c&&g.set(c.name,null),g[b.getInstanceName()]=null,a&&(a[b.inverse.getInstanceName()]=null)},onValueChange:function(i,h,g){var e=this,a=i[e.getOldInstanceName()]||e.getAssociatedItem(i),d=g||0===g,c=e.getInstanceName(),b=e.cls;i.changingKey=!0,e.doSetFK(i,g),d?h&&b&&(i[c]=h.peekRecord(b,g)||void 0):i[c]=null,e.inverse.owner&&a&&e.association.schema.queueKeyCheck(a,e),i.changingKey=!1},checkKeyForDrop:function(a){this.inverse.getAssociatedItem(a)||a.drop()},read:function(d,e,p,g){var k,m,o,i,l,b,c,a,h,j=this,n=j.callParent([d,e,p,g]);n&&(k=n[0],m=j.association.field,m&&(o=m.name),i=d.session,h=d.data,k&&(i?(l=i.getRefs(k,this.inverse,!0),a=l&&l[d.id]||void 0===h[o]):a=!0,a&&(m&&(c=h[o],b=k.id,c!==b&&(h[o]=b,i&&i.updateReference(d,m,b,c))),k[j.inverse.getInstanceName()]=d,d[j.getInstanceName()]=k),delete h[j.role]))}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0),Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,onDrop:function(h,e){var b,d,c,a,g=this,k=g.getAssociatedItem(h);if(k){if((b=k.removeAll())&&g.inverse.owner)for(c=0,d=b.length;c<d;++c)b[c].drop();k.destroy(),h[g.getStoreName()]=null}else if(e&&(b=e.getRefs(h,g)))for(a in b)b[a].drop()},onIdChanged:function(h,b,c){var d,e,g,a,k=this.association.getFieldName(),j=this.getAssociatedItem(h);if(j&&(a=j.getFilters().get(this.$roleFilterId),a&&a.setValue(c),!h.session&&k))for(d=j.getDataSource().items,e=0,g=d.length;e<g;++e)d[e].set(k,c)},processUpdate:function(g,b){var a,i,j,c,h=this,d=h.inverse.cls,e=b.R;if(e)for(a in e)i=g.peekRecord(d,a),i?(c=g.getEntityList(h.cls,e[a]),j=h.getAssociatedItem(i),j?(j.loadData(c),j.complete=!0):i[h.getterName](null,null,c)):g.onInvalidAssociationEntity(d,a)},findRecords:function(j,k,d,o){var n,c,b,e,g,a,h=d,l=j.getRefs(k,this,!0),m=this.association.field;if(m&&(l||o)){if(n=m.name,h=[],d)for(a={},e=0,g=d.length;e<g;++e)c=d[e],b=c.id,l&&l[b]?h.push(c):o&&void 0===c.data[n]&&(h.push(c),c.data[n]=k.id,j.updateReference(c,m,k.id,void 0)),a[b]=!0;if(l)for(b in l)a&&a[b]||h.push(l[b])}return h},processLoad:function(b,a,e,d){var c=e;return d&&(c=this.findRecords(d,a,e,!0)),this.onLoadMany(a,c,d),c},adoptAssociated:function(b,g){var e,d,a,c=this.getAssociatedItem(b);if(c)for(c.setSession(g),e=c.getData().items,d=0,a=e.length;d<a;++d)g.adopt(e[d])},createGetter:function(){var a=this;return function(b,c,d){return a.getAssociatedStore(this,b,c,d,!0)}},createSetter:null,onAddToMany:function(a,b){this.syncFK(b,a.getAssociatedEntity(),!1)},onLoadMany:function(l,e,k){var h,j,d,c,g,a,n=this.inverse.getInstanceName(),b=l.getId(),m=this.association.field;if(m)for(h=0,j=e.length;h<j;++h)d=e[h],d[n]=l,m&&(a=m.name,g=d.data,(c=g[a])!==b&&(g[a]=b,k&&k.updateReference(d,m,b,c)))},onRemoveFromMany:function(a,b){this.syncFK(b,a.getAssociatedEntity(),!0)},read:function(h,a,l,c){var j,e,d,g=this,k=g.inverse.getInstanceName(),b=g.callParent([h,a,l,c]);if(b)for(j=h[g.getterName](null,null,b),delete h.data[g.role],b=j.getData().items,d=0,e=b.length;d<e;++d)b[d][k]=h},syncFK:function(e,l,m){for(var a,d,c,k=this.association.getFieldName(),h=this.inverse,g=h.setterName,n=h.getInstanceName(),j=e.length,b=l.getId();j-- >0;)d=e[j],a=!d.isEqual(b,d.get(k)),c=m?null:l,a!==m?(d.changingKey=!0,d[g](c),d.changingKey=!1):d[n]=c}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",onDrop:function(c,b){var a=this.association.field;a&&c.set(a.name,null),c[this.getInstanceName()]=null},createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},checkMembership:function(c,d){var a,b=this.association.field;b&&(a=this.getSessionStore(c,d.get(b.name)))&&!a.contains(d)&&a.add(d)},onValueChange:function(d,h,b,a){var c,n,l,e,k,g,j=this,m=j.getInstanceName(),o=j.cls;if(!d.changingKey)if(c=b||0===b,c||(d[m]=null),h)l=j.getSessionStore(h,a),l&&l.remove(d),c&&(l=j.getSessionStore(h,b),l&&!l.isLoading()&&l.add(d),o&&(g=h.peekRecord(o,b)),d[m]=g||void 0);else if(n=d.joined)for(e=n.length-1;e>=0;e--)l=n[e],l.isStore&&(k=l.getAssociatedEntity())&&k.self===j.cls&&k.getId()===a&&l.remove(d);j.owner&&null===b&&j.association.schema.queueKeyCheck(d,j)},checkKeyForDrop:function(b){var a=this.association.field;null===b.get(a.name)&&b.drop()},getSessionStore:function(c,b){var d,a=this.cls;if(a&&(d=c.peekRecord(a,b)))return this.inverse.getAssociatedItem(d)},read:function(g,c,b,e){var a,d=this.callParent([g,c,b,e]);d&&(a=d[0])&&(g[this.getInstanceName()]=a,delete g.data[this.role])}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0),Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,findRecords:function(l,m,d){var a,h,j,b,g,c,n=l.getMatrixSlice(this.inverse,m.id),e=n.members,k=[],o=this.cls;if(d)for(a={},h=0,j=d.length;h<j;++h)c=d[h],b=c.id,g=e[b],g&&-1===g[2]||k.push(c),a[b]=!0;for(b in e)g=e[b],(!a||!a[b]&&g&&-1!==g[2])&&(c=l.peekRecord(o,b))&&k.push(c);return k},onIdChanged:function(a,d,c){var b=this.getAssociatedItem(a);b&&b.getFilters().get(this.$roleFilterId).setValue(c)},processLoad:function(b,a,e,d){var c=e;return d&&(c=this.findRecords(d,a,e),this.onAddToMany(b,c,!0)),c},processUpdate:function(g,b){var a,i,j,c,h=this,d=h.inverse.cls,e=b.R;if(e)for(a in e)i=g.peekRecord(d,a),i?(c=g.getEntityList(h.cls,e[a]),j=h.getAssociatedItem(i),j?(j.loadData(c),j.complete=!0):i[h.getterName](null,null,c)):g.onInvalidAssociationEntity(d,a);h.processMatrixBlock(g,b.C,1),h.processMatrixBlock(g,b.D,-1)},checkMembership:function(i,j){var h,d,e,m,n,a,c,g,b,l,k=i.getMatrix(this.association,!0);if(k&&(h=this.left?k.right:k.left,d=h.inverse.role.cls,e=this.inverse,(n=h.slices)&&(m=n[j.id]))){c=m.members;for(a in c)g=c[a],-1!==g[2]&&(b=i.peekRecord(d,a))&&(l=e.getAssociatedItem(b))&&(l.matrixUpdate=1,l.add(j),l.matrixUpdate=0)}},onStoreCreate:function(b,d,e){var a,c=this;d&&(a=d.getMatrixSlice(c.inverse,e),a.attach(b),a.notify=c.onMatrixUpdate,a.scope=c)},processMatrixBlock:function(e,d,c){var g,h,a=this.inverse,b=this.digitRe;if(d)for(h in d)b.test(h)&&(h=parseInt(h,10)),g=e.getMatrixSlice(a,h),g.update(d[h],c)},createGetter:function(){var a=this;return function(b,c,d){return a.getAssociatedStore(this,b,c,d,!1)}},onAddToMany:function(a,c,b){a.matrixUpdate||(a.matrixUpdate=1,a.matrix.update(c,!0===b?0:1),a.matrixUpdate=0)},onRemoveFromMany:function(b,a){b.matrixUpdate||(b.matrixUpdate=1,b.matrix.update(a,-1),b.matrixUpdate=0)},read:function(a,d,b,e){var c=this,g=c.callParent([a,d,b,e]);g&&(a[c.getterName](null,null,g),delete a.data[c.role])},onMatrixUpdate:function(e,h,d){var b,g,c,a=e.store;!a||a.loading||a.matrixUpdate||(a.matrixUpdate=1,b=a.indexOfId(h),d<0?b>=0&&a.remove([b]):b<0&&(c=a.getSession().getEntry(this.type,h),(g=c&&c.record)&&a.add(g)),a.matrixUpdate=0)},adoptAssociated:function(b,g){var c,e,a,d=this.getAssociatedItem(b);if(d)for(d.setSession(g),this.onStoreCreate(d,g,b.getId()),c=d.getData().items,e=0,a=c.length;e<a;++e)g.adopt(c[e])}},function(){var a=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:a,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0),Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return-1!=Ext.Array.indexOf(this.uncountable,a)},pluralize:function(g){if(this.isTransnumeral(g))return g;var a,c,b,e=this.plurals,d=e.length;for(b=0;b<d;b++)if(a=e[b],(c=a[0])==g||c.test&&c.test(g))return g.replace(c,a[1]);return g},singularize:function(g){if(this.isTransnumeral(g))return g;var a,c,b,e=this.singulars,d=e.length;for(b=0;b<d;b++)if(a=e[b],(c=a[0])==g||c.test&&c.test(g))return g.replace(c,a[1]);return g},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(d){var b=parseInt(d,10),c=b%10,a=b%100;if(11<=a&&a<=13)return d+"th";switch(c){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd";default:return d+"th"}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var a,b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(a in b)b.hasOwnProperty(a)&&(this.plural(a,b[a]),this.singular(b[a],a))}),Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:!0,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(b){var a=b.match(this.endsWithIdRe,"");return a&&(b=b.substr(0,b.length-(a[1]||a[2]).length)),this.apply("uncapitalize",b)},idField:function(a){return this.apply("uncapitalize,singularize",a)+"Id"},instanceName:function(a){return this.apply("underscore",a)},multiRole:function(a){return this.apply("undotted,uncapitalize,pluralize",a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},readerRoot:function(a){return this.apply("uncapitalize",a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply("underscore",a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return"_"+a},uniRole:function(a){return this.apply("undotted,uncapitalize,singularize",a)},undotted:function(b){if(b.indexOf(".")<0)return b;for(var c=b.split("."),a=c.length;a-- >1;)c[a]=this.apply("capitalize",c[a]);return c.join("")},getterName:function(b){var a=b.role;return b&&b.isMany?a:"get"+this.apply("capitalize",a)},inverseFieldRole:function(h,i,e,b){var g=this,a=g.apply(i?"uniRole":"multiRole",h),d=g.apply("pluralize",e),c=g.apply("undotted,pluralize",b);return d.toLowerCase()!==c.toLowerCase()&&(a=e+g.apply("capitalize",a)),a},manyToMany:function(e,d,a){var c=this,b=c.apply("undotted,capitalize,singularize",d)+c.apply("undotted,capitalize,pluralize",a);return e&&(b=c.apply("capitalize",e+b)),b},manyToOne:function(d,b,a,c){return this.apply("capitalize,singularize",a)+this.apply("capitalize",b)},matrixRole:function(c,b){var a=this.apply(c?"multiRole,capitalize":"multiRole",b);return c?c+a:a},oneToOne:function(d,b,a,c){return this.apply("undotted,capitalize,singularize",a)+this.apply("capitalize",b)},setterName:function(a){return"set"+this.apply("capitalize",a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,c){var g,d,a,j=this,b=j.cache,k=b[c]||(b[c]={}),h=k[e];if(!h){if(e.indexOf(",")<0)h=j[e](c);else for(d=(a=e.split(",")).length,h=c,g=0;g<d;++g)h=j.apply(a[g],h);k[e]=h}return h}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0),Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(d){var a,e,g=this,c=g.instances,h="default",b=d&&Ext.isString(d);if(d){if(d.isSchema)return d;h=b?d:d.id||h}return(a=c[h])?d&&!b&&(e=Ext.merge({},a.config),Ext.merge(e,d),a.setConfig(e),a.config=e):(c[h]=a=g.create(d),a.id=h),a},lookupEntity:function(a){var c,b,e,d=null,g=this.instances;if(a)if(a.isEntity)d=a.self;else if(Ext.isFunction(a))d=a;else if(Ext.isString(a)){if(d=Ext.ClassManager.get(a),!d||d.prototype&&d.prototype.isEntity||(d=null),!d)for(b in g)e=g[b],(c=e.getEntity(a))&&(d&&Ext.raise('Ambiguous entity name "'+a+'". Defined by schema "'+d.schema.type+'" and "'+b+'"'),d=c);d||Ext.raise('No such Entity "'+a+'".')}return d}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(a,c){var b=c.alias;b&&!c.type&&(Ext.isString(b)||(b=b[0]),a.prototype.type=b.substring(this.prototype.aliasPrefix.length))},constructor:function(a){this.initConfig(a),this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(b){var a=Ext.data.schema.Namer.create(b);return a.schema=this,a},applyNamespace:function(b){if(b){var a=b.length-1;"."!==b.charAt(a)&&(b+=".")}return b},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(d,c){var a,b=this.associations;for(a in b)if(b.hasOwnProperty(a)&&!1===d.call(c,a,b[a]))break},eachEntity:function(c,b){var a,d=this.entities;for(a in d)if(d.hasOwnProperty(a)&&!1===c.call(b,a,d[a].cls))break},getAssociation:function(a){return this.associations[a]||null},getEntity:function(a){var b=this.entityClasses[a]||this.entities[a];return b&&b.cls||null},getEntityName:function(a){var c,b,d=this.getNamespace();if(b="string"==typeof a?a:a.$className||null){if(d&&(c=d.length,b.substring(0,c)!==d))return b;c&&(b=b.substring(c))}return b},hasAssociations:function(a){return a=a.entityName||a,!!this.associationEntityMap[a]},hasEntity:function(a){var b=this.getEntityName(a);return!(!this.entities[b]&&!this.entityClasses[b])},addMatrix:function(n,h,d,c,r){var o,i,k,s=this,l=s.getNamer(),p=s.associations,a=s.entities,g=c.type,q=r.type,e=c.field||l.apply("idField",g),j=r.field||l.apply("idField",q),b=c.role||l.matrixRole(d,g),m=r.role||l.matrixRole(d,q);i=a[g]||(a[g]={cls:null,name:g,associations:{}}),k=a[q]||(a[q]={cls:null,name:q,associations:{}}),++s.assocCount,p[h]=o=new Ext.data.schema.ManyToMany({name:h,schema:s,definedBy:n,left:{cls:i.cls,type:g,role:b,field:e,associationKey:c.associationKey},right:{cls:k.cls,type:q,role:m,field:j,associationKey:r.associationKey}}),i.associations[o.right.role]=o.right,k.associations[o.left.role]=o.left,i.cls&&(s.associationEntityMap[i.cls.entityName]=!0),k.cls&&(s.associationEntityMap[k.cls.entityName]=!0),s.decorateModel(o)},addReference:function(q,a,p,b,r){var c,g,u=this,n=u.getNamer(),d=u.entities,s=u.associations,m=q.entityName,e=p.association,j=p.child,l=p.parent,o=p.role,t=p.type||l||j,k=p.inverse,i=Ext.isString(k)?{role:k}:k,h=i&&i.role;o||(o=!a||p.legacy?n.apply("uncapitalize",t):n.apply("fieldRole",a.name)),h||(h=n.inverseFieldRole(m,b,o,t)),e||(e=b?n.oneToOne(q,h,t,o):n.manyToOne(q,h,t,o)),r&&e in s&&!1!==r(s[e],e,h,o)||(c=d[t]||(d[t]={cls:null,name:t,associations:{}}),g=b?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne,e=new g({name:e,owner:j?"left":l?"right":null,definedBy:q,schema:u,field:a,nullable:!a||!!a.allowBlank,left:{cls:q,type:m,role:h,extra:i},right:{cls:c.cls,type:t,role:o,extra:p},meta:p}),q.associations[o]=e.right,c.associations[h]=e.left,a&&(a.reference=e.right,q.references.push(a)),++u.assocCount,u.associationEntityMap[m]=!0,c.cls&&(u.associationEntityMap[c.cls.entityName]=!0),s[e.name]=e,e.right.cls&&u.decorateModel(e))},privates:{addEntity:function(d){var c,k,e,b,a,j=this,h=j.entities,l=d.entityName,m=h[l],g=d.fields;if(m){c=m.associations;for(a in c)c[a].inverse.cls=d,j.associationEntityMap[l]=!0,j.decorateModel(c[a].association)}else h[l]=m={name:l,associations:{}};for(m.cls=d,d.prototype.associations=d.associations=m.associations,j.entityClasses[d.$className]=m,++j.entityCount,e=0,b=g.length;e<b;++e)k=g[e],k.reference&&j.addReferenceDescr(d,k)},addMatrices:function(g,a){var b,d,c,e=this;if(Ext.isString(a))e.addMatrixDescr(g,null,a);else if(a[0])for(b=0,d=a.length;b<d;++b)e.addMatrixDescr(g,null,a[b]);else for(c in a)e.addMatrixDescr(g,c,a[c])},addMatrixDescr:function(e,a,g){var k,b,h=this,j=e.entityName,d=h.associations,i=h.getNamer(),c=g.left,l=g.right;Ext.isString(g)?"#"===g.charAt(0)?(c={type:j},l={type:g.substring(1)}):"#"===g.charAt(k=g.length-1)?(c={type:g.substring(0,k)},l={type:j}):i.apply("multiRole",j)<i.apply("multiRole",g)?(c={type:j},l={
type:g}):(c={type:g},l={type:j}):(b=g.relation,c||!l&&i.apply("multiRole",j)<i.apply("multiRole",g.type)?(c=c&&!0!==c?Ext.apply({type:j},c):{type:j},l=g):(l=l&&!0!==l?Ext.apply({type:j},l):{type:j},c=g)),a||(a=i.manyToMany(b,c.type,l.type)),a in d||h.addMatrix(e,a,b,c,l)},addReferenceDescr:function(b,d){var a=this,c=d.$reference;c=Ext.isString(c)?{type:c}:Ext.apply({},c),a.addReference(b,d,c,d.unique)},addBelongsTo:function(a,b){this.addKeylessSingle(a,b,!1)},addHasOne:function(a,b){this.addKeylessSingle(a,b,!0)},addKeylessSingle:function(b,e,d){var a,c;e=Ext.apply({},this.checkLegacyAssociation(b,e)),e.type=this.getEntityName(e.child||e.parent||e.type),a=e.foreignKey||e.type.toLowerCase()+"_id",c=b.getField(a),e.fromSingle=!0,c&&(c.$reference=e,c.unique=!0,e.legacy=!0),this.addReference(b,c,e,d)},addHasMany:function(e,k){var n,a,m,j,i,g,c,d,l=this,h=l.entities,b=l.pending;k=Ext.apply({},this.checkLegacyAssociation(e,k)),k.type=this.getEntityName(k.child||k.parent||k.type),a=k.type,j=h[a],n=j&&j.cls,n?(a=e.entityName,i=k.foreignKey||a.toLowerCase()+"_id",delete k.foreignKey,d=Ext.apply({},k.inverse),delete k.inverse,g=Ext.apply({},k),delete g.type,k=Ext.apply({type:a,inverse:g},d),c=g.child,c&&(delete g.child,k.parent=a),m=n.getField(i),m&&(m.$reference=k,k.legacy=!0),l.addReference(n,m,k,!1)):(b[a]||(b[a]=[]),b[a].push([e,k]))},checkLegacyAssociation:function(b,c){c=Ext.isString(c)?{type:c}:Ext.apply({},c),c.model&&(c.type=c.model,delete c.model);var a=c.associatedName||c.name;return a&&(delete c.associatedName,delete c.name,c.role=a),c},afterKeylessAssociations:function(b){var d,a,g=this.pending,c=b.entityName,e=g[c];if(e){for(d=0,a=e.length;d<a;++d)this.addHasMany.apply(this,e[d]);delete g[c]}},clear:function(b){var a=this,c=a.timer;delete a.setConfig,c&&(window.clearTimeout(c),a.timer=null),a.associations={},a.associationEntityMap={},a.entities={},a.entityClasses={},a.pending={},a.assocCount=a.entityCount=0,b&&a.setNamespace(null)},constructProxy:function(d){var b=this,c=Ext.Object.chain(d),a=b.getProxy();return c.schema=b,c.prefix=b.getUrlPrefix(),a.apply(c)},applyDecoration:function(h){var c,b,d,e=this,a=h.inverse.cls,g=e.getNamer();a&&!h.decorated&&(h.decorated=!0,d=a.prototype,(c=h.getterName)||(h.getterName=c=g.getterName(h)),d[c]=h.createGetter(),h.createSetter&&((b=h.setterName)||(h.setterName=b=g.setterName(h)),d[b]=h.createSetter()))},decorateModel:function(a){this.applyDecoration(a.left),this.applyDecoration(a.right)},processKeyChecks:function(d){var a,c,e,g=this,b=g.keyCheckQueue,h=g.timer;if(h&&(window.clearTimeout(h),g.timer=null),b)do{for(b=g.keyCheckQueue,g.keyCheckQueue=[],c=0,a=b.length;c<a;++c)e=b[c],e.role.checkKeyForDrop(e.record)}while(d&&g.keyCheckQueue.length)},queueKeyCheck:function(a,e){var c=this,b=c.keyCheckQueue,d=c.timer;b||(c.keyCheckQueue=b=[]),b.push({record:a,role:e}),d||(c.timer=d=Ext.Function.defer(c.processKeyChecks,c.getKeyCheckDelay(),c))},rankEntities:function(){var c,b,e=this,g=e.entities,a=Ext.Object.getKeys(g),d=a.length;for(e.nextRank=1,a.sort(),b=0;b<d;++b)c=g[a[b]].cls,c.rank||e.rankEntity(c)},rankEntity:function(c){var e,d,a,b=c.associations;for(a in b)d=b[a],!d.left&&d.association.field&&(e=d.cls,e.rank||this.rankEntity(e));c.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0),Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:!1,isStore:!0,updating:0,constructor:function(b){var a,c=this;c.isInitializing=!0,c.mixins.observable.constructor.call(c,b),c.isInitializing=!1,a=c.getStoreId(),!a&&b&&b.id&&c.setStoreId(a=b.id),a&&Ext.data.StoreManager.register(c)},getCount:function(){var a=this.getData();return a?a.getCount():0},rangeCached:function(b,a){return this.getData().getCount()>=Math.max(b,a)},find:function(g,e,h,i,a,d){var c=!i,b=!(!c||!d);return this.getData().findIndex(g,e,h,c,b,!a)},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return-1!==a?b.getAt(a):null},findExact:function(c,a,b){return this.getData().findIndexBy(function(d){return d.isEqual(d.get(c),a)},this,b)},findBy:function(b,a,c){return this.getData().findIndexBy(b,a,c)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(d,b,c){var a=this.getData().getRange(d,Ext.isNumber(b)?b+1:b);return c&&c.callback&&c.callback.call(c.scope||this,a,d,b,c),a},getFilters:function(b){var a=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);return a||!1===b||(this.setFilters([]),a=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)),a},applyFilters:function(b,a){var c;return a||(a=this.createFiltersCollection(),c=!0),a.add(b),c&&this.onRemoteFilterSet(a,this.getRemoteFilter()),a},getSorters:function(b){var a=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);return a||!1===b||(this.setSorters([]),a=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)),a},applySorters:function(b,a){var c;return a||(a=this.createSortersCollection(),c=!0),a.add(b),c&&this.onRemoteSortSet(a,this.getRemoteSort()),a},filter:function(b,c,a){Ext.isString(b)&&(b={property:b,value:c}),this.suppressNextFilter=!!a,this.getFilters().add(b),this.suppressNextFilter=!1},removeFilter:function(b,a){var d=this,c=d.getFilters();d.suppressNextFilter=!!a,b instanceof Ext.util.Filter?c.remove(b):c.removeByKey(b),d.suppressNextFilter=!1},updateAutoSort:function(a){this.getData().setAutoSort(a)},updateRemoteSort:function(a){this.onRemoteSortSet(this.getSorters(!1),a)},updateRemoteFilter:function(a){this.onRemoteFilterSet(this.getFilters(!1),a)},addFilter:function(b,a){this.suppressNextFilter=!!a,this.getFilters().add(b),this.suppressNextFilter=!1},filterBy:function(b,a){this.getFilters().add({filterFn:b,scope:a||this})},clearFilter:function(a){var c=this,b=c.getFilters(!1);b&&0!==b.getCount()&&(c.suppressNextFilter=!!a,b.removeAll(),c.suppressNextFilter=!1)},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var a=this.getSorters(!1);return!!(a&&a.length>0)||this.isGrouped()},addFieldTransform:function(e){if(!e.getTransform()){var a,b,d=e.getProperty(),c=this.getModel();c&&(a=c.getField(d),b=a?a.getSortType():null),b&&b!==Ext.identityFn&&e.setTransform(b)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var h,c,a,e=this,g=[],d=e.getFilters(),b=e.getGrouper();return e.getSorters().each(function(i){g[g.length]=i.getState(),c=!0}),e.statefulFilters&&e.saveStatefulFilters&&(c=!0,h=[],d.each(function(i){h[h.length]=i.getState()})),b&&(c=!0),c&&(a={},g.length&&(a.sorters=g),h&&(a.filters=h),b&&(a.grouper=b.getState())),a},applyState:function(e){var c=this,b=e.sorters,a=e.filters,d=e.grouper;b&&c.getSorters().replaceAll(b),a&&(c.saveStatefulFilters=!0,c.getFilters().replaceAll(a)),d&&c.setGrouper(d)},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var a=this;a.hasListeners.beforedestroy&&a.fireEvent("beforedestroy",a),a.destroying=!0,a.getStoreId()&&Ext.data.StoreManager.unregister(a),a.doDestroy(),a.hasListeners.destroy&&a.fireEvent("destroy",a),a.destroying=!1,a.callParent()},doDestroy:Ext.emptyFn,sort:function(c,b,d){var a=this;0===arguments.length?a.getRemoteSort()?a.load():a.forceLocalSort():a.getSorters().addSort(c,b,d)},onBeforeCollectionSort:function(a,b){b&&this.fireEvent("beforesort",this,b.getRange())},onSorterEndUpdate:function(){var b,a=this;b=a.getSorters(!1),!a.settingGroups&&b&&(b=b.getRange(),b.length?a.getRemoteSort()?a.load({callback:function(){a.fireEvent("sort",a,b)}}):(a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("sort",a,b)):a.fireEvent("sort",a,b))},onFilterEndUpdate:function(){var c=this,b=c.suppressNextFilter;c.getFilters(!1)&&(c.getRemoteFilter()?(c.currentPage=1,b||c.load()):b||(c.fireEvent("datachanged",c),c.fireEvent("refresh",c)),c.trackStateChanges&&(c.saveStatefulFilters=!0),c.fireEvent("filterchange",c,c.getFilters().getRange()))},updateGroupField:function(a){a?this.setGrouper({property:a,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(a,d){var b=this,c=b.getSorters(!1),e=a||c&&c.length;a&&"string"==typeof a&&(a={property:a,direction:d||b.getGroupDir()}),b.settingGroups=!0,b.getData().setGrouper(a),delete b.settingGroups,e?b.getRemoteSort()?b.load({scope:b,callback:b.fireGroupChange}):(b.fireEvent("datachanged",b),b.fireEvent("refresh",b),b.fireGroupChange()):b.fireGroupChange()},fireGroupChange:function(){this.destroyed||this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGrouper(),b="";return a&&(b=a.getProperty()),b},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(a){return this.group(a),this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(a,b){a&&a[b?"on":"un"]("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(b,c){var a=this;b&&(b[c?"on":"un"]("endupdate",a.onSorterEndUpdate,a),a.getData()[c?"un":"on"]("beforesort",a.onBeforeCollectionSort,a))}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0),Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(a){this.initConfig(a),this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0),Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(g){var m,l,e,j,c,b,a,k=this,h=g.fields,d=g.data;for(e=0,j=h.length;e<j;++e)l=h[e],a=l.name,b=d[a],l.validate&&!l.validate.$nullFn&&(m=k.length,c=l.validate(b,null,k,g),m===k.length&&!0!==c&&k.add(a,c));return k},add:function(b,d){var e,c=this,a=Ext.data.field.Field.defaultInvalidMessage,g=b;if(Ext.isString(b)?g=new Ext.data.Error({field:b,message:d||a}):(g.isError||(g=new Ext.data.Error({field:g.field||g.name,message:g.error||g.message||g.msg||a})),b=g.field),e=c.get(b)){if(Ext.isArray(e))return e.push(g),e;c.removeAtKey(b),g=[e,g],g.field=b,g=[g]}return Ext.util.MixedCollection.prototype.add.call(this,g)},getKey:function(a){return a.field},isValid:function(){return 0===this.length},getByField:function(b){var a=this.get(b);return a&&!Ext.isArray(a)&&(a=[a]),a||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0),Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:"ext-operation-",constructor:function(a){var b=a&&a.scope;this.initConfig(a),a&&(a.scope=b),b&&(this.setScope(b),this.initialConfig.scope=b),this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var a,b=this;return delete b.error,delete b.success,b.complete=b.exception=!1,b.setStarted(),b.request=a=b.doExecute(),a&&a.setOperation(b),a},doExecute:Ext.emptyFn,abort:function(){var b=this,a=b.request;b.running&&a&&(b.getProxy().abort(a),b.request=null)},process:function(b,d,a,e){var c=this;e=!1!==e,c.setResponse(a),c.setResultSet(b),b.getSuccess()?(c.doProcess(b,d,a),c.setSuccessful(e)):e&&c.setException(b.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(n,g,e){var m,j,b,h,l=this,d=l._commitSetOptions,a=l.getRecords(),c=a.length,o=a[0].clientIdProperty,p=n.getRecords(),k=p?p.length:0;if(k&&o){for(m=Ext.Array.toValueMap(a,"id"),h=0;h<k;++h)j=p[h],(b=m[j[o]])&&(delete m[b.id],delete j[o],b.set(j,d));for(h in m)m[h].commit()}else for(h=0;h<c;++h)b=a[h],0!==k&&(j=p[h])?b.set(j,d):b.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var b=this,a=b.getProxy();b.complete=!0,b.running=!1,b.triggerCallbacks(),a&&a.completeOperation(b)},setSuccessful:function(a){this.success=!0,a&&this.setCompleted()},setException:function(a){var b=this;b.exception=!0,b.success=b.running=!1,b.error=a,b.setCompleted()},triggerCallbacks:function(){var a=this,b=a.getInternalCallback();b&&(b.call(a.getInternalScope()||a,a),a.setInternalCallback(null),a.setInternalScope(null)),(b=a.getCallback())&&(b.call(a.getScope()||a,a.getRecords(),a,a.wasSuccessful()),a.setCallback(null),a.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0),Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0),Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var b,c=this.getRecords(),a=c.length;for(b=0;b<a;++b)c[b].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(a,c){var e={};return e[a.idField[this.getNameProperty()||"name"]]=a.id,e}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0),Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0),Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0),Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:!0,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return null!=a?String(a).replace(this.stripTagsRe,""):"\0"},asUCText:function(a){return null!=a?String(a).toUpperCase().replace(this.stripTagsRe,""):"\0"},asUCString:function(a){return null!=a?String(a).toUpperCase():"\0"},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(this.stripCommasRe,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(this.stripCommasRe,""),10);return isNaN(b)?0:b}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0),Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:!0,type:"base",statics:{all:{},register:function(b,a){var c=this.all;c[b.toUpperCase()]=c[b.toLowerCase()]=c[b]=a.prototype}},onClassExtended:function(a,b){b.type&&Ext.data.validator.Validator.register(b.type,a)},constructor:function(a){"function"==typeof a?(this.fnOnly=!0,this.validate=a):this.initConfig(a)},validate:function(){return!0},clone:function(){var a=this;return a.fnOnly?new Ext.data.validator.Validator(a.validate):new a.self(a.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)}),Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(c,e){var g=e.sortType,d=c.prototype,a=d.validators,b=e.validators;g&&Ext.isString(g)&&(d.sortType=Ext.data.SortTypes[g]),b&&(Ext.isArray(b)||(b=[b]),delete e.validators,a&&(b=a.concat(b)),d.validators=b)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(d){var h,o,m,i,c,a,j,b,k,e,g,l=this,n=l.calculateRe;if(d&&(Ext.isString(d)?l.name=d:(g=d.validators,g&&(delete d.validators,l.instanceValidators=g),Ext.apply(l,d))),l.allowNull||(l.allowNull=!!l.reference),h=l.calculate,c=l.depends,h&&(l.convert=l.doCalculate,!c)){if(!(c=h.$depends))for(a={},k=h.toString(),h.$depends=c=[],j=l.argumentNamesRe.exec(k),b=j?j[1]:"data";j=n.exec(k);)b!==j[1]||a[e=j[2]]||(a[e]=1,c.push(e));l.depends=c}m=l.defaultValue,l.convert&&(l.calculated=o=l.convert.length>1,l.evil=o&&!c),null===l.persist&&(l.persist=!h),i=l.sortType,l.sortType?Ext.isString(i)&&(l.sortType=Ext.data.SortTypes[i]):l.sortType=Ext.data.SortTypes.none,c&&"string"==typeof c&&(l.depends=[c]),l.cloneDefaultValue=void 0!==m&&(Ext.isDate(m)||Ext.isArray(m)||Ext.isObject(m))},setModelValidators:function(a){this._validators=null,this.modelValidators=a},compileValidators:function(){var a=this;a._validators=[],a.constructValidators(a.validators),a.constructValidators(a.modelValidators),a.constructValidators(a.instanceValidators)},constructValidators:function(a){if(a){a instanceof Array||(a=[a]);var b,d,e=a.length,c=this._validators;for(b=0;b<e;++b)d=a[b],d.fn&&(d=d.fn),c.push(Ext.Factory.dataValidator(d))}},collate:function(c,b){var d=this,a=c,e=b;return d.sortType&&(a=d.sortType(a),e=d.sortType(e)),a===e?0:a<e?-1:1},compare:function(b,a){return b===a?0:b<a?-1:1},isEqual:function(b,a){return 0===this.compare(b,a)},convert:null,serialize:null,validate:function(l,e,k,g){var m,a,c,b,d,j=this,h="";for(j._validators||j.compileValidators(),c=j._validators,d=0,b=c.length;d<b;++d)if(a=c[d],!0!==(m=a.validate(l,g)))if(m=m||j.defaultInvalidMessage,k)k.add(j.name,m),h=h||m;else{if(!e){h=m;break}h&&(h+=e),h+=m}return h||!0},doCalculate:function(a,b){return b?this.calculate(b.data):a},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var a=this.mapping;return!(!a&&0!==a)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0),Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){return"boolean"==typeof a?a:!this.allowNull||void 0!==a&&null!==a&&""!==a?this.trueRe.test(String(a)):null},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0);Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(b,e){var a,d=b instanceof Date,c=e instanceof Date;return c&&d?(a=b.getTime()-e.getTime(),a=0===a?0:a<0?-1:1):a=d===c?0:d?1:-1,a},convert:function(c){if(!c)return null;if(c instanceof Date)return c;var b,a=this.dateReadFormat||this.dateFormat;return a?Ext.Date.parse(c,a,this.useStrict):(b=Date.parse(c),b?new Date(b):null)},serialize:function(b){var c,a=null;return Ext.isDate(b)&&(c=this.getDateWriteFormat(),a=c?Ext.Date.format(b,c):b),a},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var a=this;return a.hasOwnProperty("dateWriteFormat")?a.dateWriteFormat:a.hasOwnProperty("dateFormat")?a.dateFormat:a.dateWriteFormat||a.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0),Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(b){if("number"==typeof b)return this.getNumber(b);var c,d=void 0===b||null===b||""===b,a=this.allowNull;return d?c=a?null:0:(c=this.parse(b),a&&isNaN(c)&&(c=null)),c},getNumber:function(a){return parseInt(a,10)},getType:function(){return this.numericType},parse:function(a){return parseInt(String(a).replace(this.stripRe,""),10)},sortType:function(a){return null==a&&(a=1/0),a}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0),Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:Ext.identityFn,parse:function(a){return parseFloat(String(a).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0),Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:!0,convert:function(b){var a=this.allowNull?null:"";return void 0===b||null===b?a:String(b)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0),Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{abstract:!0,factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(a){var c,b=this;b.initConfig(a),(c=b.getId())&&(Ext.data.identifier.Generator.all[c]=b)},privates:{clone:function(b){var a=this.getInitialConfig();return a=b?Ext.apply({},b,a):a,new this.self(a)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var c=this,a=Ext.Factory,b=a.dataIdentifier;a.dataIdentifier=function(d){var g=Ext.isString(d)?d:d&&d.id;return g&&c.all[g]||b(d)}}),Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var b=this,a=b._seed,c=b._prefix;return b._seed+=b._increment,null!==c?c+a:a}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0),Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(e,m){var k,a,b,j,h,d,g,n=this,q=n.self,l=q.identifier,c=Ext.data.Model,o=c.identifier,p=n.idField.name;if(n.data=n.data=e||(e={}),n.session=m||null,n.internalId=j=o.generate(),(k=e)instanceof Array)for(n.data=e={},g=n.getFields(),h=Math.min(g.length,k.length),d=0;d<h;++d)e[g[d].name]=k[d];(b=q.initializeFn)||(q.initializeFn=b=c.makeInitializeFn(q)),b.$nullFn||q.initializeFn(n),(n.id=a=e[p])||0===a||(m?(l=m.getIdentifier(q),a=l.generate()):a=o===l?j:l.generate(),e[p]=n.id=a,n.phantom=!0,n.crudState="C"),m&&m.add(n),n.init&&Ext.isFunction(n.init)&&n.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var c=this,b=c.modified,a=c.previousValues;c.editing||(c.editing=!0,c.editMemento={dirty:c.dirty,data:Ext.apply({},c.data),generation:c.generation,modified:b&&Ext.apply({},b),previousValues:a&&Ext.apply({},a)})},cancelEdit:function(){var b=this,a=b.editMemento;a&&(b.editing=!1,Ext.apply(b,a),b.editMemento=null)},endEdit:function(b,d){var c=this,a=c.editMemento;a&&(c.editing=!1,c.editMemento=null,c.previousValues=a.previousValues,b||(d||(d=c.getModifiedFieldNames(a.data)),(c.dirty||d&&d.length)&&c.callJoined("afterEdit",[d])))},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(b,a){this.set(this.idProperty,b,a)},getPrevious:function(b){var a=this.previousValues;return a&&a[b]},isModified:function(b){var a=this.modified;return!(!a||!a.hasOwnProperty(b))},getModified:function(b){var a;return this.isModified(b)&&(a=this.modified[b]),a},get:function(a){return this.data[a]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(u,H,w){var h,g,b,o,l,x,v,k,J,K,G,B,I,a,F,M,t,n=this,c=n.self,L=n.data,q=n.modified,y=n.previousValues,A=n.session,z=Ext.isString(u),r=z?w:H,C=r?!1!==r.convert:n.convertOnSet,D=n.fieldsMap,e=r&&r.silent,m=r&&r.commit,E=!(r&&!1===r.refs)&&A,s=!(r&&!1===r.dirty&&!m),p=null,j=0,d=n.associations;for(z?(M=n._singleProp,M[u]=H):M=u,(I=c.rankedFields)||(I=c.rankFields()),G=I.length;;){for(l in M)if(F=M[l],h=L[l],v=n,g=D[l],g?(C&&g.convert&&(F=g.convert(F,n)),v=g,a=g.reference):a=null,!v.isEqual(h,F)){for(L[l]=F,(p||(p=[])).push(l),(y||(n.previousValues=y={}))[l]=h,a&&a.cls&&(E&&A.updateReference(n,g,F,h),a.onValueChange(n,A,F,h)),K=(J=g&&g.dependents)&&J.length;K-- >0;)(k=J[K]).dirty=!0,j=j?Math.min(j,k.rank):k.rank;g&&!g.persist||(q&&q.hasOwnProperty(l)?s&&!v.isEqual(q[l],F)||(delete q[l],n.dirty=-1):s&&(q||(n.modified=q={}),n.dirty=!0,q[l]=h)),l===n.idField.name&&(b=!0,x=h,B=F)}if(!j)break;for(g=I[j-1],g.dirty=!1,z?delete M[u]:(M=n._singleProp,z=!0),u=g.name,M[u]=L[u],C=!0;j<G&&!I[j].dirty;++j);j<G?++j:j=0}if(n.dirty<0){n.dirty=!1;for(o in q)if(q.hasOwnProperty(o)){n.dirty=!0;break}}if(z&&delete M[u],++n.generation,b&&(n.id=B,n.onIdChanged(B,x),n.callJoined("onIdChanged",[x,B]),d))for(t in d)d[t].onIdChanged(n,x,B);return m?n.commit(e,p):e||n.editing||!p||n.callJoined("afterEdit",[p]),p},reject:function(a){var c=this,b=c.modified;b&&c.set(b,c._rejectOptions),c.dropped=!1,c.clearState(),a||c.callJoined("afterReject")},commit:function(b,d){var a,c=this,g=c.versionProperty,e=c.data;c.clearState(),!g||c.phantom||isNaN(e[g])||++e[g],c.phantom=!1,c.dropped&&(c.erased=a=!0),b||(a?c.callJoined("afterErase"):c.callJoined("afterCommit",[d]))},clearState:function(){var a=this;a.dirty=a.editing=!1,a.editMemento=a.modified=null},drop:function(b){var a,d=this,c=d.associations,e=d.session;if(!d.erased&&!d.dropped){if(d.dropped=!0,c&&!1!==b)for(a in c)c[a].onDrop(d,e);d.callJoined("afterDrop"),d.phantom&&d.setErased()}},join:function(b){var a=this,c=a.joined;c?c.length?Ext.Array.include(c,b):c[0]=b:c=a.joined=[b],b.isStore&&!a.store&&(a.store=b)},unjoin:function(e){var c,d=this,g=d.joined,a=g&&g.length,b=d.store;if(e===d.session)d.session=null;else if(1===a&&g[0]===e?g.length=0:a&&Ext.Array.remove(g,e),b===e){if(b=null,g)for(c=0,a=g.length;c<a;++c)if(e=g[c],e.isStore){b=e;break}d.store=b}},clone:function(d){var c=this,b=c.modified,a=c.copy(c.id,d);return b&&(a.modified=Ext.apply({},b)),a.dirty=c.dirty,a.dropped=c.dropped,a.phantom=c.phantom,a},copy:function(c,g){var d=this,e=Ext.apply({},d.data),b=d.idProperty,a=d.self;return c||0===c?e[b]=c:null===c&&delete e[b],new a(e,g)},getProxy:function(){return this.self.getProxy()},getValidation:function(b){var c=this,a=c.validation;return a||(c.validation=a=new Ext.data.Validation,a.attach(c)),(!0===b||!1!==b&&a.syncGeneration!==c.generation)&&a.refresh(b),a},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var b=this.$className.split(".");return b[b.length-1].toLowerCase()+"/"+this.getId()},erase:function(a){var b=this;return b.erasing=!0,b.drop(),b.erasing=!1,b.save(a)},setErased:function(){this.erased=!0,this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var a=this.self,b=a.criticalFields;return b||(a.rankFields(),b=a.criticalFields),b},getAssociatedData:function(r,q){var o,h,p,l,d,b,k,g,e,a,j,n,m=this,c=m.associations;r=r||{},m.$gathering=1,q&&(q=Ext.Object.chain(q));for(e in c)if(g=c[e],(p=g.getAssociatedItem(m))&&!p.$gathering){if(p.isStore){for(p.$gathering=1,l=p.getData().items,b=l.length,d=[],h=0;h<b;++h)k=l[h],o=!k.$gathering,k.$gathering=1,q?(n=q.associated,void 0===n?(q.associated=o,j=!0):o||(q.associated=!1,j=!0),a=q):a=o?m._getAssociatedOptions:m._getNotAssociatedOptions,d.push(k.getData(a)),j&&(q.associated=n,j=!1),delete k.$gathering;delete p.$gathering}else a=q||m._getAssociatedOptions,q&&void 0===q.associated&&(a.associated=!0),d=p.getData(a);r[e]=d}return delete m.$gathering,r},getData:function(s){var c,m,d,b,q,k=this,j={},a=!0===s?k._getAssociatedOptions:s||j,e=k.data,l=a.associated,p=a.changes,o=p&&a.critical,i=p?k.modified:e,h=k.fieldsMap,g=a.persist,r=a.serialize;if(i)for(b in i){if(q=e[b],m=h[b]){if(g&&!m.persist)continue;r&&m.serialize&&(q=m.serialize(q,k))}j[b]=q}if(o)for(c=k.self.criticalFields||k.getCriticalFields(),d=c.length;d-- >0;)(b=(m=c[d]).name)in j||(q=e[b],r&&m.serialize&&(q=m.serialize(q,k)),j[b]=q);return l&&k.getAssociatedData(j,a),j},getTransientFields:function(){var a=this.self,b=a.transientFields;return b||(a.rankFields(),b=a.transientFields),b},isLoading:function(){return!!this.loadOperation},abort:function(){var a=this.loadOperation;a&&a.abort()},load:function(b){b=Ext.apply({},b);var d,g=this,e=b.scope||g,c=g.getProxy(),i=b.callback,a=g.loadOperation,h=g.getId();return a?(d=a.extraCalls,d||(d=a.extraCalls=[]),d.push(b),a):(b.id=h,b.recordCreator=function(l,j,k){var m=g.session;return k&&(k.recordCreator=m?m.recordCreator:null),g.set(l,g._commitOptions),g},b.internalCallback=function(l){var m,j,p=l.wasSuccessful()&&l.getRecords().length>0,q=g.loadOperation,n=q.extraCalls,k=[g,l],o=[g,l,p];if(g.loadOperation=null,p?Ext.callback(b.success,e,k):Ext.callback(b.failure,e,k),Ext.callback(i,e,o),n)for(m=0,j=n.length;m<j;++m)b=n[m],p?Ext.callback(b.success,e,k):Ext.callback(b.failure,e,k),Ext.callback(b.callback,e,o);g.callJoined("afterLoad")},delete b.callback,g.loadOperation=a=c.createOperation("read",b),a.execute(),a)},save:function(j){j=Ext.apply({},j);var b,g=this,d=g.phantom,a=g.dropped,c=a?"destroy":d?"create":"update",i=j.scope||g,h=j.callback,e=g.getProxy();return j.records=[g],j.internalCallback=function(k){var l=[g,k],m=k.wasSuccessful();m?Ext.callback(j.success,i,l):Ext.callback(j.failure,i,l),l.push(m),Ext.callback(h,i,l)},delete j.callback,b=e.createOperation(c,j),a&&d?(b.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),g.setErased(),b.setSuccessful(!0)):b.execute(),b},inheritableStatics:{addFields:function(a){this.replaceFields(a)},replaceFields:function(n,k){
var p,d,b,h,a,l,o=this,e=o.prototype,j=Ext.data.field.Field,g=o.fields,m=o.fieldsMap,c=o.fieldOrdinals;if(!0===k)g.length=0,o.fieldsMap=m={},o.fieldOrdinals=c={};else if(k){for(d=k.length;d-- >0;)(a=k[d])in c&&(delete c[a],delete m[a]);for(d=0,h=g.length;d<h;++d)a=(p=g[d]).name,a in c?c[a]=d:(g.splice(d,1),--d,--h)}for(d=0,h=n?n.length:0;d<h;d++)(a=(p=n[d]).name)in c||(c[a]=l=g.length,g.push(p=j.create(p)),m[a]=p,p.ordinal=l,p.definedBy=p.owner=this);o.idField=e.idField=b=m[e.idProperty],b.allowNull=b.critical=b.identifier=!0,b.defaultValue=null,o.initializeFn=o.rankedFields=o.transientFields=o.criticalFields=null},removeFields:function(a){this.replaceFields(null,a)},getIdFromData:function(c){var b=this,a=b.idField;return a.calculated?new b(c).id:c[a.name]},createWithId:function(g,b,c){var e=b,a=this;return(g||0===g)&&(e={},b&&Ext.apply(e,b),e[a.idField.name]=g),new a(e,c)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var c,b=this,a=b.proxy,d=b.defaultProxy;return a||(a=b.proxyConfig,!a&&d&&(a=d),a&&a.isProxy||("string"==typeof a&&(a={type:a}),c=b.schema.constructProxy(b),a=a?Ext.merge(c,a):c),a=b.setProxy(a)),a},setProxy:function(b){var a,c=this;return b&&(b.isProxy?(a=b.getModel())&&a!==c&&(b=b.clone()):b=Ext.Factory.proxy(b),b.setModel(c)),c.prototype.proxy=c.proxy=b},load:function(e,a,c){var d,b={};return b[this.prototype.idProperty]=e,d=new this(b,c),d.load(a),d}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(g,d){var c,e=this,b=e.stores,a=b.length;for(c=0;c<a;++c)g.call(d,b[c])},join:function(c){var b=this,a=b.stores,d=b.joined;d?d.push(c):d=b.joined=[c],c.isStore&&(b.store=b.store||c,a||(a=b.stores=[]),a.push(c))},unjoin:function(c){var b=this,a=b.stores,d=b.joined;1===d.length?d.length=0:Ext.Array.remove(d,c),c.isStore&&(Ext.Array.remove(a,c),b.store=a[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},copyFrom:function(j){var k,g,d,a,l,h=this,e=h.fields,m=e.length,b=[],c=0,n=h.idProperty;if(j){for(g=h.data,d=j.data;c<m;c++)k=e[c],(a=k.name)!==n&&(void 0===(l=d[a])||h.isEqual(g[a],l)||(g[a]=l,b.push(a)));h.phantom&&!j.phantom&&(h.beginEdit(),h.setId(j.getId()),h.endEdit(!0),h.commit(!0))}return b},callJoined:function(e,d){var b,c,j,l,h=this,k=h.joined,g=h.session,a=h.dropped?"D":h.phantom?"C":h.dirty?"U":"R";if(h.crudState=a,k||g){if(d?d.unshift(h):d=[h],k)for(b=0,c=k.length;b<c;++b)(l=k[b])&&(j=l[e])&&j.apply(l,d);(j=g&&g[e])&&j.apply(g,d)}h.crudStateWas=a},onAssociatedRecordSet:function(a,b){this.callJoined("afterAssociatedRecordSet",[a,b])},onIdChanged:Ext.privateFn,setSession:function(a){this.session=a,a&&a.add(this)},getModifiedFieldNames:function(a){var c,d=this,e=d.data,b=[],g=a||d.editMemento.data;for(c in e)e.hasOwnProperty(c)&&(d.isEqual(e[c],g[c],c)||b.push(c));return b},isEqual:function(a,d,c){var b;return c&&(b=c.isField?c:this.fieldsMap[c])?b.isEqual(a,d):a instanceof Date&&d instanceof Date?a.getTime()===d.getTime():a===d},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var l,h,c,k=this,j=k.prototype,d=k.fields,b=d.length,g=[],a=[],e=[];for(k.rankedFields=j.rankedFields=g,k.criticalFields=j.criticalFields=a,k.transientFields=j.transientFields=e,c=0;c<b;++c)h=d[c],h.critical&&a.push(h),h.persist||e.push(h),h.evil?(l||(l=[])).push(h):h.depends||(g.push(h),h.rank=g.length);for(c=0;c<b;++c)(h=d[c]).rank||h.evil||k.topoAdd(h);if(l)for(c=0,b=l.length;c<b;++c)g.push(h=l[c]),h.rank=g.length;return g},topoAdd:function(h){var c,e,b=this,g=h.depends,a=g?g.length:0,d=b.rankedFields;for(c=0;c<a;++c)e=b.fieldsMap[g[c]],(e.dependents||(e.dependents=[])).push(h),e.rank||b.topoAdd(e);d.push(h),h.rank=d.length},initFields:function(w,b,p){var h,c,t,e,x,s,j,u,r,o,k=Ext.data.field.Field,d=w.fields,q=[],l={},g={},a=[],v=p.fields,m=w.versionProperty||p.versionProperty,n=b.idProperty;if(b.fields=p.fields=q,b.fieldOrdinals=p.fieldOrdinals=l,b.fieldsMap=p.fieldsMap=g,b.references=p.references=a,v)for(t=0,e=v.length;t<e;++t)q[t]=c=Ext.Object.chain(v[t]),c.dependents=null,c.owner=b,l[x=c.name]=t,g[x]=c,c.rank=null,c.generated&&(u=c,r=c.name);if(d)for(delete w.fields,t=0,e=d.length;t<e;++t)c=d[t],j=c.reference,j&&"string"!=typeof j&&(j=Ext.merge({},j)),c.$reference=j,c=k.create(d[t]),x=c.name,s=l[x],void 0===s&&(l[x]=s=q.length),g[x]=c,q[s]=c,c.definedBy=c.owner=b,c.ordinal=s,x===n&&(o=c);if(h=g[n]){if(o&&u&&u.generated)for(Ext.Array.remove(q,u),delete g[r],delete l[r],g[n]=o,t=0,e=q.length;t<e;++t)c=q[t],q.ordinal=t,l[c.name]=t}else s=u&&u.generated?u.ordinal:q.length,delete g[r],delete l[r],h=new k(n),q[s]=h,l[n]=s,g[n]=h,h.definedBy=b,h.ordinal=s,h.generated=!0;h.allowNull=h.critical=h.identifier=!0,h.defaultValue=null,b.idField=p.idField=h,m&&(c=g[m],c||(s=q.length,c=new k({name:m,type:"int"}),q[s]=c,l[m]=s,g[m]=c,c.definedBy=b,c.ordinal=s,c.generated=!0),c.defaultValue=1,c.critical=!0)},initValidators:function(h,p,k){var e,m,c,l,g,d,j,b,a,o,n=k.validators;if(n){e={};for(m in n)e[m]=Ext.Array.clone(n[m])}if(l=h.validators||h.validations){if(delete h.validators,e=e||{},Ext.isArray(l)){for(c={},g=0,d=l.length;g<d;++g)o=l[g],b=o.field,c[b]||(c[b]=[]),o=o.fn||o,c[b].push(o);l=c}for(b in l)j=l[b],Ext.isArray(j)||(j=[j]),a=e[b],e[b]?Ext.Array.push(a,j):e[b]=j}if(e)for(b in e)(m=p.getField(b))&&m.setModelValidators(e[b]);p.validators=k.validators=e},initAssociations:function(d,h,m){var g,b,j,a,c=h.associations,e=h.belongsTo,k=h.hasMany,n=h.hasOne,l=h.manyToMany;if(delete h.associations,delete h.belongsTo,delete h.hasMany,delete h.hasOne,delete h.manyToMany,l&&d.addMatrices(m,l),c)for(c=Ext.isArray(c)?c:[c],g=0,b=c.length;g<b;++g)switch(j=c[g],a=Ext.apply({},j),delete a.type,j.type){case"belongsTo":d.addBelongsTo(m,a);break;case"hasMany":d.addHasMany(m,a);break;case"hasOne":d.addHasOne(m,a)}if(e)for(e=Ext.isArray(e)?e:[e],g=0,b=e.length;g<b;++g)d.addBelongsTo(m,e[g]);if(k)for(k=Ext.isArray(k)?k:[k],g=0,b=k.length;g<b;++g)d.addHasMany(m,k[g]);if(n)for(n=Ext.isArray(n)?n:[n],g=0,b=n.length;g<b;++g)d.addHasOne(m,n[g]);d.afterKeylessAssociations(m)},initIdentifier:function(g,a,e){var c,b=g.identifier||g.idgen,d=e.identifier||a.schema._defaultIdentifier;b?(delete g.identifier,delete g.idgen,b=Ext.Factory.dataIdentifier(b)):d&&(b=d.clone&&!d.getId()?d.clone():d.isGenerator?d:Ext.Factory.dataIdentifier(d)),a.identifier=e.identifier=b,b||(c=a.entityName,c||(c=Ext.id(null,"extModel")),a.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:c+"-"}))},findValidator:function(c,d,b){var a,e,h,g=b.type||b,j=c[d];if(j)for(e=0,a=j.length;e<a;++e)if(h=j[e],h.type===g)return h;return null},makeInitializeFn:function(q){var k,j,l,p,m,g,e,o,c,b,a=["var "],h=["\nreturn function (e) {\n    var data = e.data, v;\n"],n=0;for((g=q.rankedFields)||(g=q.rankFields()),c=0,b=g.length;c<b;++c)m=g[c],e="f"+c,l=m.convert,c&&a.push(",  \n    "),a.push(e," = $fields["+c+"]"),((o=void 0!==m.defaultValue)||l)&&(p='data["'+m.name+'"]',++n,k=j="",m.cloneDefaultValue&&(k="Ext.clone(",j=")"),h.push("\n"),l&&o?h.push("    v = ",p,";\n    if (v !== undefined) {\n        v = ",e,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",k,e,".defaultValue",j,";\n    }\n    ",p," = v;"):l?h.push("    v = ",e,".convert(",p,",e);\n    if (v !== undefined) {\n        ",p," = v;\n    }\n"):o&&h.push("    if (",p," === undefined) {\n        ",p," = ",k,e,".defaultValue",j,";\n    }\n"));return n?(a.push(";\n"),a.push.apply(a,h),a.push("}"),a=a.join(""),new Function("$fields","Ext",a)(g,Ext)):Ext.emptyFn}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var a,d=this,c=d.prototype,b=Ext.data.schema.Schema;d.proxyConfig=c.proxy,delete c.proxy,d.fields=[],d.fieldsMap=c.fieldsMap={},d.schema=c.schema=b.get(c.schema),c.idField=new Ext.data.field.Field(c.idProperty),d.identifier=new Ext.data.identifier.Sequential,d.onExtended(function(e,k){var i,h,g,j=e.prototype,m=k.schema,l=j.superclass.self;e.idProperty=k.idProperty||j.idProperty,m?(delete k.schema,i=b.get(m)):(i=j.schema)||(i=a||(a=b.get("default"))),e.rankFields=d.rankFields,e.topoAdd=d.topoAdd,j.schema=e.schema=i,(h=k.entityName)||(j.entityName=h=i.getEntityName(e)),e.entityName=h,e.fieldExtractors={},d.initIdentifier(k,e,j),d.initFields(k,e,j),d.initValidators(k,e,j),e.fields.items=e.fields,h&&(i.addEntity(e),d.initAssociations(i,k,e)),g=k.proxy,g?delete k.proxy:l!==d&&(g=l.proxyConfig||l.proxy),e.proxyConfig=g})}),Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,metadata:null},constructor:function(a){this.initConfig(a)},getCount:function(){var a,b=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this);return b||(a=this.getRecords())&&(b=a.length),b}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0),Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null,keepRawData:null},isReader:!0,constructor:function(a){a&&a.hasOwnProperty("root")&&(a=Ext.apply({},a),a.rootProperty=a.root,delete a.root);var b=this;b.duringInit=1,b.mixins.observable.constructor.call(b,a),--b.duringInit,b.buildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},applyTransform:function(a){return a?(Ext.isFunction(a)?a={fn:a}:a.charAt&&(a={fn:this[a]}),a.fn.bind(a.scope||this)):a},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(b,e){var d,a,c;if(b)if(c=b.responseText){if((a=this.getResponseData(b))&&a.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:a.msg});d=this.readRecords(a,e)}else""!==c&&(d=this.readRecords(b,e));return d||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(a){return{__$isError:!0,msg:a}},readRecords:function(e,c,h){var n,d,b,k,j,l,p,a,o,i=this,g=h&&h.recordsOnly,m=h&&h.asRoot;return o=i.getMeta?i.getMeta(e):e.metaData,o&&i.onMetaChange(o),a=i.getTransform(),a&&(e=a(e)),i.buildExtractors(),i.getKeepRawData()&&(i.rawData=e),i.hasListeners.rawdata&&i.fireEventArgs("rawdata",[e]),e=i.getData(e),n=!0,d=0,b=[],i.getSuccessProperty()&&(!1!==(l=i.getSuccess(e))&&"false"!==l||(n=!1)),i.getMessageProperty()&&(p=i.getMessage(e)),(n||i.getReadRecordsOnFailure())&&(k=m||Ext.isArray(e)?e:i.getRoot(e),k&&(j=k.length),i.getTotalProperty()&&(l=parseInt(i.getTotal(e),10),isNaN(l)||(j=l)),k&&(b=i.extractData(k,c),d=b.length)),g?b:new Ext.data.ResultSet({total:j||d,metadata:o,count:d,records:b,success:n,message:p})},extractData:function(p,g){var m,b,e,k,j,n=this,h=g&&g.model?Ext.data.schema.Schema.lookupEntity(g.model):n.getModel(),d=h.schema,q=d.hasAssociations(h)&&n.getImplicitIncludes(),o=n.getFieldExtractorInfo(h.fieldExtractors),a=p.length,c=new Array(a),l=n.getTypeProperty();for(!a&&Ext.isObject(p)&&(p=[p],a=1),j=0;j<a;j++)k=p[j],k.isModel||(b=k,l&&(e=n.getChildType(d,b,l))?(m=e.getProxy().getReader(),k=m.extractRecord(b,g,e,d.hasAssociations(e)&&m.getImplicitIncludes(),m.getFieldExtractorInfo(e.fieldExtractors))):k=n.extractRecord(b,g,h,q,o),k.isModel&&k.isNode&&(k.raw=b)),k.onLoad&&k.onLoad(),c[j]=k;return c},getChildType:function(b,c,d){var a;switch(typeof d){case"string":return b.getEntity(c[d]);case"object":return a=d.namespace,b.getEntity((a?a+".":"")+c[d.name]);case"function":return b.getEntity(d(c))}},extractRecordData:function(c,d){var b=d&&d.model?Ext.data.schema.Schema.lookupEntity(d.model):this.getModel(),a=this.getFieldExtractorInfo(b.fieldExtractors);return this.extractRecord(c,d,b,!1,a)},extractRecord:function(a,b,c,j,h){var i,d,g=this,e=b&&b.recordCreator||g.defaultRecordCreator;return i=g.extractModelData(a,h),d=e.call(g,i,c||g.getModel(),b),j&&d.isModel&&g.readAssociated(d,a,b),d},getFieldExtractorInfo:function(c){if(c){var a=this.$className,b=c[a];return void 0===b&&(c[a]=b=this.buildFieldExtractors()),b}},buildFieldExtractors:function(){var k,a,g,c,h=this.getFields(),j=h.length,e=[],l=[],d=null,b=0;for(g=0;g<j;++g)k=h[g],(c=this.createFieldAccessor(k))&&(a=k.name,e.push("val = extractors["+b+"](raw); if (val !== undefined) { data['"+a+"'] = val; }"),l.push(c),++b);return e.length&&(d={extractors:l,fn:new Function("raw","data","extractors","var val;"+e.join(""))}),d},defaultRecordCreator:function(b,c){var a=new c(b);return a.phantom=!1,a},getModelData:function(a){return{}},extractModelData:function(b,a){var d=this.getModelData(b);return a&&(0,a.fn)(b,d,a.extractors),d},readAssociated:function(a,e,d){var b,g,c=a.associations;for(b in c)c.hasOwnProperty(b)&&(g=c[b],g.cls&&g.read(a,e,this,d))},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(h){var c,e,a,d,g=this,b=h.fields;g.metaData=h,h.root&&g.setRootProperty(h.root),h.totalProperty&&g.setTotalProperty(h.totalProperty),h.successProperty&&g.setSuccessProperty(h.successProperty),h.messageProperty&&g.setMessageProperty(h.messageProperty),a=h.clientIdProperty,b?(e=Ext.define(null,{extend:"Ext.data.Model",fields:b,clientIdProperty:a}),g.setModel(e),(d=g.getProxy())&&d.setModel(e)):a&&(c=g.getModel())&&(c.self.prototype.clientIdProperty=a)},buildExtractors:function(d){var c,a,e,b=this;if(d||!b.hasExtractors)return c=b.getTotalProperty(),a=b.getSuccessProperty(),e=b.getMessageProperty(),c&&(b.getTotal=b.getAccessor(c)),a&&(b.getSuccess=b.getAccessor(a)),e&&(b.getMessage=b.getAccessor(e)),b.hasExtractors=!0,!0},getAccessor:function(e){var b,c,d=this,a=d.extractorCache;return"string"==typeof e?(c=d.getAccessorKey(e),(b=a.get(c))||(b=d.createAccessor(e),a.add(c,b))):b=d.createAccessor(e),b},getAccessorKey:function(a){return this.$className+a},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var a=this;a.model=a.getTotal=a.getSuccess=a.getMessage=a.rawData=null,a.onMetaChange=null,a.transform=null,a.callParent()},privates:{copyFrom:function(a){var b=this;a.buildExtractors(),b.getTotal=a.getTotal,b.getSuccess=a.getSuccess,b.getMessage=a.getMessage,++b.duringInit,b.setConfig(a.getConfig()),--b.duringInit,b.hasExtractors=!0}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(b){var a=b.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})}),a.extractorCache=new Ext.util.LruCache}),Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(a){this.initConfig(a)},applyTransform:function(a){return a?(Ext.isFunction(a)&&(a={fn:a}),a.fn.bind(a.scope||this)):a},write:function(e){var d,c=e.getOperation(),b=c.getRecords()||[],a=b.length,g=[];for(d=0;d<a;d++)g.push(this.getRecordData(b[d],c));return this.writeRecords(e,g)},writeRecords:Ext.emptyFn,getRecordData:function(j,h){var l,b,g,r,o,k,i,n,m=this,e=m.getNameProperty(),a="name"!==e,c=j.self.idField,q=c[e]||c.name,p=j.id,d=m.getWriteAllFields();if(c.serialize&&(p=c.serialize(p)),!d&&h&&h.isDestroyOperation)l={},l[q]=p;else{b=m.getDateFormat(),g=j.phantom,r=g||d?m.getAllDataOptions():m.getPartialDataOptions(),o=g&&m.getClientIdProperty(),k=j.getFieldsMap(),r.serialize=!1,i=j.getData(r),l=a?{}:i,o?(l[o]=p,delete i[q]):m.getWriteRecordId()||delete i[q];for(q in i)p=i[q],(n=k[q])?(n.isDateField&&b&&Ext.isDate(p)?p=Ext.Date.format(p,b):n.serialize&&(p=n.serialize(p,j)),a&&(q=n[e]||q),l[q]=p):a&&(l[q]=p)}return l}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0),Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:!1,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a),this.pendingOperations={}},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(b){if(b){var a=this.getReader();a&&!a.getModel()&&a.setModel(b)}},applyReader:function(a){return this.isSynchronous&&(a=a||{},a.keepRawData=!0),Ext.Factory.reader(a)},updateReader:function(a){if(a){var c=this,b=c.getModel();b?a.setModel(b):(b=a.getModel())&&c.setModel(b)}},applyWriter:function(b){var a=this.getReader();return b=Ext.Factory.writer(b),b.getRecord&&!b.getRecord()&&a&&a.getRecord&&(a=a.getRecord())&&b.setRecord(a),b},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent("metachange",this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(o,l){var h,c,g,d,e,m,b,n,i,k=this,j=k.getBatchActions();for(void 0===o.operations&&(o={operations:o,listeners:l}),o.batch?Ext.isDefined(o.batch.runOperation)&&(h=Ext.applyIf(o.batch,{proxy:k,listeners:{}})):o.batch={proxy:k,listeners:o.listeners||{}},h||(h=new Ext.data.Batch(o.batch)),h.on("complete",Ext.bind(k.onBatchComplete,k,[o],0)),g=k.getBatchOrder().split(","),d=g.length,m=0;m<d;m++)if(e=g[m],c=o.operations[e])if(j)h.add(k.createOperation(e,{records:c,params:o.params}));else for(n=c.length,b=0;b<n;b++)i=c[b],h.add(k.createOperation(e,{records:[i],params:o.params}));return h.start(),h},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException()?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]),Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},createOperation:function(c,b){var a=Ext.createByAlias("data.operation."+c,b);return a.setProxy(this),this.pendingOperations[a._internalId]=a,a},completeOperation:function(a){delete this.pendingOperations[a._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var a,c,b=this.pendingOperations;for(a in b)(c=b[a])&&c.isRunning()&&c.abort();this.pendingOperations=null,this.callParent()}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0),Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0),Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:{$value:null,merge:function(d,a,c,b){return Ext.isArray(d)?Ext.Array.clone(d):Ext.clone(d)}}},finishOperation:function(b){var c=0,d=b.getRecords(),a=d.length;for(c;c<a;c++)d[c].dropped=!!b.isDestroyOperation,d[c].commit();b.setSuccessful(!0)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},erase:function(a){this.finishOperation(a)},read:function(g){var k,i=this,j=i.getReader().read(i.getData()),d=j.getRecords(),h=g.getSorters(),a=g.getGrouper(),c=g.getFilters(),b=g.getStart(),e=g.getLimit();!1!==g.process(j,null,null,!1)&&(c&&c.length&&(j.setRecords(d=Ext.Array.filter(d,Ext.util.Filter.createFilterFn(c))),j.setTotal(d.length)),a&&(h=h?h.concat(a):h),h&&h.length&&j.setRecords(d=Ext.Array.sort(d,Ext.util.Sortable.createComparator(h))),i.getEnablePaging()&&void 0!==b&&void 0!==e&&(b>=j.getTotal()?j.setConfig({success:!1,records:[],total:0}):j.setRecords(Ext.Array.slice(d,b,b+e))),g.setCompleted(),(k=j.getMetadata())&&i.onMetaChange(k))},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0),Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(b,d,a){var e,c=d.model;"string"==typeof c&&(e=a.onBeforeCreated,a.onBeforeCreated=function(){var h=this,g=arguments;Ext.require(c,function(){e.apply(h,g)})})},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(a){var b=this;b.removed=[],Ext.data.AbstractStore.prototype.constructor.apply(this,arguments),!1===b.getAsynchronousLoad()&&b.flushLoad()},applyAsynchronousLoad:function(a){return null==a&&(a=!this.loadsSynchronously()),a},updateAutoLoad:function(a){this.getData(),a&&this.load(Ext.isObject(a)?a:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(a){a&&this.createImplicitModel(a)},applyModel:function(a){return a?a=Ext.data.schema.Schema.lookupEntity(a):this.destroying||(this.getFields(),a=this.getModel()||this.createImplicitModel()),a},applyProxy:function(b){var a=this.getModel();return null!==b&&(b?b.isProxy?b.setModel(a):(Ext.isString(b)?b={type:b,model:a}:b.model||(b=Ext.apply({model:a},b)),b=Ext.createByAlias("proxy."+b.type,b),b.autoCreated=!0):a&&(b=a.getProxy(),this.useModelProxy=!0),b||(b=Ext.createByAlias("proxy.memory"),b.autoCreated=!0)),b},applyState:function(b){var a=this;Ext.data.AbstractStore.prototype.applyState.call(this,b),(a.getAutoLoad()||a.isLoaded())&&a.load()},updateProxy:function(b,a){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(a){this.cleanRemoved(),this.removed=a?[]:null},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(e,c){var b,d=this,g=d.getModel(),a=new g(e);return c=Ext.apply({},c),c.records||(c.records=[a]),c.internalScope=d,c.internalCallback=d.onProxyWrite,b=d.createOperation("create",c),b.execute()},read:function(){return this.load.apply(this,arguments)},update:function(b){var a,c=this;return b=Ext.apply({},b),b.records||(b.records=c.getUpdatedRecords()),b.internalScope=c,b.internalCallback=c.onProxyWrite,a=c.createOperation("update",b),a.execute()},onProxyWrite:function(b){var c=this,d=b.wasSuccessful(),a=b.getRecords();switch(b.getAction()){case"create":c.onCreateRecords(a,b,d);break;case"update":c.onUpdateRecords(a,b,d);break;case"destroy":c.onDestroyRecords(a,b,d)}d&&(c.fireEvent("write",c,b),c.fireEvent("datachanged",c))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(b,a,c){c&&this.cleanRemoved()},erase:function(b){var a,c=this;return b=Ext.apply({},b),b.records||(b.records=c.getRemovedRecords()),b.internalScope=c,b.internalCallback=c.onProxyWrite,a=c.createOperation("destroy",b),a.execute()},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(c,a){var d,g=this,b=c.operations,e=b.length;if("operation"!==g.batchUpdateMode){for(g.suspendEvents(),d=0;d<e;d++)g.onProxyWrite(b[d]);g.resumeEvents()}g.isSyncing=!1,g.fireEvent("datachanged",g)},onBatchException:function(b,a){},filterNew:function(a){return!0===a.phantom&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return!0===a.dirty&&!0!==a.phantom&&a.isValid()},getRemovedRecords:function(){var a=this.getRawRemovedRecords();return a?Ext.Array.clone(a):[]},sync:function(c){var e=this,b={},g=e.getNewRecords(),d=e.getUpdatedRecords(),a=e.getRemovedRecords(),h=!1;return e.needsSync=!1,g.length>0&&(b.create=g,h=!0),d.length>0&&(b.update=d,h=!0),a.length>0&&(b.destroy=a,h=!0),h&&!1!==e.fireEvent("beforesync",b)&&(e.isSyncing=!0,c=c||{},e.proxy.batch(Ext.apply(c,{operations:b,listeners:e.getBatchListeners()}))),e},getBatchListeners:function(){var b=this,a={scope:b,exception:b.onBatchException,complete:b.onBatchComplete};return"operation"===b.batchUpdateMode&&(a.operationcomplete=b.onBatchOperationComplete),a},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b=this;return a="function"==typeof a?{callback:a}:a?Ext.Object.chain(a):{},b.pendingLoadOptions=a,b.getAsynchronousLoad()?b.loadTimer||(b.loadTimer=Ext.asap(b.flushLoad,b)):b.flushLoad(),b},flushLoad:function(){var a,c=this,b=c.pendingLoadOptions;c.clearLoadTask(),b&&(c.setLoadOptions(b),c.getRemoteSort()&&b.sorters&&c.fireEvent("beforesort",c,b.sorters),a=Ext.apply({internalScope:c,internalCallback:c.onProxyLoad,scope:c},b),c.lastOptions=a,a=c.createOperation("read",a),!1!==c.fireEvent("beforeload",c,a)&&(c.onBeforeLoad(a),c.loading=!0,a.execute()))},reload:function(a){return this.load(Ext.apply({},a,this.lastOptions))},onEndUpdate:function(){var a=this;a.needsSync&&a.autoSync&&!a.autoSyncSuspended&&a.sync()},afterReject:function(a){var b=this;b.contains(a)&&(b.onUpdate(a,Ext.data.Model.REJECT,null),b.fireEvent("update",b,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,c){var b=this;c||(c=null),b.contains(a)&&(b.onUpdate(a,Ext.data.Model.COMMIT,c),b.fireEvent("update",b,a,Ext.data.Model.COMMIT,c))},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var b=this,a=b.getProxy();b.clearLoadTask(),b.getData().destroy(),b.data=null,b.setProxy(null),a.autoCreated&&a.destroy(),b.setModel(null),Ext.data.AbstractStore.prototype.doDestroy.call(this)},hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(b){var a=this;a.autoSyncSuspended&&!--a.autoSyncSuspended&&b&&a.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.loadTimer&&Ext.asapCancel(this.loadTimer),this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var a,b,c=this.getRawRemovedRecords();if(c){for(b=0,a=c.length;b<a;++b)c[b].unjoin(this);c.length=0}},createOperation:function(d,a){var c,e=this,b=e.getProxy();return e.proxyListeners||(c={scope:e,destroyable:!0,beginprocessresponse:e.beginUpdate,endprocessresponse:e.endUpdate},e.disableMetaChangeEvent||(c.metachange=e.onMetaChange),e.proxyListeners=b.on(c)),b.createOperation(d,a)},createImplicitModel:function(a){var d,c,e=this,b={extend:e.implicitModel,statics:{defaultProxy:"memory"}};a&&(b.fields=a),c=Ext.define(null,b),e.setModel(c),d=e.getProxy(),d?c.setProxy(d):e.setProxy(c.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(a){var b=this.getRawRemovedRecords();b&&(Ext.Array.remove(b,a),a.unjoin(this))},setLoadOptions:function(a){var b,d,c=this;c.getRemoteFilter()&&(b=c.getFilters(!1))&&b.getCount()&&(a.filters=b.getRange()),c.getRemoteSort()&&(d=c.getSorters(!1))&&d.getCount()&&(a.sorters=d.getRange())}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0),Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(a){var c,b=this.getData();b.setExtraKeys(a),a=b.getExtraKeys();for(c in a)this[c]=a[c]},add:function(a){return this.insert(this.getCount(),1===arguments.length?a:arguments)},constructDataCollection:function(){var a=new Ext.util.Collection({rootProperty:"data"});return a.addObserver(this),a},createModel:function(a){var c,b=this.getSession();return a.isModel||(c=this.getModel(),a=new c(a,b)),a},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var a=this.getData().getSorters();return a.setSorterConfigure(this.addFieldTransform,this),a},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(a){return this.indexOf(a)>-1},each:function(e,d,h){var a,b,c,g=this.getData();for("object"==typeof h&&(h=h.filtered),!0===h&&g.filtered&&(g=g.getSource()),g=g.items.slice(0),a=g.length,c=0;c<a&&(b=g[c],!1!==e.call(d||b,b,c,a));++c);},collect:function(b,a,e){var c=this,d=c.getData();return"object"==typeof a&&(e=a.filtered,a=a.allowNull),!0===e&&d.filtered&&(d=d.getSource()),d.collect(b,"data",a)},getById:function(b){var a=this.getData();return a.filtered&&(a=a.getSource()),a.get(b)||null},getByInternalId:function(a){var b,c=this.getData();return c.filtered&&(c.$hasExtraKeys||(b=this.makeInternalKeyCfg(),c.setExtraKeys(b),c.$hasExtraKeys=!0),c=c.getSource()),c.$hasExtraKeys||(c.setExtraKeys(b||this.makeInternalKeyCfg()),c.$hasExtraKeys=!0),c.byInternalId.get(a)||null},getDataSource:function(){var a=this.getData();return a.getSource()||a},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},insert:function(c,b){var a,d,e=this;if(b&&(b=Ext.isIterable(b)?Ext.Array.clone(b):[b],a=b.length),!a)return[];for(d=0;d<a;++d)b[d]=e.createModel(b[d]);return e.getData().insert(c,b),b},queryBy:function(b,a){var c=this.getData();return(c.getSource()||c).createFiltered(b,a)},query:function(e,d,g,a,b){var c=this.getData();return(c.getSource()||c).createFiltered(e,d,g,a,b)},first:function(a){return this.getData().first(a)||null},last:function(a){return this.getData().last(a)||null},sum:function(c,a){var b=this.getData();return a&&this.isGrouped()?b.sumByGroup(c):b.sum(c)},count:function(a){var b=this.getData();return a&&this.isGrouped()?b.countByGroup():b.count()},min:function(c,a){var b=this.getData();return a&&this.isGrouped()?b.minByGroup(c):b.min(c)},max:function(c,a){var b=this.getData();return a&&this.isGrouped()?b.maxByGroup(c):b.max(c)},average:function(c,a){var b=this.getData();return a&&this.isGrouped()?b.averageByGroup(c):b.average(c)},aggregate:function(h,l,e,j){var a,d,b,k,c,g=this;if(e&&g.isGrouped()){for(a=g.getGroups().items,d=a.length,b={},c=0;c<d;++c)k=a[c],b[k.getGroupKey()]=g.getAggregate(h,l||g,k.items,j);return b}return g.getAggregate(h,l,g.getData().items,j)},getAggregate:function(g,e,c,h){var d,b=[],a=c.length;for(d=0;d<a;++d)b[d]=c[d].get(h);return g.call(e||this,c,b)},addObserver:function(a){var b=this.observers;b||(this.observers=b=new Ext.util.Collection),b.add(a)},removeObserver:function(a){var b=this.observers;b&&b.remove(a)},callObservers:function(h,d){var a,c,e,b,g,j=this.observers;if(j)for(c=j.items,d?d.unshift(this):d=[this],e=0,a=c.length;e<a;++e)g=c[e],b="onSource"+h,g[b]&&g[b].apply(g,d)},queryRecordsBy:function(e,d){var a,c,b,h=this.getData(),g=[];for(h=(h.getSource()||h).items,d=d||this,c=0,a=h.length;c<a;++c)b=h[c],!0===e.call(d,b)&&g.push(b);return g},queryRecords:function(h,g){var a,c,b,e=this.getData(),d=[];for(e=(e.getSource()||e).items,c=0,a=e.length;c<a;++c)b=e[c],b.get(h)===g&&d.push(b);return d},privates:{isLast:function(a){return a===this.last()},
makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0),Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){var c=this.getExtraParams();c[a]=b,this.fireEvent("extraparamschanged",c)},updateExtraParams:function(b,a){this.fireEvent("extraparamschanged",b)},buildRequest:function(a){var e,d,c,g=this,b=Ext.apply({},a.getParams()),h=Ext.applyIf(b,g.getExtraParams()||{});return Ext.applyIf(h,g.getParams(a)),d=a.getId(),c=g.getIdParam(),void 0!==d&&void 0===h[c]&&(h[c]=d),e=new Ext.data.Request({params:h,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:g}),e.setUrl(g.buildUrl(e)),a.setRequest(e),e},processResponse:function(i,b,d,c){var a,e,h,j,g=this;g.destroying||g.destroyed||(g.fireEvent("beginprocessresponse",g,c,b),!0===i?(e=g.getReader(),h=204===c.status?e.getNullResultSet():e.read(g.extractResponseData(c),{recordCreator:b.getRecordCreator()}),b.process(h,d,c),a=!b.wasSuccessful()):(g.setException(b,c),a=!0),a?g.fireEvent("exception",g,c,b):(j=h.getMetadata())&&g.onMetaChange(j),g.afterRequest(d,i),g.fireEvent("endprocessresponse",g,c,b))},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText,response:a})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(e,c){var b,a=[],d=e.length;for(b=0;b<d;b++)a[b]=e[b].serialize();return this.applyEncoding(c?a[0]:a)},encodeFilters:function(e){var b,c,a=[],d=e.length;for(b=0;b<d;b++)c=e[b],c.getFilterFn(),c.generatedFilterFn&&a.push(c.serialize());return this.applyEncoding(a)},getParams:function(p){if(!p.isReadOperation)return{};var k,j,v=this,u={},s=p.getGrouper(),a=p.getSorters(),n=p.getFilters(),i=p.getPage(),h=p.getStart(),t=p.getLimit(),l=v.getSimpleSortMode(),d=v.getSimpleGroupMode(),r=v.getPageParam(),e=v.getStartParam(),b=v.getLimitParam(),c=v.getGroupParam(),m=v.getGroupDirectionParam(),g=v.getSortParam(),q=v.getFilterParam(),o=v.getDirectionParam();return r&&i&&(u[r]=i),e&&(h||0===h)&&(u[e]=h),b&&t&&(u[b]=t),k=c&&s,k&&(d?(u[c]=s.getProperty(),u[m]=s.getDirection()):u[c]=v.encodeSorters([s],!0)),g&&a&&a.length>0&&(l?(j=0,a.length>1&&k&&(j=1),u[g]=a[j].getProperty(),u[o]=a[j].getDirection()):u[g]=v.encodeSorters(a)),q&&n&&n.length>0&&(u[q]=v.encodeFilters(n)),u},buildUrl:function(c){var b=this,a=b.getUrl(c);return b.getNoCache()&&(a=Ext.urlAppend(a,Ext.String.format("{0}={1}",b.getCacheString(),Ext.Date.now()))),a},getUrl:function(b){var a;return b&&(a=b.getUrl()||this.getApi()[b.getAction()]),a||(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(a){},afterRequest:Ext.emptyFn,destroy:function(){var a=this;a.destroying=!0,a.reader=a.writer=Ext.destroy(a.reader,a.writer),Ext.data.proxy.Proxy.prototype.destroy.call(this),a.destroying=!1,a.destroyed=!0}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0),Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:!0,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(a){var b,g,d=this,e=d.getWriter(),c=d.buildRequest(a),h=d.getMethod(c);return e&&a.allowWrite()&&(c=e.write(c)),c.setConfig({binary:d.getBinary(),headers:d.getHeaders(),timeout:d.getTimeout(),scope:d,callback:d.createRequestCallback(c,a),method:h,useDefaultXhrHeader:d.getUseDefaultXhrHeader(),disableCaching:!1}),"GET"!==h.toUpperCase()&&d.getParamsAsJson()&&(g=c.getParams())&&(b=c.getJsonData(),b=b?Ext.Object.merge({},b,g):g,c.setJsonData(b),c.setParams(void 0)),d.getWithCredentials()&&(c.setWithCredentials(!0),c.setUsername(d.getUsername()),c.setPassword(d.getPassword())),d.sendRequest(c)},sendRequest:function(a){return a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig())),this.lastRequest=a,a},abort:function(a){(a=a||this.lastRequest)&&Ext.Ajax.abort(a.getRawRequest())},getMethod:function(a){var d,c=this.getActionMethods(),b=a.getAction();return c&&(d=c[b]),d||this.defaultActionMethods[b]},createRequestCallback:function(c,a){var b=this;return function(e,g,d){c===b.lastRequest&&(b.lastRequest=null),b.processResponse(g,a,c,d)}},destroy:function(){this.lastRequest=null,Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0),Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(a){var b;try{return Ext.decode(a.responseText)}catch(c){return b=this.createReadError(c.message),Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.fireEvent("exception",this,a,b),b}},buildExtractors:function(){var a,b,c=this;Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)&&(a=c.getMetaProperty(),b=c.getRootProperty(),c.getRoot=b?c.getAccessor(b):Ext.identityFn,a&&(c.getMeta=c.getAccessor(a)))},extractData:function(a,e){var c,b,g=this.getRecord(),d=[];if(g)for(c=a.length,!c&&Ext.isObject(a)&&(c=1,a=[a]),b=0;b<c;b++)d[b]=a[b][g];else d=a;return Ext.data.reader.Reader.prototype.extractData.call(this,d,e)},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:function(){var a=/[\[\.]/;return function(r){var e,u,k,g,d,q,t,p,o,l,m,h,s,j,n=this,b=n.getUseSimpleAccessors();if(r||0===r){if("function"==typeof r)return r;if(b||(e=String(r).search(a)),!0===b||e<0)u=function(c){return c[r]};else{for(k="raw",g=[],d="",q=0,j=r.length,h=0;h<=j;++h)m=r[h],t="."===m,p="["===m,o="]"===m,l=t||p||o||!m,!l||q>1||q&&!o?d+=m:l&&(s=!1,p?++q:o&&(--q,s=!0),d&&(d=s?"["+d+"]":"."+d,k+=d,g.push(""+k),d=""));u=g.join(" && "),u=Ext.functionFactory("raw","return "+u)}return u}}}(),createFieldAccessor:function(e){var b=this,a=e.mapping,c=a||0===a,d=c?a:e.name;if(c)return"function"==typeof d?function(g){return e.mapping(g,b)}:b.createAccessor(d)},getAccessorKey:function(b){var a=this.getUseSimpleAccessors()?"simple":"";return this.$className+a+b},privates:{copyFrom:function(a){Ext.data.reader.Reader.prototype.copyFrom.call(this,a),this.getRoot=a.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0),Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(d){for(var k,a,g,c,h,b=d.length,e=0;e<b;e++){k=d[e];for(a in k)if(k.hasOwnProperty(a)&&(g=a.split("."),(c=g.length-1)>0)){for(h=k[a];c>0;c--)h=function(i,j){var m={};return m[i]=j,m}(g[c],h);k[g[0]]=k[g[0]]||{},Ext.Object.merge(k[g[0]],h),delete k[a]}}return d},writeRecords:function(e,g){var c,h,b,d=this,a=d.getRootProperty();return d.getExpandData()&&(g=d.getExpandedData(g)),d.getAllowSingle()&&1===g.length&&(g=g[0],h=!0),b=this.getTransform(),b&&(g=b(g,e)),d.getEncode()?a&&e.setParam(a,Ext.encode(g)):(h||g&&g.length)&&(c=e.getJsonData()||{},a?c[a]=g:c=g,e.setJsonData(c)),e}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0),Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001,manageSorters:!1},0,0,0,0,0,0,[Ext.util,"Group"],0),Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(a){var b=this;b.sortFn=Ext.util.Sorter.createComparator(b),Ext.util.Collection.prototype.constructor.call(this,a),b.setDecoder(b.decodeSorter)},addSort:function(j,i,c){var d,e,b,l,a,k,g,h=this;j?(l=h.getOptions(),j instanceof Array?(g=j,c=i,i=null):Ext.isString(j)?g=(k=h.get(j))?[k]:[{property:j,direction:i||l.getDefaultSortDirection()}]:Ext.isFunction(j)?g=[{sorterFn:j,direction:i||l.getDefaultSortDirection()}]:(g=[j],c=i,i=null),c=h._sortModes[c||"replace"],a=h.getAt(0),d=h.length,e=c.append?d:0,h.beginUpdate(),h.splice(e,c.replace?d:0,g),c.multi&&(d=h.length,b=l.getMultiSortLimit(),d>b&&h.removeAt(b,d)),k&&i?k.setDirection(i):0===e&&a&&a===h.getAt(0)&&a.toggle(),h.endUpdate()):(h.beginUpdate(),h.endUpdate())},clear:function(){this.beginUpdate(),Ext.util.Collection.prototype.clear.call(this),this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(e){var c,d,b=this.items,a=b.length;for(c=0;c<a;++c)if(d=b[c],d.getProperty()===e)return d;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(i,a){var c,e,d,g=this,j=g.getOptions(),h=j.getRootProperty(),b=g.getSorterOptionsFn();if(i.isSorter)i.getRoot()||i.setRoot(h);else{if(e={direction:j.getDefaultSortDirection(),root:h},"string"==(d=typeof i)){if(c=g.get(i))return c;e.property=i}else"function"===d?e.sorterFn=i:(e=Ext.apply(e,i),e.fn&&(e.sorterFn=e.fn,delete e.fn));i=Ext.create(a||"Ext.util.Sorter",e)}return b&&b.call(g.getSorterOptionsScope()||g,i),i},setSorterConfigure:function(b,a){this.setSorterOptionsFn(b),this.setSorterOptionsScope(a)},decodeRemoveItems:function(h,d){var k=this,e=void 0===d?h:h[d];if(!e||!e.$cloned){(h.length>d+1||!Ext.isIterable(e))&&(e=Ext.Array.slice(h,d));var b,m,a,o,j,l=k.items,g=e.length,c=[];for(b=0;b<g;b++)if((o=e[b])&&o.isSorter)c.push(o);else if("string"==(j=typeof o))(o=k.get(o))&&c.push(o);else if("function"===j)for(a=l.length;a-- >0;)m=l[a],m.getSorterFn()===o&&c.push(m);e=c,e.$cloned=!0}return e},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0),Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(a){var b=this;b.filterFn=Ext.util.Filter.createFilterFn(b),Ext.util.Collection.prototype.constructor.call(this,a),b.setDecoder(b.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return!this.filterFn(a)},decodeFilter:function(c){var d,b=this.getOptions(),a=b.getRootProperty();if(c.isFilter)c.getRoot()||c.setRoot(a);else{if(d={root:a},Ext.isFunction(c))d.filterFn=c;else if(d=Ext.apply(d,c),d.fn&&(d.filterFn=d.fn,delete d.fn),Ext.util.Filter.isInvalid(d))return!1;c=new Ext.util.Filter(d)}return c},decodeRemoveItems:function(p,k){var r=this,l=void 0===k?p:p[k];if(!l.$cloned){(p.length>k+1||!Ext.isIterable(l))&&(l=Ext.Array.slice(p,k));var b,g,c,m,a,s,j,d,q,e=r.items,o=l.length,h=[];for(g=0;g<o;g++)if((b=l[g])&&b.isFilter)h.push(b);else for(q=typeof b,c="function"===q,m=void 0!==b.property&&void 0!==b.value,a="string"===q,d=e.length;d-- >0;)s=e[d],j=!1,a?j=s.getProperty()===b:c?j=s.getFilterFn()===b:m&&(j=s.getProperty()===b.property&&s.getValue()===b.value),j&&h.push(s);l=h,l.$cloned=!0}return l},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0),Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:!0,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(a){Ext.util.Collection.prototype.constructor.call(this,a),this.on("remove","onGroupRemove",this)},onCollectionAdd:function(b,a){this.addItemsToGroups(b,a.items,a.at)},onCollectionBeforeItemChange:function(b,a){this.changeDetails=a},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(c,a){var b=a.item;a.indexChanged||this.syncItemGrouping(c,b,c.getKey(b),a.oldKey,a.oldIndex),this.changeDetails=null},onCollectionRefresh:function(a){this.removeAll(),this.addItemsToGroups(a,a.items)},onCollectionRemove:function(a,b){var g,j,k,e,c,d,m,h=this,l=h.changeDetails;for(l?(m=l.item,k=h.findGroupForItem(m),g=[],k&&g.push({group:k,items:[m]})):g=h.groupItems(a,b.items,!1),e=0,c=g.length;e<c;++e)(k=(j=g[e]).group)&&(k.remove(j.items),k.length||(d||(d=[])).push(k));d&&h.remove(d)},onCollectionSort:function(e){var a,c,b,g,d=this,h=e.getSorters(!1);if(h)for(a=d.items,c=d.length,b=0;b<c;++b)g=a[b],g.getSorters()!==h&&g.setSorters(h)},onCollectionUpdateKey:function(d,b){var a=b.index,c=b.item;b.indexChanged||(a=d.indexOf(c),this.syncItemGrouping(d,c,b.newKey,b.oldKey,a))},addItemsToGroups:function(c,b,a){this.groupItems(c,b,!0,a)},groupItems:function(k,h,n,g){var c,b,d,p,m,r,q,o,t,s=this,l={},e=[],j=k.getGrouper(),a=s.itemGroupKeys;for(m=0,o=h.length;m<o;++m)p=j.getGroupString(r=h[m]),q=k.getKey(r),n?(a||(s.itemGroupKeys=a={}))[q]=p:a&&delete a[q],(b=l[p])||(!(d=s.getByKey(p))&&n&&(t||(t=[])).push(d=s.createGroup(k,p)),e.push(l[p]=b={group:d,items:[]})),b.items.push(r);for(n&&s.length>1&&g&&(c=k.indexOf(e[0].group.getAt(0)),g=Math.max(g-c,0)),m=0,o=e.length;m<o;++m)b=e[m],b.group.insert(null!=g?g:d.items.length,b.items);return t&&s.add(t),e},syncItemGrouping:function(a,q,g,j,b){var l,p,e,i,d,n=this,k=n.itemGroupKeys||(n.itemGroupKeys={}),c=a.getGrouper(),r=c.getGroupString(q),h=0,m=-1,o=g;j||0===j?(i=k[j],delete k[j],o=j):i=k[g],k[g]=r,(p=n.get(r))||(p=n.createGroup(a,r),l=[p]),p.get(o)!==q?(p.getCount()>0&&0===a.getSorters().getCount()&&(d=a.indexOf(p.items[0]),m=b<d?0:b-d),-1===m?p.add(q):p.insert(m,q)):p.itemChanged(q,null,j),r===i||0!==i&&!i||(e=n.get(i))&&(e.remove(q),e.length||(h=[e])),l?n.splice(0,h,l):h&&n.splice(0,h)},createGroup:function(b,a){return new Ext.util.Group({groupKey:a,rootProperty:this.getItemRoot(),sorters:b.getSorters()})},getKey:function(a){return a.getGroupKey()},createSortFn:function(){var c=this,a=c.getGrouper(),b=c.getSorters().getSortFn();return a?function(d,e){return a.sort(d.items[0],e.items[0])||b(d,e)}:b},updateGrouper:function(a){var b=this;b.grouped=!(!a||!b.$groupable.getAutoGroup()),b.onSorterChange(),b.onEndUpdateSorters(b.getSorters())},destroy:function(){this.$groupable=null,this.destroyGroups(this.items),Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(b){var c,a=b.length;for(c=0;c<a;++c)b[c].destroy()},findGroupForItem:function(d){var c,e,b=this.items,a=b.length;for(c=0;c<a;++c)if(e=b[c],e.contains(d))return e},onGroupRemove:function(b,a){this.destroyGroups(a.items)}}},1,0,0,0,0,0,[Ext.util,"GroupCollection"],0),Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(a){var c,b=this;if(a&&a.buffered)return new Ext.data.BufferedStore(a);Ext.data.ProxyStore.prototype.constructor.call(this,a),(c=b.inlineData)&&(delete b.inlineData,b.loadInlineData(c))},applyData:function(c,a){var b=this;return b.getFields(),b.getModel(),c&&c.isCollection?a=c:(a||(a=b.constructDataCollection()),c&&(b.isInitializing?b.inlineData=c:b.loadData(c))),a},loadInlineData:function(c){var b=this,a=b.getProxy();a&&a.isMemoryProxy?(a.setData(c),b.suspendEvents(),b.read(),b.resumeEvents()):(b.removeAll(!0),b.suspendEvents(),b.loadData(c),b.resumeEvents())},onCollectionAdd:function(b,a){this.onCollectionAddItems(b,a.items,a)},onCollectionFilterAdd:function(b,a){this.onCollectionAddItems(b,a)},onCollectionAddItems:function(g,b,a){var c,m,d,o,l=this,j=b.length,n=!!a&&!a.next,h=l.removed,e=l.ignoreCollectionAdd,k=l.getSession(),p=a&&a.replaced;for(c=0;c<j;++c)d=b[c],k&&k.adopt(d),e||(d.join(l),h&&h.length&&Ext.Array.remove(h,d),m=m||d.phantom||d.dirty);if(!e){if(p){o=[];do{Ext.Array.push(o,p.items),p=p.next}while(p);l.setMoving(o,!0)}a&&(a.replaced?n&&l.fireEvent("refresh",l):(l.fireEvent("add",l,b,a.at),n&&l.fireEvent("datachanged",l))),o&&l.setMoving(o,!1),l.needsSync=l.needsSync||m}},onCollectionBeforeItemChange:function(e,d){var a=d.item,c=d.modified||null,b=d.meta;this.fireEvent("beforeupdate",this,a,b,c,d)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(g,e){var d=this,a=e.item,c=e.modified||null,b=e.meta;d.fireChangeEvent(a)&&(d.onUpdate(a,b,c,e),d.fireEvent("update",d,a,b,c,e))},afterChange:function(a,c,b){this.getData().itemChanged(a,c||null,void 0,b)},afterCommit:function(a,b){this.afterChange(a,b,Ext.data.Model.COMMIT)},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty,this.afterChange(a,b,Ext.data.Model.EDIT)},afterReject:function(a){this.afterChange(a,null,Ext.data.Model.REJECT)},afterDrop:function(a){this.getData().remove(a)},afterErase:function(a){this.removeFromRemoved(a)},addSorted:function(a){var b,c=this,e=c.getRemoteSort(),d=c.getData();return e&&d.setSorters(c.getSorters()),b=d.findInsertionIndex(a),e&&d.setSorters(null),c.insert(b,a)},remove:function(b,k,h){var g,d,a,e,j=this,c=j.getDataSource();if(b)if(b.isModel)c.indexOf(b)>-1?(a=[b],g=1):g=0;else{for(a=[],d=0,g=b.length;d<g;++d){if((e=b[d])&&e.isEntity){if(!c.contains(e))continue}else if(!(e=c.getAt(e)))continue;a.push(e)}g=a.length}return g?(j.removeIsMove=!0===k,j.removeIsSilent=h,c.remove(a),j.removeIsSilent=!1,a):[]},onCollectionRemove:function(h,a){var d,g,n=this,j=n.removed,c=a.items,l=c.length,k=a.at,b=a.replacement,p=n.removeIsMove||b&&Ext.Array.equals(c,b.items),m=n.removeIsSilent,o=!a.next,e=n.getDataSource();if(!n.ignoreCollectionRemove){for(b&&n.setMoving(b.items,!0),d=0;d<l;++d)g=c[d],e.contains(g)||(!j||p||g.phantom||g.erasing?g.unjoin(n):(g.removedFrom=k+d,j.push(g),n.needsSync=!0));m||b&&b.items.length||(n.fireEvent("remove",n,c,k,p),o&&n.fireEvent("datachanged",n)),b&&n.setMoving(b.items,!1)}},onFilterEndUpdate:function(){var a=this;a.destroying||a.destroyed||(Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments),a.callObservers("Filter"))},removeAt:function(a,b){var c=this.getData();if((a=Math.max(a,0))<c.length){if(1===arguments.length)b=1;else if(!b)return;c.removeAt(a,b)}},removeAll:function(b){var c=this,d=c.getData(),a=(c.hasListeners.clear,d.getRange());return d.length&&(c.removeIsSilent=!0,c.callObservers("BeforeRemoveAll"),d.removeAll(),c.removeIsSilent=!1,b||(c.fireEvent("clear",c,a),c.fireEvent("datachanged",c)),c.callObservers("AfterRemoveAll",[!!b])),a},setRecords:function(a){var b=this.getCount();++this.loadCount,b?this.getData().splice(0,b,a):this.add(a)},splice:function(a,c,b){return this.getData().splice(a,c,b)},onProxyLoad:function(b){var d=this,c=b.getResultSet(),a=b.getRecords(),e=b.wasSuccessful();d.destroyed||(c&&(d.totalCount=c.getTotal()),e?(a=d.processAssociation(a),d.loadRecords(a,b.getAddRecords()?{addRecords:!0}:void 0)):d.loading=!1,d.hasListeners.load&&d.fireEvent("load",d,a,e,b),d.callObservers("AfterLoad",[a,e,b]))},filterDataSource:function(e){var d,g=this.getDataSource(),b=g.items,a=b.length,c=[];for(d=0;d<a;d++)e.call(g,b[d])&&c.push(b[d]);return c},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(g,a){var b,e=this,d=g.length,c=[];for(b=0;b<d;b++)c.push(e.createModel(g[b]));c=e.processAssociation(c),e.loadRecords(c,a?e.addRecordsOptions:void 0)},loadRawData:function(e,b){var d=this,g=d.getSession(),a=d.getProxy().getReader().read(e,g?{recordCreator:g.recordCreator}:void 0),c=a.getRecords(),h=a.getSuccess();return h&&(d.totalCount=a.getTotal(),d.loadRecords(c,b?d.addRecordsOptions:void 0)),h},loadRecords:function(a,c){var e,d,b,h=this,g=a.length,j=h.getData();for(c&&(e=c.addRecords),h.getRemoteSort()||h.getSortOnLoad()||(b=!0,j.setAutoSort(!1)),e||h.clearData(!0),h.loading=!1,h.ignoreCollectionAdd=!0,h.callObservers("BeforePopulate"),j.add(a),h.ignoreCollectionAdd=!1,b&&j.setAutoSort(!0),d=0;d<g;d++)a[d].join(h);++h.loadCount,h.complete=!0,h.hasListeners.datachanged&&h.fireEvent("datachanged",h),h.hasListeners.refresh&&h.fireEvent("refresh",h),h.callObservers("AfterPopulate")},loadPage:function(d,a){var c=this,b=c.getPageSize();c.currentPage=d,a=Ext.apply({page:d,start:(d-1)*b,limit:b,addRecords:!c.getClearOnPageLoad()},a),c.read(a)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(c){var a,e,b,g,k=this,h=k.removed,d=k.getDataSource(),j=k.getClearRemovedOnLoad(),l=h&&c&&!j;if(d){for(a=d.items,b=0,g=a.length;b<g;++b)e=a[b],l&&Ext.Array.contains(h,e)||e.unjoin(k);k.ignoreCollectionRemove=!0,k.callObservers("BeforeClear"),d.removeAll(),k.ignoreCollectionRemove=!1,k.callObservers("AfterClear")}!h||c&&!j||(h.length=0)},onIdChanged:function(c,b,a){this.getData().updateKey(c,b),this.fireEvent("idchanged",this,c,b,a)},commitChanges:function(){var c=this,d=c.getModifiedRecords(),a=d.length,b=0;for(Ext.suspendLayouts(),c.beginUpdate();b<a;b++)d[b].commit();c.cleanRemoved(),c.endUpdate(),Ext.resumeLayouts(!0)},filterNewOnly:function(a){return!0===a.phantom},filterRejects:function(a){return a.phantom||a.dirty},rejectChanges:function(){var d,b,a,h,c,e,j=this,k=j.getRejectRecords(),g=k.length;for(Ext.suspendLayouts(),j.beginUpdate(),d=0;d<g;d++)b=k[d],b.phantom?(a=a||[],a.push(b)):b.reject();if(a)for(j.remove(a),d=0,g=a.length;d<g;++d)a[d].reject();if(k=j.getRawRemovedRecords()){for(g=k.length,h=!j.getRemoteSort()&&j.isSorted(),h&&(c=j.getData(),e=c.getAutoSort(),c.setAutoSort(!1)),d=g-1;d>=0;d--)b=k[d],b.reject(),h||j.insert(b.removedFrom||0,b);h&&(c.setAutoSort(e),j.add(k)),k.length=0}j.endUpdate(),Ext.resumeLayouts(!0)},doDestroy:function(){var b=this,a=b.loadTask,d=b.getData(),c=d.getSource();b.clearData(),b.setSession(null),b.observers=null,a&&(a.cancel(),b.loadTask=null),c&&c.destroy(),Ext.data.ProxyStore.prototype.doDestroy.call(this)},privates:{fetch:function(b){b=Ext.apply({},b),this.setLoadOptions(b),this.createOperation("read",b).execute()},fireChangeEvent:function(a){return this.getDataSource().contains(a)},onBeforeLoad:function(a){this.callObservers("BeforeLoad",[a])},onRemoteFilterSet:function(a,b){a&&this.getData().setFilters(b?null:a),Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,a,b)},onRemoteSortSet:function(b,c){var a=this.getData();b&&a.setSorters(c?null:b),a.setAutoGroup(!c),Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,b,c)},isMoving:function(c,e){var a,d,g=this.moveMap,b=0;if(g)if(c)if(Ext.isArray(c))for(d=0,a=c.length;d<a;++d)b+=g[c[d].id]?1:0;else g[c.id]&&++b;else b=e?g:this.moveMapCount;return b},setLoadOptions:function(c){var e,b,d=this,a=d.getPageSize();d.getRemoteSort()&&!c.grouper&&(b=d.getGrouper())&&(c.grouper=b),(a||"start"in c||"limit"in c||"page"in c)&&(c.page=null!=c.page?c.page:d.currentPage,c.start=void 0!==c.start?c.start:(c.page-1)*a,c.limit=null!=c.limit?c.limit:a,d.currentPage=c.page),c.addRecords=c.addRecords||!1,c.recordCreator||(e=d.getSession())&&(c.recordCreator=e.recordCreator),Ext.data.ProxyStore.prototype.setLoadOptions.call(this,c)},setMoving:function(b,g){var c,h,d=this,e=d.moveMap||(d.moveMap={}),a=b.length;for(c=0;c<a;++c)h=b[c].id,g?e[h]?++e[h]:(e[h]=1,++d.moveMapCount):0==--e[h]&&(delete e[h],--d.moveMapCount);0===d.moveMapCount&&(d.moveMap=null)},processAssociation:function(a){var c=this,b=c.getAssociatedEntity();return b&&(a=c.getRole().processLoad(c,b,a,c.getSession())),a}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0),Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(d){var a,b=d.mapping,c=d.hasMapping()?b:d.ordinal;return d.mapping=c,a=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments),d.mapping=b,a},getModelData:function(a){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0),Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,a){if(this.expandData){for(var d=[],b=0,c=e.length;b<c;b++)d[d.length]=[e[b]];e=d}Ext.data.Store.prototype.loadData.call(this,e,a)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0),Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var b,a=0;b=arguments[a];a++)this.add(b)},unregister:function(){for(var b,a=0;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(c,h){if(Ext.isArray(c)){var d,a,b=["field1"],e=!Ext.isArray(c[0]),g=c;if(e)for(g=[],d=0,a=c.length;d<a;++d)g.push([c[d]]);else for(d=2,a=c[0].length;d<=a;++d)b.push("field"+d);return new Ext.data.ArrayStore({data:g,fields:b,autoDestroy:!0,autoCreated:!0,expanded:e})}return Ext.isString(c)?this.get(c):Ext.Factory.store(c,h)},getKey:function(a){return a.storeId},addEmptyStore:function(){var a=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1});a.isEmptyStore=!0,this.add(a)},clear:function(){this.callParent(),this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(c,b){var a;if(Ext.isObject(c))b=c;else{if(Ext.data.StoreManager.containsKey(c))return Ext.data.StoreManager.lookup(c);b.storeId=c}return a=b instanceof Ext.data.Store?b:new Ext.data.Store(b),Ext.data.StoreManager.register(a),a},Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)},Ext.data.StoreManager.addEmptyStore()}),Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:!0,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var a=this;a.callParent(),a.monitor(Ext.data.AbstractStore)},match:function(d,b){var a=!1,c=d.alias;return"*"===b?a=!0:this.idMatchRe.test(b)?a=d.getStoreId()===b.substring(1):c&&(a=Ext.Array.indexOf(c,this.prefix+b)>-1),a}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0),Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(a){Ext.apply(this,a),this.queue=new Ext.util.MixedCollection},queueAction:function(a,b){this.queue.add({route:a,args:b})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var b,a=this.queue,c=a.removeAt(0);c&&(b=c&&c.route,b.execute(this.token,c.args,this.onActionExecute,this))},onActionExecute:function(a){a?this.clearQueue():this.runQueue()}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0),Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(b){var a,c=this;Ext.apply(c,b,{conditions:{}}),a=c.url,c.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),c.paramsInMatchString=a.match(c.paramMatchingRegex)||[],c.matcherRegex=c.createMatcherRegex(a)},recognize:function(c){var e,b,d=this,a=d.controller;return!(!d.allowInactive&&!a.isActive()||!d.recognizes(c))&&(e=d.matchesFor(c),b=c.match(d.matcherRegex),b.shift(),Ext.applyIf(e,{controller:a,action:d.action,historyUrl:c,args:b}))},recognizes:function(a){return this.matcherRegex.test(a)},execute:function(c,h,i,d){var b=h.args||[],g=this.before,a=this.controller,e=this.createCallback(h,i,d);g?(b.push(e),Ext.isString(g)&&(g=this.before=a[g]),g&&g.apply(a,b)):e.resume()},matchesFor:function(c){var g={},e=this.paramsInMatchString,b=c.match(this.matcherRegex),d=0,a=e.length;for(b.shift();d<a;d++)g[e[d].replace(":","")]=b[d];return g},createMatcherRegex:function(a){for(var b,h,e,c=this.paramsInMatchString,j=this.conditions,d=0,g=c.length,k=Ext.util.Format.format,l=this.caseInsensitive?"i":"";d<g;d++)b=c[d],h=j[b],e=k("{0}",h||"([%a-zA-Z0-9\\-\\_\\s,]+)"),a=a.replace(new RegExp(b),e);return new RegExp("^"+a+"$",l)},createCallback:function(a,d,b){var c=this;return b=b||c,{resume:function(){var g,e=c.controller,h=c.action;Ext.isString(h)&&(h=e[h]),a=a&&a.args?a.args:[],g=a.pop(),g&&!Ext.isObject(g)&&a.push(g),h&&(c.action=h,h.apply(e,a)),d&&d.call(b)},stop:function(e){d&&d.call(b,e)}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0),Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:!0,alternateClassName:"Ext.History",useTopWindow:!1,constructor:function(){var a=this;a.hiddenField=null,a.ready=!1,a.currentToken=null,a.mixins.observable.constructor.call(a)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(b){try{this.win.location.hash=b,this.currentToken=b}catch(a){}},handleStateChange:function(a){this.currentToken=a,this.fireEvent("change",a)},startUp:function(){var a=this;a.currentToken=a.getHash(),Ext.supports.Hashchange?Ext.get(a.win).on("hashchange",a.onHashChange,a):Ext.TaskManager.start({fireIdleEvent:!1,run:a.onHashChange,interval:50,scope:a}),a.ready=!0,a.fireEvent("ready",a)},onHashChange:function(){var b=this,a=b.getHash();a!==b.hash&&(b.hash=a,b.handleStateChange(a))},init:function(c,a){var b=this;return b.ready?void Ext.callback(c,a,[b]):Ext.isReady?(b.win=b.useTopWindow?window.top:window,b.hash=b.getHash(),c&&b.on("ready",c,a,{single:!0}),void b.startUp()):void Ext.onInternalReady(function(){b.init(c,a)})},add:function(a,b){var c=this,d=!1;return!1!==b&&c.getToken()===a||(c.setHash(a),d=!0),d},back:function(){(this.useTopWindow?window.top:window).history.go(-1)},forward:function(){(this.useTopWindow?window.top:window).history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0),Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:!0,multipleToken:"|",queueRoutes:!0,constructor:function(){var a=Ext.util.History;a.ready||a.init(),a.on("change",this.onStateChange,this),this.clear()},onStateChange:function(d){for(var e,g,m,j,a,l=this,c=l.application,n=l.routes,h=n.length,p=l.queueRoutes,k=d.split(l.multipleToken),o=0,b=k.length;o<b;o++){for(d=k[o],a=!1,p&&(g=new Ext.app.route.Queue({token:d})),e=0;e<h;e++)m=n[e],(j=m.recognize(d))&&(a=!0,p?g.queueAction(m,j):m.execute(d,j));p&&g.runQueue(),!a&&c&&c.fireEvent("unmatchedroute",d)}},connect:function(c,d,a){var b={url:c,action:d,controller:a};Ext.isObject(d)&&Ext.merge(b,d),this.routes.push(new Ext.app.route.Route(b))},disconnectAll:function(c){var g,d,b=this.routes,a=b.length,e=[];for(g=0;g<a;++g)d=b[g],d.controller!==c&&e.push(d);this.routes=e},recognize:function(e){for(var c,d,b=this.routes||[],g=0,a=b.length;g<a;g++)if(c=b[g],d=c.recognize(e))return{route:c,args:d};return!1},draw:function(a){a.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0),Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,
profileRegex:/^(.*)\.profile\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(c,a){var b,d="get",e=c.split("."),g=e.length;for(b=0;b<g;b++)d+=Ext.String.capitalize(e[b]);return d+=a},resolveNamespace:function(a,g){var d,b,h=Ext.app.Controller,e=a.prototype.isProfile?h.profileRegex:h.controllerRegex;return d=Ext.getClassName(a),g.$namespace||g.namespace||Ext.app.getNamespace(d)||(b=e.exec(d))&&b[1]},processDependencies:function(r,s,d,e,k,b){if(k&&k.length){var c,p,n,a,g,h,m,i,l=this,q=l.strings[e];for(Ext.isArray(k)||(k=[k]),g=0,h=k.length;g<h;g++)a=k[g],c=l.getFullName(a,e,d,b),k[g]=p=c.absoluteName,n=c.shortName,s.push(p),m=l.getGetterName(n,q.upper),r[m]||(r[m]=i=l.createGetter(q.getter,a)),i&&"controller"!==e&&(i["Ext.app.getter"]=!0)}},getFullName:function(c,g,e,d){var b,h,a=c;return(b=c.indexOf("@"))>0?(a=c.substring(0,b),h=c.substring(b+1)+"."+a):c.indexOf(".")>0&&(Ext.ClassManager.isCreated(c)||this.hasRegisteredPrefix(c))?(h=c,a=c.replace(e+"."+g+".","")):e?(h=e+"."+g+"."+(d?d+"."+c:c),a=c):h=c,{absoluteName:h,shortName:a}},hasRegisteredPrefix:function(a){var c=Ext.ClassManager,b=c.getPrefix(a);return b&&b!==a}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(b,c,a){var d=a.onBeforeCreated;a.onBeforeCreated=function(e,j){var g,i,k=Ext.app.Controller,h=[];i=e.prototype,g=k.resolveNamespace(e,j),g&&(i.$namespace=g),k.processDependencies(i,h,g,"model",j.models),k.processDependencies(i,h,g,"view",j.views),k.processDependencies(i,h,g,"store",j.stores),k.processDependencies(i,h,g,"controller",j.controllers),Ext.require(h,Ext.Function.pass(d,arguments,this))}},constructor:function(a){this.initAutoGetters(),Ext.app.BaseController.prototype.constructor.call(this,a)},normalizeRefs:function(b){var c=this,a=[];return b&&(Ext.isObject(b)?Ext.Object.each(b,function(d,e){Ext.isString(e)&&(e={selector:e}),e.ref=d,a.push(e)}):Ext.isArray(b)&&(a=Ext.Array.merge(a,b))),b=c.refs,b&&(c.refs=null,(b=c.normalizeRefs(b))&&(a=Ext.Array.merge(a,b))),a},getRefMap:function(){var a,e,d,b,g=this,c=g._refMap;if(!c&&(a=g.getRefs(),c=g._refMap={},a))for(b=0,d=a.length;b<d;b++)e=a[b],c[e.ref]=e.selector;return c},applyId:function(a){return a||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(a){return this.normalizeRefs(Ext.clone(a))},updateRefs:function(a){a&&this.ref(a)},initAutoGetters:function(){var c,a,b=this.self.prototype;for(c in b)(a=b[c])&&a["Ext.app.getter"]&&a.call(this)},doInit:function(b){var a=this;a._initialized||(a.init(b),a._initialized=!0)},finishInit:function(g){var b,c,a,d=this,e=d.controllers;if(d._initialized&&e&&e.length)for(c=0,a=e.length;c<a;c++)b=d.getController(e[c]),b.finishInit(g)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(a){var h,d,c,g=this,b=0,e=a.length;for(a=Ext.Array.from(a),g.references=g.references||[];b<e;b++)h=a[b],d=h.ref,c="get"+Ext.String.capitalize(d),g[c]||(g[c]=Ext.Function.pass(g.getRef,[d,h],g)),g.references.push(d.toLowerCase())},addRef:function(a){this.ref(a)},getRef:function(d,g,a){var c=this,e=c.refCache||(c.refCache={}),b=e[d];return g=g||{},a=a||{},Ext.apply(g,a),g.forceCreate?Ext.ComponentManager.create(g,"component"):(b||(g.selector&&(e[d]=b=Ext.ComponentQuery.query(g.selector)[0]),!b&&g.autoCreate&&(e[d]=b=Ext.ComponentManager.create(g,"component")),b&&b.on("destroy",function(){e[d]=null})),b)},hasRef:function(b){var a=this.references;return a&&-1!==Ext.Array.indexOf(a,b.toLowerCase())},getController:function(b){var a=this.getApplication();return b===this.getId()?this:a&&a.getController(b)},getStore:function(c){var a,b;return a=-1===c.indexOf("@")?c:c.split("@")[0],b=Ext.StoreManager.get(a),b||(c=Ext.app.Controller.getFullName(c,"store",this.$namespace))&&(b=Ext.create(c.absoluteName,{id:a})),b},getModel:function(c){var b=Ext.app.Controller.getFullName(c,"model",this.$namespace),a=Ext.ClassManager.get(b.absoluteName);return a||(a=Ext.data.schema.Schema.lookupEntity(c)),a},getProfile:function(a){return a=Ext.app.Controller.getFullName(a,"profile",this.$namespace)},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},destroy:function(a,b){var e,c,d=this,g=d.application;if(!b&&g&&g.unregister(d),d.application=null,a){e=d.refCache;for(c in e)e.hasOwnProperty(c)&&Ext.destroy(e[c])}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0),Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:!0,scope:void 0,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null,quickTips:!0},onClassExtended:function(i,c,h){var e,a,b=Ext.app.Controller,d=i.prototype,k=[];a=c.name||i.superclass.name,a&&(c.$namespace=a,Ext.app.addNamespaces(a)),c.namespaces&&Ext.app.addNamespaces(c.namespaces),c["paths processed"]?delete c["paths processed"]:Ext.app.setupPaths(a,"appFolder"in c?c.appFolder:i.superclass.appFolder,c.paths),b.processDependencies(d,k,a,"profile",c.profiles),d.getDependencies(i,c,k),k.length&&(e=h.onBeforeCreated,h.onBeforeCreated=function(l,n){var m=Ext.Array.clone(arguments);Ext.require(k,function(){return e.apply(this,m)})})},getDependencies:Ext.emptyFn,constructor:function(a){var b=this;Ext.app.route.Router.application=b,Ext.app.Controller.prototype.constructor.call(this,a),b.doInit(b),b.initNamespace(),Ext.on("appupdate",b.onAppUpdate,b,{single:!0}),this.onProfilesReady()},applyId:function(a){return a||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var g,c,a,e=this,b=e.getProfiles(),d=b.length;for(c=0;c<d;c++)a=Ext.create(b[c],{application:e}),a.isActive()&&!g&&(g=a,e.setCurrentProfile(g));g&&g.init(),e.initControllers(),e.onBeforeLaunch(),e.finishInitControllers()},initNamespace:function(){var b,c=this,a=c.getAppProperty();(b=Ext.namespace(c.getName()))&&(b.getApplication=function(){return c},a&&(b[a]||(b[a]=c)))},initControllers:function(){var a,c,d=this,e=Ext.Array.from(d.controllers),b=d.getCurrentProfile();for(d.controllers=new Ext.util.MixedCollection,a=0,c=e.length;a<c;a++)d.getController(e[a]);if(b)for(e=b.getControllers(),a=0,c=e.length;a<c;a++)d.getController(e[a])},finishInitControllers:function(){var d,b,a,c=this;for(d=c.controllers.getRange(),b=0,a=d.length;b<a;b++)d[b].finishInit(c)},launch:Ext.emptyFn,onBeforeLaunch:function(){var b,i,k,g,d,j=this,e=Ext.util.History,a=j.getDefaultToken(),h=j.getCurrentProfile();for(j.initMainView(),h&&h.launch(),j.launch.call(j.scope||j),j.launched=!0,j.fireEvent("launch",j),b=j.controllers.items,k=b.length,i=0;i<k;i++)g=b[i],g.onLaunch(j);e.ready||e.init(),d=e.getToken(),d||d===a?Ext.app.route.Router.onStateChange(d):a&&e.add(a),Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated&&Ext.Microloader.fireAppUpdate(),Ext.defer(Ext.ClassManager.clearNamespaceCache,2e3,Ext.ClassManager)},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.getName()).absoluteName},initMainView:function(){var a,c=this,b=c.getCurrentProfile();b&&(a=b.getMainView()),a?c.setMainView(a):c.getMainView()},applyMainView:function(b){return this.getView(b).create({$initParent:this.viewport})},createController:function(a){return this.getController(a)},destroyController:function(a){"string"==typeof a&&(a=this.getController(a,!0)),Ext.destroy(a)},getController:function(b,a){var j,g,h,e,k,m,l=this,d=l.controllers;if(!(g=d.get(b)))for(m=d.items,e=0,h=m.length;e<h;++e)if(k=m[e],(j=k.getModuleClassName())&&j===b){g=k;break}return g||a||(j=l.getModuleClassName(b,"controller"),g=Ext.create(j,{application:l,moduleClassName:j}),d.add(g),l._initialized&&g.doInit(l)),g},unregister:function(a){this.controllers.remove(a)},getApplication:function(){return this},destroy:function(a){var c=this,e=c.controllers,b=Ext.namespace(c.getName()),d=c.getAppProperty();Ext.un("appupdate",c.onAppUpdate,c),Ext.destroy(c.viewport),e&&e.each(function(g){g.destroy(a,!0)}),c.controllers=null,Ext.app.Controller.prototype.destroy.call(this,a,!0),b&&b[d]===c&&delete b[d],Ext.app.route.Router.application===c&&(Ext.app.route.Router.application=null),Ext.app.Application.instance===c&&(Ext.app.Application.instance=null)},updateGlyphFontFamily:function(a){Ext.setGlyphFontFamily(a)},applyProfiles:function(a){var b=this;return Ext.Array.map(a,function(c){return b.getModuleClassName(c,"profile")})}},1,0,0,0,0,0,[Ext.app,"Application"],0),Ext.application=function(a){var b=function(c){Ext.onReady(function(){var d=Ext.viewport;d=d&&d.Viewport,d&&d.setup&&d.setup(c.prototype.config.viewport),Ext.app.Application.instance=new c})};"string"==typeof a?Ext.require(a,function(){b(Ext.ClassManager.get(a))}):(a=Ext.apply({extend:"Ext.app.Application"},a),Ext.app.setupPaths(a.name,a.appFolder,a.paths),a["paths processed"]=!0,Ext.define(a.name+".$application",a,function(){b(this)}))},Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:!1,config:{enableQuickTips:null},quickTips:!0,updateEnableQuickTips:function(a){this.setQuickTips(a)},applyMainView:function(e){var b,d,c,a;return b="string"==typeof e?this.getView(e):Ext.ClassManager.getByConfig(e),d=b.prototype,d.isViewport||(a=d.plugins,a=["viewport"].concat(a?Ext.Array.from(a,!0):[]),c={plugins:a}),b.create(c)},getDependencies:function(a,g,d){var h=Ext.app.Controller,e=a.prototype,c=g.$namespace,b=g.autoCreateViewport;b&&(!0===b?b="Viewport":d.push("Ext.plugin.Viewport"),h.processDependencies(e,d,c,"view",b))},onBeforeLaunch:function(){var b=this,a=b.autoCreateViewport;b.getQuickTips()&&b.initQuickTips(),a&&b.initViewport(),arguments.callee.$previous.apply(this,arguments)},getViewportName:function(){var a=null,b=this.autoCreateViewport;return b&&(a=!0===b?"Viewport":b),a},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}}),Ext.cmd.derive("Ext.app.Profile",Ext.Base,{isProfile:!0,config:{mainView:{$value:null,lazy:!0},application:null,controllers:[],models:[],views:[],stores:[]},constructor:function(a){this.initConfig(a),this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},init:function(){var b,a=this.getViews();if(a&&!(a instanceof Array))for(b in a)Ext.ClassManager.setXType(a[b],b)},launch:Ext.emptyFn,onClassExtended:function(b,c,a){var d=a.onBeforeCreated;a.onBeforeCreated=function(m,i){var e,g,h=Ext.app.Controller,k=m.$className,n=[],j=m.prototype,l=i.views;e=i.name,e?delete i.name:(e=k.split("."),e=e[e.length-1]),m._name=e,m._namespace=e=(i.namespace||e).toLowerCase(),delete i.namespace,g=h.resolveNamespace(m,i),h.processDependencies(j,n,g,"model",i.models,e),h.processDependencies(j,n,g,"store",i.stores,e),h.processDependencies(j,n,g,"controller",i.controllers,e),l&&(l instanceof Array?h.processDependencies(j,n,g,"view",l,e):Ext.app.Profile.processViews(k,l,n)),Ext.require(n,Ext.Function.pass(d,arguments,this))}},getName:function(){return this.self._name},getNamespace:function(){return this.self._namespace},privates:{statics:{processViews:function(g,c,e){var a,b,d,h;for(h in c)b=c[h],"string"!=typeof b&&(d=b.xclass,a=Ext.apply({extend:d},b),delete a.xclass,Ext.define(c[h]=g+"$"+h,a),b=d),e.push(b)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"Profile"],0),Ext.cmd.derive("Ext.app.domain.View",Ext.app.EventDomain,{isInstance:!0,constructor:function(a){Ext.app.EventDomain.prototype.constructor.call(this,a),this.controller=a,this.monitoredClasses=[Ext.Widget]},match:function(d,a,b){return"#"===a?b===d.getController():d.is(a)},destroy:function(){this.controller=null,Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,"View"],0),Ext.define("Ext.overrides.app.domain.View",{override:"Ext.app.domain.View",constructor:function(a){(arguments.callee.$previous||Ext.app.EventDomain.prototype.constructor).call(this,a),this.monitoredClasses.push(Ext.Component)}}),Ext.cmd.derive("Ext.app.ViewController",Ext.app.BaseController,{isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this),Ext.app.BaseController.prototype.constructor.apply(this,arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var a=this,b=a.compDomain;b&&(b.unlisten(a),b.destroy()),a.compDomain=a.view=null,Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var b,a=this.getView();a&&(b=this.getCloseViewAction(),a[b]())},control:function(a,b){var c=a;Ext.isString(a)&&(c={},c[a]=b),this.compDomain.listen(c,this)},listen:function(c,a){var b=c.component;b&&(c=Ext.apply({},c),delete c.component,this.control(b)),this.callParent([c,a])},applyId:function(a){return a||(a=Ext.id(null,"controller-")),a},getReferences:function(){var a=this.view;return a&&a.getReferences()},getView:function(){return this.view},lookup:function(b){var a=this.view;return a&&a.lookup(b)},lookupReference:function(a){return this.lookup(a)},getSession:function(){var a=this.view;return a&&a.lookupSession()},getViewModel:function(){var a=this.view;return a&&a.lookupViewModel()},getStore:function(b){var a=this.getViewModel();return a?a.getStore(b):null},fireViewEvent:function(d,b){var c=this.view,a=!1,e=arguments;return c&&(c!==b&&(e=Ext.Array.slice(e),e.splice(1,0,c)),a=c.fireEvent.apply(c,e)),a},privates:{view:null,attachReference:function(b){var a=this.view;a&&a.attachReference(b)},clearReference:function(b){var a=this.view;a&&a.clearReference(b)},clearReferences:function(){var a=this.view;a&&a.clearReferences()},setView:function(a){this.view=a,this.beforeInit.$nullFn||this.beforeInit(a)}}},1,0,0,0,["controller.controller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,"ViewController"],0),Ext.cmd.derive("Ext.util.Bag",Ext.Base,{isBag:!0,constructor:function(){this.items=[],this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(o){var e,h,m,c,g,j,b,l=this,k=l.items,a=l.map,d=1;for(Ext.isArray(o)&&(e=j=[],d=o.length),h=0;h<d;h++)c=l.getKey(g=e?o[h]:o),m=a[c],void 0===m?(k.push(g),a[c]=l.length++,e?e.push(g):j=g):(b=k[m],e?e.push(b):j=b,k[m]=g);return++l.generation,j},clear:function(){var c=this,b=c.generation||c.length,a=b?c.items:[];return b&&(c.items=[],c.length=0,c.map={},++c.generation),a},clone:function(){var c=this,b=new c.self;return c.length&&(Ext.apply(b.map,c.map),b.items=c.items.slice(),b.length=c.length),b},contains:function(c){var b,a=!1,d=this.map;return null!=c&&(b=this.getKey(c))in d&&(a=this.items[d[b]]===c),a},containsKey:function(a){return a in this.map},destroy:function(){this.items=this.map=null,this.callParent()},each:function(g,e){var d,c,b=this.items,a=b.length;if(a)for(e=e||this,b=b.slice(0),d=0;d<a&&!1!==(c=g.call(e,b[d],d,a));d++);return c},getAt:function(b){var a=null;return b<this.length&&(a=this.items[b]),a},get:function(a){return this.getByKey(a)},getByKey:function(b){var c=this.map;return b in c?this.items[c[b]]:null},indexOfKey:function(b){var c=this.map;return b in c?c[b]:-1},last:function(){return this.items[this.length-1]},updateKey:function(b,d){var e,a=this,c=a.map;b&&d&&(e=a.getKey(b))!==d&&(a.getAt(c[d])!==b||e in c||(a.generation++,c[e]=c[d],delete c[d]))},getCount:function(){return this.length},getKey:function(a){return a.id||a.getId()},getRange:function(d,a){var b,c=this.items,e=c.length;return e?(b=Ext.Number.clipIndices(e,[d,a]),b=c.slice(b[0],b[1])):b=[],b},remove:function(p){var h,e,g,m,c,o,b,l=this,a=l.map,k=l.items,j=null,d=1;if(Ext.isArray(p)&&(d=p.length,e=j=[]),l.length){for(g=0;g<d;g++)void 0!==(m=a[c=l.getKey(e?p[g]:p)])&&(delete a[c],b=k[m],e?e.push(b):j=b,o=k.pop(),m<--l.length&&(k[m]=o,a[l.getKey(o)]=m),h=!0);h&&++l.generation}return j},removeByKey:function(a){var b=this.getByKey(a);return b&&this.remove(b),b||null},replace:function(a){return this.add(a),a},sort:function(b){var c,d=this,a=d.items,e=a.length;if(e){for(Ext.Array.sort(a,b),d.map={};e-- >0;)c=a[e],d.map[d.getKey(c)]=e;++d.generation}}},1,0,0,0,0,0,[Ext.util,"Bag"],0),Ext.cmd.derive("Ext.util.Scheduler",Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a),this.items=new Ext.util.Bag},destroy:function(){var a=this,b=a.timer;b&&(window.clearTimeout(b),a.timer=null),a.items.destroy(),a.items=a.orderedItems=null,a.callParent()},add:function(c){var b=this,a=b.items;a===b.firing&&(b.items=a=a.clone()),c.id=c.id||++b.nextId,c.scheduler=b,a.add(c),b.sortMap||(b.orderedItems=null)},remove:function(c){var b=this,a=b.items;b.destroyed||(a===b.firing&&(b.items=a=a.clone()),c.scheduled&&(b.unscheduleItem(c),c.scheduled=!1),a.remove(c),b.orderedItems=null)},sort:function(){var b,c,d=this,a=d.items,e={},g=d.getPreSort();for(d.orderedItems=[],d.sortMap=e,g&&a.sort(g),a=a.items,b=0;b<a.length;++b)c=a[b],e[c.id]||d.sortItem(c);d.sortMap=null},sortItem:function(c){var e,b=this,d=b.sortMap,a=b.orderedItems;return c.scheduler||b.add(c),e=c.id,e in d||(d[e]=0,c.sort.$nullFn||c.sort(),d[e]=1,c.order=b.orderedItems.length,a.push(c)),b},sortItems:function(a){var b=this,c=b.sortItem;return a&&(a instanceof Array?Ext.each(a,c,b):Ext.Object.eachValue(a,c,b)),b},applyPreSort:function(h){if("function"==typeof h)return h;var j,a,b,g=h.split(","),e=[],d=g.length;for(a=0;a<d;++a)e[a]=1,b=g[a],"-"===(j=b.charAt(0))?e[a]=-1:"+"!==j&&(j=0),j&&(g[a]=b.substring(1));return function(c,p){var l,o,n,m,k=0;for(l=0;!k&&l<d;++l)o=g[l],n=c[o],m=p[o],k=e[l]*(n<m?-1:m<n?1:0);return k}},notify:function(){var m,e,l,j,g,a,k=this,b=k.timer,d=k.getCycleLimit(),c=Ext.GlobalEvents,h=k.suspendOnNotify;if(b&&(window.clearTimeout(b),k.timer=null),!k.firing&&k.scheduledCount){for(h&&Ext.suspendLayouts();k.scheduledCount;){if(!d){k.firing=null;break}if(--d,a||(a=!0,c.hasListeners.beforebindnotify&&c.fireEvent("beforebindnotify",k)),++k.passes,(g=k.orderedItems)||(k.sort(),g=k.orderedItems),j=g.length)for(k.firing=k.items,e=0;e<j&&(l=g[e],!l.scheduled||(l.scheduled=!1,--k.scheduledCount,k.notifyIndex=e,l.react(),k.scheduledCount));++e);}k.firing=null,k.notifyIndex=-1,h&&Ext.resumeLayouts(!0)}(m=k.busyCounter)!==k.lastBusyCounter&&((k.lastBusyCounter=m)||k.fireEvent("idle",k))},onTick:function(){this.timer=null,this.notify()},scheduleItem:function(b){var a=this;++a.scheduledCount,a.timer||a.firing||a.scheduleTick()},scheduleTick:function(){var a=this;a.destroyed||a.timer||(a.timer=Ext.Function.defer(a.onTick,a.getTickDelay(),a))},unscheduleItem:function(a){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(a){var b=this,c=b.busyCounter+a;b.busyCounter=c,c?b.lastBusyCounter||(b.lastBusyCounter=c,b.fireEvent("busy",b)):b.lastBusyCounter&&!b.timer&&b.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Scheduler"],0),Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.operations=[],b.exceptions=[]},add:function(b){var c,a,d=this;if(Ext.isArray(b))for(c=0,a=b.length;c<a;++c)d.add(b[c]);else d.total++,b.setBatch(d),d.operations.push(b);return d},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(c,a){var b=c.order-a.order;if(b)return b;var e,g=c.entityType,d=a.entityType;return g&&d?((e=g.rank)||(g.schema.rankEntities(),e=g.rank),(e-d.rank)*c.foreignKeyDirection):0},start:function(a){var b=this;return!b.operations.length||b.running?b:(b.exceptions.length=0,b.exception=!1,b.running=!0,b.runOperation(Ext.isDefined(a)?a:b.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){var a=this;return a.running&&a.runOperation(a.current+1),a},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var a=null,b=this.current;return-1===b||this.complete||(a=this.operations[b]),a},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(c){var d=this,b=d.operations,a=b[c];return void 0===a?(d.running=!1,d.complete=!0,d.fireEvent("complete",d,b[b.length-1])):(d.current=c,a.setInternalCallback(d.onOperationComplete),a.setInternalScope(d),a.execute()),d},onOperationComplete:function(a){var c=this,b=a.hasException();b&&(c.exception=!0,c.exceptions.push(a),c.fireEvent("exception",c,a)),b&&c.getPauseOnException()?c.pause():(c.fireEvent("operationcomplete",c,a),c.runNextOperation())}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0),Ext.cmd.derive("Ext.data.matrix.Slice",Ext.Base,{constructor:function(a,b){this.id=b,this.side=a,this.members={}},attach:function(a){var b=this;b.store=a,a.matrix=b,a.on("load",b.onStoreLoad,b,{single:!0})},commit:function(){var b,a=this.members;for(b in a)a[b][2]=0},onStoreLoad:function(a){this.update(a.getData().items,0)},update:function(n,g){var h,p,o,q,a,l,t=this,j=Ext.data.matrix.Slice,c=t.side,k=c.index,e=n.length,m=t.id,s=t.members,b=c.inverse,r=b.slices;for(o=0;o<e;++o)p=null,q=n[o],a=q.isEntity?q.id:q,h=s[a],g<0&&h&&1===h[2]?(delete s[a],l=r[a],l&&delete l.members[m],p=1):h?g!==h[2]&&0!==g&&(h[2]=g,l=r[a],p=1):(h=[a,a,g],h[k]=m,s[a]=h,l=r[a],l||(r[a]=l=new j(b,a)),l.members[m]=h,p=1),p&&(t.notify&&t.notify.call(t.scope,t,a,g),l&&l.notify&&l.notify.call(l.scope,l,m,g))},updateId:function(b){var h,e,k,j=this,a=j.id,i=j.side,m=i.slices,l=m[a],c=l.members,g=i.index,d=i.inverse.slices;j.id=b,m[b]=l,delete m[a];for(e in c)h=c[e],h[g]=b,k=d[e].members,k[b]=k[a],delete k[a]},destroy:function(){var b=this,a=b.store;a&&(a.matrix=null,a.un("load",b.onStoreLoad,b)),b.notify=b.scope=b.store=b.side=b.members=null,b.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Slice"],0),Ext.cmd.derive("Ext.data.matrix.Side",Ext.Base,{constructor:function(a,b,d){var c=this;c.matrix=a,c.index=b,c.role=d,c.slices={}},commit:function(){var b,a=this.slices;for(b in a)a[b].commit()},get:function(b,a){var c=this,e=c.slices,d=e[b]||(e[b]=new Ext.data.matrix.Slice(c,b));return a||0===a?d.members[a]:d},update:function(b,a,c){return this.get(b).update(a,c)},updateId:function(c,a){var b=this.get(c);b&&b.updateId(a)},destroy:function(){var c,a=this,b=a.slices;for(c in b)b[c].destroy();a.inverse=a.matrix=a.role=a.slices=null,a.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Side"],0),Ext.cmd.derive("Ext.data.matrix.Matrix",Ext.Base,{constructor:function(h,c){var e=this,b=c.isManyToMany?c:h.getSchema().getAssociation(c),a=Ext.data.matrix.Side,g=new a(e,0,b.left),d=new a(e,1,b.right);e.association=b,e.session=h,e.left=g,e.right=d,g.inverse=d,d.inverse=g},commit:function(){this.left.commit(),this.right.commit()},update:function(b,a,c){return this.left.update(b,a,c)},updateId:function(a,h,c){var e,b=a.self,g=this.left,d=this.right;b===g.role.cls&&(e=g),b===d.role.cls&&(e=d),e&&e.updateId(h,c)},destroy:function(){var a=this;a.left.destroy(),a.right.destroy(),a.association=a.session=a.left=a.right=null,a.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Matrix"],0),Ext.cmd.derive("Ext.data.session.ChangesVisitor",Ext.Base,{constructor:function(c){var b,a=this;a.session=c,b=c.getCrudProperties(),a.result=null,a.writerOptions={},a.createKey=b.create,a.readKey=b.read,a.updateKey=b.update,a.dropKey=b.drop},onDirtyRecord:function(g){var o,d,l,n,j=this,m=j.crud,e=g.phantom,c=g.dropped,k=g.$className,b=e||c?"allDataOptions":"partialDataOptions",i=j.writerOptions,a=g.entityName;if(e&&c)return!1;m=e?j.createKey:c?j.dropKey:j.updateKey,i=i[k]||(i[k]={}),c&&((o=i.drop)||(i.drop=o={all:g.getProxy().getWriter().getWriteAllFields()}),o.all||(l=g.id)),l||((o=i[b])||(o=g.getProxy().getWriter().getConfig(b),i[b]=o=Ext.Object.chain(o),j.setupOptions(o)),l=g.getData(o)),n=j.result||(j.result={}),d=n[a]||(n[a]={}),d=d[m]||(d[m]=[]),d.push(l)},setupOptions:function(a){a.serialize=!0},onMatrixChange:function(d,j,i,a){var c,k,h=this,b=d.left.type,g=d.right.role,e=a<0?h.dropKey:h.createKey;k=h.result||(h.result={}),c=k[b]||(k[b]={}),c=c[g]||(c[g]={}),c=c[e]||(c[e]={}),c=c[j]||(c[j]=[]),c.push(i)}},1,0,0,0,0,0,[Ext.data.session,"ChangesVisitor"],0),Ext.cmd.derive("Ext.data.session.ChildChangesVisitor",Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={},Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(a){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,a),a.serialize=!1},onDirtyRecord:function(a){!1!==Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)&&(a.$source||!a.dropped&&a.phantom||this.readEntity(a))},readEntity:function(g){var j,d,h=this,e=h.readKey,b=g.entityName,c=g.id,a=h.seen,i=b+c;a[i]||(a[i]=!0,j=h.result||(h.result={}),d=j[b]||(j[b]={}),d=d[e]||(d[e]=[]),d.push(Ext.apply({},g.modified,g.data)))}},1,0,0,0,0,0,[Ext.data.session,"ChildChangesVisitor"],0),Ext.cmd.derive("Ext.data.session.BatchVisitor",Ext.Base,{map:null,constructor:function(a){this.batch=a},getBatch:function(g){var i,b,c,a,e,h=this.map,d=this.batch;if(h){d||(d=new Ext.data.Batch);for(c in h){i=h[c],b=i.entity,e=b.getProxy(),delete i.entity;for(a in i)a=e.createOperation(a,{records:i[a]}),a.entityType=b,d.add(a)}}return d&&!1!==g&&d.sort(),d},onDirtyRecord:function(a){var d=this,b=a.phantom?"create":a.dropped?"destroy":"update",c=a.$className,e=d.map||(d.map={}),g=e[c]||(e[c]={entity:a.self});g=g[b]||(g[b]=[]),g.push(a)}},1,0,0,0,0,0,[Ext.data.session,"BatchVisitor"],0),Ext.cmd.derive("Ext.mixin.Dirty",Ext.Base,{mixinId:"dirty",config:{dirty:null},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(a){return!this.ignoreDirty&&a},updateDirty:function(b,a){var c=this;c.dirty=b,!c.ignoreDirty&&c.fireEvent&&c.fireEvent("dirtychange",c,b)},clearRecordStates:function(){var b=this,a=b._crudCounters;a&&(a.C=a.U=a.D=0),b._dirtyRecordCount=0,b.recordStateIsDirtyState&&b.setDirty(!1)},trackRecordState:function(a,b){var h,c,g,e=this,d=e._crudCounters||(e._crudCounters={C:0,R:0,U:0,D:0}),i=e._dirtyRecordCount;return b||null===(g=a.crudStateWas)||--d[g],++d[a.crudState],e._dirtyRecordCount=c=d.C+d.U+d.D,h=!c!=!i,h&&e.recordStateIsDirtyState&&e.setDirty(c>0),h},untrackRecordState:function(a){var e,b,d=this,c=d._crudCounters,g=d._dirtyRecordCount;return c&&(--c[a.crudState],d._dirtyRecordCount=b=c.C+c.U+c.D,(e=!b!=!g)&&d.recordStateIsDirtyState&&d.setDirty(b>0)),e}},0,0,0,0,0,0,[Ext.mixin,"Dirty"],0),Ext.cmd.derive("Ext.data.Session",Ext.Base,{isSession:!0,config:{schema:"default",parent:null,autoDestroy:!0,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(a){var b=this;b.data={},b.matrices={},b.id=Ext.data.Session.nextId++,b.identifierCache={},b.recordCreator=b.recordCreator.bind(b),b.mixins.observable.constructor.call(b,a)},destroy:function(){var c,g,a,h,d=this,b=d.matrices,e=d.data;for(h in b)b[h].destroy();for(c in e){g=e[c];for(h in g)(a=g[h].record)&&(a.$source=null,a.unjoin(d))}d.identifierCache=d.recordCreator=d.matrices=d.data=null,d.setSchema(null),d.callParent()},adopt:function(b){var a,d=this,c=b.associations;if(b.session!==d&&(b.session=d,d.add(b),c))for(a in c)c[a].adoptAssociated(b,d)},commit:function(){var c,g,h,a,d=this,e=d.data,b=d.matrices;for(c in e){g=e[c];for(h in g)(a=g[h].record)&&a.commit()}for(h in b)b[h].commit();d.clearRecordStates()},createRecord:function(b,c){var e,d=b.$isClass?b:this.getSchema().getEntity(b),a=this.getParent();return c&&a&&(e=d.getIdFromData(c),a.peekRecord(d,e)&&Ext.raise("A parent session already contains an entry for "+d.entityName+": "+e)),new d(c,this)},getChanges:function(){var a=new Ext.data.session.ChangesVisitor(this);return this.visitData(a),a.result},getChangesForParent:function(){var a=new Ext.data.session.ChildChangesVisitor(this);return this.visitData(a),a.result},getRecord:function(i,a,c){var g,d,j,e,h=this,b=i.isModel;return b&&(b=i,a=i.id,i=i.self),g=h.peekRecord(i,a),g||(d=i.$isClass?i:h.getSchema().getEntity(i),j=h.getParent(),j&&(e=j.peekRecord(d,a)),e&&(e.isLoading()?b=!1:(g=e.copy(void 0,h),g.$source=e)),g||(b?(g=b,h.adopt(g)):(g=d.createWithId(a,null,h),!1!==c&&g.load(Ext.isObject(c)?c:void 0)))),g},getSaveBatch:function(a){var b=new Ext.data.session.BatchVisitor;return this.visitData(b),b.getBatch(a)},onInvalidAssociationEntity:function(a,b){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(a,b))},onInvalidEntityCreate:function(a,b){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityDrop:function(a,b){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(a,b))},onInvalidEntityRead:function(a,b){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityUpdate:function(a,c,b){b?Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(a,c)):Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(a,c))},peekRecord:function(e,i,a){var b,d,h=e.$isClass?e:this.getSchema().getEntity(e),c=h.entityName,g=this.data[c];return g=g&&g[i],b=g&&g.record,!b&&a&&(d=this.getParent(),b=d&&d.peekRecord(e,i,a)),b||null},save:function(){var c,b=this,a=b.getParent();a&&(c=new Ext.data.session.ChildChangesVisitor(b),b.visitData(c),a.update(c.result),b.commit())},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(k){var o,g,q,j,d,r,c,p,h,b,m=this,e=m.getSchema(),a=m.crudOperations,l=a.length,n=m.crudKeys;m.getSchema().processKeyChecks(!0);for(o in k)for(g=e.getEntity(o),q=k[o],j=0;j<l;++j)d=a[j],(r=q[d.type])&&m[d.entityMethod](g,r);for(o in k){g=e.getEntity(o),c=g.associations,q=k[o];for(p in q)n[p]||(h=c[p],b=q[h.role],h.processUpdate(m,b))}},privates:{add:function(b){var c,a,e=this,g=b.id;e.getEntry(b.self,g).record=b,e.trackRecordState(b,!0),e.registerReferences(b),c=b.associations;for(a in c)c[a].checkMembership(e,b)},afterCommit:function(a){this.trackRecordState(a)},afterDrop:function(a){this.trackRecordState(a)},afterEdit:function(a){this.trackRecordState(a)},afterErase:function(a){this.evict(a)},applySchema:function(a){return Ext.data.schema.Schema.get(a)},createEntities:function(d,b){var c,e,g,h,a=b.length;for(c=0;c<a;++c)e=b[c],h=d.getIdFromData(e),g=this.peekRecord(d,h),g?this.onInvalidEntityCreate(d,h):g=this.createRecord(d,e),g.phantom=!0},dropEntities:function(e,d){var c,g,h,a,b=d.length;for(b&&(a=Ext.isObject(d[0])),c=0;c<b;++c)h=d[c],a&&(h=e.getIdFromData(h)),g=this.peekRecord(e,h),g?g.drop():this.onInvalidEntityDrop(e,h)},evict:function(a){var c=this,b=a.entityName,d=c.data[b],e=a.id;d&&d[e]&&(c.untrackRecordState(a),a.unjoin(c),delete d[e])},getEntityList:function(d,c){var b,h,g,e,a=c.length;for(b=0;b<a;++b)h=c[b],g=this.peekRecord(d,h),g?c[b]=g:(e=!0,c[b]=null,this.onInvalidAssociationEntity(d,h));return e&&(c=Ext.Array.clean(c)),c},
getEntry:function(b,g){b.isModel&&(g=b.getId(),b=b.self);var c,d=b.$isClass?b:this.getSchema().getEntity(b),a=d.entityName,e=this.data;return c=e[a]||(e[a]={}),c=c[g]||(c[g]={})},getRefs:function(d,c,i){var j,a,b,g=this.getEntry(d),e=g&&g.refs&&g.refs[c.role],h=i&&this.getParent();if(h&&(j=h.getRefs(d,c))){for(a in j)b=j[a],e&&e[a]||this.getRecord(b.self,b.id);e=g&&g.refs&&g.refs[c.role]}return e||null},getIdentifier:function(g){var a,c,d,b,e=this.getParent();return e?b=e.getIdentifier(g):(a=this.identifierCache,c=g.identifier,d=c.getId()||g.entityName,(b=a[d])||(b=c.clone?c.clone({id:null}):c,a[d]=b)),b},getMatrix:function(a,e){var b,d=a.isManyToMany?a.name:a,c=this.matrices;return b=c[d],b||e||(b=c[d]=new Ext.data.matrix.Matrix(this,a)),b||null},getMatrixSlice:function(d,c){return this.getMatrix(d.association)[d.side].get(c)},getModelIdentifier:function(a,b){return b+"@"+a.entityName},onIdChanged:function(g,m,i){var h,e,k,t,l,o,s,r=this,b=r.matrices,j=g.entityName,n=g.id,u=r.data[j],c=u[m],q=g.associations,d=c.refs,a=r._setNoRefs;delete u[m],u[i]=c;for(s in b)b[s].updateId(g,m,i);if(d)for(l in d)if(o=d[l],t=q[l],h=t.association,!h.isManyToMany){e=h.field.name;for(k in o)o[k].set(e,n,a)}r.registerReferences(g,m)},processManyBlock:function(d,e,h,b){var a,g,c,j,i=this;if(h)for(a in h)g=i.peekRecord(d,a),g?(c=i.getEntityList(e.cls,h[a]),j=e.getAssociatedItem(g),i[b](e,j,g,c)):i.onInvalidAssociationEntity(d,a)},processManyCreate:function(d,c,a,b){c?c.add(b):a[d.getterName](null,null,b)},processManyDrop:function(d,c,a,b){c&&c.remove(b)},processManyRead:function(d,c,a,b){c?c.setRecords(b):a[d.getterName](null,null,b)},readEntities:function(d,b){var c,e,g,h,a=b.length;for(c=0;c<a;++c)e=b[c],h=d.getIdFromData(e),g=this.peekRecord(d,h),g?this.onInvalidEntityRead(d,h):g=this.createRecord(d,e),g.phantom=!1},recordCreator:function(c,d){var b=this,e=d.getIdFromData(c),a=b.peekRecord(d,e,!0);return a=a?b.getRecord(d,e):new d(c,b)},registerReferences:function(j,c){var n,g,p,k,d,o,l,e,b=(j.entityName,j.id),a=j.data,h=c||0===c;for(k=(o=j.references).length,g=0;g<k;++g)d=o[g],((p=a[d.name])||0===p)&&(d=d.reference,d.type,e=d.inverse.role,n=this.getEntry(d.cls,p),l=n.refs||(n.refs={}),l=l[e]||(l[e]={}),l[b]=j,h&&delete l[c])},updateEntities:function(e,b){var d,g,h,j,a=b.length;if(Ext.isArray(b))for(d=0;d<a;++d)g=b[d],j=e.getIdFromData(g),h=this.peekRecord(e,j),h?h.set(g):this.onInvalidEntityUpdate(e,j);else for(j in b)g=b[j],h=this.peekRecord(e,j),h&&!h.dropped?h.set(g):this.onInvalidEntityUpdate(e,j,!!h)},updateReference:function(g,i,c,a){var k,h,d=i.reference,j=d.type,e=d.inverse.role,b=g.id;(a||0===a)&&(h=this.getEntry(j,a).refs[e],delete h[b]),(c||0===c)&&(k=this.getEntry(j,c),h=k.refs||(k.refs={}),h=h[e]||(h[e]={}),h[b]=g)},visitData:function(h){var m,i,c,p,k,d,b,g,l,o,a,j=this,e=j.data,n=j.matrices;j.getSchema().processKeyChecks(!0);for(b in e){m=e[b];for(c in m)(g=m[c].record)&&(g.phantom||g.dirty||g.dropped?h.onDirtyRecord&&h.onDirtyRecord(g):h.onCleanRecord&&h.onCleanRecord(g))}if(h.onMatrixChange)for(b in n){k=n[b].left,o=k.slices,i=k.role.association;for(c in o){l=o[c],d=l.members;for(p in d)(a=(g=d[p])[2])&&h.onMatrixChange(i,g[0],g[1],a)}}return h},_setNoRefs:{refs:!1}}},1,0,0,0,0,[[Ext.mixin.Dirty.prototype.mixinId||Ext.mixin.Dirty.$className,Ext.mixin.Dirty],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data,"Session"],0),Ext.cmd.derive("Ext.util.Schedulable",Ext.Base,{abstract:!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var b=this,a=b.getScheduler();a&&a.remove(b),b.scheduler=null,b.schedule=b.react=Ext.emptyFn,b.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var a,b=this;b.scheduled||(a=b.getScheduler())&&(b.scheduled=!0,b.onSchedule&&b.onSchedule(),a.scheduleItem(b))},unschedule:function(){var a,b=this;b.scheduled&&(a=b.getScheduler(),a&&a.unscheduleItem(b),b.scheduled=!1)},sort:function(){}}},1,0,0,0,0,0,[Ext.util,"Schedulable"],0),Ext.cmd.derive("Ext.app.bind.BaseBinding",Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(a,e,c,b){var d=this;d.options=b,d.owner=a,d.scope=c,d.callback=e,d.lateBound=Ext.isString(e),b&&b.deep&&(d.deep=!0),Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var b=this,a=b.owner;a&&a.onBindDestroy(b),Ext.util.Schedulable.prototype.destroy.call(this),b.scope=b.callback=b.owner=null},isReadOnly:function(){return!0},privates:{getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},notify:function(d){var c=this,a=c.options||c.defaultOptions,b=c.lastValue;(!c.calls||c.deep||c.valueChanged(d,b))&&(++c.calls,c.lastValue=d,c.lateBound?c.scope[c.callback](d,b,c):c.callback.call(c.scope,d,b,c),a.single&&c.destroy())},valueChanged:function(c,b){var a=!0;return b!==c?c&&b&&c instanceof Date&&b instanceof Date&&(a=c.getTime()!==b.getTime()):a=Ext.isArray(c),a}}},1,0,0,0,0,0,[Ext.app.bind,"BaseBinding"],0),Ext.cmd.derive("Ext.app.bind.Binding",Ext.app.bind.BaseBinding,{constructor:function(d,e,b,a){var c=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,d.owner,e,b,a),c.stub=d,c.depth=d.depth,d.isLoading()||d.scheduled||c.schedule()},destroy:function(c){var a=this,b=a.stub;b&&!c&&(b.unbind(a),a.stub=null),Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(c,a){var b=this.stub;return b&&b.bindValidation(c,a)},bindValidationField:function(c,a){var b=this.stub;return b&&b.bindValidationField(c,a)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var a=this,b=a.stub;return b&&b.getValue()},isLoading:function(){var a=this.stub;return a&&a.isLoading()},isReadOnly:function(){var c=this.stub,b=this.options,a=!0;return b&&!1===b.twoWay||c&&(a=c.isReadOnly()),a},refresh:function(){},setValue:function(a){this.stub.set(a)},privates:{getDataObject:function(){var a=this.stub;return a&&a.getDataObject()},getRawValue:function(){var a=this,b=a.stub;return b&&b.getRawValue()},isDescendantOf:function(a){var b=this.stub;return!!b&&(a===b||b.isDescendantOf(a))},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||Ext.app.bind.BaseBinding.prototype.schedule.call(this)},sort:function(){var a=this.stub;a.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,"Binding"],0),Ext.cmd.derive("Ext.app.bind.AbstractStub",Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(a,b){var c=this;c.owner=a,c.name=b,Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var a,c,b,e=this,d=e.children,g=e.bindings;if(g)for(c=0,a=g.length;c<a;++c)g[c].destroy(!0);for(b in d)d[b].destroy();e.scheduled&&e.unschedule(),Ext.util.Schedulable.prototype.destroy.call(this)},add:function(b){var a=this;(a.children||(a.children={}))[b.name]=b,b.depth=a.depth+1,b.parent=a},getChild:function(b){var a=Ext.isString(b)?b.split("."):b;return a&&a.length?this.descend(a,0):this},getFullName:function(){var b,d=this,a=d.fullName,c=d.parent;return a||(a=d.name||d.id,c&&(b=c.getFullName())&&(a=(":"!==b.charAt(b.length-1)?b+".":b)+a),d.fullName=a),a},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},bind:function(g,b,a){var c=this,d=new Ext.app.bind.Binding(c,g,b,a),e=c.bindings||(c.bindings=[]);return d.depth=c.depth,e.push(d),d},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(c){var b,d=this,e=d.bindings,a=d.name;if(d.parent=d.bindings=null,d.destroy(),c.depth=d.depth,c.bindings=e,c.generation=d.generation+1,c.name=a,c.id=d.id,c.path=d.path,e)for(b=e.length;b-- >0;)e[b].stub=c;return c},isDescendantOf:function(b){for(var a=this;a=a.parent;)if(a===b)return!0;return!1},onSchedule:function(){for(var b,a,d,e,c=this.parent;c;c=c.parent)if(e=c.bindings)for(b=0,a=e.length;b<a;++b)d=e[b],d.deep&&!d.scheduled&&d.schedule()},react:function(){var c,b,a,d=this.bindings;if(d)for(b=0,a=d.length;b<a;++b)c=d[b],c.scheduled||c.schedule()},unbind:function(a){var b=this.bindings;b&&b.length&&Ext.Array.remove(b,a)},privates:{collect:function(){var e,b,c=this.children,g=this.bindings,a=0,d=0;if(c)for(b in c)e=c[b],d=e.collect(),0===d&&(e.destroy(),delete c[b]),a+=d;return g&&(a+=g.length),a},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var a=this.parent;a&&this.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,"AbstractStub"],0),Ext.cmd.derive("Ext.app.bind.Stub",Ext.app.bind.AbstractStub,{isStub:!0,dirty:!0,formula:null,validationKey:"validation",constructor:function(a,b,c){var d=this,e=b;Ext.app.bind.AbstractStub.prototype.constructor.call(this,a,b),d.boundValue=null,c&&(c.add(d),c.isRootStub||(e=c.path+"."+b),d.checkHadValue()),d.path=e},destroy:function(){var b=this,c=b.formula,a=b.storeBinding;c&&c.destroy(),a&&a.destroy(),b.detachBound(),Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(c,b){var a=this.parent;return a&&a.descend([this.validationKey,this.name]).bind(c,b)},bindValidationField:function(g,d){var a,c=this.parent,b=this.name,e="string"==typeof g;return c&&(a=c.bind(function(h){var i=null;h&&h.isModel&&(i=h.getField(b)),e?d[g](i,h,this):g.call(d,i,h,this)})),a||null},descend:function(g,c){var a,e=this,d=e.children||(e.children={}),h=c||0,b=g[h++];return(a=d[b])||(a=new Ext.app.bind.Stub(e.owner,b,e)),h<g.length&&(a=a.descend(g,h)),a},getChildValue:function(a){var b,d=this,c=d.name;return a||Ext.isString(a)?(b=d.inspectValue(a))||(b=a.isEntity?a.data[c]:a[c]):b=d.hadValue?null:void 0,b},getDataObject:function(){var d,e=this,a=e.parent.getDataObject(),c=e.name,b=a?a[c]:null;return!b&&a&&a.isEntity&&(d=a.associations)&&c in d&&(b=a[d[c].getterName]()),b&&(b.$className||Ext.isObject(b))||(a[c]=b={},e.hadValue=!0,e.invalidate(!0,!0)),b},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(e){var b,g=this,d=g.parent,c=g.children,a=g.name;if(e.parent=d,e.children=c,d&&(d.children[a]=e),c)for(b in c)c[b].parent=e;return g.children=null,e.checkHadValue(),Ext.app.bind.AbstractStub.prototype.graft.call(this,e)},isLoading:function(){var b,g,e,a,d=this,c=d.parent,h=!1;return c&&!(h=c.isLoading())&&(g=d.getParentValue(),e=d.inspectValue(g),e?h=e.isLoading():(g&&g.isModel&&((b=g.associations)&&d.name in b||(h=!1,a=!0)),a||(h=!d.hadValue&&void 0===d.getRawValue()))),h},invalidate:function(b,a){var c,e=this,d=e.children;if(e.checkHadValue(),e.dirty=!0,a||e.isLoading()||e.scheduled||e.schedule(),b&&d)for(c in d)d[c].invalidate(b,a)},isReadOnly:function(){var a=this.formula;return!(!a||a.set)},set:function(j){var h,c,b,d,e,i=this,k=i.parent,a=i.name,g=i.formula;return g&&!g.settingValue&&g.set?void g.setValue(j):i.isLinkStub&&(d=i.getLinkFormulaStub(),g=d?d.formula:null)?void g.setValue(j):(h=k.getDataObject(),void(h.isEntity?(c=h.associations,c&&a in c?(b=c[a],e=b.setterName,e&&h[e](j),i.invalidate(!0)):h.set(a,j)):(j&&j.constructor===Object||j!==h[a])&&(i.setByLink(j)||(void 0===j?delete h[a]:h[a]=j,i.inspectValue(h),i.invalidate(!0)))))},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(a){this.invalidate(!0)},afterCommit:function(a){this.afterEdit(a,null)},afterEdit:function(b,h){var d,c,j,g=this.children,a=h&&h.length,e=b.associations;if(g)if(a)for(c=0;c<a;++c)(j=g[h[c]])&&j.invalidate();else for(d in g)e&&d in e||g[d].invalidate();this.invalidate()},afterReject:function(a){this.afterEdit(a,null)},afterAssociatedRecordSet:function(a,d,e){var c=this.children,b=e.role;c&&b in c&&c[b].invalidate(!0)},setByLink:function(d){var a,b,g,e,c=this,h=0;for(e=c;e;e=e.parent){if(e.isLinkStub){if(b=e,h)for(g=[],a=0,e=c;e!==b;e=e.parent)++a,g[h-a]=e.name;break}++h}return!(!b||!(e=b.getTargetStub())||(g&&(e=e.descend(g)),e.set(d),0))},setFormula:function(c){var a=this,b=a.formula;b&&b.destroy(),a.formula=new Ext.app.bind.Formula(a,c)},react:function(){var d,c=this,b=this.boundValue,a=c.children;if(b)if(b.isValidation){if(b.refresh(),d=b.generation,c.lastValidationGeneration===d)return;c.lastValidationGeneration=d}else if(b.isModel)a&&a[c.validationKey]&&b.isValid();else if(b.isStore&&b.isLoading()&&!b.loadCount)return;Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{checkHadValue:function(){this.hadValue||(this.hadValue=void 0!==this.getRawValue())},collect:function(){var c=this;return Ext.app.bind.AbstractStub.prototype.collect.call(this)+(c.storeBinding?1:0)+(c.formula?1:0)},getLinkFormulaStub:function(){for(var a=this;a.isLinkStub;)a=a.binding.stub;return a.formula?a:null},getParentValue:function(){var a=this;return a.dirty&&(a.parentValue=a.parent.getValue(),a.dirty=!1),a.parentValue},setStore:function(a){this.storeBinding=a},inspectValue:function(h){var c,j,d,g,i=this,a=i.name,e=i.boundValue,b=null;return h&&h.isEntity?(c=h.associations,c&&a in c?(b=h[c[a].getterName]())&&b.isStore&&(b.$associatedStore=!0):a===i.validationKey&&(b=h.getValidation(),i.lastValidationGeneration=null)):h&&(j=h[a])&&(j.isModel||j.isStore)&&(b=j),d=e!==b,d&&(e&&i.detachBound(),b&&(b.isModel?b.join(i):(g=b.associatedEntity,!g||!1===b.autoLoad||b.complete||b.hasPendingLoad()||b.load(),b.on({scope:i,load:{fn:"onStoreLoad",single:!0},destroy:"onDestroyBound"}))),i.boundValue=b),b},detachBound:function(){var a=this,b=a.boundValue;b&&(b.isModel?b.unjoin(a):b.un({scope:a,load:"onStoreLoad",destroy:"onDestroyBound"}))},onDestroyBound:function(){this.owner.destroying||this.set(null)},sort:function(){var c=this,d=c.formula,a=c.scheduler,b=c.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this),b&&a.sortItem(b),d&&a.sortItem(d)}}},1,0,0,0,0,0,[Ext.app.bind,"Stub"],0),Ext.cmd.derive("Ext.app.bind.LinkStub",Ext.app.bind.Stub,{isLinkStub:!0,binding:null,destroy:function(){var b=this,c=b.binding,a=b.owner;c&&(b.binding=null,c.destroy(),a&&delete a.linkData[b.name]),b.target=null,Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var a=this;return a.fullName||(a.fullName="("+Ext.app.bind.Stub.prototype.getFullName.call(this)+" -> "+a.binding.getFullName()+")")},getDataObject:function(){var a=this.binding;return a&&a.getDataObject()},getRawValue:function(){var a=this.binding;return a&&a.getRawValue()},getValue:function(){var a=this.binding;return a&&a.getValue()},getTargetStub:function(){var a=this.binding;return a&&a.stub},isLoading:function(){var a=this.binding;return!!a&&a.isLoading()},link:function(d,b){var a=this,c=a.binding;c&&c.destroy(),b=a.target=b||a.owner,a.linkDescriptor=d,a.binding=b.bind(d,a.onChange,a),a.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){var b=this;b.owner.linkData[b.name]=b.getValue(),Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var b=this;return Ext.app.bind.Stub.prototype.collect.call(this)+(b.binding?1:0)},sort:function(){var a=this.binding;a&&this.scheduler.sortItem(a)}}},0,0,0,0,0,0,[Ext.app.bind,"LinkStub"],0),Ext.cmd.derive("Ext.app.bind.RootStub",Ext.app.bind.AbstractStub,{isRootStub:!0,depth:0,createRootChild:function(a,e){var k,d,j=this,b=j.owner,g=b.getData(),c=j.children,i=c&&c[a],h=i?null:j;return e||g.hasOwnProperty(a)||!(k=b.getParent())?d=new Ext.app.bind.Stub(b,a,h):(d=new Ext.app.bind.LinkStub(b,a,i?null:h),d.link("{"+a+"}",k)),i&&i.graft(d),d},createStubChild:function(a){return this.createRootChild(a,!0)},descend:function(g,c){var e=this,d=e.children,h=c||0,b=g[h++],a=d&&d[b]||e.createRootChild(b);return h<g.length&&(a=a.descend(g,h)),a},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(h){var e,c,j,i,g=this,b=g.children||(g.children={}),a=g.owner,d=a.data,k=a.getParent();for(i in h)void 0!==(j=h[i])?((c=b[i])?c.isLinkStub&&(c.getLinkFormulaStub()||(e=c,c=new Ext.app.bind.Stub(a,i),e.graft(c))):c=new Ext.app.bind.Stub(a,i,g),c.set(j)):d.hasOwnProperty(i)&&(delete d[i],(c=b[i])&&(!c.isLinkStub&&k&&(c=g.createRootChild(i)),c.invalidate(!0)))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,"RootStub"],0),Ext.cmd.derive("Ext.app.bind.Multi",Ext.app.bind.BaseBinding,{isMultiBinding:!0,missing:1,deep:!0,constructor:function(e,a,h,c,b){var d=this,g=b&&b.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,a,h,c,b),d.bindings=[],d.literal=e.$literal,e.constructor===Object?(g&&(d.staticKeys=[]),d.addObject(e,d.lastValue={},d.staticKeys)):d.addArray(e,d.lastValue=[]),--d.missing||d.scheduled||d.schedule()},destroy:function(){var a=this;a.bindings=Ext.destroy(a.bindings),Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(b,g,j){var h,e,i=this,d=i.owner,c=i.bindings,a=i.literal?b.reference?"bindEntity":"bindExpression":"bind";return++i.missing,h=d[a](b,function(k){g[j]=k,1===h.calls&&--i.missing,i.missing||i.scheduled||i.schedule()},i,null),e=h.depth,(!c.length||e<i.depth)&&(i.depth=e),c.push(h),!this.isBindingStatic(h)},addArray:function(c,k){var h,a,e,g=this,j=c.length,d=!1;for(e=0;e<j;++e)a=c[e],a&&(a.reference||Ext.isString(a))?h=g.add(a,k,e):Ext.isArray(a)?h=g.addArray(a,k[e]=[]):a&&a.constructor===Object?h=g.addObject(a,k[e]={}):(k[e]=a,h=!1),d=d||h;return d},addObject:function(c,g,i){var j,a,d,h=this,e=!1;for(d in c)a=c[d],a&&(a.reference||Ext.isString(a))?j=h.add(a,g,d):Ext.isArray(a)?j=h.addArray(a,g[d]=[]):a&&a.constructor===Object?j=h.addObject(a,g[d]={}):(g[d]=a,j=!1),i&&!j&&i.push(d),e=e||j;return e},getFullName:function(){var a,c=this,d=c.fullName,e=c.bindings,b=e.length;if(!d){for(d="@[",a=0;a<b;++a)a&&(d+=","),d+=e[a].getFullName();d+="]",c.fullName=d}return d},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var b=this.bindings,a=b.length;a-- >0;)if(b[a].isLoading())return!0;return!1},isBindingStatic:function(a){return a.isTemplateBinding&&a.isStatic},isStatic:function(){var b,c,d=this.bindings,a=d.length;for(b=0;b<a;++b)if(c=d[b],!this.isBindingStatic(c))return!1;return!0},pruneStaticKeys:function(){var b,d=Ext.apply({},this.lastValue),c=this.staticKeys,a=c.length;for(b=0;b<a;++b)delete d[c[b]];return d},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,"Multi"],0),Ext.cmd.derive("Ext.app.bind.Formula",Ext.util.Schedulable,{statics:{getFormulaParser:function(b){var d,c,a=this.formulaCache;return a||(a=this.formulaCache=new Ext.util.LruCache({maxSize:20})),d=a.get(b),d||(c="[^\\.a-z0-9_]"+b+"\\(\\s*(['\"])(.*?)\\1\\s*\\)",d=new RegExp(c,"gi"),a.add(b,d)),d}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(h,i){var d,e,a,c,g=this,b=h.owner;g.owner=b,g.stub=h,Ext.util.Schedulable.prototype.constructor.call(this),i instanceof Function?g.get=a=i:(g.get=a=i.get,g.set=i.set,e=i.bind,i.single&&(g.single=i.single),e&&(d=e.bindTo)&&(c=Ext.apply({},e),delete c.bindTo,e=d)),e?g.explicit=!0:e=a.$expressions||g.parseFormula(a),g.binding=b.bind(e,g.onChange,g,c)},destroy:function(){var a=this,c=a.binding,b=a.stub;c&&(c.destroy(),a.binding=null),b&&(b.formula=null),Ext.util.Schedulable.prototype.destroy.call(this),a.getterFn=a.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+Ext.util.Schedulable.prototype.getFullName.call(this)+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(h){var c,b,a,e,g=h.toString(),d={$literal:!0};for(c=this.argumentNamesRe.exec(g),b=c?c[1]:"get",a=Ext.app.bind.Formula.getFormulaParser(b);c=a.exec(g);)e=c[2],d[e]=e;return d.$literal=!0,h.$expressions=d,d},react:function(){var a,c=this,b=c.owner,d=c.binding.lastValue;c.getterFn,a=c.explicit?d:b.getFormulaFn(d),c.settingValue=!0,c.stub.set(c.calculation=c.get.call(b,a)),c.settingValue=!1,c.single&&c.destroy()},setValue:function(a){this.set.call(this.stub.owner,a)},privates:{getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var a=this,b=a.binding;b.destroyed||a.scheduler.sortItem(b)}}},1,0,0,0,0,0,[Ext.app.bind,"Formula"],0),Ext.cmd.derive("Ext.util.Fly",Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var c=this,b=c.flyweights||(c.flyweights=[]),a=b.length?b.pop():new c;return a.reset.apply(a,arguments),a}},release:function(){var c=this,b=c.self,a=b.flyweights||(b.flyweights=[]);c.reset(),a.length<b.flyPoolSize&&a.push(c)},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Fly"],0),Ext.cmd.derive("Ext.parse.Tokenizer",Ext.util.Fly,function(j){var i=j.flyweights=[],d={literal:!0,boolean:!0},g={error:!0},a={ident:!0},b={literal:!0},e={literal:!0,nil:!0},c={literal:!0,number:!0},h={literal:!0,string:!0};return{isTokenizer:!0,statics:{BOOLEAN:d,ERROR:g,IDENT:a,LITERAL:b,NULL:e,NUMBER:c,STRING:h},config:{keywords:{null:{type:"literal",is:e,value:null},false:{type:"literal",is:d,value:!1},true:{type:"literal",is:d,value:!0}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(k){this.operators={},this.initConfig(k)},next:function(){var k=this.peek();return this.head=void 0,k},peek:function(){var m=this,k=m.error,l=m.head;return k||(void 0===l&&(m.head=l=m.advance()),l)},release:function(){this.reset(),i.length<j.flyPoolSize&&i.push(this)},reset:function(m,n,k){var l=this;return l.error=null,l.head=void 0,l.index=-1,l.text=m||null,l.pos=n||0,l.end=m&&null==k?m.length:k,l},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:void 0,pos:0,text:null,applyOperators:function(m){var n,s,l,p,r,k,q,o=this.operators;for(q in m){for(n=o,k=m[q],r=q.length,p=0;p<r;++p)s=q.charAt(p),n=n[s]||(n[s]={});k?(n.token=l={type:"operator",value:q,is:{operator:!0}},l.is[k]=!0):n.token=null}},advance:function(){for(var o,m=this,k=m.spaceRe,n=m.text,l=m.end;m.pos<l;){if(o=n.charAt(m.pos),!k.test(o))return m.index=m.pos,m.parse(o);++m.pos}return null},parse:function(p){var k,n=this,l=n.digitRe,o=n.text,m=n.end;return"."===p&&n.pos+1<m&&l.test(o.charAt(n.pos+1))&&(k=n.parseNumber()),!k&&n.operators[p]&&(k=n.parseOperator(p)),k||(k='"'===p||"'"===p?n.parseString():l.test(p)?n.parseNumber():n.identFirstRe.test(p)?n.parseIdent():n.syntaxError("Unexpected character")),k},parseIdent:function(){for(var r,t,s=this,o=s.identRe,p=s.getKeywords(),q=!s.operators["."],u=s.text,k=s.pos,n=k,l=s.end,m=0;n<l;){if(r=u.charAt(n),q&&"."===r){if("."===m)return s.syntaxError(n,"Unexpected dot operator");++n}else{if(!o.test(r))break;++n}m=r}return"."===m?s.syntaxError(n-1,"Unexpected dot operator"):(t=u.substring(k,s.pos=n),p&&p[t]||{type:"ident",is:a,value:t})},parseNumber:function(){for(var q,p,n,m,r=this,o=r.digitRe,s=r.text,k=r.pos,l=r.end;r.pos<l;)if("-"===(q=s.charAt(r.pos))||"+"===q){if(r.pos!==k)return r.syntaxError(k,"Invalid number");++r.pos}else if("."===q){if(p)break;p=!0,++r.pos}else if("e"===q||"E"===q){if(n)break;p=n=!0,"-"!==(q=s.charAt(++r.pos))&&"+"!==q||++r.pos}else{if(!o.test(q))break;++r.pos}return m={type:"literal",is:c,value:+s.substring(k,r.pos)},isFinite(m.value)||(m=r.syntaxError(k,"Invalid number")),m},parseOperator:function(q){for(var p,o,l,r=this,m=r.operators,s=r.text,k=r.end,n=r.pos;m[q]&&(m=m[q],l=m.token,++n,l&&(p=l,o=n),n<k);)q=s.charAt(n);return p&&(r.pos=o),p},parseString:function(){var o,n,k,q=this,s=q.text,r=q.pos,l=r,m=q.end,p="";for(k=s.charAt(r++);r<m;){if((o=s.charAt(r++))===k){n=!0;break}"\\"===o&&r<m&&(o=s.charAt(r++)),p+=o}return q.pos=r,n?{type:"literal",is:h,value:p}:q.syntaxError(l,"Unterminated string")},syntaxError:function(k,m){"string"==typeof k&&(m=k,k=this.pos);var n=null==k?"":" (at index "+k+")",l=new Error(m+n);return l.type="error",l.is=g,n&&(l.at=k),this.error=l}}}},1,0,0,0,0,0,[Ext.parse,"Tokenizer"],0),Ext.cmd.derive("Ext.parse.Symbol",Ext.Base,{priority:0,constructor:function(d,a){var b=this,c=b.defaultProperty;a&&"object"==typeof a?Ext.apply(b,a):void 0!==a&&c&&(b[c]=a),b.id=d},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(b){if(b&&"object"==typeof b){var d=this,c=b.priority,e=b.led,a=b.nud;d.priority<=c&&(d.priority=c),e&&(d.led=e),a&&(d.nud=a)}}},1,0,0,0,0,0,[Ext.parse,"Symbol"],0),Ext.cmd.derive("Ext.parse.symbol.Constant",Ext.parse.Symbol,{arity:"literal",isLiteral:!0,defaultProperty:"value",constructor:function(b,a){Ext.parse.Symbol.prototype.constructor.call(this,b,a),this._value=this.value},nud:function(){var a=this;return a.value=a._value,a.arity="literal",a.isLiteral=!0,a}},1,0,0,0,0,0,[Ext.parse.symbol,"Constant"],0),Ext.cmd.derive("Ext.parse.symbol.Infix",Ext.parse.Symbol,{arity:"binary",isBinary:!0,defaultProperty:"priority",led:function(b){var a=this;return a.lhs=b,a.rhs=a.parser.parseExpression(a.priority),a.arity="binary",a.isBinary=!0,a}},0,0,0,0,0,0,[Ext.parse.symbol,"Infix"],0),Ext.cmd.derive("Ext.parse.symbol.InfixRight",Ext.parse.symbol.Infix,{led:function(b){var a=this;return a.lhs=b,a.rhs=a.parser.parseExpression(a.priority-1),a.arity="binary",a.isBinary=!0,a}},0,0,0,0,0,0,[Ext.parse.symbol,"InfixRight"],0),Ext.cmd.derive("Ext.parse.symbol.Paren",Ext.parse.Symbol,{arity:"binary",isBinary:!0,priority:80,led:function(d){var c=this,a=[],g=c.parser,e=d.id,b=d.arity;for("."!==e&&"["!==e&&("unary"===b&&"function"===e||"ident"===b||"("===e||"&&"===e||"||"===e||"?"===e||g.syntaxError(d.at,"Expected a variable name.")),c.arity="invoke",c.isInvoke=!0,c.operand=d,c.args=a;")"!==g.token.id;)a.length&&g.advance(","),a.push(g.parseExpression());return g.advance(")"),c},nud:function(){var b=this.parser,a=b.parseExpression();return b.advance(")"),a}},0,0,0,0,0,0,[Ext.parse.symbol,"Paren"],0),Ext.cmd.derive("Ext.parse.symbol.Prefix",Ext.parse.Symbol,{arity:"unary",isUnary:!0,priority:70,nud:function(){var a=this;return a.operand=a.parser.parseExpression(a.priority),a.arity="unary",a.isUnary=!0,a}},0,0,0,0,0,0,[Ext.parse.symbol,"Prefix"],0),Ext.cmd.derive("Ext.parse.Parser",Ext.util.Fly,function(){var a=function(){return this};return{isParser:!0,config:{constants:{null:null,false:!1,true:!0},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:!0,nud:a},"(literal)":{arity:"literal",isLiteral:!0,nud:a},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(b){this.symbols={},this.initConfig(b)},advance:function(g){var e,c,j,i=this,k=i.tokenizer,d=k.peek(),b=i.symbols,h=k.index;if(i.error)throw i.error;return g&&i.expect(g),d?(k.next(),e=d.is,j=d.value,e.ident?c=b[j]||b["(ident)"]:e.operator?(c=b[j])||i.syntaxError(d.at,'Unknown operator "'+j+'"'):e.literal?c=b["(literal)"]:i.syntaxError(d.at,"Unexpected token"),i.token=c=Ext.Object.chain(c),c.at=h,c.value=j,c.arity||(c.arity=d.type),c):i.token=b["(end)"]},expect:function(c){var b=this.token;return c!==b.id&&this.syntaxError(b.at,'Expected "'+c+'"'),this},parseExpression:function(b){var e,d=this,c=d.token;for(b=b||0,d.advance(),e=c.nud();b<(c=d.token).priority;)d.advance(),e=c.led(e);return e},reset:function(d,e,b){var c=this;return c.error=c.token=null,c.tokenizer.reset(d,e,b),c.advance(),c},syntaxError:function(b,d){"string"==typeof b&&(d=b,b=this.pos);var e=null==b?"":" (at index "+b+")",c=new Error(d+e);throw c.type="error",e&&(c.at=b),this.error=c},privates:{error:null,addSymbol:function(b,e,l,h){var k,d,j,c=this.symbols,g=c[b];if(g){if("object"==typeof e)k=e;else{if(!h||!l)return g;for(h=Ext.Array.from(h),d=h.length,k={},j=0;j<d;j++)k[h[j]]=l.prototype[h[j]]}g.update(k)}else l=e&&e.xclass?Ext.ClassManager.get(e.xclass):l||Ext.parse.Symbol,c[b]=g=new l(b,e),g.parser=this;return g},addSymbols:function(b,c,e){for(var d in b)this.addSymbol(d,b[d],c,e)},applyConstants:function(b){this.addSymbols(b,Ext.parse.symbol.Constant,"nud")},applyInfix:function(b){this.addSymbols(b,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(b){this.addSymbols(b,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(b){this.addSymbols(b,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(b){this.addSymbols(b)},applyTokenizer:function(c){var b=c;c&&!c.isTokenizer&&(b=new Ext.parse.Tokenizer(c)),this.tokenizer=b}}}},1,0,0,0,0,0,[Ext.parse,"Parser"],0),Ext.cmd.derive("Ext.app.bind.Parser",Ext.parse.Parser,{infix:{":":{priority:70,led:function(b){var a=this;return a.arity="formatter",a.operand=b,a.fmt=a.parser.parseFmt(),a}},"?":{priority:20,led:function(d){var a,b=this,e=b.parser,c=e.symbols[":"];return b.condition=d,a=c.priority,c.priority=0,b.tv=e.parseExpression(0),b.parser.advance(":"),c.priority=a,b.fv=e.parseExpression(0),b.arity="ternary",b}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var b,a,d=this.parser,c=d.symbols[":"];return a=c.priority,c.priority=70,b=d.parseExpression(),d.advance(")"),c.priority=a,b}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(e,d){var b,c=this;return c.tokens=e,c.tokensMap=d,b=c.parseSlot(c.parseExpression(),void 0),c.tokens=c.tokensMap=null,b},compileFormat:function(){var a;return a=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}}),this.expect("(end)"),a},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){var d,c=this,a=[],b=c.symbols[":"].priority;do{a.length&&c.advance(),d=c.parseExpression(b),d.isIdent||d.isInvoke?a.push(d):c.syntaxError(d.at,"Expected formatter name")}while(":"===c.token.id);return a},parseSlot:function(l,a){var k,b,e,c,m,j=this,d=[],g=[],h=j.tokens||[];if(j.definitions=d,j.body=g,g.push("return "+j.compile(l)+";"),c=h.length,b="var fm = Ext.util.Format,\nme,",m="var a = Ext.Array.from(values);\nme = scope;\n",h.length)for(e=0;e<c;e++)b+="v"+e+(e==c-1?";":","),m+="v"+e+" = a["+e+"]; ";else b+="v0;",m+="v0 = a[0];";return d=Ext.Array.insert(d,0,[b]),g=Ext.Array.insert(g,0,[m]),g=g.join("\n"),d.push((j.useEval?"$=":"return")+" function (values, scope) {",g,"}"),b=d.join("\n"),k=j.useEval?j.evalFn(b):new Function("Ext",b)(Ext),j.definitions=j.body=null,k},compile:function(c){var a,b=this;switch(c.arity){case"ident":return b.addToken(c.value);case"literal":return a=c.value,"string"==typeof a?'"'+String(a).replace(b.escapeRe,"\\$1")+'"':a;case"unary":return b.compileUnary(c);case"binary":return b.compileBinary(c);case"ternary":return b.compileTernary(c);case"formatter":return b.compileFormatter(c)}return this.syntaxError(c.at,"Compile error! Unknown symbol")},compileUnary:function(b){var a=b.value,c=b.operand;return"!"===a||"-"===a||"+"===a?a+"("+this.compile(c)+")":"@"===a?c.isIdent?c.value:this.syntaxError(b.at,"Compile error! Unexpected symbol"):""},compileBinary:function(a){return"("+this.compile(a.lhs)+" "+a.value+" "+this.compile(a.rhs)+")"},compileTernary:function(a){return"("+this.compile(a.condition)+" ? "+this.compile(a.tv)+" : "+this.compile(a.fv)+")"},compileFormatter:function(g){var c,e=this,b=g.fmt,d=b.length,a=["var ret;"];if(b.length)for(a.push("ret = "+e.compileFormatFn(b[0],e.compile(g.operand))+";"),c=1;c<d;c++)a.push("ret = "+e.compileFormatFn(b[c],"ret")+";");return a.push("return ret;"),e.addFn(a.join("\n"))},compileFormatFn:function(h,g){var a,d,c,b=[],e=""
;if(h.isIdent?a=h.value:h.isInvoke&&(a=h.operand.value,b=h.args),"this."===a.substring(0,5))a="me."+a.substring(5);else{if(!(a in Ext.util.Format))return this.syntaxError(h.at,'Compile error! Invalid format specified "'+a+'"');a="fm."+a}for(e+=g,d=b.length,c=0;c<d;c++)e+=", "+this.compile(b[c]);return a+"("+e+")"},addFn:function(b){var a=this.definitions,c="f"+a.length;return a.push("function "+c+"() {",b,"}"),c+"()"},evalFn:function($){return eval($),$},addToken:function(a){var b=this.tokensMap,c=this.tokens,d=0;return b&&c&&(a in b?d=b[a]:(b[a]=d=c.length,c.push(a))),"v"+d}}},0,0,0,0,0,0,[Ext.app.bind,"Parser"],0),Ext.cmd.derive("Ext.app.bind.Template",Ext.Base,{buffer:null,slots:null,tokens:null,constructor:function(d){var a,c=this,b=c._initters;c.text=d;for(a in b)c[a]=b[a]},_initters:{apply:function(a,b){return this.parse().apply(a,b)},getTokens:function(){return this.parse().getTokens()}},apply:function(b,e){var c,j,h=this,d=h.slots,a=h.buffer,g=d.length;for(c=0;c<g;++c)(j=d[c])&&(a[c]=j(b,e));return j&&h.single?a[0]:a.join("")},getTokens:function(){return this.tokens},isStatic:function(){var b=this.getTokens(),a=this.slots;return 0===b.length&&0===a.length},privates:{parse:function(){var d,g=this,k=g.text,a=Ext.app.bind.Parser.fly(),c=g.buffer=[],e=g.slots=[],j=0,b=k.length,h=0;for(d in g._initters)delete g[d];for(g.tokens=[],g.tokensMap={},d=0;d<b;){if(j=d,(d=k.indexOf("{",j))<0){c[h++]=k.substring(j);break}j<d&&(c[h++]=k.substring(j,d)),a.reset(k,d+1),e[h++]=a.compileExpression(g.tokens,g.tokensMap),d=a.token.at+1,a.expect("}")}return a.release(),g.single=0===c.length&&1===e.length,g}}},1,0,0,0,0,0,[Ext.app.bind,"Template"],0),Ext.cmd.derive("Ext.app.bind.TemplateBinding",Ext.app.bind.BaseBinding,{isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(e,a,i,d,c){var g=this,b=new Ext.app.bind.Template(e),h=b.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,a,i,d,c),g.tpl=b,g.tokens=h,h.$literal=!0,b.isStatic()?(g.isStatic=!0,g.onData(b.text)):g.multiBinding=new Ext.app.bind.Multi(h,a,g.onBindData,g)},destroy:function(){var a=this;Ext.destroy(a.multiBinding),a.tpl=a.multiBinding=null,Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var a=this.multiBinding;return this.fullName||(this.fullName="$"+(a?a.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var a=this.multiBinding;return!!a&&a.isLoading()},onBindData:function(a){this.onData(this.tpl.apply(a,this.getTemplateScope()))},onData:function(c){var b=this,a=b.value;a!==(b.value=c)&&(b.lastValue=a,b.schedule())},react:function(){this.notify(this.value)},refresh:function(){var a=this.multiBinding;a&&a.refresh()},privates:{sort:function(){var a=this.multiBinding;a&&this.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,"TemplateBinding"],0),Ext.cmd.derive("Ext.data.ChainedStore",Ext.data.AbstractStore,{config:{source:null,remoteFilter:!1,remoteSort:!1},remove:function(){var a=this.getSource();return a.remove.apply(a,arguments)},removeAll:function(){return this.getSource().removeAll()},getData:function(){var a=this,b=a.data;return b||(a.data=b=a.constructDataCollection()),b},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSource().getSession()},applySource:function(a){return a&&(a=Ext.data.StoreManager.lookup(a)),a},updateSource:function(d,b){var c,a=this;b&&!b.destroyed&&b.removeObserver(a),d&&(c=a.getData(),c.setSource(d.getData()),a.isInitializing||(a.fireEvent("refresh",a),a.fireEvent("datachanged",a)),d.addObserver(a))},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(d,c){var b=this,a=c.items,e=!c.next;b.ignoreCollectionAdd||(b.fireEvent("add",b,a,c.at),e&&b.fireEvent("datachanged",b))},onCollectionItemChange:function(g,e){var d=this,a=e.item,c=e.modified||null,b=e.meta;d.onUpdate(a,b,c,e),d.fireEvent("update",d,a,b,c,e)},onCollectionUpdateKey:function(b,a){this.fireEvent("idchanged",this,a.item,a.oldKey,a.newKey)},onUpdate:Ext.emptyFn,onCollectionRemove:function(d,c){var b=this,a=c.items,e=!c.next;b.ignoreCollectionRemove||(b.fireEvent("remove",b,a,c.at,!1),e&&b.fireEvent("datachanged",b))},onSourceBeforeLoad:function(b,a){this.fireEvent("beforeload",this,a)},onSourceAfterLoad:function(c,b,d,a){this.fireEvent("load",this,b,d,a)},onFilterEndUpdate:function(){Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments),this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0,this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var a=this;a.ignoreCollectionAdd=!1,a.fireEvent("datachanged",a),a.fireEvent("refresh",a),this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(c,a){var b=this;b.ignoreCollectionRemove=!1,a||(b.fireEvent("clear",b),b.fireEvent("datachanged",b)),this.callObservers("AfterRemoveAll",[a])},onSourceFilter:function(){var a=this;a.fireEvent("refresh",a),a.fireEvent("datachanged",a)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},doDestroy:function(){var a=this;a.observers=null,a.setSource(null),a.getData().destroy(!0),a.data=null,Ext.data.AbstractStore.prototype.doDestroy.call(this)},privates:{isMoving:function(){var a=this.getSource();return!!a.isMoving&&a.isMoving.apply(a,arguments)},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},0,0,0,0,["store.chained"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"ChainedStore"],0),Ext.cmd.derive("Ext.app.ViewModel",Ext.Base,{isViewModel:!0,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(d,a,c,b){return this.mergeNew(d,a,c,b)}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(a){this.bindings={},this.initConfig(a)},destroy:function(){var j,h,e,g=this,d=g._scheduler,k=g.storeInfo,i=g.getParent(),c=g.collectTask,b=g.children,a=g.bindings;if(g.destroying=!0,c&&(c.cancel(),g.collectTask=null),b)for(j in b)b[j].destroy();if(k)for(j in k)h=k[j],e=h.autoDestroy,(e||!h.$wasInstance&&!1!==e)&&h.destroy(),Ext.destroy(h.$binding);i&&i.unregisterChild(g),g.getRoot().destroy();for(j in a)a[j].destroy();d&&d.$owner===g&&(d.$owner=null,d.destroy()),g.children=g.storeInfo=g._session=g._view=g._scheduler=g.bindings=g._root=g._parent=g.formulaFn=g.$formulaData=null,g.destroying=!1,g.callParent()},bind:function(e,h,c,b){var g,d=this,a=!0;return c=c||d,b||void 0===e.bindTo||Ext.isString(e)||(b=e,e=b.bindTo),Ext.isString(e)?d.expressionRe.test(e)?(e=e.substring(1,e.length-1),g=d.bindExpression(e,h,c,b),a=!1):g=new Ext.app.bind.TemplateBinding(e,d,h,c,b):g=new Ext.app.bind.Multi(e,d,h,c,b),a&&(d.bindings[g.id]=g),g},getSession:function(){var a,b=this,c=b._session;return!c&&(a=b.getParent())&&b.setSession(c=a.getSession()),c||null},getStore:function(b){var a,c=this.storeInfo;return c&&(a=c[b]),a||null},linkTo:function(j,d){var c,g,a,b,h,e,i=this;d.isModel&&(d={type:d.entityName,id:d.id}),b=d.type||d.reference,g=d.create,b?(a=d.id,g&&(a=void 0),e=i.getRecord(b,a),Ext.isObject(g)&&(e.set(g),e.commit(),e.phantom=!0),c=i.getRoot().createStubChild(j),c.set(e)):(c=i.getStub(j),c.isLinkStub||(h=new Ext.app.bind.LinkStub(i,c.name),c.graft(h),c=h),c.link(d))},notify:function(){var a=this.getScheduler();a.firing||a.notify()},get:function(a){return this.getStub(a).getValue()},set:function(e,b){var d,c,a=this;a.getData(),void 0===b&&e&&e.constructor===Object?(c=a.getRoot(),b=e):e&&e.indexOf(".")<0?(d={},d[e]=b,b=d,c=a.getRoot()):c=a.getStub(e),c.set(b)},privates:{registerChild:function(b){var a=this.children;a||(this.children=a={}),a[b.getId()]=b},unregisterChild:function(b){var a=this.children;!this.destroying&&a&&delete a[b.getId()]},getRecord:function(b,g){var a,d=this.getSession(),e=b,c=void 0!==g;return d?a=c?d.getRecord(b,g):d.createRecord(b):(e.$isClass||(e=this.getSchema().getEntity(e)),c?(a=e.createWithId(g),a.load()):a=new e),a},bindExpression:function(d,e,b,a){return this.getStub(d).bind(e,b,a)},applyScheduler:function(a){return a&&!a.isInstance&&(a=new Ext.util.Scheduler(a),a.$owner=this),a},getScheduler:function(){var b,c=this,a=c._scheduler;return a||((b=c.getParent())?a=b.getScheduler():(a=new Ext.util.Scheduler({preSort:"kind,-depth"}),a.$owner=c),c.setScheduler(a)),a},getStub:function(b){var a=this.getRoot();return b?a.getChild(b):a},collect:function(){var c=this,b=c.getParent(),a=c.collectTask;if(b)return void b.collect();a||(a=c.collectTask=new Ext.util.DelayedTask(c.doCollect,c)),0===c.collectTimeout?c.doCollect():a.delay(c.collectTimeout)},doCollect:function(){var a,b=this.children;if(b)for(a in b)b[a].doCollect();this.getRoot().collect()},onBindDestroy:function(d,a){var b,c=this;c.destroying||(a||delete c.bindings[d.id],b=c.getParent(),b?b.onBindDestroy(d,!0):c.collect())},applyData:function(c,e){var a,b,d=this;d.getSession(),e||(b=d.getParent(),d.linkData=a=b?Ext.Object.chain(b.getData()):{},d.data=d._data=Ext.Object.chain(a)),c&&c.constructor===Object&&d.getRoot().set(c)},applyParent:function(a){return a&&a.registerChild(this),a},applyStores:function(c){var d,a,i,h,e,g=this,b=g.getRoot();g.storeInfo={},g.listenerScopeFn=function(){return g.getView().getInheritedConfig("defaultListenerScope")};for(d in c)a=c[d],a.isStore?(a.$wasInstance=!0,g.setupStore(a,d)):(a=Ext.isString(a)?{source:a}:Ext.apply({},a),e=a.listeners,delete a.listeners,i=g.bind(a,g.onStoreBind,g,{trackStatics:!0}),i.isStatic()?(i.destroy(),g.createStore(d,a,e)):(i.$storeKey=d,i.$listeners=e,h=b.createStubChild(d),h.setStore(i)))},onStoreBind:function(a,c,h){var d,g=this.storeInfo,e=h.$storeKey,b=g[e];b?(a=Ext.merge({},h.pruneStaticKeys()),d=a.proxy,delete a.type,delete a.model,delete a.fields,delete a.proxy,delete a.listeners,d&&(delete d.reader,delete d.writer,b.getProxy().setConfig(d)),b.setConfig(a)):this.createStore(e,a,h.$listeners,h)},createStore:function(c,a,d,g){var b,e=this.getSession();a=Ext.apply({},a),a.session&&(a.session=e),a.source&&(a.type=a.type||"chained"),a.listeners=d,a.resolveListenerScope=this.listenerScopeFn,b=Ext.Factory.store(a),b.$binding=g,this.setupStore(b,c)},setupStore:function(a,b){a.resolveListenerScope=this.listenerScopeFn,this.storeInfo[b]=a,this.set(b,a)},applyFormulas:function(c){var b,e,d=this,a=d.getRoot();d.getData();for(b in c)a.createStubChild(b),e=d.getStub(b),e.setFormula(c[b]);return c},applyLinks:function(a){for(var b in a)this.linkTo(b,a[b])},applySchema:function(a){return Ext.data.schema.Schema.get(a)},applyRoot:function(){var a=new Ext.app.bind.RootStub(this),b=this.getParent();return b&&(a.depth=b.getRoot().depth-1e3),a},getFormulaFn:function(c){var b=this,a=b.formulaFn;return a||(a=b.formulaFn=function(d){return b.$formulaData[d]}),b.$formulaData=c,a}}},1,0,0,0,["viewmodel.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,"ViewModel"],0),Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:!0,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var a=this;a.callParent(),a.monitor(Ext.app.BaseController)},match:function(d,b){var a=!1,c=d.alias;return"*"===b?a=!0:"#"===b?a=!!d.isApplication:this.idMatchRe.test(b)?a=d.getId()===b.substring(1):c&&(a=Ext.Array.indexOf(c,this.prefix+b)>-1),a}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0),Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:!0,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){var a=this;a.mixins.observable.constructor.call(a),a.transactions=new Ext.util.MixedCollection,a.providers=new Ext.util.MixedCollection},addProvider:function(g){var c,a,d=this,b=arguments,e=d.relayers||(d.relayers={});if(!(b.length>1))return g.isProvider||(g=Ext.create("direct."+g.type+"provider",g)),d.providers.add(g),g.on("data",d.onProviderData,d),g.relayedEvents&&(e[g.id]=d.relayEvents(g,g.relayedEvents)),g.isConnected()||g.connect(),g;for(c=0,a=b.length;c<a;++c)d.addProvider(b[c])},loadProvider:function(b,l,m){var j,a,d,k,e,g,h=this,c=h.providerClasses;if(Ext.isArray(b))for(e=0,g=b.length;e<g;e++)h.loadProvider(b[e],l,m);else{if(j=b.type,a=b.url,c[j]&&c[j].checkConfig(b))return k=h.addProvider(b),h.fireEventArgs("providerload",[a,k]),void Ext.callback(l,m,[a,k]);d=b.varName||h.getVarName(),delete b.varName,delete b.url,Ext.Loader.loadScript({url:a,scope:h,onLoad:function(){this.onApiLoadSuccess({url:a,varName:d,config:b,callback:l,scope:m})},onError:function(){this.onApiLoadFailure({url:a,callback:l,scope:m})}})}},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(d){var e,b=this,a=b.providers,c=b.relayers;return d=d.isProvider?d:a.get(d),d?(d.un("data",b.onProviderData,b),e=d.id,c[e]&&(c[e].destroy(),delete c[e]),a.remove(d),d):null},addTransaction:function(a){return this.transactions.add(a),a},removeTransaction:function(b){var a=this;return b=a.getTransaction(b),a.transactions.remove(b),b},getTransaction:function(a){return"object"==typeof a?a:this.transactions.get(a)},onProviderData:function(e,d){var b,a,c=this;if(Ext.isArray(d))for(b=0,a=d.length;b<a;++b)c.onProviderData(e,d[b]);else d.name&&"event"!==d.name&&"exception"!==d.name?c.fireEvent(d.name,d):!1===d.status&&c.fireEvent("exception",d),c.fireEvent("event",d,e)},parseMethod:function(d){var b,e,a,g=Ext.global,c=0;if(Ext.isFunction(d))b=d;else if(Ext.isString(d)&&!(b=this.remotingMethods[d])){for(e=d.split("."),a=e.length;g&&c<a;)g=g[e[c]],++c;b=Ext.isFunction(g)?g:null}return b||null},resolveApi:function(c,a){var e,d,h,g,b;(e=c&&c.prefix)&&"."!==e.substr(e.length-1)&&(e+=".");for(d in c)h=c[d],"prefix"!==d&&"function"!=typeof h&&(g=(e||"")+h,"function"==typeof(b=this.parseMethod(g))&&(c[d]=b));return c},privates:{addProviderClass:function(b,a){this.providerClasses[b]=a},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName)),provider=me.addProvider(api)}catch(e){error=e+""}error?(me.fireEventArgs("providerloaderror",[url,error]),Ext.callback(options.callback,options.scope,[url,error])):(me.fireEventArgs("providerload",[url,provider]),Ext.callback(options.callback,options.scope,[url,provider]))},onApiLoadFailure:function(c){var a,b=c.url;a=Ext.String.format(this.apiNotFoundError,b),this.fireEventArgs("providerloaderror",[b,a]),Ext.callback(c.callback,c.scope,[b,a])},registerMethod:function(a,b){this.remotingMethods[a]=b},clearAllMethods:function(){this.remotingMethods={}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager}),Ext.cmd.derive("Ext.direct.Provider",Ext.Base,{isProvider:!0,$configPrefixed:!1,$configStrict:!1,config:{headers:void 0},subscribers:0,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.requests={},Ext.applyIf(b,{id:Ext.id(null,"provider-")})},destroy:function(){var a=this;a.disconnect(!0),a.callParent()},isConnected:function(){return this.subscribers>0},connect:function(){var a=this;0===a.subscribers&&(a.doConnect(),a.fireEventArgs("connect",[a])),a.subscribers++},doConnect:Ext.emptyFn,disconnect:function(b){var a=this;(a.subscribers>0||b)&&(b?a.subscribers=0:a.subscribers--,0===a.subscribers&&(a.doDisconnect(),a.fireEventArgs("disconnect",[a])))},doDisconnect:function(){var a,b,c=this.requests;for(b in c)a=c[b],a.abort();this.requests={}},sendAjaxRequest:function(b){var a=Ext.Ajax.request(b);return a&&a.id&&(this.requests[a.id]=a),a},onData:function(b,c,a){a&&a.request&&delete this.requests[a.request.id]},inheritableStatics:{checkConfig:Ext.returnFalse},onClassExtended:function(b,c,a){c.type&&Ext.direct.Manager.addProviderClass(c.type,b)}},1,0,0,0,["direct.provider"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,"Provider"],0),Ext.cmd.derive("Ext.app.domain.Direct",Ext.app.EventDomain,{singleton:!0,type:"direct",idProperty:"id",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.direct.Provider)}},1,0,0,0,0,0,[Ext.app.domain,"Direct"],0),Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(a){var b=this;b.pageMapGeneration=(b.pageMapGeneration||0)+1,b.indexMap={},Ext.util.LruCache.prototype.clear.call(this,a)},forEach:function(l,n){var c,b,m,g,e,h=this,d=Ext.Object.getKeys(h.map),a=d.length,k=h.getPageSize();for(c=0;c<a;c++)d[c]=+d[c];for(Ext.Array.sort(d,Ext.Array.numericSortFn),n=n||h,c=0;c<a;c++)for(m=d[c],g=h.getPage(m),e=g.length,b=0;b<e;b++)if(!1===l.call(n,g[b],(m-1)*k+b))return},findBy:function(c,b){var d=this,a=null;return b=b||d,d.forEach(function(g,e){if(c.call(b,g,e))return a=g,!1}),a},findIndexBy:function(c,b){var d=this,a=-1;return b=b||d,d.forEach(function(g,e){if(c.call(b,g))return a=e,!1}),a},find:function(h,g,i,d,c,b){if(Ext.isEmpty(g,!1))return null;var e=Ext.String.createRegex(g,d,c,b),a=this.getRootProperty();return this.findBy(function(j){return j&&e.test((a?j[a]:j)[h])},null,i)},findIndex:function(h,g,i,d,c,b){if(Ext.isEmpty(g,!1))return null;var e=Ext.String.createRegex(g,d,c,b),a=this.getRootProperty();return this.findIndexBy(function(j){return j&&e.test((a?j[a]:j)[h])},null,i)},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},addAll:function(a){this.addPage(1,a)},addPage:function(m,a){var e,b,d,h,k=this,l=k.getPageSize(),c=m+Math.floor((a.length-1)/l),j=(m-1)*l,g=k.indexMap;for(h=0;m<=c;m++,h+=l){for(e=Ext.Array.slice(a,h,h+l),b=0,d=e.length;b<d;b++)g[e[b].internalId]=j++;k.add(m,e),k.fireEvent("pageadd",k,m,e)}},getCount:function(){var a=Ext.util.LruCache.prototype.getCount.call(this);return a&&(a=(a-1)*this.getPageSize()+this.last.value.length),a},getByInternalId:function(a){var b=this.indexMap[a];if(null!=b)return this.getAt(b)},indexOf:function(b){var a=-1;return b&&null==(a=this.indexMap[b.internalId])&&(a=-1),a},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(g){var b,d,a,e=this,c=e.getPage(g);if(c&&!1!==e.fireEvent("beforepageremove",e,g,c)){for(b=c.length,d=0;d<b;d++)delete e.indexMap[c[d].internalId];a=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments),e.fireEvent("pageremove",e,g,c),c.length=0}return a},getPage:function(a){return this.get(a)},hasRange:function(e,b){for(var c=this,a=c.getPageFromRecordIndex(e),d=c.getPageFromRecordIndex(b);a<=d;a++)if(!c.hasPage(a))return!1;return(d-1)*c._pageSize+c.getPage(d).length>b},hasPage:function(a){return!!this.get(a)},peekPage:function(a){return this.map[a]},getAt:function(a){return this.getRange(a,a+1)[0]},getRange:function(a,b){b--,this.hasRange(a,b)||Ext.raise("PageMap asked for range which it does not have");for(var m,g,k,h=this,d=Ext.Array,i=h.getPageSize(),l=h.getPageFromRecordIndex(a),e=h.getPageFromRecordIndex(b),c=(l-1)*i,n=e*i-1,j=l,o=[];j<=e;j++)j===l?(m=a-c,k=m>0):(m=0,k=!1),j===e&&(g=i-(n-b),k=k||g<i),k?d.push(o,d.slice(h.getPage(j),m,g)):d.push(o,h.getPage(j));return o}},0,0,0,0,0,0,[Ext.data,"PageMap"],0),Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(b){return this.data||(this.data=this.createDataCollection())},applyProxy:function(a){return a=Ext.data.ProxyStore.prototype.applyProxy.call(this,a),a&&a.setEnablePaging&&a.setEnablePaging(!0),a},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateGroupField:function(a){this.group(a)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var b=this,a=new Ext.data.PageMap({store:b,rootProperty:"data",pageSize:b.getPageSize(),maxSize:b.getPurgePageCount(),listeners:{clear:b.onPageMapClear,scope:b}});return b.relayEvents(a,["beforepageremove","pageadd","pageremove"]),b.pageRequests={},a},removeAll:function(a){var b=this,c=b.getData();c&&(a&&b.suspendEvent("clear"),c.clear(),a&&b.resumeEvent("clear"))},flushLoad:function(){var b=this,a=b.pendingLoadOptions;if(b.clearLoadTask(),a)return b.getData().clear(),a.page=1,a.start=0,a.limit=b.getViewSize()||b.getDefaultViewSize(),a.loadCallback=a.callback,a.callback=null,b.loadToPrefetch(a)},reload:function(n){var j,b,g,m,d,a,l,c,h=this,e=h.getData(),k=Number.MAX_VALUE;if(n||(n={}),!h.loading&&!1!==h.fireEvent("beforeload",h,n))for(a=function(){var o=h.totalCount,i=b-j;b>=o&&(b=o-1,j=Math.max(b-i,0)),h.rangeCached(j,b,!1)&&(h.loadCount=(h.loadCount||0)+1,h.loading=!1,e.un("pageadd",a),c=e.getRange(j,b),h.fireEvent("load",h,c,!0),h.fireEvent("refresh",h))},l=Math.ceil((h.getLeadingBufferZone()+h.getTrailingBufferZone())/2),h.lastRequestStart&&h.preserveScrollOnReload?(j=h.lastRequestStart,b=h.lastRequestEnd,k=h.getTotalCount()):(j=n.start||0,b=j+(n.count||h.getPageSize())-1),e.clear(!0),delete h.totalCount,j=Math.max(j-l,0),b=Math.min(b+l,k),j=0===j?0:j-1,b=b===k?b:b+1,g=h.getPageFromRecordIndex(j),m=h.getPageFromRecordIndex(b),h.loading=!0,n.waitForReload=a,e.on("pageadd",a),d=g;d<=m;d++)h.prefetchPage(d,n)},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(b,a){},loadData:function(b,a){},loadPage:function(c,a){var b=this;return a=a||{},a.page=b.currentPage=c,a.start=(c-1)*b.getPageSize(),a.limit=b.getViewSize()||b.getDefaultViewSize(),a.loadCallback=a.callback,a.callback=null,b.loadToPrefetch(a)},clearData:function(c){var a=this,b=a.getData();b&&b.clear()},getCount:function(){return this.totalCount||0},getRange:function(d,h,m){var c,k,b,a,j,l=this,e=l.totalCount-1,g=l.lastRequestStart,n=[],i=l.getData();return m=Ext.apply({prefetchStart:d,prefetchEnd:h},m),h=h>=l.totalCount?e:h,!1!==m.forRender?(k=0===d?0:d-1,b=h===e?h:h+1):(k=d,b=h),l.lastRequestStart=d,l.lastRequestEnd=h,l.rangeCached(d,h,m.forRender)?(l.onRangeAvailable(m),n=i.getRange(d,h+1)):(l.fireEvent("cachemiss",l,d,h),a=l.getPageFromRecordIndex(k),j=l.getPageFromRecordIndex(b),c=function(o,q,p){q>=a&&q<=j&&l.rangeCached(d,h)&&(l.fireEvent("cachefilled",l,d,h),i.un("pageadd",c),l.onRangeAvailable(m))},i.on("pageadd",c),l.prefetchRange(d,h)),l.primeCache(d,h,d<g?-1:1),n},getById:function(b){return this.data.findBy(function(c){return c.getId()===b})},getAt:function(a){var b=this.getData();if(b.hasRange(a,a))return b.getAt(a)},getByInternalId:function(a){return this.data.getByInternalId(a)},contains:function(a){return this.indexOf(a)>-1},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},group:function(b,d){var a,c=this;b&&"string"==typeof b?(a=c.grouper,a&&void 0!==d?a.setDirection(d):c.grouper=new Ext.util.Grouper({property:b,direction:d||"ASC",root:"data"})):c.grouper=b?c.getSorters().decodeSorter(b,"Ext.util.Grouper"):null,c.getData().clear(),c.loadPage(1,{callback:function(){c.fireEvent("groupchange",c,c.getGrouper())}})},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},calculatePageCacheSize:function(a){var c=this,b=c.getPurgePageCount();return b?Math.max(c.getData().getMaxSize()||0,2*Math.ceil((a+c.getTrailingBufferZone()+c.getLeadingBufferZone())/c.getPageSize())+b):0},loadToPrefetch:function(s){var h,b,o,e,m=this,c=s,n=s.start,a=s.start+s.limit-1,r=m.getViewSize()||s.limit,j=Math.min(a,s.start+r-1),k=m.getPageFromRecordIndex(Math.max(n-m.getTrailingBufferZone(),0)),q=m.getPageFromRecordIndex(a+m.getLeadingBufferZone()),g=m.getData(),l=function(){b=b||[],s.loadCallback&&s.loadCallback.call(s.scope||m,b,e,!0),s.callback&&s.callback.call(s.scope||m,b,n||0,a||0,s)},p=function(){m.loadCount=(m.loadCount||0)+1,m.fireEvent("datachanged",m),m.fireEvent("refresh",m),m.fireEvent("load",m,b,!0)},d=function(){m.rangeCached(n,j)&&(m.loading=!1,b=g.getRange(n,j+1),g.un("pageadd",d),m.hasListeners.guaranteedrange&&m.guaranteeRange(n,j,s.callback,s.scope),l(),p())};g.setMaxSize(m.calculatePageCacheSize(r)),!1!==m.fireEvent("beforeload",m,s)&&(delete m.totalCount,m.loading=!0,s.callback&&(c=Ext.apply({},s),delete c.callback),m.on("prefetch",function(t,i,v,u){if(e=u,v)if(o=m.getTotalCount())for(g.on("pageadd",d),j=Math.min(j,o-1),q=m.getPageFromRecordIndex(Math.min(j+m.getLeadingBufferZone(),o-1)),h=k+1;h<=q;++h)m.prefetchPage(h,c);else l(),p();else m.loading=!1,l(),m.fireEvent("load",m,i,!1)},null,{single:!0}),m.prefetchPage(k,c))},prefetch:function(d){var c,a,e=this,b=e.getPageSize(),g=e.getData();return b?(e.lastPageSize&&b!=e.lastPageSize&&Ext.raise("pageSize cannot be dynamically altered"),g.getPageSize()||g.setPageSize(b)):e.pageSize=g.setPageSize(b=d.limit),e.lastPageSize=b,d.page||(d.page=e.getPageFromRecordIndex(d.start),d.start=(d.page-1)*b,d.limit=Math.ceil(d.limit/b)*b),a=e.pageRequests[d.page],a&&a.getOperation().pageMapGeneration===g.pageMapGeneration||(d=Ext.apply({action:"read",filters:e.getFilters().items,sorters:e.getSorters().items,grouper:e.getGrouper(),internalCallback:e.onProxyPrefetch,internalScope:e},d),c=e.createOperation("read",d),c.pageMapGeneration=g.pageMapGeneration,!1!==e.fireEvent("beforeprefetch",e,c)&&(e.pageRequests[d.page]=c.execute(),e.getProxy().isSynchronous&&delete e.pageRequests[d.page])),e},onPageMapClear:function(){var d,c=this,b=c.wasLoading,a=c.pageRequests,e=c.getData();e.clearListeners(),e.on("clear",c.onPageMapClear,c),c.relayEvents(e,["beforepageremove","pageadd","pageremove"]),c.loading=!0,c.totalCount=0;for(d in a)a.hasOwnProperty(d)&&a[d].getOperation().abort();c.fireEvent("clear",c),c.loading=b},prefetchPage:function(e,b){var d=this,a=d.getPageSize(),g=(e-1)*a,c=d.totalCount;void 0!==c&&d.data.getCount()===c||d.prefetch(Ext.applyIf({page:e,start:g,limit:a},b))},onProxyPrefetch:function(d){if(!this.destroying&&!this.destroyed){var k,e,i=this,j=d.getResultSet(),c=d.getRecords(),g=d.wasSuccessful(),h=d.getPage(),b=d.waitForReload,l=i.totalCount,a=i.pageRequests;if(d.pageMapGeneration===i.getData().pageMapGeneration){if(j&&(i.totalCount=j.getTotal(),i.totalCount!==l&&i.fireEvent("totalcountchange",i.totalCount)),void 0!==h&&delete i.pageRequests[h],i.loading=!1,i.fireEvent("prefetch",i,c,g,d),g)if(0===i.totalCount){if(b){for(k in a)e=a[k].getOperation(),e.waitForReload===b&&delete e.waitForReload;i.getData().un("pageadd",b),i.fireEvent("load",i,[],!0),i.fireEvent("refresh",i)}}else i.cachePage(c,d.getPage());Ext.callback(d.getCallback(),d.getScope()||i,[c,d,g])}}},cachePage:function(b,e){var c,d=this,a=b.length;for(Ext.isDefined(d.totalCount)||(d.totalCount=b.length,d.fireEvent("totalcountchange",d.totalCount)),c=0;c<a;c++)b[c].join(d);d.getData().addPage(e,b)},rangeCached:function(e,a,d){var c=e,b=a;return!1!==d&&(c=0===e?0:e-1,b=a===this.totalCount-1?a:a+1),this.getData().hasRange(c,b)},pageCached:function(a){return this.getData().hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(b,a){return this.rangeCached(b,a)},onRangeAvailable:function(d){var c,e=this,b=e.getTotalCount(),g=d.prefetchStart,a=d.prefetchEnd>b-1?b-1:d.prefetchEnd;a=Math.max(0,a),c=e.getData().getRange(g,a+1),!1!==d.fireEvent&&e.fireEvent("guaranteedrange",c,g,a,d),d.callback&&d.callback.call(d.scope||e,c,g,a,d)},guaranteeRange:function(e,a,d,c,b){b=Ext.apply({callback:d,scope:c},b),this.getRange(e,a+1,b)},prefetchRange:function(h,b){var c,a,g,d=this,e=d.getData();if(!d.rangeCached(h,b))for(c=d.getPageFromRecordIndex(h),a=d.getPageFromRecordIndex(b),e.setMaxSize(d.calculatePageCacheSize(b-h+1)),g=c;g<=a;g++)d.pageCached(g)||d.prefetchPage(g)},primeCache:function(i,c,h){var g=this,e=g.getLeadingBufferZone(),d=g.getTrailingBufferZone(),b=g.getPageSize(),a=g.totalCount;-1===h?(i=Math.max(i-e,0),c=Math.min(c+d,a-1)):1===h?(i=Math.max(Math.min(i-d,a-b),0),c=Math.min(c+e,a-1)):(i=Math.min(Math.max(Math.floor(i-(e+d)/2),0),a-g.pageSize),c=Math.min(Math.max(Math.ceil(c+(e+d)/2),0),a-1)),g.prefetchRange(i,c)},sort:function(b,a,c){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(b,a,c)},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();b.length?(a.fireEvent("beforesort",a,b),a.clearAndLoad({callback:function(){a.fireEvent("sort",a,b)}})):a.fireEvent("sort",a,b)},clearAndLoad:function(a){var b=this;b.clearing=!0,b.getData().clear(),b.clearing=!1,b.loadPage(1,a)},privates:{isLast:function(a){return this.indexOf(a)===this.getTotalCount()-1},isMoving:function(){return!1}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0),Ext.cmd.derive("Ext.data.proxy.Direct",Ext.data.proxy.Server,{alternateClassName:"Ext.data.DirectProxy",config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:void 0,metadata:void 0},paramOrderRe:/[\s,|]/,constructor:function(a){Ext.data.proxy.Server.prototype.constructor.call(this,a),this.canceledOperations={}},applyParamOrder:function(a){return Ext.isString(a)&&(a=a.split(this.paramOrderRe)),a},updateApi:function(){this.methodsResolved=!1},updateDirectFn:function(){this.methodsResolved=!1},resolveMethods:function(){var d,c=this,b=c.getDirectFn(),a=c.getApi();b&&(c.setDirectFn(d=Ext.direct.Manager.parseMethod(b)),Ext.isFunction(d)||Ext.raise("Cannot resolve directFn "+b)),a&&(a=Ext.direct.Manager.resolveApi(a,c),c.setApi(a)),c.methodsResolved=!0},doRequest:function(d){var a,e,c,b,h,g,j,i=this;return i.methodsResolved||i.resolveMethods(),e=i.buildRequest(d),c=e.getAction(),g=i.getApi(),g&&(j=g[c]),j=j||i.getDirectFn(),a=i.getWriter(),a&&d.allowWrite()&&(e=a.write(e)),b="read"===c?e.getParams():e.getJsonData(),h=j.directCfg.method.getArgs({params:b,allowSingle:a.getAllowSingle(),paramOrder:i.getParamOrder(),paramsAsHash:i.getParamsAsHash(),paramsAsArray:!0,metadata:i.getMetadata(),callback:i.createRequestCallback(e,d),scope:i}),e.setConfig({args:h,directFn:j}),j.apply(window,h),e},abort:function(a){var b;a&&a.isDataRequest&&(a=a.getOperation()),a&&a.isOperation&&(b=a.id),null!=b&&(this.canceledOperations[b]=!0)},applyEncoding:Ext.identityFn,createRequestCallback:function(c,a){var b=this;return function(e,d){b.canceledOperations[a.id]||b.processResponse(d.status,a,c,d),delete b.canceledOperations[a.id]}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(b,a){b.setException(a.message)},buildUrl:function(){return""}},1,0,0,0,["proxy.direct"],0,[Ext.data.proxy,"Direct",Ext.data,"DirectProxy"],0),Ext.cmd.derive("Ext.data.DirectStore",Ext.data.Store,{constructor:function(a){if(a=Ext.apply({},a),!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams"),Ext.copyTo(b.reader,a,"totalProperty,root,rootProperty,idProperty"),a.proxy=b}Ext.data.Store.prototype.constructor.call(this,a)}
},1,0,0,0,["store.direct"],0,[Ext.data,"DirectStore"],0),Ext.cmd.derive("Ext.data.JsonP",Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(n){n=Ext.apply({},n);var g,k,j=this,d=Ext.isDefined(n.disableCaching)?n.disableCaching:j.disableCaching,h=n.disableCachingParam||j.disableCachingParam,c=++j.requestCount,l=n.callbackName||"callback"+c,i=n.callbackKey||j.callbackKey,m=Ext.isDefined(n.timeout)?n.timeout:j.timeout,e=Ext.apply({},n.params),b=n.url,a=Ext.name;return d&&!e[h]&&(e[h]=Ext.Date.now()),n.params=e,e[i]=a+".data.JsonP."+l,k=j.createScript(b,e,n),j.requests[c]=g={url:b,params:e,script:k,id:c,scope:n.scope,success:n.success,failure:n.failure,callback:n.callback,callbackKey:i,callbackName:l},m>0&&(g.timeout=Ext.defer(j.handleTimeout,m,j,[g])),j.setupErrorHandling(g),j[l]=Ext.bind(j.handleResponse,j,[g],!0),j.loadScript(g),g},abort:function(c){var a,b=this,d=b.requests;if(c)c.id||(c=d[c]),b.handleAbort(c);else for(a in d)d.hasOwnProperty(a)&&b.abort(d[a])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort",this.handleResponse(null,a)},handleError:function(a){a.errorType="error",this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout",this.handleResponse(null,a)},handleResponse:function(b,c){var d=!0,a=Ext.GlobalEvents;c.timeout&&clearTimeout(c.timeout),delete this[c.callbackName],delete this.requests[c.id],this.cleanupErrorHandling(c),Ext.fly(c.script).destroy(),c.errorType?(d=!1,Ext.callback(c.failure,c.scope,[c.errorType])):Ext.callback(c.success,c.scope,[b]),Ext.callback(c.callback,c.scope,[d,b,c.errorType]),a.hasListeners.idle&&a.fireEvent("idle")},createScript:function(c,d,b){var a=document.createElement("script");return a.setAttribute("src",Ext.urlAppend(c,Ext.Object.toQueryString(d))),a.setAttribute("async",!0),a.setAttribute("type","text/javascript"),a},loadScript:function(a){Ext.getHead().appendChild(a.script)}},0,0,0,0,0,0,[Ext.data,"JsonP"],0),Ext.cmd.derive("Ext.data.proxy.JsonP",Ext.data.proxy.Server,{alternateClassName:"Ext.data.ScriptTagProxy",config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(a){var c=this,b=c.buildRequest(a),d=b.getParams();return b.setConfig({callbackKey:c.callbackKey,timeout:c.timeout,scope:c,disableCaching:!1,callback:c.createRequestCallback(b,a)}),c.getAutoAppendParams()&&b.setParams({}),b.setRawRequest(Ext.data.JsonP.request(b.getCurrentConfig())),b.setParams(d),c.lastRequest=b,b},createRequestCallback:function(c,a){var b=this;return function(g,d,e){c===b.lastRequest&&(b.lastRequest=null),b.processResponse(g,a,c,d)}},setException:function(b,a){b.setException(b.getRequest().getRawRequest().errorType)},buildUrl:function(h){var g,c,b,j,l,k=this,a=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),d=h.getRecords(),e=k.getWriter();if(e&&h.getOperation().allowWrite()&&(h=e.write(h)),g=h.getParams(),c=g.filters,delete g.filters,c&&c.length)for(j=0;j<c.length;j++)b=c[j],(l=b.getValue())&&(g[b.getProperty()]=l);return!(Ext.isArray(d)&&d.length>0)||e&&e.getEncode()||(g[k.getRecordParam()]=k.encodeRecords(d)),k.getAutoAppendParams()&&(a=Ext.urlAppend(a,Ext.Object.toQueryString(g))),a},abort:function(a){(a=a||this.lastRequest)&&Ext.data.JsonP.abort(a.getRawRequest())},encodeRecords:function(b){for(var d=[],c=0,a=b.length;c<a;c++)d.push(Ext.encode(b[c].getData()));return d}},0,0,0,0,["proxy.jsonp","proxy.scripttag"],0,[Ext.data.proxy,"JsonP",Ext.data,"ScriptTagProxy"],0),Ext.cmd.derive("Ext.data.JsonPStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a),Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,["store.jsonp"],0,[Ext.data,"JsonPStore"],0),Ext.cmd.derive("Ext.data.JsonStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a),Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,["store.json"],0,[Ext.data,"JsonStore"],0),Ext.cmd.derive("Ext.data.ModelManager",Ext.Base,{alternateClassName:"Ext.ModelMgr",singleton:!0,deprecated:{5:{methods:{clear:null,create:function(c,b,d){var a=b;return a.isEntity||(a=this.getModel(b||c.name)),a.createWithId(d,c)},each:function(b,a){Ext.data.Model.schema.eachEntity(b,a)},get:function(a){return this.getModel(a)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},isRegistered:function(a){return!!this.getModel(a)}}}}},0,0,0,0,0,0,[Ext.data,"ModelManager",Ext,"ModelMgr"],0),Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(b){var a,c,e,d=Ext.data.schema.Schema.lookupEntity(b),g=d.prototype;d.prototype.isObservable||d.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable),g.isNode||(a=g.idProperty,c=d.getField(a),e=c.type,d.override(this.getPrototypeBody()),d.addFields([{name:"parentId",type:e,defaultValue:null,allowNull:c.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},b={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var c=this;return c.mixins.observable.constructor.call(c),c.callParent(arguments),c.childNodes=[],c},createNode:function(c){var m,k,e,l,i,g,j=this,h=j.childType,d=j.self;return c.isModel||(h?d=j.schema.getEntity(h):(m=j.getTreeStore(),k=m&&m.getProxy().getReader(),e=j.getProxy(),l=e?e.getReader():null,(i=!k||l&&l.initialConfig.typeProperty?l:k)&&(g=i.getTypeProperty())&&(d=i.getChildType(j.schema,c,g))),c=new d(c)),c.childNodes||(c.firstChild=c.lastChild=c.parentNode=c.previousSibling=c.nextSibling=null,c.childNodes=[]),c},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(c){this.firstChild=c},setLastChild:function(c){this.lastChild=c},updateInfo:function(j,d){var m,k=this,e=k.phantom;if(j={silent:!0,commit:j},d.depth!==k.data.depth){var h,l={depth:k.data.depth+1},c=k.childNodes,g=c.length;for(h=0;h<g;h++)c[h].set(l)}return m=k.set(d,j),k.phantom=e,m},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var c=this;return!!c.get("expandable")&&!(c.isLeaf()||c.isLoaded()&&!c.phantom&&!c.hasChildNodes())},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(h,s,k){var l,o,n,r,c,t,q,p=this,u={isLast:!0,parentId:p.getId(),depth:(p.data.depth||0)+1},g=p.getTreeStore(),d=(!g||g.triStateCheckbox,g&&g.bulkUpdate);if(Ext.suspendLayouts(),Ext.isArray(h)){for(o=h.length,t=new Array(o),p.callTreeStore("beginFill"),l=0;l<o;l++)t[l]=p.appendChild(h[l],s,k);p.callTreeStore("endFill",[t])}else{if(h=p.createNode(h),!0!==s&&!1===p.fireBubbledEvent("beforeappend",[p,h]))return Ext.resumeLayouts(!0),!1;if(n=p.childNodes.length,r=h.parentNode){if(!0!==s&&!1===h.fireBubbledEvent("beforemove",[h,r,p,n]))return Ext.resumeLayouts(!0),!1;if(!1===r.removeChild(h,!1,s,r.getTreeStore()===g))return Ext.resumeLayouts(!0),!1}g&&g.beginUpdate(),n=p.childNodes.length,0===n&&p.setFirstChild(h),p.childNodes[n]=h,h.parentNode=p,h.nextSibling=null,p.setLastChild(h),c=p.childNodes[n-1],c?(h.previousSibling=c,c.nextSibling=h,c.updateInfo(k,{isLast:!1}),d||c.triggerUIUpdate()):h.previousSibling=null,u.isFirst=0===n,u.index=n,q=h.updateInfo(k,u),p.isLeaf()&&p.set("leaf",!1),p.isLoaded()?1!==p.childNodes.length||d||p.triggerUIUpdate():d?p.data.loaded=!0:p.set("loaded",!0),n&&p.childNodes[n-1].isExpanded()&&!d&&p.childNodes[n-1].cascade(p.triggerUIUpdate),g&&(g.registerNode(p,!d),d&&g.registerNode(h)),!0!==s&&(p.fireBubbledEvent("append",[p,h,n]),r&&h.fireBubbledEvent("move",[h,r,p,n])),p.callTreeStore("onNodeAppend",[h,n]),q&&h.callJoined("afterEdit",[q]),t=h,g&&g.endUpdate()}return Ext.resumeLayouts(!0),t},getOwnerTree:function(){var c=this.getTreeStore();if(c)return c.ownerTree},getTreeStore:function(){for(var c=this;c&&!c.treeStore;)c=c.parentNode;return c&&c.treeStore},removeChild:function(j,g,q,p){var l,k,d,m,o=this,n=o.indexOf(j),h=o.getTreeStore(),e=h&&h.bulkUpdate,c=[];if(-1===n||!0!==q&&!1===o.fireBubbledEvent("beforeremove",[o,j,!!p]))return!1;if(Ext.suspendLayouts(),h&&h.beginUpdate(),Ext.Array.erase(o.childNodes,n,1),o.firstChild===j&&o.setFirstChild(j.nextSibling),o.lastChild===j&&o.setLastChild(j.previousSibling),d=j.previousSibling,d&&(j.previousSibling.nextSibling=j.nextSibling),j.nextSibling)for(j.nextSibling.previousSibling=j.previousSibling,0===n&&j.nextSibling.updateInfo(!1,{isFirst:!0}),l=n,k=o.childNodes.length;l<k;l++)o.childNodes[l].updateInfo(!1,{index:l});else d&&(d.updateInfo(!1,{isLast:!0}),e||(d.isExpanded()?d.cascade(o.triggerUIUpdate):d.triggerUIUpdate()));return o.childNodes.length||e||o.triggerUIUpdate(),Ext.resumeLayouts(!0),!0!==q&&(m={parentNode:j.parentNode,previousSibling:j.previousSibling,nextSibling:j.nextSibling},o.callTreeStore("beforeNodeRemove",[[j],!!p,c]),j.previousSibling=j.nextSibling=j.parentNode=null,o.fireBubbledEvent("remove",[o,j,!!p,m]),o.callTreeStore("onNodeRemove",[[j],!!p,c])),g?j.erase(!0):j.clear(),p||j.set({parentId:null,lastParentId:o.getId()},b),h&&h.endUpdate(),j},copy:function(h,l,e){var d,j,k=this,g=[h],c=k.childNodes?k.childNodes.length:0;if(l&&l.isSession?g.push(l):arguments.length<3&&(e=l),d=k.callParent(g),e)for(j=0;j<c;j++)d.appendChild(k.childNodes[j].copy(void 0,!0));return d},clear:function(d,c){var e=this;e.parentNode=e.previousSibling=e.nextSibling=null,d&&(e.firstChild=e.lastChild=e.childNodes=null),c&&(e.firstChild=e.lastChild=null,e.childNodes.length=0,e.data&&(e.data.children=null))},drop:function(){var c,e,g,h=this,k=h.childNodes,d=h.parentNode,j=h.getTreeStore();for(h.callParent(),d?d.removeChild(h):h.get("root")&&j.setRoot(null),j&&j.beginUpdate(),e=0,c=k?k.length:0;e<c;e++)g=k[e],g.clear(),g.drop();j&&j.endUpdate()},erase:function(d){var e,g,h=this,j=h.childNodes,c=j&&j.length;for(h.remove(),h.clear(!0),h.callParent([d]),e=0;e<c;e++)g=j[e],g.parentNode=null,g.erase(d)},insertBefore:function(h,m,s){var j,c,k,o,q,e,n=this,l=n.indexOf(m),p=h.parentNode,r=l,g=n.getTreeStore(),d=g&&g.bulkUpdate;if(!m)return n.appendChild(h);if(h===m)return!1;if(h=n.createNode(h),!0!==s&&!1===n.fireBubbledEvent("beforeinsert",[n,h,m]))return!1;if(p===n&&n.indexOf(h)<l&&r--,p){if(!0!==s&&!1===h.fireBubbledEvent("beforemove",[h,p,n,l,m]))return!1;if(!1===p.removeChild(h,!1,s,p.getTreeStore()===g))return!1}for(g&&g.beginUpdate(),0===r&&n.setFirstChild(h),Ext.Array.splice(n.childNodes,r,0,h),h.parentNode=n,h.nextSibling=m,m.previousSibling=h,c=n.childNodes[r-1],c?(h.previousSibling=c,c.nextSibling=h):h.previousSibling=null,o=h.updateInfo(!1,{parentId:n.getId(),index:r,isFirst:0===r,isLast:!1,depth:(n.data.depth||0)+1}),k=r+1,j=n.childNodes.length;k<j;k++)q=n.childNodes[k],(e=q.updateInfo(!1,{index:k}))&&q.callJoined("afterEdit",[e]);return n.isLoaded()?1!==n.childNodes.length||d||n.triggerUIUpdate():d?n.data.loaded=!0:n.set("loaded",!0),g&&g.registerNode(n,!d),!0!==s&&(n.fireBubbledEvent("insert",[n,h,m]),p&&h.fireBubbledEvent("move",[h,p,n,r,m])),n.callTreeStore("onNodeInsert",[h,r]),o&&h.callJoined("afterEdit",[o]),g&&g.endUpdate(),h},insertChild:function(c,e){var d=this.childNodes[c];return d?this.insertBefore(e,d):this.appendChild(e)},isLastVisible:function(){var e=this,c=e.data.isLast,d=e.nextSibling;if(!c&&e.getTreeStore().isFiltered()){for(;d;){if(d.data.visible)return!1;d=d.nextSibling}return!0}return c},remove:function(d,e){var g=this,c=g.parentNode;return c?c.removeChild(g,d,e):d&&g.erase(!0),g},removeAll:function(d,n,h){var g,e,j,l=this,m=l.childNodes,k=m.length,c=[];if(k){for(h||(e=l.getTreeStore())&&(e.beginUpdate(),e.suspendEvent("remove"),l.callTreeStore("beforeNodeRemove",[m,!1,c])),j=0;j<k;++j)g=m[j],g.previousSibling=g.nextSibling=g.parentNode=null,l.fireBubbledEvent("remove",[l,g,!1]),d?g.erase(!0):g.removeAll(!1,n,!0);return!h&&e&&(e.resumeEvent("remove"),l.callTreeStore("onNodeRemove",[m,!1,c]),e.endUpdate()),l.firstChild=l.lastChild=null,m.length=0,h||l.triggerUIUpdate(),l}},getChildAt:function(c){return this.childNodes[c]},replaceChild:function(c,g,e){var d=g?g.nextSibling:null;return this.removeChild(g,!1,e),this.insertBefore(c,d,e),g},indexOf:function(c){return Ext.Array.indexOf(this.childNodes,c)},indexOfId:function(g){for(var e=this.childNodes,c=e.length,d=0;d<c;++d)if(e[d].getId()===g)return d;return-1},getPath:function(g,e){g=g||this.idProperty,e=e||"/";for(var d=[this.get(g)],c=this.parentNode;c;)d.unshift(c.get(g)),c=c.parentNode;return e+d.join(e)},getDepth:function(){return this.get("depth")},bubble:function(e,d,c){for(var g=this;g&&!1!==e.apply(d||g,c||[g]);)g=g.parentNode},cascade:function(j,e,c,l){var h=this;if(1!==arguments.length||Ext.isFunction(j)||(l=j.after,e=j.scope,c=j.args,j=j.before),!j||!1!==j.apply(e||h,c||[h])){var d,k=h.childNodes,g=k.length;for(d=0;d<g;d++)k[d].cascade.call(k[d],j,e,c,l);l&&l.apply(e||h,c||[h])}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(g,e,c){var d,j=this.childNodes,h=j.length;for(d=0;d<h&&!1!==g.apply(e||this,c||[j[d]]);d++);},findChild:function(d,e,c){return this.findChildBy(function(){return this.get(d)==e},null,c)},findChildBy:function(k,j,d){for(var l,e,h=this.childNodes,c=h.length,g=0;g<c;g++){if(l=h[g],!0===k.call(j||l,l))return l;if(d&&null!==(e=l.findChildBy(k,j,d)))return e}return null},contains:function(c){return c.isAncestor(this)},isAncestor:function(c){for(var d=this.parentNode;d;){if(d===c)return!0;d=d.parentNode}return!1},sort:function(m,e,l){var g,d,j=this,k=j.childNodes,h=k.length,c={isFirst:!0};if(h>0){for(m||(m=j.getTreeStore().getSortFn()),Ext.Array.sort(k,m),j.setFirstChild(k[0]),j.setLastChild(k[h-1]),g=0;g<h;g++)d=k[g],d.previousSibling=k[g-1],d.nextSibling=k[g+1],c.isLast=g===h-1,c.index=g,d.updateInfo(!1,c),c.isFirst=!1,e&&!d.isLeaf()&&d.sort(m,!0,!0);!0!==l&&(j.fireBubbledEvent("sort",[j,k]),j.callTreeStore("onNodeSort",[k]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var c=!this.isLeaf()&&this.isLoaded();return c&&this.cascade(function(d){return d.isLeaf()||(c=c||d.isBranchLoaded()),c}),c},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var c=this.parentNode;c;){if(!c.isExpanded())return!1;c=c.parentNode}return!0},expand:function(c,i,d){var g,h,e=this;e.isLeaf()?Ext.callback(i,d||e):e.isLoading()?e.on("expand",function(){e.expand(c,i,d)},e,{single:!0}):e.isExpanded()?c?e.expandChildren(!0,i,d):Ext.callback(i,d||e,[e.childNodes]):!1!==e.fireBubbledEvent("beforeexpand",[e])&&(c&&(e.parentNode&&e.parentNode.isSynchronousRecursiveExpand?e.isSynchronousRecursiveExpand=!0:(g=e.getTreeStore(),(g.getProxy().isSynchronous||e.isBranchLoaded())&&(e.isSynchronousRecursiveExpand=!0,g.suspendEvent("add","datachanged"),h=!0))),e.callTreeStore("onBeforeNodeExpand",[e.onChildNodesAvailable,e,[c,i,d]]),h&&(g.resumeEvent("add","datachanged"),g.fireEvent("datachanged",g),g.fireEvent("refresh",g)),e.isSynchronousRecursiveExpand=!1)},onChildNodesAvailable:function(g,e,m,n){var j,h,l,k=this,d=k.getTreeStore(),c=d&&d.bulkUpdate;for(Ext.suspendLayouts(),j=k.parentNode;j;j=j.parentNode)j.isExpanded()||(l||(l=[])).unshift(j);if(c||!d.isVisible(k)?k.data.expanded=!0:k.set("expanded",!0),l){for(h=1;h<l.length;h++)j=l[h],c||!d.isVisible(j)?j.data.expanded=!0:j.set("expanded",!0);for(l[0].expand(),h=1;h<l.length;h++)j=l[h],j.fireBubbledEvent("expand",[j,j.childNodes])}else k.callTreeStore("onNodeExpand",[g,!1]);k.fireBubbledEvent("expand",[k,g]),e?k.expandChildren(!0,m,n):Ext.callback(m,n||k,[k.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(h,o,p,j){var n,k,d,c,l,g,e,m=this;for(Ext.isBoolean(o)&&(n=o,o=p,p=j,j=n),void 0===j&&(e=m.getTreeStore(),j=e&&e.singleExpand),d=m.childNodes,c=[],l=j?Math.min(d.length,1):d.length,k=0;k<l;++k)g=d[k],g.isLeaf()||(c[c.length]=g);for(l=c.length,k=0;k<l;++k)c[k].expand(h);o&&Ext.callback(o,p||m,[m.childNodes])},collapse:function(e,m,n){var g,h,l=this,j=l.isExpanded(),d=l.getTreeStore(),c=d&&d.bulkUpdate,k=l.childNodes.length;if(!l.isLeaf()&&(!j&&e||!1!==l.fireBubbledEvent("beforecollapse",[l]))){if(Ext.suspendLayouts(),l.isExpanded())e?(h=function(){for(g=0;g<k;g++)l.childNodes[g].setCollapsed(!0)},m=m?Ext.Function.createSequence(h,Ext.Function.bind(m,n,[l.childNodes])):h):m&&(m=Ext.Function.bind(m,n,[l.childNodes])),c||!d.contains(l)?l.data.expanded=!1:l.set("expanded",!1),l.callTreeStore("onNodeCollapse",[l.childNodes,m,n]),l.fireBubbledEvent("collapse",[l,l.childNodes]),m=null;else if(e)for(g=0;g<k;g++)l.childNodes[g].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(m,n||l,[l.childNodes])},setCollapsed:function(d){var e,g=this,c=g.childNodes.length;if(!g.isLeaf()&&!1!==g.fireBubbledEvent("beforecollapse",[g])&&(g.data.expanded=!1,g.fireBubbledEvent("collapse",[g,g.childNodes]),d))for(e=0;e<c;e++)g.childNodes[e].setCollapsed(!0)},collapseChildren:function(e,l,m){var h,d,k=this,c=k.childNodes,j=c.length,g=[];for(h=0;h<j;++h)d=c[h],!d.isLeaf()&&d.isLoaded()&&d.isExpanded()&&g.push(d);if(j=g.length)for(h=0;h<j;++h)d=g[h],h===j-1?d.collapse(e,l,m):d.collapse(e);else Ext.callback(l,m)},fireEvent:function(c){return this.fireBubbledEvent(c,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(d,g){var c,h,e;if(a[d]){for(h=this;!1!==c&&h;h=(e=h).parentNode)c=h.fireEventArgs.call(h,d,g);return!1!==c&&(h=e.getTreeStore())&&h.hasListeners&&h.hasListeners[d="node"+d]&&(c=h.fireEventArgs(d,g)),c}return this.fireEventArgs.apply(this,arguments)},serialize:function(e){var h,g,j=e||new Ext.data.writer.Json({writeAllFields:!0}),d=j.getRecordData(this),k=this.childNodes,c=k.length;if(c>0)for(d.children=h=[],g=0;g<c;g++)h.push(k[g].serialize(j));return d},callTreeStore:function(h,c){var e=this,g=e.getTreeStore(),d=g&&g[h];g&&d&&(c=c||[],c[0]!==e&&c.unshift(e),d.apply(g,c))},addCls:function(c){this.replaceCls(null,c)},removeCls:function(c){this.replaceCls(c)},replaceCls:function(c,e){var d=this._parseCls(this.data.cls),g=this._parseCls(c);g.length&&(d=Ext.Array.difference(d,g)),g=this._parseCls(e),g.length&&(d=Ext.Array.unique(d.concat(g))),this.set("cls",d.join(" "))},toggleCls:function(d,h){if(void 0===h){var e,j,g=this._parseCls(this.data.cls),k=this._parseCls(d),c=k.length;for(e=0;e<c;++e)j=k[e],Ext.Array.contains(g,j)?Ext.Array.remove(g,j):g.push(j);this.set("cls",g.join(" "))}else h?this.addCls(d):this.removeCls(d)},privates:{_noCls:[],spacesRe:/\s+/,join:function(c){c.isTreeStore?this.isRoot()&&(this.treeStore=this.store=c):this.callParent([c])},callJoined:function(d,c){this.callParent([d,c]),this.callTreeStore(d,c)},_parseCls:function(c){return c?"string"==typeof c?c.split(this.spacesRe):c:this._noCls}}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0),Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:!0,query:function(a){return a=a||"*",Ext.ComponentQuery.query(a,this.getQueryRoot())},queryBy:function(g,e){for(var h,c=[],b=this.getQueryRoot().getRefItems(!0),d=0,a=b.length;d<a;++d)h=b[d],!1!==g.call(e||h,h)&&c.push(h);return c},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(a){var b=this.getQueryRoot().getRefItems();return a&&a.isComponent?this.matchById(b,a.getItemId()):(a&&(b=Ext.ComponentQuery.query(a,b)),b.length?b[0]:null)},down:function(a){return a&&a.isComponent?this.matchById(this.getRefItems(!0),a.getItemId()):(a=a||"",this.query(a)[0]||null)},visitPreOrder:function(a,d,c,b){Ext.ComponentQuery._visit(!0,a,this.getQueryRoot(),d,c,b)},visitPostOrder:function(a,d,c,b){Ext.ComponentQuery._visit(!1,a,this.getQueryRoot(),d,c,b)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(b,e){var c,d,a=b.length;for(c=0;c<a;++c)if(d=b[c],d.getItemId()===e)return d;return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0),Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)}),Ext.cmd.derive("Ext.data.NodeStore",Ext.data.Store,{isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},implicitModel:"Ext.data.TreeModel",getTotalCount:function(){return this.getCount()},updateFolderSort:function(b){var a=this.getData();a.setTrackGroups(!1),b?a.setGrouper({groupFn:this.folderSortFn}):a.setGrouper(null)},folderSortFn:function(a){return a.data.leaf?1:0},afterReject:function(a){var b=this;b.contains(a)&&(b.onUpdate(a,Ext.data.Model.REJECT,null),b.fireEvent("update",b,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,c){var b=this;c||(c=null),b.contains(a)&&(b.onUpdate(a,Ext.data.Model.COMMIT,c),b.fireEvent("update",b,a,Ext.data.Model.COMMIT,c))},onNodeAppend:function(a,b){a===this.getNode()&&this.add([b].concat(this.retrieveChildNodes(b)))},onNodeInsert:function(c,e,b){var d=this;c===d.getNode()&&(d.indexOf(b),d.insert(0,[e].concat(d.retrieveChildNodes(e))))},onNodeRemove:function(a,b){a===this.getNode()&&this.remove([b].concat(this.retrieveChildNodes(b)))},onNodeExpand:function(b,a){b===this.getNode()&&this.loadRecords(a)},applyNode:function(a){return a&&(a.isModel||(a=new(this.getModel())(a)),a.isNode||Ext.data.NodeInterface.decorate(a)),a},updateNode:function(b,d){var c,a=this;d&&!d.destroyed&&(d.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",scope:a}),d.unjoin(a)),b&&(b.on({scope:a,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove"}),b.join(a),c=[],b.childNodes.length&&(c=c.concat(a.retrieveChildNodes(b))),a.getRootVisible()?c.push(b):(b.isLoaded()||b.isLoading())&&b.set("expanded",!0),a.getData().clear(),a.fireEvent("clear",a),a.suspendEvents(),a.isInitializing?a.inlineData=c:a.add(c),a.resumeEvents(),0===c.length&&(a.loaded=b.loaded=!0),a.fireEvent("refresh",a,a.data))},isVisible:function(b){var a=b.parentNode;if(!this.getRecursive()&&a!==this.getNode())return!1;for(;a;){if(!a.isExpanded())return!1;if(a===this.getNode())break;a=a.parentNode}return!0},privates:{retrieveChildNodes:function(a){var d=this.getNode(),b=this.getRecursive(),c=[],e=a;if(!a.childNodes.length||!b&&a!==d)return c;if(!b)return a.childNodes;for(;e;)if(e._added){if(delete e._added,e===a)break;e=e.nextSibling||e.parentNode}else e!==a&&c.push(e),e.firstChild?(e._added=!0,e=e.firstChild):e=e.nextSibling||e.parentNode;return c}}},0,0,0,0,["store.node"],0,[Ext.data,"NodeStore"],0),Ext.cmd.derive("Ext.data.Request",Ext.Base,{isDataRequest:!0,config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(a){this.initConfig(a)},getParam:function(a){var c=this.getParams();if(c)return c[a]},setParam:function(a,b){var c=this.getParams()||{};c[a]=b,this.setParams(c)}},1,0,0,0,0,0,[Ext.data,"Request"],0),Ext.cmd.derive("Ext.data.TreeStore",Ext.data.Store,{isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1,pageSize:null},filterer:"topdown",lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:"Ext.data.TreeModel",constructor:function(a){this.byIdMap={},Ext.data.Store.prototype.constructor.call(this,a)},applyFields:function(a,c){var b=this;a&&b.defaultRootProperty!==b.self.prototype.config.defaultRootProperty&&(a=a.concat({name:b.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),Ext.data.Store.prototype.applyFields.call(this,a,c)},onSorterEndUpdate:function(){var c=this,a=c.getSorters(),d=a.getRange(),b=c.getRoot(),e=c.getFolderSort();c.fireEvent("beforesort",c,d),b&&(e||d.length)?c.getRemoteSort()?d.length&&c.load({callback:function(){c.fireEvent("sort",c,d)}}):(b.sort(this.getSortFn(),!0),c.fireEvent("datachanged",c),c.fireEvent("refresh",c),c.fireEvent("sort",c,d)):c.fireEvent("sort",c,d)},updateFolderSort:function(a){this.needsFolderSort=a,this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var a=this,b=this.sorters.getSortFn();return function(e,d){var g,h,c=0;return a.needsFolderSort&&(g=e.data.leaf?1:0,h=d.data.leaf?1:0,c=g-h),a.needsIndexSort&&0===c&&(c=e.data.index-d.data.index),c||b(e,d)}},getTotalCount:function(){return this.getCount()},afterEdit:function(a,b){var g,k,h,i=this,c=a.parentNode,j=i.getRootVisible(),e=!c&&!j,d=a.get("visible");e||d===i.contains(a)?i.getRoot()&&i.needsLocalFilter()&&i.onFilterEndUpdate(i.getFilters()):d?c&&!i.isVisible(a)||(k=[a],a.isExpanded()&&i.handleNodeExpand(a,a.childNodes,k),g=a.previousSibling?i.indexOfPreviousVisibleNode(a.previousSibling):c?i.indexOf(c):-1,i.insert(g+1,k)):(h=i.indexOf(a),i.removeAt(h,i.indexOfNextVisibleNode(a)-h)),Ext.data.Store.prototype.afterEdit.call(this,a,b)},afterReject:function(a){var b=this;b.contains(a)&&(b.onUpdate(a,Ext.data.Model.REJECT,null),b.fireEvent("update",b,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,c){var b=this;c||(c=null),b.contains(a)&&(b.onUpdate(a,Ext.data.Model.COMMIT,c),b.fireEvent("update",b,a,Ext.data.Model.COMMIT,c))},updateRootVisible:function(b){var c,a=this.getRoot();a&&(c=this.getData(),b?c.insert(0,a):c.remove(a))},updateTrackRemoved:function(a){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments),this.removedNodes=this.removed,this.removed=null},onDestroyRecords:function(b,a,c){c&&(this.removedNodes.length=0)},updateProxy:function(b){var a;b&&(b.setIdParam&&b.setIdParam(this.getNodeParam()),a=b.getReader(),Ext.isEmpty(a.getRootProperty())&&a.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(a){this.changingProxy=!0,(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,a),this.changingProxy=!1},updateModel:function(a){if(a){var b=a.prototype.isNode;Ext.data.NodeInterface.decorate(a),b||this.changingProxy||this.getProxy().getReader().buildExtractors(!0)}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(g){var j,c,h,b,e=this,d=g.length,a=e.getRoot();if(e.getRemoteFilter())Ext.data.Store.prototype.onFilterEndUpdate.call(this,g);else{if(d?e.doFilter(a):a.cascade({after:function(i){i.set("visible",!0,e._silentOptions)}}),d)for(h=[],j=a.childNodes,b=0,d=j.length;b<d;b++)c=j[b],c.get("visible")&&h.push(c);else h=a.childNodes;e.onNodeFilter(a,h),a.fireEvent("filterchange",a,h),e.suppressNextFilter=!0,Ext.data.Store.prototype.onFilterEndUpdate.call(this,g),e.suppressNextFilter=!1}},onNodeFilter:function(a,e){var c=this,d=c.getData(),b=[];c.getRootVisible()&&a.get("visible")&&b.push(a),c.handleNodeExpand(a,e,b),c.suspendEvents(),d.splice(0,d.getCount(),b),c.resumeEvents(),c.suppressNextFilter||(c.fireEvent("datachanged",c),c.fireEvent("refresh",c))},onBeforeNodeExpand:function(b,k,l,g){var i,d,j,e,a,c,h=this;b.isLoaded()?(c=[b.childNodes],g&&c.push.apply(c,g),Ext.callback(k,l||b,c)):b.isLoading()?h.on("load",function(){c=[b.childNodes],g&&c.push.apply(c,g),Ext.callback(k,l||b,c)},h,{single:!0,priority:1001}):(i=h.getProxy().getReader(),d=b.getProxy(),j=d?d.getReader():null,e=j&&j.initialConfig.rootProperty?j:i,a=e.getRoot(b.raw||b.data),a||b.phantom&&!b.isRoot()?(a&&h.fillNode(b,e.extractData(a,{model:b.childType,recordCreator:h.recordCreator})),c=[b.childNodes],g&&c.push.apply(c,g),Ext.callback(k,l||b,c)):(h.read({node:b,onChildNodesAvailable:function(){delete h.lastOptions.onChildNodesAvailable,c=[b.childNodes],g&&c.push.apply(c,g),Ext.callback(k,l||b,c)}}),h.flushLoad()))},onNodeExpand:function(d,b){var e=this,a=e.indexOf(d)+1,c=[];e.handleNodeExpand(d,b,c),e.refreshCounter||!d.isRoot()||d.get("visible")?e.insert(a,c):e.loadRecords(c)},handleNodeExpand:function(e,b,d){var c,a,h=this,g=b?b.length:0;if((e===this.getRoot()||h.isVisible(e))&&g)for(c=0;c<g;c++)a=b[c],a.get("visible")&&(d.push(a),a.isExpanded()&&(a.isLoaded()?h.handleNodeExpand(a,a.childNodes,d):(a.set("expanded",!1),a.expand())))},onNodeCollapse:function(d,a,h,c){var g,e=this,b=e.indexOf(d)+1;e.needsLocalFilter()&&(a=Ext.Array.filter(a,e.filterVisible)),a.length&&e.isVisible(d)&&(g=e.indexOfNextVisibleNode(d),e.removeAt(b,g-b)),Ext.callback(h,c)},indexOfNextVisibleNode:function(b){for(var a;b.parentNode;){for(a=b.nextSibling;a&&!a.get("visible");a=a.nextSibling);if(a)return this.indexOf(a);b=b.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(b){var a;for(a=b;a&&!a.get("visible");a=a.previousSibling);if(a){if(a.isExpanded()&&a.lastChild)return this.indexOfPreviousVisibleNode(a.lastChild)}else a=b.parentNode;return this.indexOf(a)},filterNew:function(a){return!a.get("root")&&Ext.data.Store.prototype.filterNew.call(this,a)},filterRejects:function(a){return!a.get("root")&&Ext.data.Store.prototype.filterRejects.call(this,a)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(d,k,j,a){Ext.isArray(k)||(k=[k]);var c,b,h=this,g=k.length,e=h.removedNodes;for(c=0;!b&&c<g;c++)k[c].get("visible")&&(b=k[c]);for(b?(a[0]=h.indexOf(k[0]),a[1]=h.indexOfNextVisibleNode(k[k.length-1])-a[0]):(a[0]=-1,a[1]=0),c=0;c<g;c++)k[c].cascade(function(i){h.unregisterNode(i,!0),e&&!j&&(i.phantom||i.erasing||h.loading||(i.removedFrom=h.indexOf(i),e.push(i),h.needsSync=!0))})},
afterDrop:Ext.emptyFn,onNodeRemove:function(a,e,b,c){var d=this;d.suspendAutoSync(),-1!==c[0]&&(d.removeIsMove=b,d.removeAt.apply(d,c),d.removeIsMove=!1),d.resumeAutoSync()},onNodeAppend:function(b,c,a){this.onNodeInsert(b,c,a)},onNodeInsert:function(m,a,g){var i,b,j,d,l,k,h=this,c=a.raw||a.data,e=h.removedNodes;m&&h.needsLocalFilter()&&h.doFilter(m),h.beginUpdate(),h.isVisible(a)&&(k=0!==g&&a.previousSibling?h.indexOfPreviousVisibleNode(a.previousSibling):h.indexOf(m),h.insert(k+1,a),!a.isLeaf()&&a.isExpanded()&&(a.isLoaded()?h.onNodeExpand(a,a.childNodes):h.fillCount||(a.set("expanded",!1),a.expand()))),Ext.Array.remove(e,a),h.needsSync=h.needsSync||a.phantom||a.dirty,a.isLeaf()||a.isLoaded()||h.lazyFill||(i=h.getProxy().getReader(),b=a.getProxy(),j=b?b.getReader():null,d=j&&j.initialConfig.rootProperty?j:i,(l=d.getRoot(c))&&h.fillNode(a,d.extractData(l,{model:a.childType,recordCreator:h.recordCreator}))),h.endUpdate()},registerNode:function(g,a){var c,d,b,e=this,h=e.byIdMap[g.id];if(e.byIdMap[g.id]=g,g.onRegisterTreeNode&&g!==h&&g.onRegisterTreeNode(e),g.onUnregisterTreeNode&&e.nodesToUnregister++,!0===a)for(c=g.childNodes,d=c.length,b=0;b<d;b++)e.registerNode(c[b],!0)},unregisterNode:function(g,a){var c,d,b,e=this,h=e.byIdMap[g.id];if(delete e.byIdMap[g.id],!0===a)for(c=g.childNodes,d=c.length,b=0;b<d;b++)e.unregisterNode(c[b],!0);g.onUnregisterTreeNode&&g===h&&(g.onUnregisterTreeNode(e),e.nodesToUnregister--)},onNodeSort:function(b,c){var a=this;a.suspendAutoSync(),(-1!==a.indexOf(b)&&b.isExpanded()||b===a.getRoot()&&!a.getRootVisible())&&(Ext.suspendLayouts(),a.onNodeCollapse(b,c),a.onNodeExpand(b,c),Ext.resumeLayouts(!0)),a.resumeAutoSync(a.autoSync)},applyRoot:function(e){var b=this,d=b.getModel(),a=d.prototype.idProperty,c=b.getDefaultRootId();return e&&!e.isNode&&(e=Ext.apply({text:b.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},e),c&&void 0===e[a]&&(e[a]=c),e=new d(e)),e},updateRoot:function(h,b){var g,d,e=this,a=!b,c=[];if(e.getTrackRemoved(),e.suspendEvent("add","remove"),b&&b.isModel&&(d=e.getRootVisible()?[b]:b.childNodes,e.beforeNodeRemove(null,d,!1,c),b.set("root",!1),e.onNodeRemove(null,d,!1,c),b.fireEvent("remove",null,b,!1),b.fireEvent("rootchange",null),b.clearListeners(),b.store=b.treeStore=null,e.unregisterNode(b)),e.getData().clear(),h)if(!1===h.fireEventArgs("beforeappend",[null,h]))h=null;else{if(g=h.parentNode){if(!g.removeChild(h,!1,!1,g.getTreeStore()===e))return}else(g=h.getTreeStore())&&g!==e&&h===g.getRoot()&&g.setRoot(null);h.store=h.treeStore=e,h.set("root",!0),h.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),e.registerNode(h,!0),h.fireEvent("append",null,h,!1),h.fireEvent("rootchange",h),e.onNodeAppend(null,h,0),h.phantom=!0}e.fireEvent("rootchange",h,b),h&&(e.getAutoLoad()||h.isExpanded())?h.isLoaded()?(e.onNodeExpand(h,h.childNodes),e.fireEvent("datachanged",e),e.fireEvent("refresh",e)):(h.data.expanded=!1,h.expand(!1),h.isLoaded&&!e.getProxy().isSynchronous&&(e.fireEvent("datachanged",e),e.fireEvent("refresh",e))):a||(e.fireEvent("datachanged",e),e.fireEvent("refresh",e)),e.resumeEvent("add","remove")},doDestroy:function(){var b=this,a=b.getRoot();a&&b.nodesToUnregister&&a.cascade(function(c){c.onUnregisterTreeNode&&c.onUnregisterTreeNode(b)}),Ext.data.Store.prototype.doDestroy.call(this)},each:function(d,c,e){var a,b=0;if(e&&"object"==typeof e&&(a=e.collapsed,e=e.filtered),!a)return Ext.data.Store.prototype.each.call(this,d,c,e);this.getRoot().cascade(function(g){if(!0===e||g.get("visible"))return d.call(c||g,g,b++)})},collect:function(d,b,g){var c,i,e,h={},a=[];return b&&"object"==typeof b&&(c=b.collapsed,g=b.filtered,b=b.allowNull),c||g?this.getRoot().cascade(function(j){if((!0===g||j.get("visible"))&&(e=j.get(d),i=String(e),!b&&Ext.isEmpty(e)||h[i]||(h[i]=1,a.push(e))),!c&&!j.isExpanded())return!1}):a=Ext.data.Store.prototype.collect.call(this,d,b,g),a},getNodeById:function(a){return this.byIdMap[a]||null},findNode:function(h,g,d,c,b){if(Ext.isEmpty(g,!1))return null;if(h===this.model.idProperty&&arguments.length<3)return this.byIdMap[g];var e=Ext.String.createRegex(g,d,c,b),a=null;return Ext.Object.eachValue(this.byIdMap,function(i){if(i&&e.test(i.get(h)))return a=i,!1}),a},load:function(a){var b=a&&a.node;return!b&!(b=this.getRoot())?void(b=this.setRoot({expanded:!0})):b.isLoading()?void 0:Ext.data.Store.prototype.load.call(this,a)},reload:function(a){var b=Ext.apply({},a,this.lastOptions);return b.node=this.getRoot(),this.load(b)},flushLoad:function(){var a,h,i,e,b,c,g=this,j=g.pendingLoadOptions,d=g.getClearOnLoad();if(g.clearLoadTask(),j)return a=j.node||g.getRoot(),e=a&&a.isRoot(),h=j.callback,i=j.scope,j.params=j.params||{},a.data.expanded&&!e&&(a.data.loaded=!1,d&&(a.data.expanded=!1),j.callback=function(l,k,m){d||a.collapse(),a.expand(),Ext.callback(h,i,[l,k,m])}),j.id=a.getId(),g.setLoadOptions(j),g.getRemoteSort()&&j.sorters&&g.fireEvent("beforesort",g,j.sorters),j=Ext.apply({node:j.node||a,internalScope:g,internalCallback:g.onProxyLoad},j),g.lastOptions=Ext.apply({},j),j.isRootLoad=e,b=g.createOperation("read",j),!1!==g.fireEvent("beforeload",g,b)&&(g.loading=!0,e?(g.getClearRemovedOnLoad()&&(g.removedNodes.length=0),d&&(g.unregisterNode(a,!0),a.clear(!1,!0),g.registerNode(a),c=!0)):(g.getTrackRemoved()&&g.getClearRemovedOnLoad()&&g.clearRemoved(a),d&&a.removeAll(!1)),g.loading&&a&&a.set("loading",!0),c&&(g.clearData(!0),g.getRootVisible()&&(g.suspendEvents(),g.add(a),g.resumeEvents())),b.execute()),g},onProxyLoad:function(c){var h=this,j=c.initialConfig,d=c.wasSuccessful(),b=c.getRecords(),a=j.node,e=j.isRootLoad,i=c.getScope()||h,g=[b,c,d];h.destroyed||(h.loading=!1,a.set("loading",!1),d&&(++h.loadCount,h.getClearOnLoad()||(b=h.cleanRecords(a,b)),h.getParentIdProperty()&&(b=h.treeify(a,b)),e&&h.suspendEvent("add","update"),b=h.fillNode(a,b)),Ext.callback(j.onChildNodesAvailable,i,g),e&&(h.resumeEvent("add","update"),h.callObservers("BeforePopulate"),h.fireEvent("datachanged",h),h.fireEvent("refresh",h),h.callObservers("AfterPopulate")),h.fireEvent("load",h,b,d,c,a))},clearRemoved:function(b){var j,g,l,k=this,e=k.removedNodes,a=b.getId(),d=e.length,c=d,n={},h=[],m={};if(b===k.getRoot())return void(k.removedNodes.length=0);for(;c--;)j=e[c],m[j.getId()]=j;for(c=d;c--;){for(j=e[c],g=j;g&&g.getId()!==a;)l=g.get("parentId")||g.get("lastParentId"),g=g.parentNode||k.getNodeById(l)||m[l];g&&(n[j.getId()]=j)}for(c=0;c<d;c++)j=e[c],n[j.getId()]||h.push(j);k.removedNodes=h},fillNode:function(c,a){var b=this,d=a?a.length:0;return 1==++b.bulkUpdate&&b.suspendEvent("datachanged"),d&&b.setupNodes(a),1===b.bulkUpdate?c.set("loaded",!0):c.data.loaded=!0,a.length&&c.appendChild(a,void 0,!0),--b.bulkUpdate||b.resumeEvent("datachanged"),a},setupNodes:function(d){var l,k,e,h=this,g=h.getSorters(),j=!1,b=d.length,a=h.sortOnLoad&&b>1&&!h.getRemoteSort()&&h.getFolderSort()||g.length,c=h.needsLocalFilter();for(c&&h.doFilter(d[0]),e=1;e<b;e++)l=d[e],k=d[e-1],c&&h.doFilter(l),j=l.data.index!==k.data.index;a?(h.needsIndexSort=!0,Ext.Array.sort(d,h.getSortFn()),h.needsIndexSort=!1):j&&Ext.Array.sort(d,h.sortByIndex)},beginFill:function(){var a=this;a.fillCount++||(a.beginUpdate(),a.suspendEvent("add","update"),a.suspendAutoSync(),a.fillArray=[])},endFill:function(e,b){var d,a,c,g=this,h=g.fillArray;if(h.push(b),!--g.fillCount){for(g.resumeAutoSync(),g.resumeEvent("add","update"),d=0,a=h.length;d<a;d++)-1!==(c=g.indexOf(h[d][0]))&&g.fireEvent("add",g,h[d],c);g.fillArray=null,g.endUpdate()}},sortByIndex:function(b,a){return b.data.index-a.data.index},onIdChanged:function(d,g,b){var c,e=d.childNodes,a=e&&e.length;for(Ext.data.Store.prototype.onIdChanged.apply(this,arguments),delete this.byIdMap[g],this.byIdMap[b]=d,c=0;c<a;c++)e[c].set("parentId",b)},treeify:function(j,e){var g,d,h,n,a,b,m=this,o=j.getId(),c=m.getParentIdProperty(),k=e.length,p=[],l={};for(g=0;g<k;g++)d=e[g],d.data.depth=1,l[d.id]=d;for(g=0;g<k;g++)d=e[g],h=d.data[c],!h&&0!==h||h===o?p.push(d):(n=l[h],n.$children=n.$children||[],n.$children.push(d),d.data.depth=n.data.depth+1);for(a in l)d=l[a],b=d.$children,b&&(delete d.$children,m.setupNodes(b),d.appendChild(b)),m.registerNode(d);return m.setupNodes(p),p},cleanRecords:function(g,b){for(var h,e={},j=g.childNodes,d=0,a=j.length,c=[];d<a;++d)e[j[d].getId()]=!0;for(d=0,a=b.length;d<a;++d)h=b[d],e[h.getId()]||c.push(h);return c},removeAll:function(){this.suspendEvents(),this.setRoot(null),this.resumeEvents(),Ext.data.Store.prototype.removeAll.call(this)},doSort:function(a){var b=this;b.getRemoteSort()?b.load():(b.tree.sort(a,!0),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireEvent("sort",b,b.sorters.getRange())},filterVisible:function(a){return a.get("visible")},isVisible:function(c){for(var a=c.parentNode,d=c.data.visible,b=this.getRoot();d&&a;)d=a.data.expanded&&a.data.visible,a=a.parentNode;return d&&!(c===b&&!this.getRootVisible())},commitChanges:function(){var a=this.removedNodes;a&&(a.length=0),Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(a){return this.setRoot(a),this.getRoot()},privates:{fireChangeEvent:function(a){return!!this.byIdMap[a.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(c,a){var b,e=this,d=a.node;return e.useModelProxy&&d&&d!==e.getRootNode()&&(b=d.getProxy()),b&&b!==e.getProxy()?b.createOperation(c,a):Ext.data.Store.prototype.createOperation.call(this,c,a)},recordCreator:function(a,b){return new b(a)},doFilter:function(a){this.filterNodes(a,this.getFilters().getFilterFn(),!0)},filterNodes:function(b,l,g){var c,j,h=this,a="bottomup"===h.filterer,d=l(b)&&g||b.isRoot()&&!h.getRootVisible(),k=b.childNodes,e=k&&k.length;if(e){for(c=0;c<e;++c)j=h.filterNodes(k[c],l,d||a)||j;a&&(d=j||d)}return b.set("visible",d,h._silentOptions),d},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(a,c){this.getData().setFilters(null),a&&a.on("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(b,c){this.getData().setSorters(null),b&&b.on("endupdate",this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],0),Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,"Types"],function(b){var a=Ext.data.SortTypes;Ext.apply(b,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(d){var c=this.getAllowNull()?null:"";return void 0===d||null===d?c:String(d)},sortType:a.asUCString,type:"string"},INT:{convert:function(c){return"number"==typeof c?parseInt(c,10):void 0!==c&&null!==c&&""!==c?parseInt(String(c).replace(b.stripRe,""),10):this.getAllowNull()?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(c){return"number"==typeof c?c:void 0!==c&&null!==c&&""!==c?parseFloat(String(c).replace(b.stripRe,""),10):this.getAllowNull()?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(c){return"boolean"==typeof c?c:!this.getAllowNull()||void 0!==c&&null!==c&&""!==c?"true"===c||1==c:null},sortType:a.none,type:"bool"},DATE:{convert:function(d){var c,e=this.getDateReadFormat()||this.getDateFormat();return d?d instanceof Date?d:e?Ext.Date.parse(d,e):(c=Date.parse(d),c?new Date(c):null):null},sortType:a.asDate,type:"date"}}),b.BOOLEAN=b.BOOL,b.INTEGER=b.INT,b.NUMBER=b.FLOAT}),Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:!0,syncGeneration:0,attach:function(a){this.record=a,this.isBase=a.self===Ext.data.Model,delete this.data.id},getValidation:function(){return null},isValid:function(){var a=this;return a.syncGeneration!==a.record.generation&&a.refresh(),!a.dirty},refresh:function(b){if(!this.isBase){var e,h,m,a,p,q,g,x,w,u=this,v=u.data,d=u.record,l=d.fields,o=d.generation,t=d.data,k=d.validationSeparator,c=null;if(b||u.syncGeneration!==o){for(u.syncGeneration=o,p=0,q=l.length;p<q;++p)a=l[p],w=a.name,x=t[w],e=a.defaultInvalidMessage,m=0,w in v?h=v[w]:v[w]=h=!0,a.validate!==Ext.emptyFn&&!0!==(g=a.validate(x,k,null,d))&&(m=g||e),m||(m=!0),m!==h&&((c||(c={}))[w]=m);c&&u.set(c)}}}},0,0,0,0,0,0,[Ext.data,"Validation"],0),Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var a="afterbegin",g="afterend",h="beforebegin",d="beforeend",i=["BeforeBegin","previousSibling"],e=["AfterEnd","nextSibling"],c={beforebegin:i,afterend:e},b={beforebegin:i,afterend:e,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){function j(m,o,n){return o+"-"+n.toLowerCase()}var l=/([a-z])([A-Z])/g,k={};return function(m){return k[m]||(k[m]=m.replace(l,j))}}(),generateMarkup:function(q,k){var n,j,r,m,l,p=this,o=typeof q;if("string"===o||"number"===o)k.push(q);else if(Ext.isArray(q))for(m=0;m<q.length;m++)q[m]&&p.generateMarkup(q[m],k);else{r=q.tag||"div",k.push("<",r);for(n in q)q.hasOwnProperty(n)&&(void 0===(j=q[n])||p.confRe.test(n)||(j&&j.join&&(j=j.join(" ")),"object"==typeof j?(k.push(" ",n,'="'),p.generateStyles(j,k,!0).push('"')):k.push(" ",p.attributeTransform[n]||n,'="',j,'"')));p.emptyTags.test(r)?k.push("/>"):(k.push(">"),(j=q.tpl)&&j.applyOut(q.tplData,k),(j=q.html)&&k.push(j),(j=q.cn||q.children)&&p.generateMarkup(j,k),l=p.closeTags,k.push(l[r]||(l[r]="</"+r+">")))}return k},generateStyles:function(n,k,m){var l,o,j=k||[];for(l in n)n.hasOwnProperty(l)&&(o=n[l],l=this.decamelizeName(l),m&&Ext.String.hasHtmlCharacters(o)&&(o=Ext.String.htmlEncode(o)),j.push(l,":",o,";"));return k||j.join("")},markup:function(j){return"string"==typeof j?j:this.generateMarkup(j,[]).join("")},applyStyles:function(j,k){Ext.fly(j).applyStyles(k)},createContextualFragment:function(k){var l,m,n=this.detachedDiv,j=document.createDocumentFragment();for(n.innerHTML=k,m=n.childNodes,l=m.length;l--;)j.appendChild(m[0]);return j},createDom:function(m,j){var n,l=this,k=l.markup(m),p=l.detachedDiv;return p.innerHTML=k,n=p.firstChild,Ext.supports.ChildContentClearedWhenSettingInnerHTML?n.cloneNode(!0):n},insertHtml:function(m,j,n){var k,o,l,q,s,r=this;if(m=m.toLowerCase(),!j.insertAdjacentHTML){if(3===j.nodeType&&(m=m===a?h:m,m=m===d?g:m),o=Ext.supports.CreateContextualFragment?j.ownerDocument.createRange():void 0,q="setStart"+(this.endRe.test(m)?"After":"Before"),c[m])return o?(o[q](j),s=o.createContextualFragment(n)):s=this.createContextualFragment(n),j.parentNode.insertBefore(s,m===h?j:j.nextSibling),j[(m===h?"previous":"next")+"Sibling"];if(l=(m===a?"first":"last")+"Child",j.firstChild){if(o)try{o[q](j[l]),s=o.createContextualFragment(n)}catch(p){s=this.createContextualFragment(n)}else s=this.createContextualFragment(n);m===a?j.insertBefore(s,j.firstChild):j.appendChild(s)}else j.innerHTML=n;return j[l]}return r.ieInsertHtml&&(s=r.ieInsertHtml(m,j,n))?s:(k=b[m])?(j.insertAdjacentHTML(k[0],n),j[k[1]]):void 0},insertBefore:function(j,l,k){return this.doInsert(j,l,k,h)},insertAfter:function(j,l,k){return this.doInsert(j,l,k,g)},insertFirst:function(j,l,k){return this.doInsert(j,l,k,a)},append:function(j,l,k){return this.doInsert(j,l,k,d)},overwrite:function(l,k,n){var j,m=this;return l=Ext.getDom(l),k=m.markup(k),m.ieOverwrite&&(j=m.ieOverwrite(l,k)),j||(l.innerHTML=k,j=l.firstChild),n?Ext.get(j):j},doInsert:function(l,p,n,j){var k,m=this;return l=l.dom||Ext.getDom(l),"innerHTML"in l?k=m.insertHtml(j,l,m.markup(p)):(k=m.createDom(p,null),3===l.nodeType&&(j=j===a?h:j,j=j===d?g:j),c[j]?l.parentNode.insertBefore(k,j===h?l:l.nextSibling):l.firstChild&&j===a?l.insertBefore(k,l.firstChild):l.appendChild(k)),n?Ext.get(k):k},createTemplate:function(k){var j=this.markup(k);return new Ext.Template(j)},createHtml:function(j){return this.markup(j)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0),Ext.define("Ext.overrides.dom.Helper",function(){var c=/^(?:table|thead|tbody|tr|td)$/i,h=/td|tr|tbody|thead/i,g="<table>",i="</table>";return{override:"Ext.dom.Helper",ieInsertHtml:function(j,l,k){var m=null;return Ext.isIE9m&&c.test(l.tagName)&&(m=this.insertIntoTable(l.tagName.toLowerCase(),j,l,k)),m},ieOverwrite:function(k,j){if(Ext.isIE9m&&c.test(k.tagName)){for(;k.firstChild;)k.removeChild(k.firstChild);if(j)return this.insertHtml("afterbegin",k,j)}},ieTable:function(p,k,q,o){var m,j,l=-1,n=this.detachedDiv;for(n.innerHTML=[k,q,o].join("");++l<p;)n=n.firstChild;if(m=n.nextSibling)for(m=n,n=document.createDocumentFragment();m;)j=m.nextSibling,n.appendChild(m),m=j;return n},insertIntoTable:function(s,l,k,m){var j,p,o="beforebegin"===l,r="afterbegin"===l,n="beforeend"===l,q="afterend"===l;return"td"===s&&(r||n)||!h.test(s)&&(o||q)?null:(p=o?k:q?k.nextSibling:r?k.firstChild:null,(o||q)&&(k=k.parentNode),j="td"===s||"tr"===s&&(n||r)?this.ieTable(4,"<table><tbody><tr>",m,"</tr></tbody></table>"):("tbody"===s||"thead"===s)&&(n||r)||"tr"===s&&(o||q)?this.ieTable(3,"<table><tbody>",m,"</tbody></table>"):this.ieTable(2,g,m,i),k.insertBefore(j,p),j)}}}()),Ext.cmd.derive("Ext.dom.Query",Ext.Base,function(){function children(parent){for(var nextNode,n=parent.firstChild,nodeIndex=-1;n;)nextNode=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++nodeIndex:parent.removeChild(n),n=nextNode;return this}function attrValue(n,attr){return n.tagName||void 0===n.length||(n=n[0]),n?"for"==attr?n.htmlFor:"class"==attr||"className"==attr?n.className:n.getAttribute(attr)||n[attr]:null}function getNodes(ns,mode,tagName){var cs,i,ni,j,ci,cn,utag,n,cj,result=[],ri=-1;if(!ns)return result;if(tagName=tagName.replace("|",":")||"*",void 0!==ns.getElementsByTagName&&(ns=[ns]),mode){if("/"==mode||">"==mode)for(utag=tagName.toUpperCase(),i=0;ni=ns[i];i++)for(cn=ni.childNodes,j=0;cj=cn[j];j++)cj.nodeName!=utag&&cj.nodeName!=tagName&&"*"!=tagName||(result[++ri]=cj);else if("+"==mode)for(utag=tagName.toUpperCase(),i=0;n=ns[i];i++){for(;(n=n.nextSibling)&&1!=n.nodeType;);!n||n.nodeName!=utag&&n.nodeName!=tagName&&"*"!=tagName||(result[++ri]=n)}else if("~"==mode)for(utag=tagName.toUpperCase(),i=0;n=ns[i];i++)for(;n=n.nextSibling;)n.nodeName!=utag&&n.nodeName!=tagName&&"*"!=tagName||(result[++ri]=n)}else if(tagName=unescapeCssSelector(tagName),!supportsColonNsSeparator&&DQ.isXml(ns[0])&&-1!==tagName.indexOf(":"))for(i=0;ni=ns[i];i++)for(cs=ni.getElementsByTagName(tagName.split(":").pop()),j=0;ci=cs[j];j++)ci.tagName===tagName&&(result[++ri]=ci);else for(i=0;ni=ns[i];i++)for(cs=ni.getElementsByTagName(tagName),j=0;ci=cs[j];j++)result[++ri]=ci;return result}function concat(a,b){return a.push.apply(a,b),a}function byTag(cs,tagName){if((cs.tagName||cs===doc)&&(cs=[cs]),!tagName)return cs;var i,ci,result=[],ri=-1;for(tagName=tagName.toLowerCase(),i=0;ci=cs[i];i++)1==ci.nodeType&&ci.tagName.toLowerCase()==tagName&&(result[++ri]=ci);return result}function byId(cs,id){if(id=unescapeCssSelector(id),(cs.tagName||cs===doc)&&(cs=[cs]),!id)return cs;var i,ci,result=[],ri=-1;for(i=0;ci=cs[i];i++)if(ci&&ci.id==id)return result[++ri]=ci,result;return result}function byAttribute(cs,attr,value,op,custom){var a,xml,hasXml,i,ci,result=[],ri=-1,useGetStyle="{"==custom,fn=DQ.operators[op];for(value=unescapeCssSelector(value),i=0;ci=cs[i];i++)1===ci.nodeType&&(hasXml||(xml=DQ.isXml(ci),hasXml=!0),a=xml?ci.getAttribute(attr):useGetStyle?DQ.getStyle(ci,attr):"class"==attr||"className"==attr?ci.className:"for"==attr?ci.htmlFor:"href"==attr?ci.getAttribute("href",2):ci.getAttribute(attr),(fn&&fn(a,value)||!fn&&a)&&(result[++ri]=ci));return result}function byPseudo(cs,name,value){return value=unescapeCssSelector(value),DQ.pseudos[name](cs,value)}function nodupIEXml(cs){var r,i,len,c,d=++key;for(cs[0].setAttribute("_nodup",d),r=[cs[0]],i=1,len=cs.length;i<len;i++)c=cs[i],!c.getAttribute("_nodup")!=d&&(c.setAttribute("_nodup",d),r[r.length]=c);for(i=0,len=cs.length;i<len;i++)cs[i].removeAttribute("_nodup");return r}function nodup(cs){if(!cs)return[];var c,i,cj,d,j,len=cs.length,r=cs,ri=-1;if(!len||void 0!==cs.nodeType||1==len)return cs;if(isIE&&void 0!==cs[0].selectSingleNode)return nodupIEXml(cs);for(d=++key,cs[0]._nodup=d,i=1;c=cs[i];i++){if(c._nodup==d){for(r=[],j=0;j<i;j++)r[++ri]=cs[j];for(j=i+1;cj=cs[j];j++)cj._nodup!=d&&(cj._nodup=d,r[++ri]=cj);return r}c._nodup=d}return r}function quickDiffIEXml(c1,c2){var i,len,d=++key,r=[];for(i=0,len=c1.length;i<len;i++)c1[i].setAttribute("_qdiff",d);for(i=0,len=c2.length;i<len;i++)c2[i].getAttribute("_qdiff")!=d&&(r[r.length]=c2[i]);for(i=0,len=c1.length;i<len;i++)c1[i].removeAttribute("_qdiff");return r}function quickDiff(c1,c2){var i,len,len1=c1.length,d=++key,r=[];if(!len1)return c2;if(isIE&&void 0!==c1[0].selectSingleNode)return quickDiffIEXml(c1,c2);for(i=0;i<len1;i++)c1[i]._qdiff=d;for(i=0,len=c2.length;i<len;i++)c2[i]._qdiff!=d&&(r[r.length]=c2[i]);return r}function quickId(ns,mode,root,id){return ns==root?(id=unescapeCssSelector(id),(root.ownerDocument||root).getElementById(id)):(ns=getNodes(ns,mode,"*"),byId(ns,id))}var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var d=doc.createElement("div");return d.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",d.children&&0===d.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var xmlDoc,xmlString='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?xmlDoc=(new DOMParser).parseFromString(xmlString,"application/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.loadXML(xmlString)),!!xmlDoc.getElementsByTagName("a:b").length}(),longHexToChar=function($0,$1){return String.fromCharCode(parseInt($1,16))},shortToLongHex=function($0,$1){for(;$1.length<6;)$1="0"+$1;return"\\"+$1},charToLongHex=function($0,$1){return num=$1.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(selector){return hasEscapes?selector.replace(longHex,longHexToChar):selector},setupEscapes=function(path){return hasEscapes=path.indexOf("\\")>-1,hasEscapes&&(path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),path};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(parent,index){return parent.children[index]}:function(parent,index){for(var i=0,n=parent.firstChild;n;){if(1==n.nodeType&&++i==index)return n;n=n.nextSibling}return null},next=useElementPointer?function(n){return n.nextElementSibling}:function(n){for(;(n=n.nextSibling)&&1!=n.nodeType;);return n},prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){for(;(n=n.previousSibling)&&1!=n.nodeType;);return n},byClassName=useClassList?function(nodeSet,cls){if(!(cls=unescapeCssSelector(cls)))return nodeSet;var i,ci,classList,result=[],ri=-1;for(i=0;ci=nodeSet[i];i++)classList=ci.classList,classList?classList.contains(cls)&&(result[++ri]=ci):-1!==(" "+ci.className+" ").indexOf(cls)&&(result[++ri]=ci);return result}:function(nodeSet,cls){if(!(cls=unescapeCssSelector(cls)))return nodeSet;var i,ci,result=[],ri=-1;for(i=0;ci=nodeSet[i];i++)-1!==(" "+ci.className+" ").indexOf(cls)&&(result[++ri]=ci);return result},{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],_init:function(){DQ=this,DQ.operators=Ext.Object.chain(Ext.util.Operators),DQ._cache=cache=new Ext.util.LruCache({maxSize:200}),DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200}),DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear(),valueCache.clear(),simpleCache.clear()},getStyle:function(el,name){return Ext.fly(el,"_DomQuery").getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(path,root,type){"string"==typeof(root=root||doc)&&(root=doc.getElementById(root));var query,i,len,subPath,result,paths=Ext.splitAndUnescape(path,","),results=[];for(i=0,len=paths.length;i<len;i++)subPath=paths[i].replace(trimRe,""),query=cache.get(subPath),query?setupEscapes(subPath):(query=DQ.compile(subPath,type),query||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:subPath+" is not a valid selector"}),cache.add(subPath,query)),(result=query(root))&&result!==doc&&(results=results.concat(result));return paths.length>1?nodup(results):results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return!!docEl&&"HTML"!==docEl.nodeName},select:doc.querySelectorAll?function(path,root,type,single){if(root=root||doc,!DQ.isXml(root))try{return root.parentNode&&9!==root.nodeType&&-1===path.indexOf(",")&&!startIdRe.test(path)&&(path=Ext.makeIdSelector(Ext.id(root))+" "+path,root=root.parentNode),single?[root.querySelector(path)]:Ext.Array.toArray(root.querySelectorAll(path))}catch(e){}return DQ.jsSelect.call(this,path,root,type)}:function(path,root,type){return DQ.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root,null,!0)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");var n,query=valueCache.get(path);return query?setupEscapes(path):(query=DQ.compile(path,"select"),valueCache.add(path,query)),n=query(root),DQ.getNodeValue(n[0]||n,defaultValue)},getNodeValue:function(node,defaultValue){"function"==typeof node.normalize&&node.normalize();var firstChild=node&&node.firstChild,v=firstChild?firstChild.nodeValue:null;return void 0===defaultValue||null!=v&&""!==v||(v=defaultValue),v},selectNumber:function(path,root,defaultValue){var v=DQ.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){"string"==typeof el&&(el=doc.getElementById(el));var isArray=Ext.isArray(el),result=DQ.filter(isArray?el:[el],ss);return isArray?result.length==el.length:result.length>0},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");var result,query=simpleCache.get(ss);return query?setupEscapes(ss):(query=DQ.compile(ss,"simple"),simpleCache.add(ss,query)),result=query(els),nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(c){var n,i,ci,r=[],ri=-1;for(i=0;ci=n=c[i];i++){for(;(n=n.previousSibling)&&1!=n.nodeType;);n||(r[++ri]=ci)}return r},"last-child":function(c){var n,i,ci,r=[],ri=-1;for(i=0;ci=n=c[i];i++){for(;(n=n.nextSibling)&&1!=n.nodeType;);n||(r[++ri]=ci)}return r},"nth-child":function(c,a){var i,n,j,cn,pn,r=[],ri=-1,m=nthRe.exec("even"==a&&"2n"||"odd"==a&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(i=0;n=c[i];i++){if(pn=n.parentNode,batch!=pn._batch){for(j=0,cn=pn.firstChild;cn;cn=cn.nextSibling)1==cn.nodeType&&(cn.nodeIndex=++j);pn._batch=batch}1==f?0!==l&&n.nodeIndex!=l||(r[++ri]=n):(n.nodeIndex+l)%f==0&&(r[++ri]=n)}return r},"only-child":function(c){var i,ci,r=[],ri=-1;for(i=0;ci=c[i];i++)prev(ci)||next(ci)||(r[++ri]=ci);return r},empty:function(c){var i,ci,cns,j,cn,empty,r=[],ri=-1;for(i=0;ci=c[i];i++){for(cns=ci.childNodes,j=0,empty=!0;cn=cns[j];)if(++j,1==cn.nodeType||3==cn.nodeType){empty=!1;break}empty&&(r[++ri]=ci)}return r},contains:function(c,v){var i,ci,r=[],ri=-1;for(i=0;ci=c[i];i++)-1!=(ci.textContent||ci.innerText||ci.text||"").indexOf(v)&&(r[++ri]=ci);return r},nodeValue:function(c,v){var i,ci,r=[],ri=-1;for(i=0;ci=c[i];i++)ci.firstChild&&ci.firstChild.nodeValue==v&&(r[++ri]=ci);return r},checked:function(c){var i,ci,r=[],ri=-1;for(i=0;ci=c[i];i++)!0===ci.checked&&(r[++ri]=ci);return r},not:function(c,ss){return DQ.filter(c,ss,!0)},any:function(c,selectors){var s,i,ci,j,ss=selectors.split("|"),r=[],ri=-1;for(i=0;ci=c[i];i++)for(j=0;s=ss[j];j++)if(DQ.is(ci,s)){r[++ri]=ci;break}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var i,ci,s=DQ.select,r=[],ri=-1;for(i=0;ci=c[i];i++)s(ss,ci).length>0&&(r[++ri]=ci);return r},next:function(c,ss){var i,ci,n,is=DQ.is,r=[],ri=-1;for(i=0;ci=c[i];i++)(n=next(ci))&&is(n,ss)&&(r[++ri]=ci);return r},prev:function(c,ss){var i,ci,n,is=DQ.is,r=[],ri=-1;for(i=0;ci=c[i];i++)(n=prev(ci))&&is(n,ss)&&(r[++ri]=ci);return r},focusable:function(candidates){for(var c,len=candidates.length,results=[],i=0;i<len;i++)c=candidates[i],Ext.fly(c,"_DomQuery").isFocusable()&&results.push(c);return results},visible:function(candidates,deep){for(var c,len=candidates.length,results=[],i=0;i<len;i++)c=candidates[i],Ext.fly(c,"_DomQuery").isVisible(deep)&&results.push(c);return results},isScrolled:function(c){var i,ci,s,r=[],ri=-1;for(i=0;ci=c[i];i++)s=Ext.fly(ci,"_DomQuery").getScroll(),(s.top>0||s.left>0)&&(r[++ri]=ci);return r}}}},0,0,0,0,0,0,[Ext.dom,"Query",Ext.core,"DomQuery",Ext,"DomQuery"],function(){this._init()}),Ext.cmd.derive("Ext.data.reader.Xml",Ext.data.reader.Reader,{alternateClassName:"Ext.data.XmlReader",config:{record:"",namespace:""},createAccessor:function(a){return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(b){return this.getNodeValue(Ext.DomQuery.selectNode(a,b))}},getNodeValue:function(a){if(a&&("function"==typeof a.normalize&&a.normalize(),a=a.firstChild))return a.nodeValue},getResponseData:function(a){var c=a.responseXML,b="XML data not found in the response";return c||(Ext.Logger.warn(b),this.createReadError(b))},getData:function(a){return a.documentElement||a},getRoot:function(b){var c=b.nodeName,a=this.getRootProperty();return!a||c&&c==a?b:Ext.DomQuery.isXml(b)?Ext.DomQuery.selectNode(a,b):void 0},extractData:function(a,b){var c=this.getRecord();return a=c!==a.nodeName?Ext.DomQuery.select(c,a):[a],
Ext.data.reader.Reader.prototype.extractData.call(this,a,b)},readRecords:function(c,b,a){return Ext.isArray(c)&&(c=c[0]),Ext.data.reader.Reader.prototype.readRecords.call(this,c,b,a)},createFieldAccessor:function(e){var b,d=this,c=d.getNamespace();return b=e.mapping||(c?c+"|":"")+e.name,"function"==typeof b?function(g){return e.mapping(g,d)}:function(g){return d.getNodeValue(Ext.DomQuery.selectNode(b,g))}},deprecated:{"5.1.1":{properties:{xmlData:null}}}},0,0,0,0,["reader.xml"],0,[Ext.data.reader,"Xml",Ext.data,"XmlReader"],0),Ext.cmd.derive("Ext.data.writer.Xml",Ext.data.writer.Writer,{alternateClassName:"Ext.data.XmlWriter",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(b,c){var a,j=this,g=[],d=0,h=c.length,l=j.getDocumentRoot(),k=j.getRecord(),e=k.match(this.selectorRe),m=e.length,n=1!==c.length&&1===m;for(a=this.getTransform(),a&&(c=a(c,b)),g.push(j.getHeader()||""),!l&&n&&(l=j.getDefaultDocumentRoot()),l&&g.push("<",l,">"),d=0;d<m-1;d++)g.push("<",e[d],">");for(k=e[d],d=0;d<h;++d)this.objectToElement(k,c[d],g);for(d=m-2;d>-1;d--)g.push("</",e[d],">");return l&&g.push("</",l,">"),b.setXmlData(g.join("")),b},objectToElement:function(b,e,g){var p,m,d,c,k,j,l,a,n,h=[];g||(g=[]),g.push("<",b);for(p in e)if(m=e[p],"@"===p[0])g.push(" ",p.substr(1),'="',m,'"');else if("object"==typeof m)this.objectToElement(p,m,h);else if(d=p.match(this.selectorRe),(c=d.length)>1){for(l=l||{},j=l,k=0;k<c;k++)a=j,n=d[k],j=j[n]||(j[n]={});a[n]=m}else h.push("<",p,">",m,"</",p,">");if(g.push(">"),g.push.apply(g,h),l)for(p in l)m=l[p],this.objectToElement(p,m,g);return g.push("</",b,">"),g}},0,0,0,0,["writer.xml"],0,[Ext.data.writer,"Xml",Ext.data,"XmlWriter"],0),Ext.cmd.derive("Ext.data.XmlStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a),Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,["store.xml"],0,[Ext.data,"XmlStore"],0),Ext.cmd.derive("Ext.data.identifier.Negative",Ext.data.identifier.Sequential,{config:{increment:-1,seed:-1}},0,0,0,0,["data.identifier.negative"],0,[Ext.data.identifier,"Negative"],0),Ext.cmd.derive("Ext.data.identifier.Uuid",Ext.data.identifier.Generator,{isUnique:!0,config:{id:null},constructor:function(a){Ext.data.identifier.Generator.prototype.constructor.call(this,a),this.reconfigure(a)},reconfigure:function(b){var a=this.self;this.generate=b&&1===b.version?a.createSequential(b.salt,b.timestamp,b.clockSeq):a.createRandom()},clone:null,statics:{createRandom:function(){var c="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),b="0123456789abcdef".split(""),a=c.length,d=[];return function(){for(var g,h,e=0;e<a;++e)h=c[e],"-"!==h&&"4"!==h&&(g=16*Math.random(),g="R"===h?3&g|8:g|("M"===h?1:0),h=b[g]),d[e]=h;return d.join("")}},createSequential:function(h,b,e){var g=[],k=Math.pow(2,32),i=h.lo,c=h.hi,j=b.lo,d=b.hi,a=function(n,m){var l=n.toString(16).toLowerCase();return l.length>m?l=l.substring(l.length-m):l.length<m&&(l=Ext.String.leftPad(l,m,"0")),l};return"number"==typeof h&&(c=Math.floor(h/k),i=Math.floor(h-c*k)),"number"==typeof b&&(d=Math.floor(b/k),j=Math.floor(b-d*k)),c|=256,g[3]=a(128|e>>>8&63,2)+a(255&e,2),g[4]=a(c,4)+a(i,8),function(){return g[0]=a(j,8),g[1]=a(65535&d,4),g[2]=a(d>>>16&4095|4096,4),++j,j>=k&&(j=0,++d),g.join("-")}}}},1,0,0,0,["data.identifier.uuid"],0,[Ext.data.identifier,"Uuid"],function(){this.Global=new this({id:"uuid"})}),Ext.cmd.derive("Ext.data.proxy.WebStorage",Ext.data.proxy.Client,{alternateClassName:"Ext.data.WebStorageProxy",config:{id:void 0},constructor:function(a){Ext.data.proxy.Client.prototype.constructor.apply(this,arguments),this.cache={},this.initialize()},create:function(e){var b,h,g,j,k=this,d=e.getRecords(),c=d.length,a=k.getIds();for(void 0===k.isHierarchical&&(k.isHierarchical=!!d[0].isNode,k.isHierarchical&&k.getStorageObject().setItem(k.getTreeKey(),!0)),g=0;g<c;g++)h=d[g],h.phantom?(h.phantom=!1,j=h.identifier,b=j&&j.isUnique?h.getId():k.getNextId()):b=h.getId(),k.setRecord(h,b),h.commit(),a.push(b);k.setIds(a),e.setSuccessful(!0)},read:function(k){var u,g,a,s,n,m,b,o,c,w,l,q,p,v=this,r=[],d=!0,h=v.getModel(),e=0,t=k.getRecordCreator();if(v.isHierarchical)r=v.getTreeData();else if(o=v.getIds(),c=o.length,l=k.getId())w=v.getRecord(l),null!==w&&(b=t?t(w,h):new h(w)),b?r.push(b):d=!1;else{for(a=k.getSorters(),g=k.getFilters(),s=k.getLimit(),u=[],q=0;q<c;q++)w=v.getRecord(o[q]),b=t?t(w,h):new h(w),u.push(b);for(a&&Ext.Array.sort(u,Ext.util.Sorter.createComparator(a)),q=k.getStart()||0;q<c;q++){if(b=u[q],m=!0,g)for(p=0,n=g.length;p<n;p++)m=g[p].filter(b);if(m&&(r.push(b),e++),s&&e===s)break}}d?(k.setResultSet(new Ext.data.ResultSet({records:r,total:r.length,loaded:!0})),k.setSuccessful(!0)):k.setException("Unable to load records")},update:function(c){var a,h,d,b=c.getRecords(),g=b.length,e=this.getIds();for(d=0;d<g;d++)a=b[d],this.setRecord(a),a.commit(),void 0!==(h=a.getId())&&-1===Ext.Array.indexOf(e,h)&&e.push(h);this.setIds(e),c.setSuccessful(!0)},erase:function(d){for(var b,g=this,c=d.getRecords(),a=g.getIds(),h=a.length,k=[],j={},e=c.length;e--;)Ext.apply(j,g.removeRecord(c[e]));for(e=0;e<h;e++)b=a[e],j[b]||k.push(b);g.setIds(k),d.setSuccessful(!0)},getRecord:function(d){var b=this,a=b.cache,c=a[d]?a[d]:Ext.decode(b.getStorageObject().getItem(b.getRecordKey(d)));return c?(a[d]=c,c[b.getModel().prototype.idProperty]=d,Ext.merge({},c)):null},setRecord:function(k,c){c?k.set("id",c,{commit:!0}):c=k.getId();for(var n,b,e,p,o,m=this,a=k.getData(),h={},j=m.getModel(),l=j.getFields(),d=l.length,g=0;g<d;g++)n=l[g],b=n.name,n.persist&&(o=a[b],n.isDateField&&n.dateFormat&&Ext.isDate(o)?o=Ext.Date.format(o,n.dateFormat):n.serialize&&(o=n.serialize(o,k)),h[b]=o);delete h[j.prototype.idProperty],k.isNode&&1===k.get("depth")&&delete h.parentId,e=m.getStorageObject(),p=m.getRecordKey(c),m.cache[c]=h,e.removeItem(p),e.setItem(p,Ext.encode(h))},removeRecord:function(a){var c,e,d=this,g=a.getId(),b={};if(b[g]=a,d.getStorageObject().removeItem(d.getRecordKey(g)),delete d.cache[g],a.childNodes)for(e=a.childNodes,c=e.length;c--;)Ext.apply(b,d.removeRecord(e[c]));return b},getRecordKey:function(a){return a.isModel&&(a=a.getId()),Ext.String.format("{0}-{1}",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var b,e=this,c=(e.getStorageObject().getItem(e.getId())||"").split(","),d=c.length,a=this.getIdField().isStringField;if(1===d&&""===c[0])c=[];else for(b=0;b<d;b++)c[b]=a?c[b]:+c[b];return c},getIdField:function(){return this.getModel().prototype.idField},setIds:function(a){var b=this.getStorageObject(),c=a.join(","),d=this.getId();b.removeItem(d),Ext.isEmpty(c)||b.setItem(d,c)},getNextId:function(){var e,c=this,d=c.getStorageObject(),b=c.getRecordCounterKey(),a=c.getIdField().isStringField;return e=c.idGenerator.generate(),d.setItem(b,e),a&&(e+=""),e},getTreeData:function(){for(var g,m,p,l,d,c,n=this,a=n.getIds(),e=a.length,j=[],b={},o=[],k=0,h=n.getModel(),q=h.prototype.idProperty;k<e;k++)c=a[k],m=n.getRecord(c),j.push(m),b[c]=m,m.parentId||o.push(m);for(g=o.length,Ext.Array.sort(j,n.sortByParentId),k=g;k<e;k++)m=j[k],l=m.parentId,p&&p[q]===l||(p=b[l],p.children=d=[]),d.push(m);for(k=e;k--;)m=j[k],m.children||m.leaf||(m.loaded=!0);for(k=g;k--;)m=o[k],o[k]=new h(m);return o},sortByParentId:function(b,a){return(b.parentId||0)-(a.parentId||0)},initialize:function(){var b=this,a=b.getStorageObject(),c=+a.getItem(b.getRecordCounterKey()),d=b.getId();a.setItem(d,a.getItem(d)||""),a.getItem(b.getTreeKey())&&(b.isHierarchical=!0),b.idGenerator=new Ext.data.identifier.Sequential({seed:c?c+1:1})},clear:function(){var b,d=this,e=d.getStorageObject(),c=d.getIds(),a=c.length;for(b=0;b<a;b++)e.removeItem(d.getRecordKey(c[b]));e.removeItem(d.getRecordCounterKey()),e.removeItem(d.getTreeKey()),e.removeItem(d.getId()),d.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,"WebStorage",Ext.data,"WebStorageProxy"],0),Ext.cmd.derive("Ext.data.proxy.LocalStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}},0,0,0,0,["proxy.localstorage"],0,[Ext.data.proxy,"LocalStorage",Ext.data,"LocalStorageProxy"],0),Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(g){var b,d,i=this,e=g.getOperation(),c=e.getRecords(),h=c?c[0]:null,j=i.getFormat(),a=i.getUrl(g);return b=h&&!h.phantom?h.getId():e.getId(),i.getAppendId()&&i.isValidId(b)&&(a.match(i.slashRe)||(a+="/"),a+=encodeURIComponent(b),(d=g.getParams())&&delete d[i.getIdParam()]),j&&(a.match(i.periodRe)||(a+="."),a+=j),g.setUrl(a),Ext.data.proxy.Ajax.prototype.buildUrl.call(this,g)},isValidId:function(a){return a||0===a}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0),Ext.cmd.derive("Ext.data.proxy.SessionStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}},0,0,0,0,["proxy.sessionstorage"],0,[Ext.data.proxy,"SessionStorage",Ext.data,"SessionStorageProxy"],0),Ext.cmd.derive("Ext.data.validator.Bound",Ext.data.validator.Validator,{type:"bound",config:{min:void 0,max:void 0,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var a=this;a.preventConfigure=!0,Ext.data.validator.Validator.prototype.constructor.apply(this,arguments),delete a.preventConfigure,a.configure()},setConfig:function(){var a=this;a.preventConfigure=!0,a.callParent(arguments),delete a.preventConfigure,a.configure()},configure:function(){var b,e,c,a,d=this;d.preventConfigure||(c=d.getMin(),a=d.getMax(),b=d.hasMin=void 0!==c,e=d.hasMax=void 0!==a,b&&e?d._bothMsg=Ext.String.format(d.getBothMessage(),c,a):b?d._minMsg=Ext.String.format(d.getMinOnlyMessage(),c):e&&(d._maxMsg=Ext.String.format(d.getMaxOnlyMessage(),a)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(a){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(g){var e=this,c=e.hasMin,i=e.hasMax,d=e.getMin(),b=e.getMax(),h=this.validateValue(g);return!0!==h?h:(g=e.getValue(g),c&&i?(g<d||g>b)&&(h=e._bothMsg):c?g<d&&(h=e._minMsg):i&&g>b&&(h=e._maxMsg),h)},validateValue:function(a){return void 0!==a&&null!==a||this.getEmptyMessage()},getValue:Ext.identityFn},1,0,0,0,["data.validator.bound"],0,[Ext.data.validator,"Bound"],0),Ext.cmd.derive("Ext.data.validator.Format",Ext.data.validator.Validator,{type:"format",config:{message:"Is in the wrong format",matcher:void 0},validate:function(b){var c=this.getMatcher();return c&&c.test(b)||this.getMessage()}},0,0,0,0,["data.validator.format"],0,[Ext.data.validator,"Format"],0),Ext.cmd.derive("Ext.data.validator.Email",Ext.data.validator.Format,{type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}},0,0,0,0,["data.validator.email"],0,[Ext.data.validator,"Email"],0),Ext.cmd.derive("Ext.data.validator.List",Ext.data.validator.Validator,{type:"list",config:{list:null},inclusion:null,validate:function(c){var b=Ext.Array.contains(this.getList(),c),e=this.inclusion,d=!e;return e&&b||d&&!b||this.getMessage()}},0,0,0,0,["data.validator.list"],0,[Ext.data.validator,"List"],0),Ext.cmd.derive("Ext.data.validator.Exclusion",Ext.data.validator.List,{type:"exclusion",config:{message:"Is a value that has been excluded"},inclusion:!1},0,0,0,0,["data.validator.exclusion"],0,[Ext.data.validator,"Exclusion"],0),Ext.cmd.derive("Ext.data.validator.Inclusion",Ext.data.validator.List,{type:"inclusion",config:{message:"Is not in the list of acceptable values"},inclusion:!0},0,0,0,0,["data.validator.inclusion"],0,[Ext.data.validator,"Inclusion"],0),Ext.cmd.derive("Ext.data.validator.Length",Ext.data.validator.Bound,{type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(a){return String(a).length}},0,0,0,0,["data.validator.length"],0,[Ext.data.validator,"Length"],0),Ext.cmd.derive("Ext.data.validator.Presence",Ext.data.validator.Validator,{type:"presence",config:{message:"Must be present",allowEmpty:!1},validate:function(b){var a=!(void 0===b||null===b);return a&&!this.getAllowEmpty()&&(a=!(""===b)),!!a||this.getMessage()}},0,0,0,0,["data.validator.presence"],0,[Ext.data.validator,"Presence"],0),Ext.cmd.derive("Ext.data.validator.Range",Ext.data.validator.Bound,{type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(a){var b=Ext.data.validator.Bound.prototype.validateValue.call(this,a);return!0===b&&isNaN(a)&&(b=this.getNanMessage()),b}},0,0,0,0,["data.validator.range"],0,[Ext.data.validator,"Range"],0),Ext.cmd.derive("Ext.direct.Event",Ext.Base,{status:!0,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}},1,0,0,0,["direct.event"],0,[Ext.direct,"Event"],0),Ext.cmd.derive("Ext.direct.RemotingEvent",Ext.direct.Event,{getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}},0,0,0,0,["direct.rpc"],0,[Ext.direct,"RemotingEvent"],0),Ext.cmd.derive("Ext.direct.ExceptionEvent",Ext.direct.RemotingEvent,{status:!1},0,0,0,0,["direct.exception"],0,[Ext.direct,"ExceptionEvent"],0),Ext.cmd.derive("Ext.direct.JsonProvider",Ext.direct.Provider,{parseResponse:function(a){var b=a&&a.responseText;return null!=b?Ext.isObject(b)||Ext.isArray(b)?b:Ext.decode(b):null},createEvents:function(b){var g,c,a,h=this,j=null,d=[];try{j=h.parseResponse(b)}catch(k){return g=new Ext.direct.ExceptionEvent({parsingError:!0,data:k,xhr:b,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+k}),[g]}if(Ext.isArray(j))for(c=0,a=j.length;c<a;++c)d.push(h.createEvent(j[c]));else Ext.isObject(j)&&d.push(h.createEvent(j));return d},createEvent:function(a){return"object"==typeof a&&"type"in a?Ext.create("direct."+a.type,a):new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}},0,0,0,0,["direct.jsonprovider"],0,[Ext.direct,"JsonProvider"],0),Ext.cmd.derive("Ext.direct.PollingProvider",Ext.direct.JsonProvider,{type:"polling",interval:3e3,constructor:function(a){var b=this;Ext.direct.JsonProvider.prototype.constructor.call(this,a),b.pollTask=Ext.TaskManager.newTask({run:b.runPoll,interval:b.interval,scope:b})},destroy:function(){this.pollTask=null,Ext.direct.JsonProvider.prototype.destroy.call(this)},doConnect:function(){var c=this,a=c.url,b=c.pollFn;b&&Ext.isString(b)?c.pollFn=b=Ext.direct.Manager.parseMethod(b):Ext.isFunction(a)&&(c.pollFn=b=a,c.url=a=null),(a||b)&&(c.setInterval(c.interval),c.pollTask.start())},doDisconnect:function(){this.pollTask&&this.pollTask.stop()},getInterval:function(){return this.pollTask&&this.pollTask.interval},setInterval:function(a){var b=this,c=b.pollTask;b.interval=c.interval=a,b.isConnected()&&c.restart(a)},runPoll:function(){var a,d,e=this,b=e.url,c=e.pollFn,g=e.baseParams;!1!==e.fireEvent("beforepoll",e)&&(c?(a=c.directCfg.method.getArgs({params:void 0!==g?g:{},callback:e.onPollFn,scope:e}),c.apply(window,a)):(d={url:b,callback:e.onData,scope:e,params:g,headers:e.getHeaders()},null!=e.timeout&&(d.timeout=e.timeout),e.sendAjaxRequest(d)),e.fireEvent("poll",e))},onData:function(e,j,b){var d,a,c,g,h=this;if(j)for(c=h.createEvents(b),d=0,a=c.length;d<a;++d)g=c[d],h.fireEvent("data",h,g),g.status||h.fireEvent("exception",h,g);else g=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:b}),h.fireEvent("data",h,g),h.fireEvent("exception",h,g);Ext.direct.JsonProvider.prototype.onData.call(this,e,j,b)},onPollFn:function(a,c,d,b){this.onData(null,d,{responseText:a})},inheritableStatics:{checkConfig:function(a){return a&&"polling"===a.type&&(a.url||a.pollFn)}}},1,0,0,0,["direct.pollingprovider"],0,[Ext.direct,"PollingProvider"],0),Ext.cmd.derive("Ext.direct.RemotingMethod",Ext.Base,{constructor:function(c){var a,g,b,d,i=this,e=c.params,h=c.len,k=c.metadata,j={};if(i.name=c.name,i.disableBatching=null!=c.batched&&!c.batched,c.formHandler)i.formHandler=c.formHandler;else if(Ext.isNumeric(h))i.len=h,i.ordered=!0;else for(i.named=!0,i.strict=void 0===c.strict||c.strict,i.params={},g=e&&e.length,b=0;b<g;b++)d=e[b],a=Ext.isObject(d)?d.name:d,i.params[a]=!0;if(k){if(e=k.params,h=k.len,Ext.isNumeric(h))j.ordered=!0,j.len=h;else if(Ext.isArray(e)){for(j.named=!0,j.params={},b=0,g=e.length;b<g;b++)d=e[b],j.params[d]=!0;j.strict=void 0===k.strict||k.strict}i.metadata=j}},getArgs:function(b){var d,e,h=this,c=b.params,j=b.paramOrder,k=(b.paramsAsArray,b.metadata),m=b.options,g=[];if(h.ordered){if(h.len>0)if(j)if(b.paramsAsArray&&1===h.len&&(j.length>1||Ext.isArray(c))){if(Ext.isArray(c))for(d=0,e=c.length;d<e;d++)g.push(h.convertParams(c[d],j,j.length,!0));else g=h.convertParams(c,j,j.length,!0);(!c.allowSingle||g.length>1)&&(g=[g])}else g=h.convertParams(c,j,h.len,!1);else g.push(c)}else g.push(c);return g.push(b.callback,b.scope||window),(m||k)&&(m=Ext.apply({},m),k&&(m.metadata=k),g.push(m)),g},convertParams:function(h,b,e,j){var g,d,a,c=[];for(d=0,a=e;d<a;d++)g=b[d],c.push(h[g]);return j?0===c.length?void 0:1===c.length?c[0]:c:c},getCallData:function(g){var b,k,l,a,m,i,h=this,d=null,e=h.len,c=h.params,j=h.strict;if(h.ordered)k=g[e],l=g[e+1],m=g[e+2],0!==e&&(d=g.slice(0,e));else if(h.formHandler)b=g[0],k=g[1],l=g[2],m=g[3];else if(d=Ext.apply({},g[0]),k=g[1],l=g[2],m=g[3],j)for(a in d)d.hasOwnProperty(a)&&!c[a]&&delete d[a];if(h.metadata&&m&&m.metadata){if(h.metadata.ordered)i=m.metadata.slice(0,h.metadata.len);else if(i=Ext.apply({},m.metadata),h.metadata.strict)for(a in i)i.hasOwnProperty(a)&&!h.metadata.params[a]&&delete i[a];delete m.metadata}return{form:b,data:d,metadata:i,callback:k,scope:l,options:m}}},1,0,0,0,0,0,[Ext.direct,"RemotingMethod"],0),Ext.cmd.derive("Ext.direct.Transaction",Ext.Base,{statics:{TRANSACTION_ID:0},constructor:function(a){var b=this;Ext.apply(b,a),b.id=b.tid=++b.self.TRANSACTION_ID,b.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++,a.send()},getProvider:function(){return this.provider}},1,0,0,0,["direct.transaction"],0,[Ext.direct,"Transaction"],0),Ext.cmd.derive("Ext.direct.RemotingProvider",Ext.direct.JsonProvider,{type:"remoting",enableBuffer:10,bufferLimit:Number.MAX_VALUE,maxRetries:1,constructor:function(a){var b=this;Ext.direct.JsonProvider.prototype.constructor.call(this,a),b.namespace=Ext.isString(b.namespace)?Ext.ns(b.namespace):b.namespace||Ext.global,b.callBuffer=[]},connect:function(){Ext.direct.JsonProvider.prototype.connect.call(this)},doConnect:function(){this.apiCreated||(this.initAPI(),this.apiCreated=!0)},getNamespace:function(b,e){var g,d,c,a;for(b=b||Ext.global,g=e.toString().split("."),c=0,a=g.length;c<a;c++)if(d=g[c],void 0===(b=b[d]))return b;return b},createNamespaces:function(b,e){var g,d,c,a;for(b=b||Ext.global,g=e.toString().split("."),c=0,a=g.length;c<a;c++)d=g[c],b[d]=b[d]||{},b=b[d];return b},initAPI:function(){var e,m,c,h,j,a,l,k=this,g=k.actions,d=k.namespace,b=Ext.direct.Manager;for(e in g)if(g.hasOwnProperty(e))for(k.disableNestedActions?(m=d[e])||(m=d[e]={}):(m=k.getNamespace(d,e))||(m=k.createNamespaces(d,e)),c=g[e],h=0,j=c.length;h<j;++h)a=new Ext.direct.RemotingMethod(c[h]),m[a.name]=l=k.createHandler(e,a),b.registerMethod(l.$name,l)},createHandler:function(c,d){var a,b=this;return a=function(){b.invokeFunction(c,d,Array.prototype.slice.call(arguments,0))},a.name=a.$name=c+"."+d.name,a.$directFn=!0,a.directCfg=a.$directCfg={action:c,method:d},a},invokeFunction:function(e,i,b){var g,c,a,h,d=this;g=d.configureTransaction(e,i,b),!1!==d.fireEvent("beforecall",d,g,i)&&(Ext.direct.Manager.addTransaction(g),g.isForm&&(c=g.form,a="multipart/form-data"===String(c.getAttribute("enctype")).toLowerCase(),h={extTID:g.id,extAction:e,extMethod:i.name,extType:"rpc",extUpload:String(a)},g.metadata&&(h.extMetadata=Ext.JSON.encode(g.metadata)),Ext.apply(g,{form:c,isUpload:a,params:h})),d.queueTransaction(g),d.fireEvent("call",d,g,i))},configureTransaction:function(g,i,c){var e,a,d,b,h;return e=i.getCallData(c),a=e.callback,d=e.scope,b=e.options,a=a&&d?Ext.Function.bind(a,d):a,h=Ext.apply({},{provider:this,args:c,action:g,method:i.name,form:e.form,data:e.data,metadata:e.metadata,callbackOptions:b,callback:a,isForm:!!i.formHandler,disableBatching:i.disableBatching}),b&&null!=b.timeout&&(h.timeout=b.timeout),new Ext.direct.Transaction(h)},queueTransaction:function(d){var c=this,b=c.callBuffer,a=c.enableBuffer;if(d.isForm||!1===a||d.disableBatching||null!=d.timeout)return void c.sendTransaction(d);b.push(d),a&&b.length<c.bufferLimit?(c.callTask||(c.callTask=new Ext.util.DelayedTask(c.combineAndSend,c)),c.callTask.delay(Ext.isNumber(a)?a:10)):c.combineAndSend()},combineAndSend:function(){var c=this,b=c.callBuffer,a=b.length;a>0&&(c.sendTransaction(1===a?b[0]:b),c.callBuffer=[])},sendTransaction:function(a){var d,b,c,j,e,g,h=this,k=h.enableUrlEncode;if(d={url:h.url,callback:h.onData,scope:h,transaction:a,headers:h.getHeaders()},null!=a.timeout?d.timeout=a.timeout:null!=h.timeout&&(d.timeout=h.timeout),a.isForm)Ext.apply(d,{params:a.params,form:a.form,isUpload:a.isUpload});else{if(Ext.isArray(a))for(b=[],e=0,g=a.length;e<g;++e)j=h.getPayload(a[e]),b.push(j);else b=h.getPayload(a);k?(c={},c[Ext.isString(k)?k:"data"]=Ext.encode(b),d.params=c):d.jsonData=b}return h.sendAjaxRequest(d)},getPayload:function(b){var a={action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.id};return b.metadata&&(a.metadata=b.metadata),a},onData:function(l,j,c){var d,e,k,a,b,h,g=this;if(k=j&&g.createEvents(c),j=k&&k.length&&!k[0].parsingError)for(d=0,e=k.length;d<e;++d)a=k[d],g.fireEvent("data",g,a),(b=g.getTransaction(a))&&(!1!==g.fireEvent("beforecallback",g,a,b)&&g.runCallback(b,a,!0),Ext.direct.Manager.removeTransaction(b));else for(h=[].concat(l.transaction),a=k[0]||new Ext.direct.ExceptionEvent({data:null,transaction:b,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),d=0,e=h.length;d<e;++d)b=g.getTransaction(h[d]),b&&b.retryCount<g.maxRetries?b.retry():(g.fireEvent("data",g,a),g.fireEvent("exception",g,a),b&&!1!==g.fireEvent("beforecallback",g,a,b)&&g.runCallback(b,a,!1),Ext.direct.Manager.removeTransaction(b));Ext.direct.JsonProvider.prototype.onData.call(this,l,j,c)},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},runCallback:function(g,c){var h,b,a,e=!!c.status,d=e?"success":"failure";g&&g.callback&&(h=g.callback,b=g.callbackOptions,a=void 0!==c.result?c.result:c.data,Ext.isFunction(h)?h(a,c,e,b):(Ext.callback(h[d],h.scope,[a,c,e,b]),Ext.callback(h.callback,h.scope,[a,c,e,b])))},inheritableStatics:{checkConfig:function(a){return a&&"remoting"===a.type&&a.url&&Ext.isArray(a.actions)}}},1,0,0,0,["direct.remotingprovider"],0,[Ext.direct,"RemotingProvider"],0),Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:!0,interval:3e4,constructor:function(){var a=this;a.lastTime=Ext.now(),a.onTick=a.onTick.bind(a),a.resume()},collect:function(){var b,g,c,k,h,j=this,a=Ext.cache;for(b in a)if(a.hasOwnProperty(b)&&(c=a[b],!c.skipGarbageCollection)){g=c.dom;try{h=Ext.isGarbage(g)}catch(i){delete a[b];continue}h&&c&&c.dom&&c.collect()}if(Ext.isIE9m){k={};for(b in a)a.hasOwnProperty(b)&&(k[b]=a[b]);Ext.cache=Ext.dom.Element.cache=k}j.lastTime=Ext.now()},onTick:function(){this.timerId=null,Ext.enableGarbageCollector&&this.collect(),this.resume()},pause:function(){var a=this.timerId;a&&(this.timerId=null,clearTimeout(a))},resume:function(){var a=this,b=a.lastTime;Ext.enableGarbageCollector&&Ext.now()-b>a.interval&&a.collect(),a.timerId||(a.timerId=Ext.defer(a.onTick,a.interval))}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0),Ext.cmd.derive("Ext.dom.TouchAction",Ext.Base,{singleton:!0,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:"x-touch-action-pan-x",panYCls:"x-touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:"data-extTouchAction",constructor:function(){var b=this,a=Ext.supports;a.PointerEvents?b.cssProp="touch-action":a.MSPointerEvents?b.cssProp="-ms-touch-action":a.TouchEvents&&(Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:b,translate:!1,capture:!0,priority:5e3}),Ext.on({scroll:"onScroll",scope:b,destroyable:!0}))},containsTargets:function(h,g){var a,c,b=!0,d="touchend"===g.type?g.changedTouches:g.touches;for(a=0,c=d.length;a<c;a++)if(!h.contains(d[a].target)){b=!1;break}return b},disableOverflow:function(e,c){var a,b,d=this,g=c?"overflow-y":"overflow-x";if(!d.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width)for(d.disabledOverflowDom=e,b=c?d.panXCls:d.panYCls;e;)a=Ext.fly(e).getStyle(g),"auto"!==a&&"scroll"!==a||Ext.fly(e).addCls(b),e=e.parentNode},get:function(c){var a=c.getAttribute(this.attributeName),b=null;return null!=a&&(b=this.objectValues[a]),b},getFlags:function(b){var a;return"number"==typeof b?a=b:(a=0,!1!==b.panX&&(a|=1),!1!==b.panY&&(a|=2),!1!==b.pinchZoom&&(a|=4),!1!==b.doubleTapZoom&&(a|=8)),a},lookupFlags:function(a){return a.getAttribute&&a.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=!0,this.isDoubleTap=!1},onTouchEnd:function(g){var b,d=this,h=g.target;if(0===g.touches.length){if(d.isDoubleTap)for(;h;)b=d.lookupFlags(h),null!=b&&(8&b||g.preventDefault()),h=h.parentNode;d.isDoubleTap=!1,d.preventSingle=null,d.preventMulti=null,d.resetOverflow()}},onTouchMove:function(l){var c,n,q,p,r,b,g,i,h,k,d,m=this,o=null,j=l.target;if(k=m.preventSingle,d=m.preventMulti,(1!==(n=l.touches.length)||!1!==k)&&!1!==d){if(n>1&&!0===d||1===n&&!0===k)o=!0;else for(;j&&(null==(c=m.lookupFlags(j))||(c?1===n?(q=!!(1&c),p=!!(2&c),q&&p?o=!1:q||p?(r=l.getPoint(),b=m.startPoint,g=Ext.Element.getViewportScale(),Math.abs(r.getDistanceTo(m.startPoint)*g)>=m.minMoveDistance&&(i=Math.abs(r.x-b.x),h=Math.abs(r.y-b.y),o=!!(q&&h>i||p&&i>h))):o=!0):o=!(!m.containsTargets(j,l)||4&c):o=!0,!o));)j=j.parentNode;1===n?m.preventSingle=o:n>1&&(m.preventMulti=o),o&&l.preventDefault()}},onTouchStart:function(h){var g,c,i,b,a,d=this;if(1===h.touches.length)for(g=h.time,!d.scrollOccurred&&g-d.lastTouchStartTime<=500&&(d.isDoubleTap=!0),d.lastTouchStartTime=g,d.scrollOccurred=!1,d.startPoint=h.getPoint(),i=h.target;i;){if(null!=(c=d.lookupFlags(i))&&(b=!!(1&c),a=!!(2&c),b!==a)){d.disableOverflow(i,b);break}i=i.parentNode}else d.isDoubleTap=!1},resetOverflow:function(){for(var a=this,b=a.disabledOverflowDom;b;)Ext.fly(b).removeCls([a.panXCls,a.panYCls]),b=b.parentNode;a.disabledOverflowDom=null},set:function(g,e){var d=this,c=d.cssProp,a=d.getFlags(e),b=d.attributeName;c&&Ext.fly(g).setStyle(c,d.cssValues[a]),15===a?g.removeAttribute(b):g.setAttribute(b,a)}},1,0,0,0,0,0,[Ext.dom,"TouchAction"],0),Ext.cmd.derive("Ext.drag.Constraint",Ext.Base,{factoryConfig:{defaultType:"base",type:"drag.constraint"},config:{element:null,horizontal:!1,region:null,snap:null,source:null,vertical:!1,x:null,y:null},constructor:function(a){this.initConfig(a)},applyElement:function(a){return a&&(a="boolean"==typeof a?this.getSource().getElement().parent():Ext.get(a)),a||null},applySnap:function(a){return"number"==typeof a&&(a={x:a,y:a}),a},constrain:function(m,a){var e,i,h=this,k=m[0],j=m[1],l=h.constrainInfo,g=l.initial,d=l.x,c=l.y,b=l.snap;return l.vertical?k=g.x:(b&&b.x&&(k=b.xFn?b.x.call(h,a,k):h.doSnap(k,g.x,b.x)),d&&(e=d[0],i=d[1],null!==e&&k<e&&(k=e),null!==i&&k>i&&(k=i))),l.horizontal?j=g.y:(b&&b.y&&(j=b.yFn?b.y.call(h,a,j):h.doSnap(j,g.y,b.y)),c&&(e=c[0],i=c[1],null!==e&&j<e&&(j=e),null!==i&&j>i&&(j=i))),[k,j]},destroy:function(){this.setSource(null),this.setElement(null),this.callParent()},privates:{constrainValue:function(d,c,i){var h=null,g=null===d,e=null===c;return g&&e||(h=g?c:e?d:i(d,c)),h},doSnap:function(b,c,a){if(!a)return b;var d=(b-c)/a,e=Math.floor(d);return d=d-e<=.5?e:e+1,c+a*d},onDragStart:function(n){var t=this,l=t.getSnap(),a=t.getVertical(),q=t.getHorizontal(),b=t.getElement(),d=t.getRegion(),m=n.proxy,i=m.element,k=t.getX(),j=t.getY(),s=null,r=null,p=null,o=null,h=null,g=null,e=null,c=null;b&&(d=b.getRegion(!0)),d&&(a||(h=d.left,g=d.right-(i?m.width:0)),q||(e=d.top,c=d.bottom-(i?m.height:0))),a||!d&&!k||(k&&(s=k[0],r=k[1]),null===s&&null===r&&null===h&&null===g||(s=t.constrainValue(s,h,Math.max),r=t.constrainValue(r,g,Math.min),k=[s,r])),q||!d&&!j||(j&&(p=j[0],o=j[1]),null===p&&null===o&&null===e&&null===c||(p=t.constrainValue(p,e,Math.max),o=t.constrainValue(o,c,Math.min),j=[p,o])),l&&(l={x:l.x,xFn:"function"==typeof l.x,y:l.y,yFn:"function"==typeof l.y}),t.constrainInfo={initial:n.element.initial,vertical:t.getVertical(),horizontal:t.getHorizontal(),x:k,y:j,snap:l}}}},1,0,0,0,["drag.constraint.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.drag,"Constraint"],0),Ext.cmd.derive("Ext.drag.Info",Ext.Base,{constructor:function(a,h){if(a){var b,l,k,c,i,j=this,m=h.getXY(),g=m[0],d=m[1];j.source=a,b=a.getElement(),m=b.getXY(),l=m[0],k=m[1],j.eventTarget=h.target,j.cursor={current:{x:g,y:d},delta:{x:0,y:0},initial:{x:g,y:d},offset:{x:g-l,y:d-k}},j.element={current:{x:l,y:k},delta:{x:0,y:0},initial:{x:l,y:k}},j.proxy={current:{x:l,y:k},delta:{x:0,y:0},initial:{x:l,y:k},element:b,isUnderCursor:!1,isElement:!0},j.types=[],j.data={},a.describe(j),c=a.getProxy().getElement(j),i=j.proxy,i.isElement=c===a.getElement(),i.element=c,c&&(i.width=c.getWidth(),i.height=c.getHeight()),i.isElement&&(b=j.element,b.current=i.current,b.delta=i.delta),j.needsCursorCheck=i.element&&a.manager&&a.manager.pointerBug}},cursor:null,element:null,eventTarget:null,files:null,isNative:!1,proxy:null,source:null,target:null,types:null,valid:!1,clearData:function(a){Ext.Array.remove(this.types,a),delete this.data[a]},clone:function(){var b=this,a=new Ext.drag.Info;return a.cursor=Ext.merge({},b.cursor),a.data=Ext.apply({},b.data),a.element=Ext.merge({},b.element),a.eventTarget=b.eventTarget,a.proxy=Ext.merge({},b.proxy),
a.source=b.source,a.target=b.target,a.types=Ext.Array.clone(b.types),a.valid=b.valid,a},getData:function(b){var a,d=this,e=d.data,c=d.dataTransfer;return c?a=c.getData(b):(a=e[b],"function"==typeof a&&(e[b]=a=a.call(d.source,d)),a||0===a||(a="")),Ext.Promise.resolve(a)},setData:function(a,b){Ext.Array.include(this.types,a),this.data[a]=b},destroy:function(){var a=this;a.eventTarget=a.data=a.proxy=a.targetMap=a.targetMap=a.types=a.elementMap=a.possibleTargets=a.target=null,a.callParent()},privates:{data:null,dataTransfer:null,elementMap:null,possibleTargets:null,targetMap:null,copyNativeData:function(c,b){var a=b.browserEvent.dataTransfer;this.target=c,this.dataTransfer=a,this.files=a.files},finalize:function(){var b=this,d=b.target;b.source,b.finalized=!0,d&&(d.info=null,d.handleDrop(b))},getAlignXY:function(i,g){var e=this,a=e.source,b=e.cursor.offset,d=a.getProxy(),c=e.proxy.element,h=a.getConstrain(),j=[i,g];return c&&(e.proxy.isElement?(j[0]-=b.x,j[1]-=b.y):j=d.adjustCursorOffset(e,j),h&&(j=h.constrain(j,e))),j},onNativeDragEnter:function(c,b){var a=this;a.valid=c.accepts(a),c.info=a,a.copyNativeData(c,b)},onNativeDragLeave:function(c,b){var a=this;a.target===c&&(c.info=null,a.valid=!1,a.target=a.dataTransfer=a.files=null)},onNativeDragMove:function(b,a){this.copyNativeData(b,a)},onNativeDrop:function(b,a){this.copyNativeData(b,a),b.info=null},setActive:function(d){var a=this,b=a.source,c=a.target,e=c!==d;c&&e&&(c.handleDragLeave(a),c.info=null),a.target=d,d?(e&&(a.valid=!!a.possibleTargets[d.getId()]&&!1!==d.accepts(a),d.handleDragEnter(a),d.info=a),d.handleDragMove(a)):a.valid=!1,e&&b.getProxy().update(a)},update:function(i,m){var k=this,q=i.getXY(),n=q[0],l=q[1],a=k.getAlignXY(n,l),d=a[0],b=a[1],j=k.proxy,p=k.cursor,h=p.current,o=p.delta,g=p.initial,c=j.element;h.x=n,h.y=l,o.x=n-g.x,o.y=l-g.y,h=j.current,o=j.delta,g=j.initial,h.x=d,h.y=b,o.x=d-g.x,o.y=b-g.y,k.needsCursorCheck&&(j.isUnderCursor=!(n<d||l<b||n>j.width+d||l>j.height+b)),!m&&c&&c.setXY(a)}}},1,0,0,0,0,0,[Ext.drag,"Info"],0),Ext.cmd.derive("Ext.drag.Item",Ext.Base,{config:{autoDestroy:!0,element:null,groups:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},isDisabled:function(){return this.disabled},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},applyElement:function(a){return a?Ext.get(a):null},updateElement:function(a){this.setupListeners()},applyGroups:function(a){return"string"==typeof a&&(a=[a]),a},destroy:function(){var b=this,a=b.getElement();b.destroying=!0,b.setElement(null),a&&b.getAutoDestroy()&&a.destroy(),b.callParent(),b.destroying=!1},privates:{disabled:!1,getElListeners:Ext.privateFn,setupListeners:function(a){var b=this,c=b.elListeners;a=a||b.getElement(),c&&(c.destroy(),b.elListeners=null),a&&(b.elListeners=a.on(Ext.apply({scope:b,destroyable:!0},b.getElListeners())))}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.drag,"Item"],0),Ext.cmd.derive("Ext.drag.Manager",Ext.Base,{singleton:!0,dragCls:"x-drag-body",pointerBug:Ext.isTouch||!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera,constructor:function(){this.targets={},this.nativeTargets=[],Ext.onReady(this.init,this)},init:function(){Ext.getDoc().on({scope:this,dragenter:{capture:!0,fn:"onNativeDragEnter"},dragleave:"onNativeDragLeave",dragover:"onNativeDragOver",drop:"onNativeDrop"})},destroy:function(){var b,c=this,a=c.targets;c.destroying=!0;for(b in a)a[b].destroy();c.targets=null,c.callParent(),c.destroying=!1},privates:{elementFromPoint:function(a,b){return Ext.rootInheritedState.rtl&&(a=Ext.Element.getViewportWidth()-a),Ext.dom.Element.fromPagePoint(a,b,!0)},getAtPoint:function(h){var e,c,g=h.cursor.current,b=h.elementMap,d=h.proxy.isUnderCursor,a=this.pointerBug&&d?h.proxy.element.dom:null;for(a&&(a.style.visibility="hidden"),c=this.elementFromPoint(g.x,g.y),a&&(a.style.visibility="visible");c;){if(e=b[c.id])return e;c=c.parentNode}return null},getNativeDragInfo:function(b){var a=this.nativeDragInfo;return a||(this.nativeDragInfo=a=new Ext.drag.Info,a.isNative=!0),a},onDragCancel:function(){Ext.getBody().removeCls(this.dragCls)},onDragEnd:function(b,a){b.finalize(),Ext.getBody().removeCls(this.dragCls)},onDragMove:function(b,a){this.processDrag(b)},onDragStart:function(g,p){var b,o,r,d,s,l,k,q=this,a=g.source,n=q.targets,h=a.getGroups(),j={},c={},m={};m={},c={},h&&(d=Ext.Array.toMap(h));for(b in n){if(o=n[b],!o.isDisabled()){if(s=!1,r=o.getGroups(),d||r){if(d&&r)for(k=0,l=r.length;k<l;++k)if(d[r[k]]){s=!0;break}}else s=!0;s&&(c[b]=o)}j[b]=o,m[o.getElement().id]=o}g.possibleTargets=c,g.targetMap=j,g.elementMap=m,Ext.getBody().addCls(q.dragCls),q.processDrag(g)},onNativeDragEnter:function(c){var a=this.nativeTargets,b=c.target;c.preventDefault(),a[a.length-1]!==b&&a.push(b)},onNativeDragLeave:function(b){var a=this.nativeTargets;Ext.Array.remove(a,b.target),0===a.length&&(this.nativeDragInfo=null)},onNativeDragOver:function(a){a.preventDefault()},onNativeDrop:function(a){a.preventDefault(),this.nativeTargets.length=0,this.nativeDragInfo=null},processDrag:function(a){a.setActive(this.getAtPoint(a))},register:function(a){this.targets[a.getId()]=a},unregister:function(a){this.destroying||delete this.targets[a.getId()]}}},1,0,0,0,0,0,[Ext.drag,"Manager"],0),Ext.cmd.derive("Ext.drag.Source",Ext.drag.Item,{defaultIdPrefix:"source-",config:{activateOnLongPress:!1,activeCls:null,constrain:null,handle:null,proxy:"original",revert:!1},dragging:!1,constructor:function(a){var b=a&&a.describe;b&&(this.describe=b,a=Ext.apply({},a),delete a.describe),Ext.drag.Item.prototype.constructor.call(this,a),this.manager=Ext.drag.Manager},describe:Ext.emptyFn,isDragging:function(){return this.dragging},beforeDragStart:Ext.emptyFn,onDragCancel:Ext.emptyFn,onDragEnd:Ext.emptyFn,onDragMove:Ext.emptyFn,onDragStart:Ext.emptyFn,applyActivateOnLongPress:function(a){return"string"==typeof a&&(a=[a]),a},updateActivateOnLongPress:function(a){this.isConfiguring||this.setupListeners()},updateActiveCls:function(a,b){this.dragging&&(b&&this.getElement().removeCls(b),a&&this.getElement().addCls(a))},applyConstrain:function(a){return a&&!a.$isClass&&(a.isRegion?a={region:a}:!a.isElement&&Ext.isObject(a)||(a={element:a}),a=Ext.apply({source:this},a),a=Ext.Factory.dragConstraint(a)),a},updateElement:function(b,a){b&&!this.getHandle()&&b.setTouchAction({panX:!1,panY:!1}),Ext.drag.Item.prototype.updateElement.call(this,b,a)},updateHandle:function(){this.isConfiguring||this.setupListeners()},applyProxy:function(a){return a&&(a=Ext.Factory.dragproxy(a)),a},updateProxy:function(b,a){a&&a.destroy(),b&&b.setSource(this)},destroy:function(){var a=this;a.manager=a.initialEvent=null,a.setConstrain(null),a.setProxy(null),Ext.drag.Item.prototype.destroy.call(this)},privates:{draggingCls:"x-drag-dragging",info:null,revertCls:"x-drag-revert",canActivateOnLongPress:function(b){var a=this.getActivateOnLongPress();return!(!a||!0!==a&&!Ext.Array.contains(a,b.pointerType))},dragCleanup:function(g){var e=this,b=e.getActiveCls(),c=e.getProxy(),d=e.getElement(),a=g?g.proxy.element:null;b&&d.removeCls(b),a&&a.removeCls(e.draggingCls),c.cleanup(g),e.dragging=!1,e.initialEvent=e.info=null},getElListeners:function(){var b={touchstart:"handleTouchStart",dragstart:"handleDragStart",drag:"handleDragMove",dragend:"handleDragEnd",dragcancel:"handleDragCancel"},a=this.getHandle();return a&&(b.delegate=a),this.getActivateOnLongPress()&&(b.longpress="handleLongPress"),b},handleDragCancel:function(d){var b=this,c=b.info,a=b.manager;a&&a.onDragCancel(c,d),b.onDragCancel(c),b.hasListeners.dragcancel&&b.fireEvent("dragcancel",b,c,d),Ext.fireEvent("dragcancel",b,c,d),b.dragCleanup(c)},handleDragEnd:function(i){if(this.dragging){var g=this,d=g.manager,b=g.getRevert(),h=g.info,c=h.proxy.initial,a=g.info.proxy.element;h.update(i),d&&d.onDragEnd(h,i),g.onDragEnd(h),g.hasListeners.dragend&&g.fireEvent("dragend",g,h,i),Ext.fireEvent("dragend",g,h,i),b&&a?(a.addCls(g.revertCls),a.setXY([c.x,c.y],Ext.apply({callback:function(){a.removeCls(g.revertCls),g.dragCleanup(h)}},b))):g.dragCleanup(h)}},handleDragMove:function(d){var b=this,c=b.info,a=b.manager;b.dragging&&(d.stopPropagation(),d.claimGesture(),c.update(d),a&&a.onDragMove(c,d),b.onDragMove(c),b.hasListeners.dragmove&&b.fireEvent("dragmove",b,c,d))},handleDragStart:function(h){var b,m,c,l,d,j=this,i=j.hasListeners,g=j.manager,k=j.getConstrain(),a=j.initialEvent;return!j.preventStart(h)&&(j.info=c=new Ext.drag.Info(j,a),j.setup(c),k&&k.onDragStart(c),c.update(h,!0),l=!1===j.beforeDragStart(c),!l&&i.beforedragstart&&(l=!1===j.fireEvent("beforedragstart",j,c,h)),l?(j.dragCleanup(),!1):(h.claimGesture(),j.dragging=!0,m=j.getActiveCls(),b=j.getElement(),m&&b.addCls(m),d=c.proxy.element,d&&d.addCls(j.draggingCls),c.update(h),g&&g.onDragStart(c,h),j.onDragStart(c),i.dragstart&&j.fireEvent("dragstart",j,c,h),void Ext.fireEvent("dragstart",j,c,h)))},handleLongPress:function(a){!this.isDisabled()&&this.canActivateOnLongPress(a)&&(this.initialEvent=a,a.startDrag())},handleTouchStart:function(a){this.isDisabled()||(this.initialEvent=a)},preventStart:function(a){return this.isDisabled()||!a.longpress&&this.canActivateOnLongPress(a)},setup:Ext.privateFn}},1,0,0,0,0,0,[Ext.drag,"Source"],0),Ext.cmd.derive("Ext.drag.Target",Ext.drag.Item,{defaultIdPrefix:"target-",config:{invalidCls:"",validCls:""},constructor:function(a){var c=this,b=a&&a.accepts;b&&(c.accepts=b,a=Ext.apply({},a),delete a.accepts),Ext.drag.Item.prototype.constructor.call(this,a),Ext.drag.Manager.register(c)},accepts:function(a){return!0},disable:function(){Ext.drag.Item.prototype.disable.call(this),this.setupListeners(null)},enable:function(){Ext.drag.Item.prototype.enable.call(this),this.setupListeners()},beforeDrop:Ext.emptyFn,onDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragLeave:Ext.emptyFn,onDragMove:Ext.emptyFn,updateInvalidCls:function(a,b){var c=this.info;this.doUpdateCls(c&&!c.valid,a,b)},updateValidCls:function(a,b){var c=this.info;this.doUpdateCls(c&&c.valid,a,b)},destroy:function(){Ext.drag.Manager.unregister(this),Ext.drag.Item.prototype.destroy.call(this)},privates:{doUpdateCls:function(d,a,c){var b=this.getElement();c&&b.removeCls(c),a&&d&&b.addCls(a)},getElListeners:function(){return{dragenter:"handleNativeDragEnter",dragleave:"handleNativeDragLeave",dragover:"handleNativeDragMove",drop:"handleNativeDrop"}},handleDrop:function(d){var c=this,a=c.hasListeners,b=d.valid;return c.getElement().removeCls([c.getInvalidCls(),c.getValidCls()]),!(!b||!1===c.beforeDrop(d))&&(!a.beforedrop||!1!==c.fireEvent("beforedrop",c,d))&&(c.onDrop(d),void(a.drop&&c.fireEvent("drop",c,d)))},handleDragEnter:function(c){var b=this,a=c.valid?b.getValidCls():b.getInvalidCls();a&&b.getElement().addCls(a),b.onDragEnter(c),b.hasListeners.dragenter&&b.fireEvent("dragenter",b,c)},handleDragLeave:function(b){var a=this;a.getElement().removeCls([a.getInvalidCls(),a.getValidCls()]),a.onDragLeave(b),a.hasListeners.dragleave&&a.fireEvent("dragleave",a,b)},handleDragMove:function(b){var a=this;a.onDragMove(b),a.hasListeners.dragmove&&a.fireEvent("dragmove",a,b)},handleNativeDragEnter:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragEnter(a,c),a.hasListeners.dragenter&&a.fireEvent("dragenter",a,b)},handleNativeDragLeave:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragLeave(a,c),a.hasListeners.dragleave&&a.fireEvent("dragleave",a,b)},handleNativeDragMove:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragMove(a,c),a.hasListeners.dragmove&&a.fireEvent("dragmove",a,b)},handleNativeDrop:function(g){var c=this,a=c.hasListeners,d=Ext.drag.Manager.getNativeDragInfo(g),b=d.valid;if(d.onNativeDrop(c,g),b){if(a.beforedrop&&!1===c.fireEvent("beforedrop",c,d))return;a.drop&&c.fireEvent("drop",c,d)}}}},1,0,0,0,0,0,[Ext.drag,"Target"],0),Ext.cmd.derive("Ext.drag.proxy.None",Ext.Base,{factoryConfig:{aliasPrefix:"drag.proxy.",type:"dragproxy"},config:{source:null},constructor:function(a){var b=a&&a.getElement;b&&(this.getElement=b,a=Ext.apply({},a),delete a.getElement),this.initConfig(a)},cleanup:Ext.emptyFn,getElement:function(){return null},update:Ext.emptyFn,privates:{adjustCursorOffset:function(a,b){return b}}},1,0,0,0,["drag.proxy.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.drag.proxy,"None"],0),Ext.cmd.derive("Ext.drag.proxy.Original",Ext.drag.proxy.None,{getElement:function(a){return a.source.getElement()}},0,0,0,0,["drag.proxy.original"],0,[Ext.drag.proxy,"Original"],0),Ext.cmd.derive("Ext.drag.proxy.Placeholder",Ext.drag.proxy.None,{config:{cls:"",cursorOffset:[12,20],html:null,invalidCls:"",validCls:""},placeholderCls:"x-drag-proxy-placeholder",cleanup:function(){var a=this.element;a&&a.hide()},getElement:function(c){var b=this,a=b.element;return a||(b.element=a=Ext.getBody().createChild({cls:b.getCls(),html:b.getHtml()}),a.addCls(b.placeholderCls),a.setTouchAction({panX:!1,panY:!1})),a.show(),a},update:function(e){var c=this.element,b=this.getInvalidCls(),a=this.getValidCls(),d=e.valid;e.target?c.replaceCls(d?b:a,d?a:b):c.removeCls([b,a])},updateCls:function(a,c){var b=this.element;b&&(c&&b.removeCls(c),a&&b.addCls(a))},updateHtml:function(a){var b=this.element;b&&b.setHtml(a||"")},updateInvalidCls:function(a,b){this.doUpdateCls(a,b)},updateValidCls:function(a,b){this.doUpdateCls(a,b)},destroy:function(){this.element=Ext.destroy(this.element),this.callParent()},privates:{adjustCursorOffset:function(b,a){var c=this.getCursorOffset();return c&&(a[0]+=c[0]||0,a[1]+=c[1]||0),a},doUpdateCls:function(b,d){var a,c=this.element;c&&(d&&(a=b&&c.hasCls(d),c.removeCls(d)),b&&a&&c.addCls(b))}}},0,0,0,0,["drag.proxy.placeholder"],0,[Ext.drag.proxy,"Placeholder"],0),Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a),Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(a){return this.cancel(a)},fire:function(a,d,c,b){this.getOnRecognized().call(this.getCallbackScope(),this,a,d,c,b)},cancel:function(a){return this.isStarted&&this.onCancel(a),this.reset()},onCancel:Ext.emptyFn,reset:function(){return this.isStarted=!1,!1}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0),Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{isSingleTouch:!0,onTouchStart:function(a){if(a.touches.length>1)return this.cancel(a)}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0),Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(d){var a,c=this,b=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,d);return!1!==b&&(c.isStarted=!0,a=c.lastStartPoint=d.changedTouches[0].point,c.startPoint=c.startPoint||a,c.startTime=d.time,clearTimeout(c.singleTapTimer)),b},onTouchMove:function(c){var b=this,a=c.changedTouches[0].point,d=Ext.Element.getViewportScale();if(Math.round(Math.abs(a.getDistanceTo(b.lastStartPoint)*d))>=b.getMoveDistance())return b.cancel(c)},onTouchEnd:function(i){var g,c,k=this,h=k.getMaxDuration(),b=i.time,j=i.target,l=k.lastTapTime,d=k.lastTarget,m=i.changedTouches[0].point;if(k.lastTapTime=b,k.lastTarget=j,l&&(g=b-l)<=h&&(c=Ext.Element.getViewportScale(),Math.round(Math.abs(m.getDistanceTo(k.startPoint)*c))<=k.getTapDistance()))return j!==d?k.cancel(i):(k.lastTarget=null,k.lastTapTime=0,k.fire("doubletap",i,{touch:i.changedTouches[0],duration:g}),Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,i));b-k.startTime>h?(k.fire("singletap",i),k.reset()):k.setSingleTapTimer(i)},setSingleTapTimer:function(b){var a=this;a.singleTapTimer=Ext.defer(function(){a.fire("singletap",b),a.reset()},a.getMaxDuration())},reset:function(){var a=this;return clearTimeout(a.singleTapTimer),a.startTime=a.lastTapTime=0,a.lastStartPoint=a.startPoint=a.singleTapTimer=null,Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.doubleTap)}),Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments),this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:!1}},onTouchStart:function(c){var b=this,a=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c);return!1!==a&&(b.startTime=c.time,b.startPoint=c.changedTouches[0].point),a},tryDragStart:function(c){var b=this,a=c.changedTouches[0].point,g=b.getMinDistance(),d=Ext.Element.getViewportScale();Math.round(Math.abs(a.getDistanceTo(b.startPoint)*d))>=g&&b.doDragStart(c)},doDragStart:function(h,b){var d,c=this,i=h.changedTouches[0],a=i.point,g=c.info;b?(d=Ext.now(),c.startTime=d,c.startPoint=a,g.longpress=!0):d=h.time,c.isStarted=!0,c.previousPoint=c.lastPoint=a,c.resetInfo("x",h,i),c.resetInfo("y",h,i),g.time=d,c.fire("dragstart",h,g)},onTouchMove:function(c){var d,a,b=this;b.startPoint&&(b.isStarted||b.tryDragStart(c),b.isStarted&&(d=c.changedTouches[0],a=d.point,b.lastPoint&&(b.previousPoint=b.lastPoint),b.lastPoint=a,b.lastMoveEvent=c,b.updateInfo("x",c,d),b.updateInfo("y",c,d),b.info.time=c.time,b.fire("drag",c,b.info)))},onAxisDragEnd:function(a,c){var b=c.time-c.previousTime[a];b>0&&(c.flick.velocity[a]=(c[a]-c.previous[a])/b)},resetInfo:function(c,h,g){var i=this,j=i.lastPoint[c],a=i.startPoint[c],k=j-a,d=c.toUpperCase(),b=i.info;b.touch=g,b.delta[c]=k,b.absDelta[c]=Math.abs(k),b.previousTime[c]=i.startTime,b.previous[c]=a,b[c]=j,b.direction[c]=0,b["start"+d]=i.startPoint[c],b["previous"+d]=b.previous[c],b["page"+d]=b[c],b["delta"+d]=b.delta[c],b["absDelta"+d]=b.absDelta[c],b["previousDelta"+d]=0,b.startTime=i.startTime},updateInfo:function(d,j,i){var k=this,m=k.lastPoint[d],g=k.previousPoint[d],a=k.startPoint[d],n=m-a,c=k.info,l=c.direction,h=d.toUpperCase(),b=c.previous[d];c.touch=i,c.delta[d]=n,c.absDelta[d]=Math.abs(n),m!==b&&m!==c[d]&&(c.previous[d]=c[d],c.previousTime[d]=c.time),c[d]=m,m>g?l[d]=1:m<g&&(l[d]=-1),c["start"+h]=a,c["previous"+h]=c.previous[d],c["page"+h]=c[d],c["delta"+h]=c.delta[d],c["absDelta"+h]=c.absDelta[d],c["previousDelta"+h]=c.previous[d]-a,c.startTime=k.startTime},onTouchEnd:function(d){var g,a,c,b=this;return b.isStarted&&(g=d.changedTouches[0],a=g.point,c=b.info,b.lastPoint=a,b.updateInfo("x",d,g),b.updateInfo("y",d,g),c.time=d.time,b.onAxisDragEnd("x",c),b.onAxisDragEnd("y",c),b.fire("dragend",d,c)),Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,d)},onCancel:function(c){var a=this,d=c.changedTouches[0],b=a.info;c.touches.length||(a.lastPoint=d.point),a.updateInfo("x",c,d),a.updateInfo("y",c,d),b.time=c.time,a.fire("dragcancel",c,b,!0)},reset:function(){var a=this;return a.lastPoint=a.startPoint=a.previousPoint=a.lastPoint=a.lastMoveEvent=null,a.initInfo(),Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.drag)}),Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(c){var d,b=this,a=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c);return!1!==a&&(d=c.changedTouches[0],b.startTime=c.time,b.isHorizontal=!0,b.isVertical=!0,b.startX=d.pageX,b.startY=d.pageY),a},onTouchMove:function(j){var o,m,a,k=this,i=j.changedTouches[0],n=i.pageX,l=i.pageY,h=n-k.startX,g=l-k.startY,c=Math.abs(n-k.startX),b=Math.abs(l-k.startY),d=j.time-k.startTime;return 0===c&&0===b||d>k.getMaxDuration()?k.cancel(j):(k.isHorizontal&&b>k.getMaxOffset()&&(k.isHorizontal=!1),k.isVertical&&c>k.getMaxOffset()&&(k.isVertical=!1),k.isVertical&&k.isHorizontal||(o=k.getMinDistance(),k.isHorizontal&&c<o?(m=h<0?"left":"right",a=c):k.isVertical&&b<o&&(m=g<0?"up":"down",a=b)),k.isHorizontal||k.isVertical?void(m&&!k.isStarted&&(k.isStarted=!0,k.fire("swipestart",j,{touch:i,direction:m,distance:a,duration:d}))):k.cancel(j))},onTouchEnd:function(j){var i,n,l,h,g,c,b,o,d,m,a,k=this;return!1!==k.onTouchMove(j)&&(i=j.changedTouches[0],n=i.pageX,l=i.pageY,h=n-k.startX,g=l-k.startY,c=Math.abs(h),b=Math.abs(g),o=k.getMinDistance(),d=j.time-k.startTime,k.isVertical&&b<o&&(k.isVertical=!1),k.isHorizontal&&c<o&&(k.isHorizontal=!1),k.isHorizontal?(m=h<0?"left":"right",a=c):k.isVertical&&(m=g<0?"up":"down",a=b),k.fire("swipe",j,{touch:i,direction:m,distance:a,duration:d})),Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,j)},onCancel:function(a){this.fire("swipecancel",a,null,!0)},reset:function(){var a=this;return a.startTime=a.isHorizontal=a.isVertical=a.startX=a.startY=null,Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.swipe)}),Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(c){var d,b=this,a=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,c);return!1!==a&&(d=c.changedTouches[0],b.direction=null,b.isHorizontal=!0,b.isVertical=!0,b.startX=d.pageX,b.startY=d.pageY),a},onTouchMove:function(l){var o,a,m=this,j=l.changedTouches[0],q=j.pageX,n=j.pageY,i=q-m.startX,h=n-m.startY,b=Math.abs(n-m.startY),c=Math.abs(q-m.startX),r=m.getMinDistance(),g=m.getMaxOffset(),d=l.time-m.startTime,p=Ext.Viewport&&Ext.Element.getViewportWidth(),k=Ext.Viewport&&Ext.Element.getViewportHeight();if(m.isVertical&&c>g&&(m.isVertical=!1),m.isHorizontal&&b>g&&(m.isHorizontal=!1),m.isVertical&&m.isHorizontal&&(b>c?m.isHorizontal=!1:m.isVertical=!1),m.isHorizontal?(o=i<0?"left":"right",a=i):m.isVertical&&(o=h<0?"up":"down",a=h),o=m.direction||(m.direction=o),"up"===o?a=-1*h:"left"===o&&(a=-1*i),m.distance=a,!a)return m.cancel(l);if(m.isStarted)m.fire("edgeswipe",l,{touch:j,direction:o,distance:a,duration:d});else{if("right"===o&&m.startX>r||"down"===o&&m.startY>r||"left"===o&&p-m.startX>r||"up"===o&&k-m.startY>r)return m.cancel(l);m.isStarted=!0,m.startTime=l.time,m.fire("edgeswipestart",l,{touch:j,direction:o,distance:a,duration:d})}},onTouchEnd:function(c){var b,a=this;return!1!==a.onTouchMove(c)&&(b=c.time-a.startTime,a.fire("edgeswipeend",c,{touch:c.changedTouches[0],direction:a.direction,distance:a.distance,duration:b})),this.reset()},onCancel:function(a){this.fire("edgeswipecancel",a,{touch:a.changedTouches[0]},!0)},reset:function(){var a=this;return a.direction=a.isHorizontal=a.isVertical=a.startX=a.startY=a.startTime=a.distance=null,Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.edgeSwipe)}),Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress","taphold"],onTouchStart:function(c){var b=this,a=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c);return!1!==a&&(b.startPoint=c.changedTouches[0].point,b.setLongPressTimer(c)),a},setLongPressTimer:function(b){var a=this;a.timer=Ext.defer(a.fireLongPress,a.getMinDuration(),a,[b])},onTouchMove:function(c){var b=this,a=c.changedTouches[0].point,d=Ext.Element.getViewportScale();if(Math.round(Math.abs(a.getDistanceTo(b.startPoint)*d))>=b.getMoveDistance())return b.cancel(c)},reset:function(){var a=this;return clearTimeout(a.timer),a.timer=a.startPoint=null,Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(c){var a=this,b={touch:c.changedTouches[0],duration:a.getMinDuration(),startDrag:a.startDrag};this.fire("taphold",c,b),this.fire("longpress",c,b),this.reset()},startDrag:function(){var b=Ext.event.gesture.Drag.instance,a=this.parentEvent;b.doDragStart(a,!0),Ext.event.publisher.Gesture.instance.claimRecognizer(b,a)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.longPress)}),Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(g){var b=this,a=b.requiredTouchesCount,d=g.touches,c=d.length;if(c===a)b.isTracking=!0;else if(c>a)return b.cancel(g)},reset:function(){return this.isTracking=!1,Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0),Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(d){var c,g,a,h,b=this;if(b.isTracking){if(c=d.touches,g=c[0].point,a=c[1].point,0===(h=g.getDistanceTo(a)))return;b.isStarted?b.fire("pinch",d,{touches:c,distance:h,scale:h/b.startDistance}):(b.isStarted=!0,b.startDistance=h,b.fire("pinchstart",d,{touches:c,distance:h,scale:1}))}},onTouchEnd:function(a){return this.isStarted&&this.fire("pinchend",a),Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire("pinchcancel",a,null,!0)},reset:function(){return this.lastTouches=null,this.startDistance=0,Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.pinch)}),Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(i){var h,b,d,g,c,a,k,l,j=this;j.isTracking&&(h=i.touches,b=j.lastAngle,d=h[0].point,g=h[1].point,c=d.getAngleTo(g),null!==b&&(l=Math.abs(b-c),a=c+360,k=c-360,Math.abs(a-b)<l?c=a:Math.abs(k-b)<l&&(c=k)),j.lastAngle=c,j.isStarted?j.fire("rotate",i,{touches:h,angle:c,rotation:c-j.startAngle}):(j.isStarted=!0,j.startAngle=c,j.fire("rotatestart",i,{touches:h,angle:c,rotation:0})),j.lastTouches=Ext.Array.clone(h))},onTouchEnd:function(a){return this.isStarted&&this.fire("rotateend",a),Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire("rotatecancel",a,null,!0)},reset:function(){var a=this;return a.lastTouches=a.lastAngle=a.startAngle=null,Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.rotate)}),Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(c){var b=this,a=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c);return!1!==a&&(b.isStarted=!0,b.startPoint=c.changedTouches[0].point),a},onTouchMove:function(c){var b=this,a=c.changedTouches[0].point,d=Ext.Element.getViewportScale();if(Math.round(Math.abs(a.getDistanceTo(b.startPoint)*d))>=b.getMoveDistance())return b.cancel(c)},onTouchEnd:function(a){return this.fire("tap",a,{touch:a.changedTouches[0]}),Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire("tapcancel",a,{touch:a.changedTouches[0]},!0)},reset:function(){return this.startPoint=null,Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.tap)}),Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(c){var b=this,a=c.relatedTarget;"focusout"===c.type?null==a&&b.processFocusIn(c,c.target,document.body):(null!=a&&a.tagName||(a=document.body),b.processFocusIn(c,a,c.target))},processFocusIn:function(j,k,c){var m,b,a,h,g,d,l=this,i=[];if(g=Ext.fly(k),d=Ext.fly(c),!(g&&g.isFocusSuspended()||d&&d.isFocusSuspended())){for(b=k,m=Ext.dom.Element.getCommonAncestor(c,k,!0);b&&b!==m;b=b.parentNode)i.push(b);if(!i.length||(a=l.createSyntheticEvent("focusleave",j,k,c),l.publish(a,i),!a.stopped)){for(i.length=0,b=c;b&&b!==m;b=b.parentNode)i.push(b);h=l.createSyntheticEvent("focusenter",j,c,k),i.length&&(l.publish(h,i),h.stopped)||(i=l.getPropagatingTargets(m),i.length&&(a=l.createSyntheticEvent("focusmove",j,c,k),l.publish(a,i),a.stopped)||Ext.GlobalEvents.fireEvent("focus",{event:h,toElement:c,fromElement:k}))}}},createSyntheticEvent:function(b,e,d,a){var c=new Ext.event.Event(e);return c.type=b,c.relatedTarget=a,c.target=d,c}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(b){var a;b.instance=new b,Ext.supports.FocusinFocusoutEvents||this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(d){var g,c=this;c.callSuper([d]),g=d.target!==window&&d.target!==document,"blur"===d.type?(g?a=setTimeout(function(){a=0,c.processFocusIn(d,d.target,document.body),b.previousActiveElement=null},0):d.explicitOriginalTarget===b.previousActiveElement&&d.target===window&&(clearTimeout(a),a=0,c.processFocusIn(d,b.previousActiveElement,document.body),b.previousActiveElement=null),b.previousActiveElement=g?d.target:null):(clearTimeout(a),a=0,c.processFocusIn(d,b.previousActiveElement||document.body,g?d.target:document.body))}})}),Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(a){this.data={},this.set(a)},setConfig:function(a){return this.set(a),this},setRaw:function(a){return this.data=a,this},clear:function(){return this.setRaw({})},setTransform:function(c,h){var e,d,g=this.data,a=Ext.isArray(h),b=g.transform;if(b||(b=g.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}),"string"==typeof c)switch(c){case"translate":if(a){if(0==(e=h.length))break;if(b.translateX=h[0],1==e)break;if(b.translateY=h[1],2==e)break;b.translateZ=h[2]}else b.translateX=h;break;case"rotate":if(a){if(0==(e=h.length))break;if(b.rotateX=h[0],1==e)break;if(b.rotateY=h[1],2==e)break;b.rotateZ=h[2]}else b.rotate=h;break;case"scale":if(a){if(0==(e=h.length))break;if(b.scaleX=h[0],1==e)break;if(b.scaleY=h[1],2==e)break;b.scaleZ=h[2]}else b.scaleX=h,b.scaleY=h;break;case"skew":if(a){
if(0==(e=h.length))break;if(b.skewX=h[0],1==e)break;b.skewY=h[1]}else b.skewX=h;break;default:b[c]=h}else for(d in c)c.hasOwnProperty(d)&&(h=c[d],this.setTransform(d,h))},set:function(a,d){var b,c=this.data;if("string"!=typeof a)for(b in a)d=a[b],"transform"===b?this.setTransform(d):c[b]=d;else"transform"===a?this.setTransform(d):c[a]=d;return this},unset:function(a){var b=this.data;return b.hasOwnProperty(a)&&delete b[a],this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0),Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:!0,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},Ext.Evented.prototype.constructor.apply(this,arguments),this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},applyAfter:function(b,a){if(b)return Ext.factory(b,Ext.fx.State,a)},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var b,c=this.stateNameRegex;for(b in a)c.test(b)&&this.setState(b,a[b]);return this},getStates:function(){return this.states},updateCallback:function(a){a&&this.setOnEnd(a)},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop(),Ext.Evented.prototype.destroy.call(this)},setState:function(b,d){var c,a=this.getStates();return c=Ext.factory(d,Ext.fx.State,a[b]),c&&(a[b]=c),this},getState:function(a){return this.getStates()[a]},getData:function(){var d,b,a,h=this,m=h.getStates(),e={},i=h.getBefore(),c=h.getAfter(),j=m[h.STATE_FROM],k=m[h.STATE_TO],l=j.getData(),g=k.getData();for(b in m)m.hasOwnProperty(b)&&(a=m[b],d=a.getData(),e[b]=d);return{before:i?i.getData():{},after:c?c.getData():{},states:e,from:l,to:g,duration:h.getDuration(),iteration:h.getIteration(),direction:h.getDirection(),easing:h.getEasing(),delay:h.getDelay(),onEnd:h.getOnEnd(),onBeforeEnd:h.getOnBeforeEnd(),onBeforeStart:h.getOnBeforeStart(),scope:h.getScope(),preserveEndState:h.getPreserveEndState(),replacePrevious:h.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0),Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){return"auto"===a?"ease-"+(this.getOut()?"in":"out"):a},getContainerBox:function(){var a=this._containerBox;return"auto"===a&&(a=this.getElement().getParent().getBox()),a},getElementBox:function(){var a=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():("auto"===a&&(a=this.getElement().getBox()),a)},getData:function(){var m,k,l,j,q=this.getElementBox(),c=this.getContainerBox(),h=q||c,o=this.getFrom(),p=this.getTo(),g=this.getOut(),e=this.getOffset(),n=this.getDirection(),b=this.getUseCssTransform(),i=this.getReverse(),d=0,a=0;switch(i&&(n=this.reverseDirectionMap[n]),n){case this.DIRECTION_UP:a=g?c.top-h.top-h.height-e:c.bottom-h.bottom+h.height+e;break;case this.DIRECTION_DOWN:a=g?c.bottom-h.bottom+h.height+e:c.top-h.height-h.top-e;break;case this.DIRECTION_RIGHT:d=g?c.right-h.right+h.width+e:c.left-h.left-h.width-e;break;case this.DIRECTION_LEFT:d=g?c.left-h.left-h.width-e:c.right-h.right+h.width+e}return m=g?0:d,k=g?0:a,b?o.setTransform({translateX:m,translateY:k}):(o.set("left",m),o.set("top",k)),l=g?d:0,j=g?a:0,b?p.setTransform({translateX:l,translateY:j}):(p.set("left",l),p.set("top",j)),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0),Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:!0}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0),Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var c=this.getTo(),b=this.getFrom();a?(b.set("opacity",1),c.set("opacity",0)):(b.set("opacity",0),c.set("opacity",1))}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0),Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:!0,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0),Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var h=this,j=h.getFrom(),k=h.getTo(),i=h.getDirection(),b=h.getOut(),n=h.getHalf(),c=n?90:180,e=1,a=1,m=0,l=0,g=0,d=0;switch(b?a=.8:e=.8,i){case this.DIRECTION_UP:b?g=c:m=-c;break;case this.DIRECTION_DOWN:b?g=-c:m=c;break;case this.DIRECTION_RIGHT:b?d=c:l=-c;break;case this.DIRECTION_LEFT:b?d=-c:l=c}return j.setTransform({rotateX:m,rotateY:l,scale:e}),k.setTransform({rotateX:g,rotateY:d,scale:a}),Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0),Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var c=this.getTo(),b=this.getFrom();return this.getOut()?(b.set("opacity",1),b.setTransform({scale:1}),c.set("opacity",0),c.setTransform({scale:0})):(b.set("opacity",0),b.setTransform({scale:0}),c.set("opacity",1),c.setTransform({scale:1})),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0),Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:!0,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0),Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(b){var c,a=Ext.fx.animation.Abstract;return"string"==typeof b?(c=b,b={}):b&&b.type&&(c=b.type),c&&(a=Ext.ClassManager.getByAlias("animation."+c)),Ext.factory(b,a)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0),Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0,x:!0,y:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:!0,y:!0},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var a=this;a.transformMethods=Ext.feature.has.Css3dTransforms?a.transformMethods3d:a.transformMethodsNo3d,a.vendorPrefix=Ext.browser.getStyleDashPrefix(),a.ruleStylesCache={},Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var a,b,c=this.styleSheet;return c||(a=document.createElement("style"),a.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(a),b=document.styleSheets,this.styleSheet=c=b[b.length-1]),c},applyRules:function(j){var c,e,i,b,d,a,g,h=this.getStyleSheet(),l=this.ruleStylesCache,k=h.cssRules;for(c in j){e=j[c],i=l[c],void 0===i&&(d=k.length,h.insertRule(c+"{}",d),i=l[c]=k.item(d).style),(b=i.$cache)||(b=i.$cache={});for(a in e)g=this.formatValue(e[a],a),a=this.formatName(a),b[a]!==g&&(b[a]=g,null===g?i.removeProperty(a):i.setProperty(a,g,"important"))}return this},applyStyles:function(d){var h,c,g,b,a,e;for(h in d)if(d.hasOwnProperty(h)){if(this.activeElement=c=document.getElementById(h),!c)continue;g=c.style,b=d[h];for(a in b)b.hasOwnProperty(a)&&(e=this.formatValue(b[a],a),a=this.formatName(a),null===e?g.removeProperty(a):g.setProperty(a,e,"important"))}return this.activeElement=null,this},formatName:function(b){var a=this.formattedNameCache,c=a[b];return c||(c=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[b]?b:this.vendorPrefix+b,a[b]=c),c},formatValue:function(l,b){var e,a,d,g,c,m,k,h=typeof l,n=this.DEFAULT_UNIT_LENGTH,j=this.customProperties[b];if(null===l)return"";if("string"===h)return!this.lengthProperties[b]||(k=l.match(this.lengthUnitRegex)[1],k.length>0)?l:(l+=n,j&&(l=this.getCustomValue(l,b)),l);if("number"===h){if(0==l)return"0";if(this.lengthProperties[b])return l+=n,j&&(l=this.getCustomValue(l,b)),l;if(this.angleProperties[b])return l+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[b])return l+this.DEFAULT_UNIT_DURATION}else{if("transform"===b){for(e=this.transformMethods,c=[],d=0,g=e.length;d<g;d++)a=e[d],c.push(a+"("+this.formatValue(l[a],a)+")");return c.join(" ")}if(Ext.isArray(l)){for(m=[],d=0,g=l.length;d<g;d++)m.push(this.formatValue(l[d],b));return m.length>0?m.join(", "):"none"}}return l},getCustomValue:function(d,a){var b=Ext.fly(this.activeElement),c=d.match(this.lengthUnitRegex)[1];return"x"===a?d=b.translateXY(parseInt(d,10)).x:"y"===a&&(d=b.translateXY(null,parseInt(d,10)).y),d+c}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0),Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:!0,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(b){var a=b.target,c=a.id;c&&this.runningAnimationsData.hasOwnProperty(c)&&this.refreshRunningAnimationsData(Ext.get(a),[b.browserEvent.propertyName])},getElementId:function(a){return a.getId?a.getId():a.id},onAnimationEnd:function(h,g,d,k,o){var b,j,e,m,a,c=this.getElementId(h),l=this.runningAnimationsData[c],p={},n={};if(d.un("stop","onAnimationStop",this),l&&(b=l.nameMap),p[c]=n,g.onBeforeEnd&&g.onBeforeEnd.call(g.scope||this,h,k),d.fireEvent("animationbeforeend",d,h,k),this.fireEvent("animationbeforeend",this,d,h,k),o||!k&&!g.preserveEndState)for(j=g.toPropertyNames,e=0,m=j.length;e<m;e++)a=j[e],b&&!b.hasOwnProperty(a)&&(n[a]=null);g.after&&Ext.merge(n,g.after),this.applyStyles(p),g.onEnd&&g.onEnd.call(g.scope||this,h,k),d.fireEvent("animationend",d,h,k),this.fireEvent("animationend",this,d,h,k),Ext.AnimationQueue.stop(Ext.emptyFn,d)},onAllAnimationsEnd:function(b){var c=this.getElementId(b),a={};delete this.runningAnimationsData[c],a[c]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(a),this.fireEvent("animationallend",this,b)},hasRunningAnimations:function(a){var c=this.getElementId(a),b=this.runningAnimationsData;return b.hasOwnProperty(c)&&b[c].sessions.length>0},refreshRunningAnimationsData:function(d,l,u,q){var h=this.getElementId(d),r=this.runningAnimationsData,a=r[h];if(a){var g,k,e,v,m,c,s,p,n=a.nameMap,t=a.nameList,b=a.sessions,o=!1;if(u=Boolean(u),q=Boolean(q),!b)return this;if(0===(g=b.length))return this;if(q){for(a.nameMap={},t.length=0,m=0;m<g;m++)c=b[m],this.onAnimationEnd(d,c.data,c.animation,u,q);b.length=0}else for(m=0;m<g;m++){for(c=b[m],s=c.map,p=c.list,k=0,e=l.length;k<e;k++)v=l[k],s[v]&&(delete s[v],Ext.Array.remove(p,v),c.length--,0==--n[v]&&(delete n[v],Ext.Array.remove(t,v)));0==c.length&&(b.splice(m,1),m--,g--,o=!0,this.onAnimationEnd(d,c.data,c.animation,u))}q||u||0!=b.length||!o||this.onAllAnimationsEnd(d)}},getRunningData:function(b){var a=this.runningAnimationsData;return a.hasOwnProperty(b)||(a[b]={nameMap:{},nameList:[],sessions:[]}),a[b]},getTestElement:function(){var e,a,c=this,d=c.testElement,b=c.iframe;return d?d.ownerDocument.defaultView!==b.contentWindow&&(b.contentDocument.body.appendChild(d),c.testElementComputedStyle=e.defaultView.getComputedStyle(d)):(b=c.iframe=document.createElement("iframe"),b.setAttribute("tabIndex",-1),a=b.style,a.setProperty("visibility","hidden","important"),a.setProperty("width","0px","important"),a.setProperty("height","0px","important"),a.setProperty("position","absolute","important"),a.setProperty("border","0px","important"),a.setProperty("zIndex","-1000","important"),document.body.appendChild(b),e=b.contentDocument,e.open(),e.writeln("</body>"),e.close(),c.testElement=d=e.createElement("div"),d.style.setProperty("position","absolute","important"),e.body.appendChild(d),c.testElementComputedStyle=e.defaultView.getComputedStyle(d)),d},getCssStyleValue:function(b,e){var d=this.getTestElement(),a=this.testElementComputedStyle,c=d.style;return c.setProperty(b,e),Ext.browser.is.Firefox&&d.offsetHeight,e=a.getPropertyValue(b),c.removeProperty(b),e},run:function(K){var l,a,m,L,z,J,u,p,d,c,b,G,F,y,M,H,A,t,o,g,k,r,D,s,n,e,E,B,q=this,v=Ext.Function,x=q.lengthProperties,w={},h={},I={},C={};for(q.listenersAttached||q.attachListeners(),K=Ext.Array.from(K),G=0,y=K.length;G<y;G++){M=K[G],M=Ext.factory(M,Ext.fx.Animation),q.activeElement=l=M.getElement(),Ext.AnimationQueue.start(Ext.emptyFn,M),t=window.getComputedStyle(l.dom),a=q.getElementId(l),I[a]=I=Ext.merge({},M.getData()),M.onBeforeStart&&M.onBeforeStart.call(M.scope||q,l),M.fireEvent("animationstart",M,I),q.fireEvent("animationstart",q,M,I),z=I.before,m=I.from,L=I.to,I.fromPropertyNames=J=[],I.toPropertyNames=u=[];for(g in L)L.hasOwnProperty(g)&&(L[g]=k=q.formatValue(L[g],g),o=q.formatName(g),s=x.hasOwnProperty(g),s||(k=q.getCssStyleValue(o,k)),m.hasOwnProperty(g)?(m[g]=D=q.formatValue(m[g],g),s||(D=q.getCssStyleValue(o,D)),k!==D&&(J.push(o),u.push(o))):(r=t.getPropertyValue(o),k!==r&&u.push(o)));if(0!==(H=u.length)){for(c=q.getRunningData(a),E=c.sessions,E.length>0&&q.refreshRunningAnimationsData(l,Ext.Array.merge(J,u),!0,I.replacePrevious),n=c.nameMap,e=c.nameList,A={},F=0;F<H;F++)g=u[F],A[g]=!0,n.hasOwnProperty(g)?n[g]++:(n[g]=1,e.push(g));B={element:l,map:A,list:u.slice(),length:H,data:I,animation:M},E.push(B),M.on("stop","onAnimationStop",q),b=Ext.apply({},z),Ext.apply(b,m),e.length>0&&(J=Ext.Array.difference(e,J),u=Ext.Array.merge(J,u),b["transition-property"]=J),w[a]=b,h[a]=Ext.apply({},L),C[a]={"transition-property":u,"transition-duration":I.duration,"transition-timing-function":I.easing,"transition-delay":I.delay},M.startTime=Date.now()}else q.onAnimationEnd(l,I,M)}q.activeElement=null,d=q.$className,q.applyStyles(w),p=function(i){i.data===d&&i.source===window&&(window.removeEventListener("message",p,!1),q.applyStyles(h))},v.requestAnimationFrame(function(){Ext.isIE?(q.applyStyles(C),v.requestAnimationFrame(function(){window.addEventListener("message",p,!1),window.postMessage(d,"*")})):(Ext.merge(h,C),window.addEventListener("message",p,!1),window.postMessage(d,"*"))})},onAnimationStop:function(d){var j,a,h,b,c,e,g=this.runningAnimationsData;for(j in g)if(g.hasOwnProperty(j))for(a=g[j],h=a.sessions,b=0,c=h.length;b<c;b++)e=h[b],e.animation===d&&this.refreshRunningAnimationsData(e.element,e.list.slice(),!1)}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0),Ext.cmd.derive("Ext.fx.Runner",Ext.Base,{constructor:function(){return new Ext.fx.runner.CssTransition}},1,0,0,0,0,0,[Ext.fx,"Runner"],0),Ext.cmd.derive("Ext.fx.animation.Cube",Ext.fx.animation.Abstract,{config:{before:{},after:{},direction:"right",out:!1},getData:function(){var n=this.getTo(),o=this.getFrom(),l=this.getBefore(),a=this.getAfter(),e=this.getOut(),k=this.getDirection(),b=this.getElement(),h=b.getWidth(),m=(b.getHeight(),e?"100% 100%":"0% 0%"),j=1,d=1,g={rotateY:0,translateZ:0},i={rotateY:0,translateZ:0};return"left"!=k&&"right"!=k||(e?(d=.5,i.translateZ=h,i.rotateY=-90):(j=.5,g.translateZ=h,g.rotateY=90)),l["transform-origin"]=m,a["transform-origin"]=null,n.set("transform",i),o.set("transform",g),o.set("opacity",j),n.set("opacity",d),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.cube"],0,[Ext.fx.animation,"Cube"],0),Ext.cmd.derive("Ext.fx.animation.Wipe",Ext.fx.Animation,{alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var p,e,i=this,a=i.getElement(),h=a.dom.getBoundingClientRect(),o=h.width,g=h.height,m=i.getFrom(),n=i.getTo(),d=i.getOut(),k=i.getDirection(),c=0,b=0,l=0,j=0;switch(k){case"up":d?(p="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",b=3*g+"px",j=g+"px"):(p="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",b=2*-g+"px",j=0);break;case"down":d?(p="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",b=2*-g+"px",j=0):(p="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",b=3*g+"px",j=g+"px");break;case"right":d?(p="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-o+"px",l=0):(p="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",l=2*-o+"px");break;case"left":d?(p="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",l=2*-o+"px"):(p="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-o+"px",l=0)}d||(e=b,b=j,j=e,e=c,c=l,l=e),m.set("mask-image",p),m.set("mask-size",3*o+"px "+3*g+"px"),m.set("mask-position-x",c),m.set("mask-position-y",b),n.set("mask-position-x",l),n.set("mask-position-y",j)}},0,0,0,0,0,0,[Ext.fx.animation,"Wipe",Ext.fx.animation,"WipeIn"],0),Ext.cmd.derive("Ext.fx.animation.WipeOut",Ext.fx.animation.Wipe,{config:{out:!0}},0,0,0,0,0,0,[Ext.fx.animation,"WipeOut"],0),Ext.cmd.derive("Ext.fx.easing.Bounce",Ext.fx.easing.Abstract,{config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),c=b/this.getAcceleration(),a=c*Math.pow(Math.E,-this.getSpringTension()*c);return this.getStartValue()+this.getStartVelocity()*a}},0,0,0,0,0,0,[Ext.fx.easing,"Bounce"],0),Ext.cmd.derive("Ext.fx.easing.Momentum",Ext.fx.easing.Abstract,{config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-b/10);this.theta=a,this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a,this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}},0,0,0,0,0,0,[Ext.fx.easing,"Momentum"],0),Ext.cmd.derive("Ext.fx.easing.BoundMomentum",Ext.fx.easing.Abstract,{config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a),Ext.fx.easing.Abstract.prototype.updateStartTime.apply(this,arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,Ext.fx.easing.Abstract.prototype.reset.apply(this,arguments)},getValue:function(){var j,b,a=this.getMomentum(),k=this.getBounce(),e=a.getStartVelocity(),g=e>0?1:-1,h=this.getMinMomentumValue(),d=this.getMaxMomentumValue(),c=1==g?d:h,i=this.lastValue;if(0===e)return this.getStartValue();if(!this.isOutOfBound){if(j=a.getValue(),b=a.getVelocity(),Math.abs(b)<this.getMinVelocity()&&(this.isEnded=!0),j>=h&&j<=d)return j;this.isOutOfBound=!0,k.setStartTime(Ext.Date.now()).setStartVelocity(b).setStartValue(c)}return j=k.getValue(),this.isEnded||(this.isBouncingBack?Math.round(j)==c&&(this.isEnded=!0):null!==i&&(1==g&&j<i||-1==g&&j>i)&&(this.isBouncingBack=!0)),this.lastValue=j,j}},0,0,0,0,0,0,[Ext.fx.easing,"BoundMomentum"],0),Ext.cmd.derive("Ext.fx.easing.EaseIn",Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var c=Ext.Date.now()-this.getStartTime(),h=this.getDuration(),b=this.getStartValue(),a=this.getEndValue(),i=this.distance,e=c/h,d=Math.pow(e,this.getExponent()),g=b+d*i;return c>=h?(this.isEnded=!0,a):g}},0,0,0,0,["easing.ease-in"],0,[Ext.fx.easing,"EaseIn"],0),Ext.cmd.derive("Ext.fx.easing.EaseOut",Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var g=Ext.Date.now()-this.getStartTime(),d=this.getDuration(),b=this.getStartValue(),i=this.getEndValue(),a=this.distance,c=g/d,h=1-c,e=1-Math.pow(h,this.getExponent()),j=b+e*a;return g>=d?(this.isEnded=!0,i):j}},0,0,0,0,["easing.ease-out"],0,[Ext.fx.easing,"EaseOut"],0),Ext.cmd.derive("Ext.fx.easing.Easing",Ext.Base,{constructor:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")}},1,0,0,0,0,0,[Ext.fx.easing,"Easing"],0),Ext.cmd.derive("Ext.fx.layout.card.Abstract",Ext.Evented,{isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(a){a&&this.enable()},enable:function(){var a=this.getLayout();a&&a.on("beforeactiveitemchange","onActiveItemChange",this)},disable:function(){var a=this.getLayout();this.isAnimating&&this.stopAnimation(),a&&a.un("beforeactiveitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var b=this,a=b.getLayout();b.isAnimating&&b.stopAnimation(),a&&a.un("beforeactiveitemchange","onActiveItemChange",this),b.setLayout(null),b.observableId&&b.fireEvent("destroy",this),Ext.Evented.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.fx.layout.card,"Abstract"],0),Ext.cmd.derive("Ext.fx.layout.card.Style",Ext.fx.layout.card.Abstract,{config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(b){var c,a;Ext.fx.layout.card.Abstract.prototype.constructor.call(this,b),this.endAnimationCounter=0,c=this.getInAnimation(),a=this.getOutAnimation(),c.on("animationend","incrementEnd",this),a.on("animationend","incrementEnd",this)},updateDirection:function(a){this.getInAnimation().setDirection(a),this.getOutAnimation().setDirection(a)},updateDuration:function(a){this.getInAnimation().setDuration(a),this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)},incrementEnd:function(){++this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},applyOutAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(g,d,i,b){var h,a,e,c;d&&i&&i.isPainted()&&(e=this.getInAnimation(),c=this.getOutAnimation(),h=d.renderElement,a=i.renderElement,e.setElement(h),c.setElement(a),c.setOnEnd(function(){b.resume()}),h.dom.style.setProperty("visibility","hidden","important"),d.show(),Ext.Animator.run([c,e]),b.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation()),Ext.fx.layout.card.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.fx.layout.card,"Style"],0),Ext.cmd.derive("Ext.fx.layout.card.Slide",Ext.fx.layout.card.Style,{config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}},0,0,0,0,["fx.layout.card.slide"],0,[Ext.fx.layout.card,"Slide"],0),Ext.cmd.derive("Ext.fx.layout.card.Cover",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}},0,0,0,0,["fx.layout.card.cover"],0,[Ext.fx.layout.card,"Cover"],0),Ext.cmd.derive("Ext.fx.layout.card.Reveal",Ext.fx.layout.card.Style,{config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}},0,0,0,0,["fx.layout.card.reveal"],0,[Ext.fx.layout.card,"Reveal"],0),Ext.cmd.derive("Ext.fx.layout.card.Fade",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}},0,0,0,0,["fx.layout.card.fade"],0,[Ext.fx.layout.card,"Fade"],0),Ext.cmd.derive("Ext.fx.layout.card.Flip",Ext.fx.layout.card.Style,{config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(d,b,e,a){var c=b.element.getParent();c.addCls("x-layout-card-perspective"),this.on("animationend",function(){c.removeCls("x-layout-card-perspective")},this,{single:!0}),Ext.fx.layout.card.Style.prototype.onActiveItemChange.apply(this,arguments)},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c),b.setDuration(c),a.setDuration(c)}},0,0,0,0,["fx.layout.card.flip"],0,[Ext.fx.layout.card,"Flip"],0),Ext.cmd.derive("Ext.fx.layout.card.Pop",Ext.fx.layout.card.Style,{config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c),b.setDuration(c),a.setDuration(c)}},0,0,0,0,["fx.layout.card.pop"],0,[Ext.fx.layout.card,"Pop"],0),Ext.cmd.derive("Ext.fx.layout.card.Scroll",Ext.fx.layout.card.Abstract,{config:{duration:150},constructor:function(a){this.initConfig(a)},getEasing:function(){var a=this.easing;return a||(this.easing=a=new Ext.fx.easing.Linear),a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,d,m,c){var l,e,b,i,k,g,j=this.getDirection(),h=this.getEasing();d&&m&&(this.isAnimating&&this.stopAnimation(),d.setWidth("100%"),d.setHeight("100%"),l=this.getLayout().container.innerElement,i=l.getWidth(),k=l.getHeight(),e=d.renderElement,b=m.renderElement,this.oldItem=m,this.newItem=d,this.containerElement=l,this.currentEventController=c,this.isReverse=g=this.getReverse(),d.show(),"right"==j?(j="left",this.isReverse=g=!g):"down"==j&&(j="up",this.isReverse=g=!g),"left"==j?g?(h.setConfig({startValue:i,endValue:0}),l.dom.scrollLeft=i,b.setLeft(i)):(h.setConfig({startValue:0,endValue:i}),e.setLeft(i)):g?(h.setConfig({startValue:k,endValue:0}),l.dom.scrollTop=k,b.setTop(k)):(h.setConfig({startValue:0,endValue:k}),e.setTop(k)),this.startAnimation(),c.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var b,d=this.getEasing(),c=this.getDirection(),a="scrollTop";"left"!=c&&"right"!=c||(a="scrollLeft"),d.isEnded?this.stopAnimation():(b=d.getValue(),this.containerElement.dom[a]=b)},stopAnimation:function(){var c=this,e=c.getDirection(),a="setTop",d=c.oldItem,b=c.newItem;"left"!=e&&"right"!=e||(a="setLeft"),c.currentEventController.resume(),c.isReverse&&d&&d.renderElement&&d.renderElement.dom?d.renderElement[a](null):b&&b.renderElement&&b.renderElement.dom&&b.renderElement[a](null),Ext.AnimationQueue.stop(this.doAnimationFrame,this),c.isAnimating=!1,c.fireEvent("animationend",c)}},1,0,0,0,["fx.layout.card.scroll"],0,[Ext.fx.layout.card,"Scroll"],0),Ext.cmd.derive("Ext.fx.layout.Card",Ext.Base,{constructor:function(b){var c,a=Ext.fx.layout.card.Abstract;return b?("string"==typeof b?(c=b,b={}):b.type&&(c=b.type),b.elementBox=!1,c&&(a=Ext.ClassManager.getByAlias("fx.layout.card."+c)),Ext.factory(b,a)):null}},1,0,0,0,0,0,[Ext.fx.layout,"Card"],0),Ext.cmd.derive("Ext.fx.layout.card.Cube",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}},0,0,0,0,["fx.layout.card.cube"],0,[Ext.fx.layout.card,"Cube"],0),Ext.cmd.derive("Ext.fx.layout.card.ScrollCover",Ext.fx.layout.card.Scroll,{onActiveItemChange:function(c,h,d,e){var i,a,k,j,b,g;this.currentEventController=e,this.inItem=h,h&&d&&(i=this.getLayout().container.innerElement,a=i.getSize(),k=this.calculateXY(a),j={easing:this.getEasing(),duration:this.getDuration()},h.renderElement.dom.style.setProperty("visibility","hidden","important"),b=h.setTranslatable(!0).getTranslatable(),g=d.setTranslatable(!0).getTranslatable(),g.translate({x:0,y:0}),b.translate({x:k.left,y:k.top}),b.getWrapper().dom.style.setProperty("z-index","100","important"),h.show(),b.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),b.translateAnimated({x:0,y:0},j),e.pause())},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}},0,0,0,0,["fx.layout.card.scrollcover"],0,[Ext.fx.layout.card,"ScrollCover"],0),Ext.cmd.derive("Ext.fx.layout.card.ScrollReveal",Ext.fx.layout.card.Scroll,{onActiveItemChange:function(c,h,d,e){var i,a,k,j,g,b;this.currentEventController=e,this.outItem=d,this.inItem=h,h&&d&&(i=this.getLayout().container.innerElement,a=i.getSize(),k=this.calculateXY(a),j={easing:this.getEasing(),duration:this.getDuration()},g=d.setTranslatable(!0).getTranslatable(),b=h.setTranslatable(!0).getTranslatable(),g.getWrapper().dom.style.setProperty("z-index","100","important"),g.translate({x:0,y:0}),b.translate({x:0,y:0}),h.show(),g.on({animationend:"onOutAnimationEnd",scope:this}),
g.translateAnimated({x:k.x,y:k.y},j),e.pause())},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}},0,0,0,0,["fx.layout.card.scrollreveal"],0,[Ext.fx.layout.card,"ScrollReveal"],0),Ext.cmd.derive("Ext.fx.runner.CssAnimation",Ext.fx.runner.Css,{constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,Ext.fx.runner.Css.prototype.constructor.apply(this,arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on({animationstart:"onAnimationStart",animationend:"onAnimationEnd",scope:this})},onAnimationStart:function(h){var b=h.browserEvent.animationName,a=this.animationElementMap[b],g=this.runningAnimationsMap[a][b],i=this.elementEndStates,c=i[a],d={};c&&(delete i[a],d[a]=c,this.applyStyles(d)),g.before&&(d[a]=g.before,this.applyStyles(d))},onAnimationEnd:function(j){var c=j.target,b=j.browserEvent.animationName,d=this.animationElementMap,a=d[b],g=this.runningAnimationsMap,i=g[a],h=i[b];h.onBeforeEnd&&h.onBeforeEnd.call(h.scope||this,c),h.onEnd&&h.onEnd.call(h.scope||this,c),delete d[b],delete i[b],this.removeKeyframesRule(b)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(g){var b,d,j,l,q,h,r,v,n,m,c,e,a,k,o,t={},u=this.elementEndStates,p=this.animationElementMap,s=this.runningAnimationsMap;for(this.listenersAttached||this.attachListeners(),g=Ext.Array.from(g),q=0,h=g.length;q<h;q++){r=g[q],r=Ext.factory(r,Ext.fx.Animation),j=r.getElement().getId(),l=r.getName()||this.generateAnimationId(),p[l]=j,r=r.getData(),d=r.states,this.addKeyframesRule(l,d),b=s[j],b||(b=s[j]={}),b[l]=r,m=[],c=[],e=[],a=[],k=[],o=[];for(v in b)b.hasOwnProperty(v)&&(n=b[v],m.push(v),c.push(n.duration),e.push(n.easing),a.push(n.delay),k.push(n.direction),o.push(n.iteration));t[j]={"animation-name":m,"animation-duration":c,"animation-timing-function":e,"animation-delay":a,"animation-direction":k,"animation-iteration-count":o},r.preserveEndState&&(u[j]=d["100%"])}this.applyStyles(t)},addKeyframesRule:function(a,c){var l,e,b,h,j,k,d,i,g;h=this.getStyleSheet(),j=h.cssRules,d=j.length,h.insertRule("@"+this.vendorPrefix+"keyframes "+a+"{}",d),b=j[d];for(l in c){e=c[l],j=b.cssRules,d=j.length,k=[];for(i in e)g=this.formatValue(e[i],i),i=this.formatName(i),k.push(i+":"+g);b.insertRule(l+"{"+k.join(";")+"}",d)}return this},removeKeyframesRule:function(a){var b,c,d,g=this.getStyleSheet(),e=g.cssRules;for(b=0,c=e.length;b<c;b++)if(d=e[b],d.name===a){g.removeRule(b);break}return this}},1,0,0,0,0,0,[Ext.fx.runner,"CssAnimation"],0),Ext.cmd.derive("Ext.list.AbstractTreeItem",Ext.Widget,{isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:"",leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:""},textProperty:"text"},updateNode:function(d){if(d){var j,b,g,e,k,c,h=this,a=h.itemMap;if(h.element.dom.setAttribute("data-recordId",d.internalId),!a)for(j=d.childNodes,b=h.getOwner(),h.itemMap=a={},e=0,g=j.length;e<g;++e)c=j[e],c.data.visible&&(k=b.createItem(c,h),a[c.internalId]=k,h.insertItem(k,null));h.setExpanded(d.isExpanded()),h.doNodeUpdate(d)}},updateSelected:function(b){if(!this.isConfiguring)for(var a=this.getParentItem();a&&!a.isRootListItem;)a.setSelectedParent(b),a=a.getParentItem()},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(c,e){var b=this,a=b.getOwner(),d=b.preventAnimation?null:a.getAnimation();b.nodeCollapseBegin(d,e),d||b.nodeCollapseEnd(e)},nodeCollapseBegin:function(c,d){var b=this,a=b.getOwner();b.setExpanded(!1),a.fireEvent("itemcollapse",a,b)},nodeCollapseEnd:function(a){a||this.getOwner().updateLayout()},nodeExpand:function(c){var b=this,a=b.getOwner(),e=b.getFloated(),d=!e&&a.getAnimation();b.nodeExpandBegin(d),d||b.nodeExpandEnd()},nodeExpandBegin:function(c){var b=this,a=b.getOwner();b.setExpanded(!0),a.fireEvent("itemexpand",a,b)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(d,g){var i,h=this,c=h.getOwner(),a=h.itemMap,b=d.internalId,j=c.getItem(d),e=null;j?(i=j.getParentItem(),i.removeItem(j),i!==h&&(i.doUpdateExpandable(),j.setParentItem(h))):j=h.getOwner().createItem(d,h),a[b]=j,g&&(e=a[g.internalId]),h.insertItem(j,e),h.doUpdateExpandable(),c.fireEvent("iteminsert",c,h,j,e),c.updateLayout()},nodeRemove:function(d){var c=this,e=c.itemMap,a=c.getOwner(),g=d.internalId,b=e[g];b&&(delete e[g],c.removeItem(b),b.destroy(),c.doUpdateExpandable(),a.fireEvent("itemremove",a,c,b),a.updateLayout())},nodeUpdate:function(b,a){this.doNodeUpdate(b)},removeItem:Ext.emptyFn,destroy:function(){var b,c=this,d=c.itemMap,a=c.getOwner();if(d){for(b in d)d[b].destroy();c.itemMap=null}a&&a.removeItem(c.getNode()),c.setNode(null),c.setParentItem(null),c.setOwner(null),Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(d){var c=this,b=this.getTextProperty(),a=this.getIconClsProperty();b&&c.setText(d.data[b]),a&&c.setIconCls(d.data[a]),c.setLoading(d.isLoading()),c.setLeaf(d.isLeaf()),c.doUpdateExpandable()},doUpdateExpandable:function(){var a=this.getNode();this.setExpandable(a.isExpandable())},onClick:function(g){var c=this,a=c.getOwner(),b=c.getNode(),d={event:g,item:c,node:b,tree:a,select:!1!==b.get("selectable")&&c.isSelectionEvent(g),toggle:c.isToggleEvent(g)};!1!==a.fireEvent("itemclick",a,d)&&(d.toggle&&(c.toggleExpanded(),g.preventDefault()),d.select&&a.setSelection(c.getNode()))},toggleExpanded:function(){this.isExpanded()?this.collapse():this.expand()},updateIndent:function(b){var c,a=this.itemMap;for(c in a)a[c].setIndent(b)},updateOwner:function(a){this.parent=a}}},0,0,["widget"],{widget:!0},0,0,[Ext.list,"AbstractTreeItem"],0),Ext.cmd.derive("Ext.list.RootTreeItem",Ext.list.AbstractTreeItem,{isRootListItem:!0,element:{reference:"element",tag:"ul",cls:"x-treelist-root-container"},insertItem:function(b,a){a?b.element.insertBefore(a.element):this.element.appendChild(b.element)},isToggleEvent:function(a){return!1}},0,0,["widget"],{widget:!0},0,0,[Ext.list,"RootTreeItem"],0),Ext.cmd.derive("Ext.list.TreeItem",Ext.list.AbstractTreeItem,{collapsedCls:"x-treelist-item-collapsed",expandedCls:"x-treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,"x-treelist-item-floated"],floatedToolCls:"x-treelist-item-tool-floated",leafCls:"x-treelist-item-leaf",expandableCls:"x-treelist-item-expandable",hideIconCls:"x-treelist-item-hide-icon",loadingCls:"x-treelist-item-loading",selectedCls:"x-treelist-item-selected",selectedParentCls:"x-treelist-item-selected-parent",withIconCls:"x-treelist-item-with-icon",hoverCls:"x-treelist-item-over",rowHoverCls:"x-treelist-row-over",isTreeListItem:!0,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:"x-treelist-item",children:[{reference:"rowElement",cls:"x-treelist-row",children:[{reference:"wrapElement",cls:"x-treelist-item-wrap",children:[{reference:"iconElement",cls:"x-treelist-item-icon"},{reference:"textElement",cls:"x-treelist-item-text"},{reference:"expanderElement",cls:"x-treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:"x-treelist-container"},{reference:"toolElement",cls:"x-treelist-item-tool"}]},constructor:function(a){Ext.list.AbstractTreeItem.prototype.constructor.call(this,a);var b=this.toolElement.dom;b.parentNode.removeChild(b)},getToolElement:function(){return this.toolElement},insertItem:function(b,a){a?b.element.insertBefore(a.element):this.itemContainer.appendChild(b.element)},isSelectionEvent:function(b){var a=this.getOwner();return!this.isToggleEvent(b)||!a.getExpanderOnly()||a.getSelectOnExpander()},isToggleEvent:function(b){return this.getOwner().getExpanderOnly()?b.target===this.expanderElement.dom:!this.itemContainer.contains(b.target)},nodeCollapseBegin:function(d,e){var a,c=this,b=c.itemContainer;c.expanding&&c.stopAnimation(c.expanding),a=d&&b.getHeight(),Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,d,e),d&&(b.dom.style.display="block",c.collapsingForExpand=e,c.collapsing=this.runAnimation(Ext.merge({from:{height:a},to:{height:0},callback:c.nodeCollapseDone,scope:c},d)))},nodeCollapseDone:function(c){var b=this,a=b.itemContainer;b.collapsing=null,a.dom.style.display="",a.setHeight(null),b.nodeCollapseEnd(b.collapsingForExpand)},nodeExpandBegin:function(d){var a,c=this,b=c.itemContainer;c.collapsing&&c.stopAnimation(c.collapsing),Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,d),d&&(a=b.getHeight(),b.setHeight(0),c.expanding=c.runAnimation(Ext.merge({to:{height:a},callback:c.nodeExpandDone,scope:c},d)))},nodeExpandDone:function(){this.expanding=null,this.itemContainer.setHeight(null),this.nodeExpandEnd()},removeItem:function(a){this.itemContainer.removeChild(a.element)},updateNode:function(a,b){this.syncIndent(),Ext.list.AbstractTreeItem.prototype.updateNode.call(this,a,b)},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(b,a){var d=this,c=d.element;d.doIconCls(d.iconElement,b,a),d.doIconCls(d.toolElement,b,a),c.toggleCls(d.withIconCls,!!b),c.toggleCls(d.hideIconCls,null===b)},updateLeaf:function(a){this.element.toggleCls(this.leafCls,a)},updateLoading:function(a){this.element.toggleCls(this.loadingCls,a)},updateOver:function(b){var a=this;a.element.toggleCls(a.hoverCls,!!b),a.rowElement.toggleCls(a.rowHoverCls,b>1)},updateRowCls:function(b,a){this.rowElement.replaceCls(a,b)},updateSelected:function(c,e){var d=this,a=d.selectedCls,b=d.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,c,e),d.element.toggleCls(a,c),b&&b.toggleCls(a,c)},updateSelectedParent:function(b){var c=this;c.element.toggleCls(c.selectedParentCls,b);var a=c.getToolElement();a&&a.toggleCls(c.selectedCls,b)},updateText:function(a){this.textElement.update(a)},privates:{doNodeUpdate:function(a){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,a),this.setRowCls(a&&a.data[this.rowClsProperty])},doIconCls:function(c,b,a){a&&c.removeCls(a),b&&c.addCls(b)},syncIndent:function(){var d,c=this,a=c.getIndent(),b=c.getNode();b&&(d=b.data.depth-1,c.wrapElement.dom.style.marginLeft=d*a+"px")},updateExpandCls:function(){if(!this.updatingExpandCls){var e=this,c=e.getExpandable(),d=e.element,b=e.getExpanded(),a=e.expandedCls,g=e.collapsedCls;e.updatingExpandCls=!0,d.toggleCls(e.expandableCls,c),c?(d.toggleCls(a,b),d.toggleCls(g,!b)):d.removeCls([a,g]),e.updatingExpandCls=!1}},updateIndent:function(b,a){this.syncIndent(),Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,b,a)}}},1,["treelistitem"],["widget","treelistitem"],{widget:!0,treelistitem:!0},["widget.treelistitem"],0,[Ext.list,"TreeItem"],0),Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(e){var c,a,d=this,b=d.element,g=d.placeholder;d.treeItemFloated!==e&&(e?(g=b.clone(!1,!0),g.id+="-placeholder",d.placeholder=Ext.get(g),d.wasExpanded=d.getExpanded(),d.setExpanded(!0),b.addCls(d.floatedCls),b.dom.parentNode.insertBefore(g,b.dom),d.floater=d.createFloater()):g&&(a=d.wasExpanded,c=d.getNode(),d.setExpanded(a),!a&&c.isExpanded()&&(d.preventAnimation=!0,c.collapse(),d.preventAnimation=!1),d.floater.remove(d,!1),b.removeCls(d.floatedCls),g.dom.parentNode.insertBefore(b.dom,g.dom),g.destroy(),d.floater.destroy(),d.placeholder=d.floater=null),d.treeItemFloated=e)},getFloated:function(){return this.treeItemFloated},runAnimation:function(a){return this.itemContainer.addAnimation(a)},stopAnimation:function(a){a.jumpToEnd()},privates:{createFloater:function(){var c,d=this,a=d.getOwner(),b=d.up("treelist"),e=d.getToolElement();return d.floater=c=new Ext.container.Container({cls:b.self.prototype.element.cls+" "+b.uiPrefix+b.getUi()+" x-treelist-floater",floating:!0,width:Ext.isIE8?200:b.expandedWidth-e.getWidth(),shadow:!1,renderTo:Ext.getBody(),listeners:{element:"el",click:function(g){return a.onClick(g)}}}),c.add(d),c.show(),c.el.alignTo(e,"tr?"),c}}}),Ext.cmd.derive("Ext.list.Tree",Ext.Widget,{expanderFirstCls:"x-treelist-expander-first",expanderOnlyCls:"x-treelist-expander-only",highlightPathCls:"x-treelist-highlight-path",microCls:"x-treelist-micro",uiPrefix:"x-treelist-",element:{reference:"element",cls:"x-treelist x-unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:"x-treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:!0,expanderOnly:!0},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(a){var b=this;Ext.Widget.prototype.constructor.call(this,a),b.publishState("selection",b.getSelection()),Ext.isIE8||b.el.on({resize:b.onElResize,buffer:300,scope:b})},beforeLayout:function(){this.syncIconSize()},destroy:function(){var a=this;a.destroying=!0,a.unfloatAll(),a.activeFloater=null,a.setSelection(null),a.setStore(null),Ext.Widget.prototype.destroy.call(this)},updateOverItem:function(g,a){var h,b,e={},d=2;for(h=g;h;h=this.getItem(b.parentNode))b=h.getNode(),e[b.internalId]=!0,h.setOver(d),d=1;if(a)for(h=a;h&&(b=h.getNode(),!e[b.internalId]);h=this.getItem(b.parentNode))h.setOver(0)},applyMicro:function(a){return Boolean(a)},applySelection:function(c,a){return this.getStore()||(c=null),c&&!1===c.get("selectable")&&(c=a),c},updateSelection:function(b,a){var c,d=this;d.destroying||(c=d.getItem(a),c&&c.setSelected(!1),c=d.getItem(b),c&&c.setSelected(!0),d.fireEvent("selectionchange",d,b))},applyStore:function(a){return a&&Ext.StoreManager.lookup(a,"tree")},updateStore:function(b,d){var a,c=this;d&&(d.destroyed||(d.getAutoDestroy()?d.destroy():c.storeListeners.destroy()),c.removeRoot(),c.storeListeners=null),b&&(c.storeListeners=b.on({destroyable:!0,scope:c,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"}),(a=b.getRoot())&&c.createRootItem(a)),c.destroying||c.updateLayout()},updateExpanderFirst:function(a){this.element.toggleCls(this.expanderFirstCls,a)},updateExpanderOnly:function(a){this.element.toggleCls(this.expanderOnlyCls,!a)},updateHighlightPath:function(a){this.element.toggleCls(this.highlightPathCls,a)},onElResize:function(b,a){this.getMicro()||(this.expandedWidth=a.width)},updateMicro:function(a){var b=this;a||(b.unfloatAll(),b.activeFloater=null),b.element.toggleCls(b.microCls,a)},updateUi:function(d,a){var c=this.element,b=this.uiPrefix;a&&c.removeCls(b+a),d&&c.addCls(b+d),delete this.iconSize,this.syncIconSize()},getItem:function(b){var a,c=this.itemMap;return b&&c&&(a=c[b.internalId]),a||null},getItemConfig:function(b,a){return Ext.apply({parentItem:a.isRootListItem?null:a,owner:this,node:b,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(b){this.activeFloater.element.contains(b.target)||this.unfloatAll()},collapsingForExpand:!1,createItem:function(g,b){var a,c,e=this,d=Ext.create(e.getItemConfig(g,b)),h=e.toolsElement;return b.isRootListItem&&(a=d.getToolElement())&&(c=e.findVisiblePreviousSibling(g),c?(c=e.getItem(c),a.insertAfter(c.getToolElement())):h.insertFirst(a),a.dom.setAttribute("data-recordId",g.internalId),a.isTool=!0),e.itemMap[g.internalId]=d,d},createRootItem:function(a){var b,c=this;c.itemMap={},c.rootItem=b=new Ext.list.RootTreeItem({indent:c.getIndent(),node:a,owner:c}),c.element.appendChild(b.element),c.itemMap[a.internalId]=b},findVisiblePreviousSibling:function(b){for(var a=b.previousSibling;a;){if(a.data.visible)return a;a=a.previousSibling}return null},floatItem:function(d,b){var c=this;d.getFloated()||(c.toolMouseListeners&&(c.toolMouseListeners.destroy(),c.floaterMouseListeners.destroy()),c.unfloatAll(),c.activeFloater=d,c.floatedByHover=b,d.setFloated(!0),b?(c.toolMouseListeners=d.getToolElement().monitorMouseLeave(300,c.checkForMouseLeave,c),c.floaterMouseListeners=(d.floater||d).el.monitorMouseLeave(300,c.checkForMouseLeave,c)):Ext.on("mousedown","checkForOutsideClick",c))},onClick:function(b){var c,a=b.getTarget("[data-recordId]");a&&(c=a.getAttribute("data-recordId"),(a=this.itemMap[c])&&a.onClick(b))},onMouseEnter:function(a){this.onMouseOver(a)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(b){var a=Ext.Component.fromElement(b.getTarget());this.setOverItem(a&&a.isTreeListItem&&a)},checkForMouseLeave:function(c){var b=this.activeFloater,a=c.getRelatedTarget();b&&(a===b.getToolElement().dom||b.element.contains(a)||this.unfloatAll())},onFilterChange:function(a){this.onRootChange(a.getRoot())},onNodeAppend:function(a,c){if(a){var b=this.itemMap[a.internalId];b&&b.nodeInsert(c,null)}},onNodeCollapse:function(b){var a=this.itemMap[b.internalId];a&&a.nodeCollapse(b,this.collapsingForExpand)},onNodeExpand:function(g){var h,b,c,a,j,e=this,d=e.itemMap[g.internalId];if(d){if(!d.isRootItem&&e.getSingleExpand()){for(e.collapsingForExpand=!0,a=(d.getParentItem()||e.rootItem).getNode(),h=a.childNodes,c=0,b=h.length;c<b;++c)(j=h[c])!==g&&j.collapse();e.collapsing=!1}d.nodeExpand(g)}},onNodeInsert:function(a,d,b){var c=this.itemMap[a.internalId];c&&c.nodeInsert(d,b)},onNodeRemove:function(a,d,b){if(a&&!b){var c=this.itemMap[a.internalId];c&&c.nodeRemove(d)}},onNodeUpdate:function(a,e,b,d){var c=this.itemMap[e.internalId];c&&c.nodeUpdate(e,d)},onRootChange:function(a){var b=this;b.removeRoot(),a&&b.createRootItem(a),b.updateLayout(),b.fireEvent("refresh",b)},removeItem:function(c){var b,a,d=this.itemMap,e=c.internalId;d&&(b=d[e],null===b.getParentItem()&&(a=b.getToolElement())&&this.toolsElement.removeChild(a),delete d[e])},removeRoot:function(){var b=this,a=b.rootItem;a&&(b.element.removeChild(a.element),b.rootItem=b.itemMap=Ext.destroy(a))},onToolStripClick:function(b){var c,a=b.getTarget("[data-recordId]");a&&(c=a.getAttribute("data-recordId"),(a=this.itemMap[c])&&(a===this.activeFloater?this.unfloatAll():this.floatItem(a,!1)))},onToolStripMouseOver:function(b){var c,a=b.getTarget("[data-recordId]");a&&(c=a.getAttribute("data-recordId"),(a=this.itemMap[c])&&this.floatItem(a,!0))},syncIconSize:function(){var b=this,a=b.iconSize||(b.iconSize=parseInt(b.element.getStyle("background-position"),10));b.setIconSize(a)},unfloatAll:function(){var b=this,a=b.activeFloater;a&&(a.setFloated(!1),b.activeFloater=null,b.floatedByHover?(a.getToolElement().un("mouseleave","checkForMouseLeave",b),a.element.un({scope:b,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})):Ext.un("mousedown","checkForOutsideClick",b))},defaultIconSize:22,updateIconSize:function(a){this.setIndent(a||this.defaultIconSize)},updateIndent:function(b){var a=this.rootItem;a&&a.setIndent(b)}}},1,["treelist"],["widget","treelist"],{widget:!0,treelist:!0},["widget.treelist"],0,[Ext.list,"Tree"],0),Ext.cmd.derive("Ext.mixin.ConfigState",Ext.Mixin,{mixinConfig:{id:"configstate"},alternateStateConfig:"",toggleConfigState:function(a){var c,d=this,e=d.capturedConfigState,b=d.getConfig(d.alternateStateConfig);if(b)if(a){e={};for(c in b)e[c]=d.getConfig(c);d.capturedConfigState=e,d.setConfig(b)}else!d.isConfiguring&&e&&(d.setConfig(e),delete d.capturedConfigState)}},0,0,0,0,0,0,[Ext.mixin,"ConfigState"],0),Ext.cmd.derive("Ext.mixin.Container",Ext.Mixin,{mixinConfig:{id:"container"},isContainer:!0,config:{referenceHolder:!1},getReferences:function(){return Ext.ComponentManager.fixReferences(),this.refs||null},lookup:function(b){var a=this.getReferences();return a&&a[b]||null},lookupReference:function(a){return this.lookup(a)},privates:{attachReference:function(b){var c,a,d=this;d.destroying||d.destroyed||(a=d.refs||(d.refs={}),c=b.referenceKey,a[c]=b)},clearReference:function(b){var a=this.refs,c=b.referenceKey;a&&c&&(b.viewModelKey=b.referenceKey=a[c]=null)},containerOnAdded:function(b,a){a&&Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(a){var b;a||(b=this.lookupReferenceHolder())&&(Ext.ComponentManager.markReferencesDirty(),b.clearReferences())},clearReferences:function(){this.refs=null},initContainerInheritedState:function(e,c){var h=this,b=h.getController(),i=h.getSession(),d=h.getConfig("viewModel",!0),a=h.getReference(),g=h.getReferenceHolder();b?(e.referenceHolder=b,g=!0):g&&(e.referenceHolder=h),g?e.referencePath="":a&&h.isParentReference&&(e.referencePath=h.referenceKey+"."),i&&(e.session=i),d?e.viewModelPath="":a&&h.isParentReference&&(e.viewModelPath=h.viewModelKey+".")},setupReference:function(b){var a;return b&&">"===b.charAt(a=b.length-1)&&(this.isParentReference=!0,b=b.substring(0,a)),b}}},0,0,0,0,0,0,[Ext.mixin,"Container"],0),Ext.cmd.derive("Ext.mixin.Hookable",Ext.Mixin,{mixinConfig:{id:"hookable"},bindHook:function(a,d,i,c,b){i||(i=d);var e,h,g=a[d];return g&&g.hasOwnProperty("$binding")&&(h=g.$binding,h.bindingMethod===i&&h.bindingScope===this)?this:(a[d]=e=function(){var l=e.$binding,k=l.bindingScope,j=Array.prototype.slice.call(arguments);if(j.push(arguments),b&&j.push.apply(j,b),!l.preventDefault&&!1!==k[l.bindingMethod].apply(k,j))return l.boundFn.apply(this,arguments)},e.$binding={preventDefault:!!c,boundFn:g,bindingMethod:i,bindingScope:this},this)},unbindHook:function(a,b,h){h||(h=b);for(var c,g,d=a[b],e=d.$binding;e;){if(c=e.boundFn,e.bindingMethod===h&&e.bindingScope===this)return g?g.boundFn=c:a[b]=c,this;g=e,e=c.$binding}return this}},0,0,0,0,0,0,[Ext.mixin,"Hookable"],0),Ext.define("Ext.mixin.Mashup",function(a){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(c,b){a.process(b)}},statics:{process:function(e){var c=e.prototype,g=c.requiredScripts,b=e._classHooks,d=b.onCreated;g&&(delete c.requiredScripts,b.onCreated=function(){var i=this,h=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:g,cache:!0,onLoad:function(){b.onCreated=d,b.onCreated.call(i,h)}})})}},onClassMixedIn:function(b){a.process(b)}}}),Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(a){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(h,c,g,e){if(!h)return c;var d,b=c?Ext.Object.chain(c):{};for(d in h)e&&d in b||(b[d]={fn:null,config:h[d]});return b}},responsiveFormulas:{$value:0,merge:function(e,b,d,c){return this.mergeNew(e,b,d,c)}}},destroy:function(){a.unregister(this)},privates:{statics:{active:!1,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){a.active=!0,a.updateContext(),Ext.on("resize",a.onResize,a)},deactivate:function(){a.active=!1,Ext.un("resize",a.onResize,a)},notify:function(){var e,d=a.all,c=a.context,b=Ext.GlobalEvents,g=a.timer;g&&(a.timer=null,Ext.asapCancel(g)),a.updateContext(),Ext.suspendLayouts(),b.fireEvent("beforeresponsiveupdate",c);for(e in d)d[e].setupResponsiveContext();b.fireEvent("beginresponsiveupdate",c);for(e in d)d[e].updateResponsiveState();b.fireEvent("responsiveupdate",c),Ext.resumeLayouts(!0)},onResize:function(){a.timer||(a.timer=Ext.asap(a.onTimer))},onTimer:function(){a.timer=null,a.notify()},processConfig:function(b,i,g){var c,d,h=i&&i[g],e=b.config;h&&(d=b.self.getConfigurator(),c=d.configs[g],e[g]=c.merge(h,e[g],b))},register:function(b){var c=b.$responsiveId;c||(b.$responsiveId=c=++a.nextId,a.all[c]=b,1==++a.count&&a.activate())},unregister:function(b){var c=b.$responsiveId;c in a.all&&(b.$responsiveId=null,delete a.all[c],0==--a.count&&a.deactivate())},updateContext:function(){var e=Ext.Element,d=e.getViewportWidth(),b=e.getViewportHeight(),c=a.context;c.width=d,c.height=b,c.tall=d<b,c.wide=!c.tall,c.landscape=c.portrait=!1,c.platform||(c.platform=Ext.platformTags),c[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(g){var c,e=g.prototype,b=e.responsiveConfig,d=e.responsiveFormulas;(b||d)&&(c={},b&&(delete e.responsiveConfig,c.responsiveConfig=b),d&&(delete e.responsiveFormulas,c.responsiveFormulas=d),g.getConfigurator().add(c))},applyResponsiveConfig:function(c){for(var b in c)c[b].fn=Ext.createRuleFn(b);return c},applyResponsiveFormulas:function(d){var e,b,c={};if(d)for(b in d)Ext.isString(e=d[b])&&(e=Ext.createRuleFn(e)),c[b]=e;return c},getResponsiveState:function(){var d,e,c=a.context,g=this.getResponsiveConfig(),b={};if(g)for(e in g)d=g[e],d.fn.call(this,c)&&Ext.merge(b,d.config);return b},setupResponsiveContext:function(){var b,c=this.getResponsiveFormulas(),d=a.context;if(c)for(b in c)d[b]=c[b].call(this,d)},transformInstanceConfig:function(d){var b,c=this;return a.register(c),d&&(a.processConfig(c,d,"responsiveConfig"),a.processConfig(c,d,"responsiveFormulas")),c.setupResponsiveContext(),b=c.getResponsiveState(),d&&(b=Ext.merge({},d,b),delete b.responsiveConfig,delete b.responsiveFormulas),b},updateResponsiveState:function(){var b=this.getResponsiveState();this.setConfig(b)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0),Ext.cmd.derive("Ext.mixin.Selectable",Ext.Mixin,{mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0,selection:null,twoWayBindable:{selection:1},publishes:{selection:1}},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{add:"onSelectionStoreAdd",remove:"onSelectionStoreRemove",update:"onSelectionStoreUpdate",clear:{fn:"onSelectionStoreClear",priority:1e3},load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},initSelectable:function(){this.publishState("selection",this.getSelection())},applyMode:function(a){return a=a?a.toUpperCase():"SINGLE",this.modes[a]?a:"SINGLE"},updateStore:function(a,c){var b=this,d=Ext.apply({},b.selectableEventHooks,{scope:b});c&&Ext.isObject(c)&&c.isStore&&(c.autoDestroy?c.destroy():c.un(d)),a&&(a.on(d),b.refreshSelection())},selectAll:function(a){var c=this,b=c.getStore().getRange();c.select(b,!0,a)},deselectAll:function(c){var b=this,a=b.getStore().getRange();b.deselect(a,c),b.selected.clear(),b.setLastSelected(null),b.setLastFocused(null)},updateSelection:function(a){this.changingSelection||(a?this.select(a):this.deselectAll())},selectWithEvent:function(a){var c=this,b=c.isSelected(a);switch(c.getMode()){case"MULTI":case"SIMPLE":b?c.deselect(a):c.select(a,!0);break;case"SINGLE":c.getAllowDeselect()&&b?c.deselect(a):c.select(a,!1)}},selectRange:function(c,h,j){var e,d,g=this,b=g.getStore(),a=[];if(!g.getDisableSelection()){for(c>h&&(e=h,h=c,c=e),d=c;d<=h;d++)a.push(b.getAt(d));this.doMultiSelect(a,j)}},select:function(c,e,b){var a,d=this;d.getDisableSelection()||("number"==typeof c&&(c=[d.getStore().getAt(c)]),c&&("SINGLE"==d.getMode()&&c?(a=c.length?c[0]:c,d.doSingleSelect(a,b)):d.doMultiSelect(c,e,b)))},doSingleSelect:function(a,b){var d=this,c=d.selected;d.getDisableSelection()||d.isSelected(a)||(c.getCount()>0&&d.deselect(d.getLastSelected(),b),c.add(a),d.setLastSelected(a),d.onItemSelect(a,b),d.setLastFocused(a),b||d.fireSelectionChange([a]))},doMultiSelect:function(a,k,j){if(null!==a&&!this.getDisableSelection()){a=Ext.isArray(a)?a:[a];var d,g=this,b=g.selected,e=a.length,h=!1,c=0;for(!k&&b.getCount()>0&&(h=!0,g.deselect(g.getSelections(),!0));c<e;c++)d=a[c],k&&g.isSelected(d)||(h=!0,g.setLastSelected(d),b.add(d),j||g.setLastFocused(d),g.onItemSelect(d,j));h&&!j&&this.fireSelectionChange(a)}},deselect:function(a,k){var g=this;if(!g.getDisableSelection()){a=Ext.isArray(a)?a:[a];for(var d,b=g.selected,h=!1,c=0,j=g.getStore(),e=a.length;c<e;c++)d=a[c],"number"==typeof d&&(d=j.getAt(d)),b.remove(d)&&(g.getLastSelected()==d&&g.setLastSelected(b.last()),h=!0),d&&g.onItemDeselect(d,k);h&&!k&&g.fireSelectionChange(a)}},updateLastFocused:function(b,a){this.onLastFocusChanged(a,b)},fireSelectionChange:function(a){var b=this;b.changingSelection=!0,b.setSelection(b.getLastSelected()||null),b.changingSelection=!1,b.fireAction("selectionchange",[b,a],"getSelections")},getSelections:function(){return this.selected.getRange()},isSelected:function(a){return a=Ext.isNumber(a)?this.getStore().getAt(a):a,-1!==this.selected.indexOf(a)},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var b=this,a=b.getSelections();b.deselectAll(!0),a.length&&b.select(a,!1,!0)},onSelectionStoreRemove:function(c,b){var j,a,d,h=this,e=h.selected,g=b.length;if(!h.getDisableSelection()){for(d=0;d<g;d++)a=b[d],e.remove(a)&&(h.getLastSelected()==a&&h.setLastSelected(null),h.getLastFocused()==a&&h.setLastFocused(null),j=j||[],j.push(a));j&&h.fireSelectionChange([j])}},onSelectionStoreClear:function(b){var a=b.getData().items;this.onSelectionStoreRemove(b,a)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},1,0,0,0,0,0,[Ext.mixin,"Selectable"],function(){}),Ext.cmd.derive("Ext.mixin.StyleCacher",Ext.Mixin,{mixinConfig:{id:"stylecacher"},getCachedStyle:function(c,b){var a=this.$styleCache;return a||(a=this.$styleCache={}),b in a||(a[b]=Ext.fly(c).getStyle(b)),a[b]}},0,0,0,0,0,0,[Ext.mixin,"StyleCacher"],0),Ext.cmd.derive("Ext.mixin.Traversable",Ext.Mixin,{mixinConfig:{id:"traversable"},setParent:function(a){return this.parent=a,this},hasParent:function(){return Boolean(this.parent||this.$initParent)},getParent:function(){return this.parent||this.$initParent},getAncestors:function(){for(var b=[],a=this.getParent();a;)b.push(a),a=a.getParent();return b},getAncestorIds:function(){for(var b=[],a=this.getParent();a;)b.push(a.getId()),a=a.getParent();return b}},0,0,0,0,0,0,[Ext.mixin,"Traversable"],0),Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){function i(l,k){l.sum+=k,l.min=Math.min(l.min,k),l.max=Math.max(l.max,k)}function e(n){var l=n||b()-this.time,m=this,k=m.accum;++k.count,--k.depth||i(k.total,l),i(k.pure,l-m.childTime),(c=m.parent)&&(++c.accum.childCount,c.childTime+=l)}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function j(l,k){return function(){var n=l.enter(),m=k.apply(this,arguments);return n.leave(),m}}function g(m,l,k,o){var n={avg:0,min:o.min,max:o.max,sum:0};return m&&(k=k||0,n.sum=o.sum-l*k,n.avg=n.sum/m),n}var d,c=null,h=Ext.global.chrome,b=function(){b=Ext.now;var k,l;if(Ext.isChrome&&h&&h.Interval)k=new h.Interval,k.start(),b=function(){return k.microseconds()/1e3};else if(window.ActiveXObject)try{l=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=l,b=function(){return l.milliseconds}}catch(m){}return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=b,b()};return{constructor:function(k){var l=this;l.count=l.childCount=l.depth=l.maxDepth=0,l.pure=a(),l.total=a(),l.name=k},statics:{getTimestamp:b},format:function(k){d||(d=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(m){return Math.round(100*m)/100}}));var l=this.getData(k);return l.name=this.name,l.pure.type="Pure",l.total.type="Total",l.times=[l.pure,l.total],d.apply(l)},getData:function(k){var l=this;return{count:l.count,childCount:l.childCount,depth:l.maxDepth,pure:g(l.count,l.childCount,k,l.pure),
total:g(l.count,l.childCount,k,l.total)}},enter:function(){var k=this,l={accum:k,leave:e,childTime:0,parent:c};return++k.depth,k.maxDepth<k.depth&&(k.maxDepth=k.depth),c=l,l.time=b(),l},monitor:function(m,l,k){var n=this.enter();k?m.apply(l,k):m.call(l),n.leave()},report:function(){Ext.log(this.format())},tap:function(s,u){var r,v,p,o,m,l,k,q,t=this,n="string"==typeof u?[u]:u;return q=function(){if("string"==typeof s)for(r=Ext.global,o=s.split("."),p=0,m=o.length;p<m;++p)r=r[o[p]];else r=s;for(p=0,m=n.length;p<m;++p)l=n[p],v="!"===l.charAt(0),v?l=l.substring(1):v=!(l in r.prototype),k=v?r:r.prototype,k[l]=j(t,k[l])},Ext.ClassManager.onCreated(q,t,s),t}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var h,d,b=new Ext.perf.Accumulator("$"),g=b.total,c=Ext.perf.Accumulator.getTimestamp,e=0;d=c();do{h=b.enter(),h.leave(),++e}while(g.sum<100);return(c()-d)/e},get:function(b){var c=this,a=c.accumulatorsByName[b];return a||(c.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b),c.accumulators.push(a)),a},enter:function(a){return this.get(a).enter()},monitor:function(a,c,b){this.get(a).monitor(c,b)},report:function(){var c=this,b=c.accumulators,a=c.calibrate();b.sort(function(e,d){return e.name<d.name?-1:d.name<e.name?1:0}),c.updateGC(),Ext.log("Calibration: "+Math.round(100*a)/100+" msec/sample"),Ext.each(b,function(d){Ext.log(d.format(a))})},getData:function(c){var b={},a=this.accumulators;return Ext.each(a,function(d){(c||d.count)&&(b[d.name]=d.getData())}),b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0,b.pure={min:Number.MAX_VALUE,max:0,sum:0},b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var c,a=this.accumulatorsByName.GC,b=Ext.senchaToolbox;a&&(a.count=b.garbageCollectionCounter||0,a.count&&(c=a.pure,a.total.sum=c.sum=b.garbageCollectionMilliseconds,c.min=c.max=c.sum/a.count,c=a.total,c.min=c.max=c.sum/a.count))},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;a&&(this.get("GC"),a.watchGarbageCollector(!1))},setup:function(c){c||(c={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=c;var d,g,b,e,a;for(d in c)if(c.hasOwnProperty(d)){g=c[d],b=Ext.Perf.get(d);for(e in g)g.hasOwnProperty(e)&&(a=g[e],b.tap(e,a))}this.watchGC()},setupLog:function(c){var e,a,b,g,d;for(e in c)if(c.hasOwnProperty(e)&&(a=Ext.ClassManager.get(e))){b=c[e],d={};for(g in b)d[g]=function(h,i){return function(){var l,m,n,k,j;return l=+Date.now(),j=this.callParent(arguments),m=+Date.now()-l,window.console&&m>0&&(k="this"===i?this:"string"==typeof i?this[i]:"number"==typeof i?arguments[i]:null,k&&(n=k.id),null!=n?console.log(h+" for "+n+": "+m+"ms"):console.log(h+" for unknown: "+m+"ms"),console.trace&&console.trace()),j}}(g,b[g]);Ext.override(a,d)}}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0),Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:!0,constructor:function(a){a&&(this.pluginConfig=a,this.initConfig(a))},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(a){this.cmp=a},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null,this.callParent()},onClassExtended:function(b,e,a){var d=e.alias,c=b.prototype;d&&!e.ptype&&(Ext.isArray(d)&&(d=d[0]),c.ptype=d.split("plugin.")[1])},resolveListenerScope:function(d){var a,c=this,b=c.getCmp();return b&&(a=b.resolveSatelliteListenerScope(c,d)),a||c.mixins.observable.resolveListenerScope.call(c,d)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0),Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}});Ext.cmd.derive("Ext.plugin.LazyItems",Ext.plugin.Abstract,{init:function(a){Ext.plugin.Abstract.prototype.init.apply(this,arguments),this.items&&this.eagerInstantiation&&(this.items=a.prepareItems(this.items)),a.beforeRender=Ext.Function.createInterceptor(a.beforeRender,this.beforeComponentRender,this)},beforeComponentRender:function(){this.cmp.add(this.items),this.cmp.beforeComponentRender=null}},0,0,0,0,["plugin.lazyitems"],0,[Ext.plugin,"LazyItems"],0),Ext.cmd.derive("Ext.plugin.MouseEnter",Ext.plugin.Abstract,{element:"el",init:function(a){var c=this,b={mouseover:c.onMouseOver,scope:c,destroyable:!0};c.leaveHandler&&(b.mouseout=c.onMouseOut),"string"==typeof c.element?(b.element=c.element,c.mouseListener=a.on(b)):c.mouseListener=c.element.on(b)},onMouseOver:function(c){var b=this,a=c.getTarget(b.delegate);a&&a!==c.getRelatedTarget(b.delegate)&&Ext.callback(b.handler,null,[c,a],0,b.cmp,b.scope)},onMouseOut:function(c){var b=this,a=c.getRelatedTarget(b.delegate);a&&a!==c.getTarget(b.delegate)&&Ext.callback(b.leaveHandler,null,[c,a],0,b.cmp,b.scope)},destroy:function(){Ext.plugin.Abstract.prototype.destroy.call(this),Ext.destroy(this.mouseListener)}},0,0,0,0,["plugin.mouseenter"],0,[Ext.plugin,"MouseEnter"],0),Ext.cmd.derive("Ext.sparkline.Shape",Ext.Base,{constructor:function(d,e,b,a){var c=this;c.target=d,c.id=e,c.type=b,c.args=a},append:function(){return this.target.appendShape(this),this}},1,0,0,0,0,0,[Ext.sparkline,"Shape"],0),Ext.cmd.derive("Ext.sparkline.CanvasBase",Ext.Base,{shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,constructor:function(a){this.owner=a,this.rtl=this.owner.getInherited().rtl},setWidth:function(a){this.pixelWidth=a},setHeight:function(a){this.pixelHeight=a},drawLine:function(c,e,b,d,g,a){return this.drawShape([[c,e],[b,d]],g,a)},drawShape:function(c,b,d,a){return this._genShape("Shape",[c,b,d,a])},drawCircle:function(c,g,b,d,e,a){return this._genShape("Circle",[c,g,b,d,e,a])},drawPieSlice:function(b,h,a,d,c,e,g){return this._genShape("PieSlice",[b,h,a,d,c,e,g])},drawRect:function(b,g,c,a,d,e){return this._genShape("Rect",[b,g,c,a,d,e])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){},_genShape:function(b,a){var c=this.shapeCount++;return a.unshift(c),new Ext.sparkline.Shape(this,c,b,a)},appendShape:function(a){},replaceWithShape:function(b,a){},insertAfterShape:function(b,a){},removeShapeId:function(a){},getShapeAt:function(a,b){},render:function(){}},1,0,0,0,0,0,[Ext.sparkline,"CanvasBase"],0),Ext.cmd.derive("Ext.sparkline.CanvasCanvas",Ext.sparkline.CanvasBase,{statics:{contextOverrides:function(){var a=window.devicePixelRatio||1;return{moveTo:function(b,c){this.rtl&&(b=this.canvas.width-b-1),this.$moveTo(b*a,c*a)},lineTo:function(b,c){this.rtl&&(b=this.canvas.width-b-1),this.$lineTo(b*a,c*a)},arc:function(c,h,b,g,d,e){this.rtl&&(c=this.canvas.width-c-1),this.$arc(c*a,h*a,b*a,g,d,e)},clearRect:function(c,e,d,b){this.rtl&&(c=this.canvas.width-c-d),this.$clearRect(c*a,e*a,d*a,b*a)}}}()},setWidth:function(a){Ext.sparkline.CanvasBase.prototype.setWidth.apply(this,arguments),this.owner.element.dom.width=a*(window.devicePixelRatio||1)},setHeight:function(a){Ext.sparkline.CanvasBase.prototype.setHeight.apply(this,arguments),this.owner.element.dom.height=a*(window.devicePixelRatio||1)},onOwnerUpdate:function(){var a=this;a.el=a.owner.element,a.interact=!a.owner.initialConfig.disableInteraction,a.shapes={},a.shapeseq=[],a.currentTargetShapeId=a.lastShapeId=null},_getContext:function(d,g,a){var b,c=this.el.dom.getContext("2d"),e=Ext.sparkline.CanvasCanvas.contextOverrides;if(!this.context){for(b in e)c["$"+b]=c[b];Ext.apply(c,e),c.rtl=this.rtl,this.context=c}return null!=d&&(c.strokeStyle=d),c.lineWidth=a||1,null!=g&&(c.fillStyle=g),c},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(h,k,j,b,g){var e,d,c=this._getContext(j,b,g),a=this.rtl?-.5:.5;for(c.beginPath(),c.moveTo(k[0][0]+a,k[0][1]+.5),e=1,d=k.length;e<d;e++)c.lineTo(k[e][0]+a,k[e][1]+.5);null!=j&&c.stroke(),null!=b&&c.fill(),null!=this.targetX&&null!=this.targetY&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=h)},_drawCircle:function(g,c,i,b,e,h,a){var d=this._getContext(e,h,a);d.beginPath(),d.arc(c,i,b,0,2*Math.PI,!1),null!=this.targetX&&null!=this.targetY&&d.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=g),null!=e&&d.stroke(),null!=h&&d.fill()},_drawPieSlice:function(e,j,h,d,g,c,i,b){var a=this._getContext(i,b);a.beginPath(),a.moveTo(j,h),a.arc(j,h,d,g,c,!1),a.lineTo(j,h),a.closePath(),null!=i&&a.stroke(),b&&a.fill(),void 0!==this.targetX&&void 0!==this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,b,h,c,a,d,g){return this._drawShape(e,[[b,h],[b+c,h],[b+c,h+a],[b,h+a],[b,h]],d,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(c,a){var b,d=this.shapeseq;for(this.shapes[a.id]=a,b=d.length;b--;)d[b]===c&&(d[b]=a.id);delete this.shapes[c]},replaceWithShapes:function(c,b){var a,d,g,h=this.shapeseq,e={};for(d=c.length;d--;)e[c[d]]=!0;for(d=h.length;d--;)a=h[d],e[a]&&(h.splice(d,1),delete this.shapes[a],g=d);for(d=b.length;d--;)h.splice(g,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(c,a){var b,d=this.shapeseq;for(b=d.length;b--;)if(d[b]===c)return d.splice(b+1,0,a.id),void(this.shapes[a.id]=a)},removeShapeId:function(b){var a,c=this.shapeseq;for(a=c.length;a--;)if(c[a]===b){c.splice(a,1);break}delete this.shapes[b]},getShapeAt:function(a,b){return this.rtl&&(a=this.el.dom.width-a-1),this.targetX=a,this.targetY=b,this.render(),this.currentTargetShapeId},render:function(){var g,b,c,h=this.shapeseq,a=this.shapes,e=h.length,d=this._getContext();for(d.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;c<e;c++)g=h[c],b=a[g],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}},0,0,0,0,0,0,[Ext.sparkline,"CanvasCanvas"],0),Ext.cmd.derive("Ext.sparkline.VmlCanvas",Ext.sparkline.CanvasBase,{setWidth:function(a){var b=this;Ext.sparkline.CanvasBase.prototype.setWidth.apply(this,arguments),b.owner.groupEl.dom.coordsize=b.width+" "+(b.height||0),b.owner.groupEl.dom.style.width=a+"px"},setHeight:function(a){var b=this;Ext.sparkline.CanvasBase.prototype.setHeight.apply(this,arguments),b.owner.groupEl.dom.coordsize=(b.width||0)+" "+b.height,b.owner.groupEl.dom.style.height=a+"px"},onOwnerUpdate:function(){var a=this;a.group=a.owner.groupEl,a.el=a.owner.element,a.prerender=[]},_drawShape:function(g,n,j,a,d){var h,m,l,e,b,c,k=[];for(c=0,b=n.length;c<b;c++)k[c]=n[c][0]+","+n[c][1];return h=k.splice(0,1),d=null==d?1:d,m=null==j?' stroked="false" ':' strokeWeight="'+d+'px" strokeColor="'+j+'" ',l=null==a?' filled="false"':' fillColor="'+a+'" filled="true" ',e=k[0]===k[k.length-1]?"x ":"",['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',g,'" ',m,l,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',h," l ",k.join(", ")," ",e,'e"></svml:shape>'].join("")},_drawCircle:function(d,i,g,c,h,a,b){var k,j,e=2*c;return i-=c,g-=c,k=null==h?' stroked="false" ':' strokeWeight="'+b+'px" strokeColor="'+h+'" ',j=null==a?' filled="false"':' fillColor="'+a+'" filled="true" ',['<svml:oval id="jqsshape',d,'" ',k,j,' style="position:absolute;top:',g,"px; left:",i,"px;width:",e,"px;height:",e,'px"></svml:oval>'].join("")},_drawPieSlice:function(j,o,m,i,k,e,n,d){var l,b,a,h,g,c=this.pixelWidth,p=this.pixelHeight,r=null==n?' stroked="false" ':' strokeWeight="1px" strokeColor="'+n+'" ',q=null==d?' filled="false"':' fillColor="'+d+'" filled="true" ';if(k===e)return"";if(e-k==2*Math.PI&&(k=0,e=2*Math.PI),b=o+Math.round(Math.cos(k)*i),a=m+Math.round(Math.sin(k)*i),h=o+Math.round(Math.cos(e)*i),g=m+Math.round(Math.sin(e)*i),b===h&&a===g){if(e-k<Math.PI)return"";b=h=o+i,a=g=m}return b===h&&a===g&&e-k<Math.PI?"":(l=[o-i,m-i,o+i,m+i,b,a,h,g],['<svml:shape coordorigin="0 0" coordsize="',c," ",p,'" id="jqsshape',j,'" ',r,q,' style="position:absolute;height:',p,"px;width:",c,'px" path="m ',o,",",m," wa ",l.join(", "),' x e"></svml:shape>'].join(""))},_drawRect:function(e,b,h,c,a,d,g){return this._drawShape(e,[[b,h],[b,h+a],[b+c,h+a],[b+c,h],[b,h]],d,g)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(a){return this.prerender.push(this["_draw"+a.type].apply(this,a.args)),this.lastShapeId=a.id,a.id},replaceWithShape:function(d,a){var c=this.el.getById("jqsshape"+d,!0),b=this["_draw"+a.type].apply(this,a.args);c.outerHTML=b},replaceWithShapes:function(b,a){var c,e=this.el.getById("jqsshape"+b[0],!0),d="",g=a.length;for(c=0;c<g;c++)d+=this["_draw"+a[c].type].apply(this,a[c].args);for(e.outerHTML=d,c=1;c<b.length;c++)this.el.getById("jqsshape"+b[c]).destroy()},insertAfterShape:function(d,a){var c=this.el.getById("jqsshape"+d,!0),b=this["_draw"+a.type].apply(this,a.args);c.insertAdjacentHTML("afterEnd",b)},removeShapeId:function(b){var a=this.el.getById("jqsshape"+b,!0);this.group.removeChild(a)},getShapeAt:function(a,c){return this.el.id.substr(8)},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},0,0,0,0,0,0,[Ext.sparkline,"VmlCanvas"],function(){Ext.onInternalReady(function(){var a=document;a.namespaces&&!a.namespaces.svml&&a.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})}),Ext.cmd.derive("Ext.util.Color",Ext.Base,{alternateClassName:"Ext.draw.Color",statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:!0,lightnessFactor:.2,constructor:function(d,b,a,c){this.setRGB(d,b,a,c)},clone:function(){var a=this;return new this.self(a.r,a.g,a.b,a.a)},setRGB:function(e,c,a,d){var b=this;b.r=Math.min(255,Math.max(0,e)),b.g=Math.min(255,Math.max(0,c)),b.b=Math.min(255,Math.max(0,a)),b.a=void 0===d?1:Math.min(1,Math.max(0,d))},getBrightness:function(){return(this.r/255*100*299+this.g/255*100*587+this.b/255*100*114)/1e3},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(){var e,j=this,a=j.r/255,i=j.g/255,k=j.b/255,m=Math.max(a,i,k),d=Math.min(a,i,k),n=m-d,o=0,c=.5*(m+d);return d!==m&&(o=c<=.5?n/(m+d):n/(2-m-d),e=a===m?60*(i-k)/n:i===m?120+60*(k-a)/n:240+60*(a-i)/n,e<0&&(e+=360),e>=360&&(e-=360)),[e,o,c]},getHSV:function(){var e,j=this,a=j.r/255,i=j.g/255,k=j.b/255,l=Math.max(a,i,k),d=Math.min(a,i,k),c=l-d,n=0,m=l;return d!=l&&(n=m?c/m:0,e=a===l?60*(i-k)/c:i===l?60*(k-a)/c+120:60*(a-i)/c+240,e<0&&(e+=360),e>=360&&(e-=360)),[e,n,m]},setHSL:function(i,g,e){var k,b,a,j=this,d=Math.abs;if(i=(i%360+360)%360,g=g>1?1:g<0?0:g,e=e>1?1:e<0?0:e,0===g||null===i)e*=255,j.setRGB(e,e,e);else switch(i/=60,k=g*(1-d(2*e-1)),b=k*(1-d(i%2-1)),a=e-k/2,a*=255,k*=255,b*=255,Math.floor(i)){case 0:j.setRGB(k+a,b+a,a);break;case 1:j.setRGB(b+a,k+a,a);break;case 2:j.setRGB(a,k+a,b+a);break;case 3:j.setRGB(a,b+a,k+a);break;case 4:j.setRGB(b+a,a,k+a);break;case 5:j.setRGB(k+a,a,b+a)}return j},setHSV:function(g,e,d){var j,b,a,i=this;if(g=(g%360+360)%360,e=e>1?1:e<0?0:e,d=d>1?1:d<0?0:d,0===e||null===g)d*=255,i.setRGB(d,d,d);else switch(g/=60,j=d*e,b=j*(1-Math.abs(g%2-1)),a=d-j,a*=255,j*=255,b*=255,Math.floor(g)){case 0:i.setRGB(j+a,b+a,a);break;case 1:i.setRGB(b+a,j+a,a);break;case 2:i.setRGB(a,j+a,b+a);break;case 3:i.setRGB(a,b+a,j+a);break;case 4:i.setRGB(b+a,a,j+a);break;case 5:i.setRGB(j+a,a,b+a)}return i},createLighter:function(b){var a=this.clone();return a.lighten(b),a},lighten:function(b){b||0===b||(b=this.lightnessFactor);var a=this.getHSL();this.setHSL(a[0],a[1],Ext.Number.constrain(a[2]+b,0,1))},createDarker:function(b){var a=this.clone();return a.darken(b),a},darken:function(a){return a||0===a||(a=this.lightnessFactor),this.lighten(-a)},toString:function(){var h=this,c=Math.round;if(1===h.a){var e=c(h.r).toString(16),d=c(h.g).toString(16),a=c(h.b).toString(16);return e=1===e.length?"0"+e:e,d=1===d.length?"0"+d:d,a=1===a.length?"0"+a:a,["#",e,d,a].join("")}return"rgba("+[c(h.r),c(h.g),c(h.b),0===h.a?0:h.a.toFixed(15)].join(", ")+")"},toHex:function(c){var h=this.r,e=this.g;return"#"+("000000"+(this.b|e<<8|h<<16).toString(16)).slice(-6)},setFromString:function(k){var e,i,h,c,d=1,j=parseInt;if(k===Ext.util.Color.NONE)return this.r=this.g=this.b=this.a=0,this;if(4!==k.length&&7!==k.length||"#"!==k.substr(0,1)){if(e=k.match(Ext.util.Color.rgbToHexRe))i=+e[1],h=+e[2],c=+e[3];else if(e=k.match(Ext.util.Color.rgbaToHexRe))i=+e[1],h=+e[2],c=+e[3],d=+e[4];else if(Ext.util.Color.ColorList.hasOwnProperty(k.toLowerCase()))return this.setFromString(Ext.util.Color.ColorList[k.toLowerCase()])}else(e=k.match(Ext.util.Color.hexRe))&&(i=j(e[1],16)>>0,h=j(e[2],16)>>0,c=j(e[3],16)>>0,4===k.length&&(i+=16*i,h+=16*h,c+=16*c));return void 0===i?this:(this.r=i,this.g=h,this.b=c,this.a=d,this)}},3,0,0,0,0,0,[Ext.util,"Color",Ext.draw,"Color"],function(){var a=new this;this.addStatics({fly:function(e,c,b,d){switch(arguments.length){case 1:a.setFromString(e);break;case 3:case 4:a.setRGB(e,c,b,d);break;default:return null}return a},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(d,c,b){return new this(0,0,0,0).setHSL(d,c,b)},fromHSV:function(d,c,b){return new this(0,0,0,0).setHSL(d,c,b)},fromString:function(b){return new this(0,0,0,0).setFromString(b)},create:function(b){return b instanceof this?b:Ext.isArray(b)?new Ext.util.Color(b[0],b[1],b[2],b[3]):Ext.isString(b)?Ext.util.Color.fromString(b):arguments.length>2?new Ext.util.Color(arguments[0],arguments[1],arguments[2],arguments[3]):new Ext.util.Color(0,0,0,0)}})}),Ext.cmd.derive("Ext.sparkline.Base",Ext.Gadget,{cachedConfig:{baseCls:"x-sparkline",lineColor:"#157fcc",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:.1,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:"x-sparkline-tip-target",onClassCreated:function(c){var d,b,a=c.prototype.applyConfigChange,e=c.prototype,g=c.getConfigurator().configs;for(d in g)"tipTpl"!==d&&(b=Ext.Config.get(d).names.apply,e[b]?e[b]=Ext.Function.createSequence(e[b],a):e[b]=a)}},constructor:function(a){var b=this;b.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(b):new Ext.sparkline.VmlCanvas(b),b.getDisableTooltips()||(b.element.cls=Ext.sparkline.Base.sparkLineTipClass),Ext.apply(b,a),Ext.Widget.prototype.constructor.call(this,a)},all:function(d,b,a){var c;for(c=b.length;c--;)if((!a||null!==b[c])&&b[c]!==d)return!1;return!0},applyConfigChange:function(b){var a=this;return a.redrawQueue[a.getId()]=a,a.redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(a.processRedrawQueue)),b},applyTipTpl:function(a){return a&&!a.isTemplate&&(a=new Ext.XTemplate(a)),a},normalizeValue:function(b){var a;switch(b){case"undefined":b=void 0;break;case"null":b=null;break;case"true":b=!0;break;case"false":b=!1;break;default:a=parseFloat(b),b==a&&(b=a)}return b},normalizeValues:function(c){var b,a=[];for(b=c.length;b--;)a[b]=this.normalizeValue(c[b]);return a},updateWidth:function(b,a){var c=this,e=c.element.dom,d=c.measurer;Ext.Widget.prototype.updateWidth.call(this,b,a),c.canvas.setWidth(b),c.width=b,null==c.height&&d&&c.setHeight(parseInt(d.getCachedStyle(e.parentNode,"line-height"),10))},updateHeight:function(a,c){var b=this;Ext.Widget.prototype.updateHeight.call(this,a,c),b.canvas.setHeight(a),b.height=a},applyValues:function(b,a){return b&&a&&Ext.Array.equals(b,a)&&(b=void 0),b},updateValues:function(a){this.values=a},redraw:function(){var a=this;!a.destroyed&&a.getValues()&&(a.onUpdate(),a.canvas.onOwnerUpdate(),a.renderGraph())},onUpdate:Ext.emptyFn,renderGraph:function(){var a=!0;return this.disabled&&(this.canvas.reset(),a=!1),a},onMouseEnter:function(a){this.onMouseMove(a)},onMouseMove:function(a){this.currentPageXY=a.getPoint(),this.redraw()},onMouseLeave:function(){var a=this;a.currentPageXY=a.targetX=a.targetY=null,a.redraw(),a.hideTip()},updateDisplay:function(){var e,c,d,b=this,a=b.getValues();a&&a.length&&b.currentPageXY&&b.el.getRegion().contains(b.currentPageXY)&&(e=b.canvas.el.getXY(),d=b.getRegion(b.currentPageXY[0]-e[0],b.currentPageXY[1]-e[1]),null!=d&&b.isValidRegion(d,a)&&(b.disableHighlight||b.renderHighlight(d),c=b.getRegionTooltip(d)),b.fireEvent("sparklineregionchange",b),c&&(b.tooltip.setHtml(c),b.showTip())),c||b.hideTip()},getRegion:Ext.emptyFn,getRegionTooltip:function(n){var g,h,d,k,b,o,l,c,a,m=this,e=[],p=m.getTipTpl();if(g=m.getRegionFields(n),o=m.tooltipFormatter)return o(m,m,g);if(!p)return"";if(Ext.isArray(g)||(g=[g]),h=m.tooltipFormatFieldlist,d=m.tooltipFormatFieldlistKey,h&&d){for(k=[],c=g.length;c--;)b=g[c][d],-1!==(a=Ext.Array.indexOf(b,h))&&(k[a]=g[c]);g=k}for(l=g.length,a=0;a<l;a++)g[a].isNull&&m.getTooltipSkipNull()||(Ext.apply(g[a],{prefix:m.getTooltipPrefix(),suffix:m.getTooltipSuffix()}),e.push(p.apply(g[a])));return e.length?e.join("<br>"):""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(a){var d,c=this,e=c.getHighlightColor(),b=c.getHighlightLighten();return e||(b&&(d=Ext.util.Color.fromString(a))&&(d.lighten(b),a=d.toHex()),a)},destroy:function(){delete this.redrawQueue[this.getId()],Ext.Widget.prototype.destroy.call(this)},privates:{hideTip:Ext.privateFn,isValidRegion:function(b,a){return b<a.length},showTip:Ext.privateFn}},1,["sparkline"],["widget","sparkline"],{widget:!0,sparkline:!0},["widget.sparkline"],0,[Ext.sparkline,"Base"],function(b){var a=b.prototype;Ext.onInternalReady(function(){a.tooltip=b.constructTip()}),b.onClassCreated(b),a.processRedrawQueue=function(){var d,c=a.redrawQueue;for(d in c)c[d].redraw();a.redrawQueue={},a.redrawTimer=0},Ext.supports.Canvas||(b.prototype.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]})}),Ext.define("Ext.override.sparkline.Base",{override:"Ext.sparkline.Base",statics:{constructTip:function(){return new Ext.tip.ToolTip({id:"sparklines-tooltip",showDelay:0,dismissDelay:0,hideDelay:400})}},onMouseMove:function(a){this.tooltip.triggerEvent=a,arguments.callee.$previous.call(this,a)},onMouseLeave:function(a){arguments.callee.$previous.call(this,a),this.tooltip.target=null},privates:{hideTip:function(){var a=this.tooltip;a.target=null,a.hide()},showTip:function(){var a=this.tooltip;a.target=this.el,a.onTargetOver(a.triggerEvent)}}}),Ext.cmd.derive("Ext.sparkline.BarBase",Ext.sparkline.Base,{renderHighlight:function(a){this.renderRegion(a,!0)},renderGraph:function(){var a,g,e,c,h=this,b=h.values,d=h.canvas,k=h.regionShapes||(h.regionShapes={});if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(e=b.length;e--;)if(a=h.renderRegion(e))if(Ext.isArray(a)){for(g=[],c=a.length;c--;)a[c].append(),g.push(a[c].id);k[e]=g}else a.append(),k[e]=a.id;else k[e]=null;h.currentPageXY&&(h.currentRegion=null,h.updateDisplay()),d.render()}}},0,0,["widget","sparkline"],{widget:!0,sparkline:!0},0,0,[Ext.sparkline,"BarBase"],0),Ext.cmd.derive("Ext.sparkline.RangeMap",Ext.Base,{constructor:function(d){var c,a,b=[];for(c in d)d.hasOwnProperty(c)&&"string"==typeof c&&c.indexOf(":")>-1&&(a=c.split(":"),a[0]=0===a[0].length?-1/0:parseFloat(a[0]),a[1]=0===a[1].length?1/0:parseFloat(a[1]),a[2]=d[c],b.push(a));this.map=d,this.rangelist=b||!1},get:function(e){var c,b,a,d=this.rangelist;if(void 0!==(a=this.map[e]))return a;if(d)for(c=d.length;c--;)if(b=d[c],b[0]<=e&&b[1]>=e)return b[2]}},1,0,0,0,0,0,[Ext.sparkline,"RangeMap"],0),Ext.cmd.derive("Ext.sparkline.Bar",Ext.sparkline.BarBase,{config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null},tipTpl:"&#9679; {prefix}{value}{suffix}",remove:function(e,c){var b,d,a=[];for(b=0,d=e.length;b<d;b++)e[b]!==c&&a.push(e[b]);return a},all:function(b,d,a){var c;for(c=b.length;c--;)if((!a||null!==b[c])&&b[c]!==d)return!1;return!0},applyColorMap:function(a){var b=this;return Ext.isArray(a)?(b.colorMapByIndex=a,b.colorMapByValue=null):(b.colorMapByIndex=null,b.colorMapByValue=a,b.colorMapByValue&&null==b.colorMapByValue.get&&(b.colorMapByValue=new Ext.sparkline.RangeMap(a))),b.applyConfigChange(),a},onUpdate:function(){var v,r,u,e,g,B,h,s,o,x,A,C,F,E,w,y,H,p,J,n,d,I=this,c=I.values,t=I.getBarWidth(),q=I.getBarSpacing(),k=I.getChartRangeMin(),l=I.getChartRangeMax(),m=I.getChartRangeClip(),D=1/0,G=-1/0,z=I.getZeroAxis(),b=[],a=[];for(B=0,h=c.length;B<h;B++)J=c[B],((v="string"==typeof J&&J.indexOf(":")>-1)||Ext.isArray(J))&&(E=!0,v&&(J=c[B]=I.normalizeValues(J.split(":"))),J=I.remove(J,null),r=Math.min.apply(Math,J),u=Math.max.apply(Math,J),r<D&&(D=r),u>G&&(G=u));for(I.stacked=E,I.regionShapes={},I.totalBarWidth=t+q,I.width=c.length*t+(c.length-1)*q,m&&(C=null==k?-1/0:k,F=null==l?1/0:l),g=[],e=E?[]:g,B=0,h=c.length;B<h;B++)if(E)for(w=c[B],c[B]=p=[],b[B]=0,e[B]=a[B]=0,y=0,H=w.length;y<H;y++)null!==(J=p[y]=m?Ext.Number.constrain(w[y],C,F):w[y])&&(J>0&&(b[B]+=J),D<0&&G>0?J<0?a[B]+=Math.abs(J):e[B]+=J:e[B]+=Math.abs(J-(J<0?G:D)),g.push(J));else J=m?Ext.Number.constrain(c[B],C,F):c[B],null!==(J=c[B]=I.normalizeValue(J))&&g.push(J);I.max=A=Math.max.apply(Math,g),I.min=x=Math.min.apply(Math,g),I.stackMax=G=E?Math.max.apply(Math,b):A,I.stackMin=D=E?Math.min.apply(Math,g):x,null!=k&&(m||k<x)&&(x=k),null!=l&&(m||l>A)&&(A=l),o=x<=0&&A>=0&&z?0:z?x>0?x:A:x,I.xAxisOffset=o,s=E?Math.max.apply(Math,e)+Math.max.apply(Math,a):A-x,I.canvasHeightEf=z&&x<0?I.getHeight()-2:I.getHeight()-1,x<o?(d=E&&A>=0?G:A,(n=(d-o)/s*I.getHeight())!==Math.ceil(n)&&(I.canvasHeightEf-=2,n=Math.ceil(n))):n=I.getHeight(),I.yoffset=n,I.range=s},getRegion:function(b,c){var a=Math.floor(b/this.totalBarWidth);return a<0||a>=this.values.length?void 0:a},getRegionFields:function(e){var d,c,b=Ext.Array.from(this.values[e]),a=[];for(c=b.length;c--;)d=b[c],a.push({isNull:null===d,value:d,color:this.calcColor(c,d,e),offset:e});return a},calcColor:function(j,i,d){var a,e,g=this,b=g.colorMapByIndex,h=g.colorMapByValue,c=g.getZeroColor();return a=this.stacked?g.getStackedBarColor():i<0?g.getNegBarColor():g.getBarColor(),0===i&&null!=c&&(a=c),h&&(e=h.get(i))?a=e:b&&b.length>d&&(a=b[d]),Ext.isArray(a)?a[j%a.length]:a},renderRegion:function(l,e){var h,r,t,s,g,u,d,A,v,m,z=this,n=z.values[l],a=z.xAxisOffset,o=z.range,w=z.stacked,c=z.canvas,q=z.getBarWidth(),j=l*z.totalBarWidth,b=z.canvasHeightEf,k=z.yoffset,p=z.getNullColor();if(n=Ext.isArray(n)?n:[n],d=n.length,A=n[0],s=z.all(n,null),m=z.all(n,a,!0),s)return void(p&&(t=e?p:z.calcHighlightColor(p,z),h=k>0?k-1:k,c.drawRect(j,h,q-1,0,t,t).append()));for(g=k,u=0;u<d;u++){if(A=n[u],w&&A===a){if(!m||v)continue;v=!0}r=o>0?Math.floor(b*(Math.abs(A-a)/o))+1:1,A<a||A===a&&0===k?(h=g,g+=r):(h=k-r,k-=r),t=z.calcColor(u,A,l),e&&(t=z.calcHighlightColor(t,z)),c.drawRect(j,h,q-1,r-1,t,t).append()}}},0,["sparklinebar"],["widget","sparkline","sparklinebar"],{widget:!0,sparkline:!0,sparklinebar:!0},["widget.sparklinebar"],0,[Ext.sparkline,"Bar"],function(a){a.onClassCreated(a)}),Ext.cmd.derive("Ext.sparkline.Box",Ext.sparkline.Base,{config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null},tipTpl:["{field:this.fields}: {value}",{fields:function(b){return{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}[b]}}],tooltipFormatFieldlistKey:"field",quartile:function(a,c){var b;return 2===c?(b=Math.floor(a.length/2),a.length%2?a[b]:(a[b-1]+a[b])/2):a.length%2?(b=(a.length*c+c)/4,b%1?(a[Math.floor(b)]+a[Math.floor(b)-1])/2:a[b-1]):(b=(a.length*c+2)/4,b%1?(a[Math.floor(b)]+a[Math.floor(b)-1])/2:a[b-1])},applyValues:function(a){return a=Ext.Array.map(Ext.Array.from(a),Number),this.disabled=!(a&&a.length),this.applyConfigChange(),a},getRegion:function(){return 1},getRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",
value:this.quartiles[2]}];return void 0!==this.loutlier&&a.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&a.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&a.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&a.push({field:"rw",value:this.rwhisker}),a},renderHighlight:Ext.emptyFn,renderGraph:function(){var w,B,j,s,r,p,b,m,A,y,g,E=this,l=E.canvas,h=E.values,o=h.length,D=E.getWidth(),e=E.getHeight(),q=E.getChartRangeMin(),t=E.getChartRangeMax(),x=null==q?Math.min.apply(Math,h):q,C=null==t?Math.max.apply(Math,h):t,z=0,F=E.getSpotRadius(),a=E.getOutlierLineColor(),k=E.getOutlierFillColor(),v=E.getShowOutliers(),u=E.getOutlierIQR(),d=E.getLineColor(),c=E.getWhiskerColor(),n=E.getTargetColor();if(Ext.sparkline.Base.prototype.renderGraph.call(this)){if(E.raw)v&&h.length>5?(B=h[0],w=h[1],s=h[2],r=h[3],p=h[4],b=h[5],m=h[6]):(w=h[0],s=h[1],r=h[2],p=h[3],b=h[4]);else if(h.sort(function(G,i){return G-i}),s=E.quartile(h,1),r=E.quartile(h,2),p=E.quartile(h,3),j=p-s,v){for(w=b=null,A=0;A<o;A++)null==w&&h[A]>s-j*u&&(w=h[A]),h[A]<p+j*u&&(b=h[A]);B=h[0],m=h[o-1]}else w=h[0],b=h[o-1];E.quartiles=[s,r,p],E.lwhisker=w,E.rwhisker=b,E.loutlier=B,E.routlier=m,g=D/(C-x+1),v&&(z=Math.ceil(F),D-=2*Math.ceil(F),g=D/(C-x+1),B<w&&l.drawCircle((B-x)*g+z,e/2,F,a,k).append(),m>b&&l.drawCircle((m-x)*g+z,e/2,F,a,k).append()),l.drawRect(Math.round((s-x)*g+z),Math.round(.1*e),Math.round((p-s)*g),Math.round(.8*e),E.getBoxLineColor(),E.getBoxFillColor()).append(),l.drawLine(Math.round((w-x)*g+z),Math.round(e/2),Math.round((s-x)*g+z),Math.round(e/2),d).append(),l.drawLine(Math.round((w-x)*g+z),Math.round(e/4),Math.round((w-x)*g+z),Math.round(e-e/4),c).append(),l.drawLine(Math.round((b-x)*g+z),Math.round(e/2),Math.round((p-x)*g+z),Math.round(e/2),d).append(),l.drawLine(Math.round((b-x)*g+z),Math.round(e/4),Math.round((b-x)*g+z),Math.round(e-e/4),c).append(),l.drawLine(Math.round((r-x)*g+z),Math.round(.1*e),Math.round((r-x)*g+z),Math.round(.9*e),E.getMedianColor()).append(),E.target&&(y=Math.ceil(E.spotRadius),l.drawLine(Math.round((E.target-x)*g+z),Math.round(e/2-y),Math.round((E.target-x)*g+z),Math.round(e/2+y),n).append(),l.drawLine(Math.round((E.target-x)*g+z-y),Math.round(e/2),Math.round((E.target-x)*g+z+y),Math.round(e/2),n).append()),E.currentPageXY&&E.el.getRegion().contains(E.currentPageXY)&&(E.currentRegion=null,E.updateDisplay()),l.render()}}},0,["sparklinebox"],["widget","sparkline","sparklinebox"],{widget:!0,sparkline:!0,sparklinebox:!0},["widget.sparklinebox"],0,[Ext.sparkline,"Box"],0),Ext.cmd.derive("Ext.sparkline.Bullet",Ext.sparkline.Base,{config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null},tipTpl:["{fieldkey:this.fields} - {value}",{fields:function(a){return"r"===a?"Range":"p"===a?"Performance":"t"===a?"Target":void 0}}],applyValues:function(a){return a=Ext.Array.map(Ext.Array.from(a),this.normalizeValue),this.disabled=!(a&&a.length),this.applyConfigChange(),a},onUpdate:function(){var c,a,g,d=this,b=d.values,e=d.getBase();Ext.sparkline.Base.prototype.onUpdate.apply(this,arguments),g=b.slice(),g[0]=null===g[0]?g[2]:g[0],g[1]=null===b[1]?g[2]:g[1],c=Math.min.apply(Math,b),a=Math.max.apply(Math,b),c=null==e?c<0?c:0:e,d.min=c,d.max=a,d.range=a-c,d.shapes={},d.valueShapes={},d.regiondata={},b.length||(d.disabled=!0)},getRegion:function(a,c){var b=this.canvas.getShapeAt(a,c);return void 0!==b&&void 0!==this.shapes[b]?this.shapes[b]:void 0},getRegionFields:function(a){return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},renderHighlight:function(e){var c,d=this,b=d.valueShapes,a=d.shapes,g=b[e];switch(delete a[g],e.substr(0,1)){case"r":c=d.renderRange(e.substr(1),!0);break;case"p":c=d.renderPerformance(!0);break;case"t":c=d.renderTarget(!0)}b[e]=c.id,a[c.id]=e,d.canvas.replaceWithShape(g,c)},renderRange:function(e,b){var d=this.values[e],c=Math.round(this.getWidth()*((d-this.min)/this.range)),a=this.getRangeColors()[e-2];return b&&(a=this.calcHighlightColor(a)),this.canvas.drawRect(0,0,c-1,this.getHeight()-1,a,a)},renderPerformance:function(b){var d=this.values[1],c=Math.round(this.getWidth()*((d-this.min)/this.range)),a=this.getPerformanceColor();return b&&(a=this.calcHighlightColor(a)),this.canvas.drawRect(0,Math.round(.3*this.getHeight()),c-1,Math.round(.4*this.getHeight())-1,a,a)},renderTarget:function(c){var h=this.values[0],e=this.getTargetWidth(),a=Math.round(this.getWidth()*((h-this.min)/this.range)-e/2),g=Math.round(.1*this.getHeight()),d=this.getHeight()-2*g,b=this.getTargetColor();return c&&(b=this.calcHighlightColor(b)),this.canvas.drawRect(a,g,e-1,d-1,b,b)},renderGraph:function(){var e,c,g=this,h=g.values.length,d=g.canvas,b=g.shapes||(g.shapes={}),a=g.valueShapes||(g.valueShapes={});if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(e=2;e<h;e++)c=g.renderRange(e).append(),b[c.id]="r"+e,a["r"+e]=c.id;null!==g.values[1]&&(c=g.renderPerformance().append(),b[c.id]="p1",a.p1=c.id),null!==g.values[0]&&(c=this.renderTarget().append(),b[c.id]="t0",a.t0=c.id),g.currentPageXY&&g.el.getRegion().contains(g.currentPageXY)&&g.updateDisplay(),d.render()}},privates:{isValidRegion:function(b,a){return!0}}},0,["sparklinebullet"],["widget","sparkline","sparklinebullet"],{widget:!0,sparkline:!0,sparklinebullet:!0},["widget.sparklinebullet"],0,[Ext.sparkline,"Bullet"],0),Ext.cmd.derive("Ext.sparkline.Discrete",Ext.sparkline.BarBase,{config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1},tipTpl:"{prefix}{value}{suffix}",applyValues:function(a){return a=Ext.Array.map(Ext.Array.from(a),Number),this.disabled=!(a&&a.length),this.applyConfigChange(),a},onUpdate:function(){var c=this,b=c.values,a=c.getChartRangeMin(),d=c.getChartRangeMax(),e=c.getChartRangeClip();Ext.sparkline.BarBase.prototype.onUpdate.apply(this,arguments),c.regionShapes={},c.min=Math.min.apply(Math,b),c.max=Math.max.apply(Math,b),c.range=c.max-c.min,c.width=c.getWidth(),c.interval=Math.floor(c.width/b.length),c.itemWidth=c.width/b.length,null!=a&&(e||a<c.min)&&(c.min=a),null!=d&&(e||d>c.max)&&(c.max=d),c.canvas&&"auto"===c.getLineHeight()&&c.setLineHeight(Math.round(.3*c.getHeight()))},getRegion:function(a,b){return Math.floor(a/this.itemWidth)},getRegionFields:function(a){return{isNull:void 0===this.values[a],value:this.values[a],offset:a}},renderRegion:function(k,e){var a,d,g,p,m=this,r=m.values,h=m.min,n=m.max,j=m.range,c=m.interval,b=m.canvas,i=m.getHeight(),q=m.getLineHeight(),l=i-q,o=m.getThresholdColor();d=Ext.Number.constrain(r[k],h,n),p=k*c,a=Math.round(l-l*((d-h)/j)),g=o&&d<m.getThresholdValue()?o:m.getLineColor(),e&&(g=m.calcHighlightColor(g)),b.drawLine(p,a,p,a+q,g).append()}},0,["sparklinediscrete"],["widget","sparkline","sparklinediscrete"],{widget:!0,sparkline:!0,sparklinediscrete:!0},["widget.sparklinediscrete"],0,[Ext.sparkline,"Discrete"],0),Ext.cmd.derive("Ext.sparkline.Line",Ext.sparkline.Base,{config:{fillColor:"#def",spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,valueSpots:null},tipTpl:"&#9679; {prefix}{y}{suffix}",applyValueSpots:function(a){return a&&!a.get&&(a=new Ext.sparkline.RangeMap(a)),this.applyConfigChange(),a},onUpdate:function(){this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[]},getRegion:function(a,d){var b,c=this.regionMap;for(b=c.length;b--;)if(null!==c[b]&&a>=c[b][0]&&a<=c[b][1])return c[b][2]},getRegionFields:function(a){return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.getLineColor(),fillColor:this.getFillColor(),offset:a}},renderHighlight:function(g){var c=this,a=c.canvas,e=c.vertices[g],b=c.getSpotRadius(),h=c.getHighlightSpotColor(),d=c.getHighlightLineColor();e&&(b&&h&&a.drawCircle(e[0],e[1],b,null,h).append(),d&&a.drawLine(e[0],c.canvasTop,e[0],c.canvasTop+c.getHeight(),d).append())},scanValues:function(){var e,d,j,g,b,k=this,l=k.values,c=l.length,a=k.xvalues,h=k.yvalues,m=k.yminmax;for(e=0;e<c;e++)d=l[e],j="string"==typeof l[e],g="object"==typeof l[e]&&l[e]instanceof Array,b=j&&l[e].split(":"),j&&2===b.length?(a.push(Number(b[0])),h.push(Number(b[1])),m.push(Number(b[1]))):g?(a.push(d[0]),h.push(d[1]),m.push(d[1])):(a.push(e),null===l[e]||"null"===l[e]?h.push(null):(h.push(Number(d)),m.push(Number(d))));k.xvalues&&(a=k.xvalues),k.maxy=k.maxyorg=Math.max.apply(Math,m),k.miny=k.minyorg=Math.min.apply(Math,m),k.maxx=Math.max.apply(Math,a),k.minx=Math.min.apply(Math,a),k.xvalues=a,k.yvalues=h,k.yminmax=m},processRangeOptions:function(){var d=this,c=d.getNormalRangeMin(),g=d.getNormalRangeMax(),a=d.getChartRangeMin(),b=d.getChartRangeMinX(),e=d.getChartRangeMax(),h=d.getChartRangeMaxX();null!=c&&(c<d.miny&&(d.miny=c),g>d.maxy&&(d.maxy=g)),null!=a&&(d.chartRangeClip||a<d.miny)&&(d.miny=a),null!=e&&(d.chartRangeClip||e>d.maxy)&&(this.maxy=e),null!=b&&(d.chartRangeClipX||b<d.minx)&&(d.minx=b),null!=h&&(d.chartRangeClipX||h>d.maxx)&&(d.maxx=h)},drawNormalRange:function(c,h,g,d,i){var a=this.getNormalRangeMin(),e=this.getNormalRangeMax(),b=h+Math.round(g-g*((e-this.miny)/i)),j=Math.round(g*(e-a)/i);this.canvas.drawRect(c,b,d,j,void 0,this.normalRangeColor).append()},renderGraph:function(){var B,g,C,t,r,s,J,A,F,E,j,w,n,p,h,K,e,D,o,H,u,G,I,N,q=this,k=q.canvas,M=q.getWidth(),m=q.getHeight(),d=q.vertices,L=q.getSpotRadius(),O=q.regionMap,c=q.getValueSpots(),l=q.getSpotColor(),b=q.getMinSpotColor(),z=q.getMaxSpotColor(),v=q.getNormalRangeMin(),a=q.getDrawNormalOnTop();if(Ext.sparkline.Base.prototype.renderGraph.call(this)&&(q.scanValues(),q.processRangeOptions(),G=q.xvalues,I=q.yvalues,q.yminmax.length&&!(q.yvalues.length<2))){for(t=r=0,B=q.maxx-q.minx==0?1:q.maxx-q.minx,g=q.maxy-q.miny==0?1:q.maxy-q.miny,C=q.yvalues.length-1,L&&(M<4*L||m<4*L)&&(L=0),L&&(H=q.getHighlightSpotColor()&&!q.disableInteraction,(H||b||l&&I[C]===q.miny)&&(m-=Math.ceil(L)),(H||z||l&&I[C]===q.maxy)&&(m-=Math.ceil(L),t+=Math.ceil(L)),(H||(b||z)&&(I[0]===q.miny||I[0]===q.maxy))&&(r+=Math.ceil(L),M-=Math.ceil(L)),(H||l||b||z&&(I[C]===q.miny||I[C]===q.maxy))&&(M-=Math.ceil(L))),m--,null==v||a||q.drawNormalRange(r,t,m,M,g),J=[],A=[J],p=h=null,K=I.length,N=0;N<K;N++)F=G[N],j=G[N+1],E=I[N],w=r+Math.round((F-q.minx)*(M/B)),n=N<K-1?r+Math.round((j-q.minx)*(M/B)):M,h=w+(n-w)/2,O[N]=[p||0,h,N],p=h,null===E?N&&(null!==I[N-1]&&(J=[],A.push(J)),d.push(null)):(E<q.miny&&(E=q.miny),E>q.maxy&&(E=q.maxy),J.length||J.push([w,t+m]),s=[w,t+Math.round(m-m*((E-this.miny)/g))],J.push(s),d.push(s));for(e=[],D=[],o=A.length,N=0;N<o;N++)J=A[N],J.length&&(q.fillColor&&(J.push([J[J.length-1][0],t+m]),D.push(J.slice(0)),J.pop()),J.length>2&&(J[0]=[J[0][0],J[1][1]]),e.push(J));for(o=D.length,N=0;N<o;N++)k.drawShape(D[N],q.fillColor,q.fillColor).append();for(null!=v&&a&&q.drawNormalRange(r,t,m,M,g),o=e.length,N=0;N<o;N++)k.drawShape(e[N],q.getLineColor(),null,q.getLineWidth()).append();if(L&&c)for(null==c.get&&(c=new Ext.sparkline.RangeMap(c)),N=0;N<K;N++)(u=c.get(I[N]))&&k.drawCircle(r+Math.round((G[N]-q.minx)*(M/B)),t+Math.round(m-m*((I[N]-q.miny)/g)),L,null,u).append();L&&l&&null!=I[C]&&k.drawCircle(r+Math.round((G[G.length-1]-q.minx)*(M/B)),t+Math.round(m-m*((I[C]-q.miny)/g)),L,null,l).append(),q.maxy!==q.minyorg&&(L&&b&&(F=G[Ext.Array.indexOf(I,q.minyorg)],k.drawCircle(r+Math.round((F-q.minx)*(M/B)),t+Math.round(m-m*((q.minyorg-q.miny)/g)),L,null,b).append()),L&&z&&(F=G[Ext.Array.indexOf(I,q.maxyorg)],k.drawCircle(r+Math.round((F-q.minx)*(M/B)),t+Math.round(m-m*((q.maxyorg-q.miny)/g)),L,null,z).append())),q.canvasTop=t,q.currentPageXY&&q.el.getRegion().contains(q.currentPageXY)&&q.updateDisplay(),k.render()}}},0,["sparklineline"],["widget","sparkline","sparklineline"],{widget:!0,sparkline:!0,sparklineline:!0},["widget.sparklineline"],0,[Ext.sparkline,"Line"],0),Ext.cmd.derive("Ext.sparkline.Pie",Ext.sparkline.Base,{config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000"},tipTpl:'&#9679; {value} ({percent:number("0.0")}%)',applyValues:function(a){return a=Ext.Array.map(Ext.Array.from(a),Number),this.disabled=!(a&&a.length),this.applyConfigChange(),a},onUpdate:function(){var b,d=this,a=d.values,c=0;if(Ext.sparkline.Base.prototype.onUpdate.apply(this,arguments),d.shapes={},d.valueShapes={},a.length>0)for(b=a.length;b--;)c+=a[b];d.total=c,d.radius=Math.floor(Math.min(d.getWidth(),d.getHeight())/2)},getRegion:function(a,d){var b=window.devicePixelRatio||1,c=this.canvas.getShapeAt(a*b,d*b);return null!=c&&null!=this.shapes[c]?this.shapes[c]:null},getRegionFields:function(b){var a=this.getSliceColors();return{isNull:null==this.values[b],value:this.values[b],percent:this.values[b]/this.total*100,color:a[b%a.length],offset:b}},renderHighlight:function(a){this.renderSlice(a,!0).append()},renderSlice:function(m,e){var c,h,k,q,g,o=this,d=o.canvas,n=o.radius,a=o.getBorderWidth(),j=o.getOffset(),b=2*Math.PI,s=o.values,p=o.total,l=j?2*Math.PI*(j/360):0,r=this.getSliceColors();for(q=s.length,k=0;k<q;k++){if(c=l,h=l,p>0&&(h=l+b*(s[k]/p)),m===k)return g=r[k%r.length],e&&(g=o.calcHighlightColor(g)),d.drawPieSlice(n,n,n-a,c,h,null,g);l=h}},renderGraph:function(){var g,d,h=this,c=h.canvas,k=h.values,e=h.radius,a=h.getBorderWidth(),b=h.shapes||(h.shapes={}),j=h.valueShapes||(h.valueShapes={});if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(a&&c.drawCircle(e,e,Math.floor(e-a/2),h.getBorderColor(),null,a).append(),d=k.length;d--;)k[d]&&(g=h.renderSlice(d).append(),j[d]=g.id,b[g.id]=d);h.currentPageXY&&h.el.getRegion().contains(h.currentPageXY)&&(h.currentRegion=null,h.updateDisplay()),c.render()}}},0,["sparklinepie"],["widget","sparkline","sparklinepie"],{widget:!0,sparkline:!0,sparklinepie:!0},["widget.sparklinepie"],0,[Ext.sparkline,"Pie"],0),Ext.cmd.derive("Ext.sparkline.TriState",Ext.sparkline.BarBase,{config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},tipTpl:["&#9679; {value:this.states}",{states:function(a){var b=Number(a);return-1===b?"Loss":0===b?"Draw":1===b?"Win":a}}],applyColorMap:function(a){var b=this;return Ext.isArray(a)?(b.colorMapByIndex=a,b.colorMapByValue=null):(b.colorMapByIndex=null,b.colorMapByValue=a,b.colorMapByValue&&null==b.colorMapByValue.get&&(b.colorMapByValue=new Ext.sparkline.RangeMap(a))),b.applyConfigChange(),a},applyValues:function(a){return a=Ext.Array.map(Ext.Array.from(a),Number),this.disabled=!(a&&a.length),this.applyConfigChange(),a},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var a=this.values;return this._barWidth||(this.getWidth()-(a.length-1)*this.getBarSpacing())/a.length},getRegion:function(a,b){return Math.floor(a/this.totalBarWidth)},getRegionFields:function(a){return{isNull:null==this.values[a],value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(g,h){var c,e=this,b=e.values,i=e.colorMapByIndex,d=e.colorMapByValue;return d&&(c=d.get(g))?c:i&&i.length>h?i[h]:b[h]<0?e.getNegBarColor():b[h]>0?e.getPosBarColor():e.getZeroBarColor()},renderRegion:function(e,b){var d,l,g,j,i,c,h=this,k=h.values,a=h.canvas;d=a.pixelHeight,g=Math.round(d/2),j=e*h.totalBarWidth,k[e]<0?(i=g,l=g-1):k[e]>0?(i=0,l=g-1):(i=g-1,l=2),null!=(c=h.calcColor(k[e],e))&&(b&&(c=h.calcHighlightColor(c)),a.drawRect(j,i,h.getBarWidth()-1,l-1,c,c).append())}},0,["sparklinetristate"],["widget","sparkline","sparklinetristate"],{widget:!0,sparkline:!0,sparklinetristate:!0},["widget.sparklinetristate"],0,[Ext.sparkline,"TriState"],0),Ext.cmd.derive("Ext.util.Base64",Ext.Base,{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,l,j,m,k,h,g,d=this,a="",b=0;e=d._utf8_encode(e);for(var c=e.length;b<c;)n=e.charCodeAt(b++),l=e.charCodeAt(b++),j=e.charCodeAt(b++),m=n>>2,k=(3&n)<<4|l>>4,h=(15&l)<<2|j>>6,g=63&j,isNaN(l)?h=g=64:isNaN(j)&&(g=64),a=a+d._str.charAt(m)+d._str.charAt(k)+d._str.charAt(h)+d._str.charAt(g);return a},decode:function(e){var n,l,j,m,k,h,g,d=this,a="",b=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=e.length;b<c;)m=d._str.indexOf(e.charAt(b++)),k=d._str.indexOf(e.charAt(b++)),h=d._str.indexOf(e.charAt(b++)),g=d._str.indexOf(e.charAt(b++)),n=m<<2|k>>4,l=(15&k)<<4|h>>2,j=(3&h)<<6|g,a+=String.fromCharCode(n),64!==h&&(a+=String.fromCharCode(l)),64!==g&&(a+=String.fromCharCode(j));return a=d._utf8_decode(a)},_utf8_encode:function(d){d=d.replace(/\r\n/g,"\n");for(var b="",g=0,a=d.length;g<a;g++){var e=d.charCodeAt(g);e<128?b+=String.fromCharCode(e):e>127&&e<2048?(b+=String.fromCharCode(e>>6|192),b+=String.fromCharCode(63&e|128)):(b+=String.fromCharCode(e>>12|224),b+=String.fromCharCode(e>>6&63|128),b+=String.fromCharCode(63&e|128))}return b},_utf8_decode:function(b){for(var e="",h=0,j=0,d=0,g=0,a=b.length;h<a;)j=b.charCodeAt(h),j<128?(e+=String.fromCharCode(j),h++):j>191&&j<224?(g=b.charCodeAt(h+1),e+=String.fromCharCode((31&j)<<6|63&g),h+=2):(g=b.charCodeAt(h+1),d=b.charCodeAt(h+2),e+=String.fromCharCode((15&j)<<12|(63&g)<<6|63&d),h+=3);return e}},0,0,0,0,0,0,[Ext.util,"Base64"],0),Ext.cmd.derive("Ext.util.DelimitedValue",Ext.Base,{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,lastLineBreakRe:/(\r?\n|\r)$/,constructor:function(a){a&&Ext.apply(this,a)},decode:function(k,b){if(!k)return[];for(var h,d,j,i=this,c=b||i.delimiter,n=[],o=[n],a=i.quote,g=i.quoteREs,l=i.parseREs,k=k.replace(i.lastLineBreakRe,""),m=l[c]||(l[c]=new RegExp("(\\"+c+"|\\r?\\n|\\r|^)(?:\\"+a+"([^\\"+a+"]*(?:\\"+a+"\\"+a+"[^\\"+a+"]*)*)\\"+a+'|([^"\\'+c+"\\r\\n]*))","gi")),e=g[a]||(g[a]=new RegExp("\\"+a+"\\"+a,"g"));h=m.exec(k);)d=h[1],d.length&&d!==c&&o.push(n=[]),j=h[2]?h[2].replace(e,'"'):h[3],n.push(j);return o},encode:function(m,c){for(var g,i,n,j=this,e=c||j.delimiter,d=j.dateFormat,b=j.quote,k=b+b,l=m.length,h=j.lineBreakRe,o=[],a=[];l-- >0;){for(n=m[l],a.length=i=n.length;i-- >0;)g=n[i],null==g?g="":"string"==typeof g?g&&(g.indexOf(b)>-1?g=b+g.split(b).join(k)+b:(g.indexOf(e)>-1||h.test(g))&&(g=b+g+b)):Ext.isDate(g)&&(g=Ext.Date.format(g,d)),a[i]=g;o[l]=a.join(e)}return o.join(j.lineBreak)}},1,0,0,0,0,0,[Ext.util,"DelimitedValue"],0),Ext.cmd.derive("Ext.util.CSV",Ext.util.DelimitedValue,{singleton:!0,delimiter:","},0,0,0,0,0,0,[Ext.util,"CSV"],0),Ext.cmd.derive("Ext.util.ItemCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.ItemCollection",getKey:function(a){return a.getItemId&&a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}},0,0,0,0,0,0,[Ext.util,"ItemCollection",Ext,"ItemCollection"],0),Ext.cmd.derive("Ext.util.LocalStorage",Ext.Base,{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var a,d=this,b=d.cache,c={_users:1};return Ext.isString(e)?c.id=e:Ext.apply(c,e),(a=b[c.id])?++a._users:a=new d(c),a},supported:!0},constructor:function(a){var b=this;Ext.apply(b,a),b._users&&(Ext.util.LocalStorage.cache[b.id]=b),b.init()},init:function(){var a=this,b=a.id;!a.prefix&&b&&(a.prefix=b+"-"),a._store=a.session?window.sessionStorage:window.localStorage},destroy:function(){var a=this;delete Ext.util.LocalStorage.cache[a.id],a._store=a._keys=null,a.callParent()},getKeys:function(){var c,b,e=this,a=e._store,g=e.prefix,d=e._keys,h=g.length;if(!d)for(e._keys=d=[],c=a.length;c--;)b=a.key(c),b.length>h&&g===b.substring(0,h)&&d.push(b.substring(h));return d},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){var b,d=this,a=d._store,e=d.prefix,c=d._keys||d.getKeys();for(b=c.length;b--;)a.removeItem(e+c[b]);c.length=0},key:function(a){var b=this._keys||this.getKeys();return 0<=a&&a<b.length?b[a]:null},getItem:function(b){var a=this.prefix+b;return this._store.getItem(a)},removeItem:function(c){var g=this,b=g.prefix+c,a=g._store,e=g._keys,d=a.length;a.removeItem(b),e&&d!==a.length&&(g.lazyKeys?g._keys=null:Ext.Array.remove(e,c))},setItem:function(c,h){var g=this,b=g.prefix+c,a=g._store,e=a.length,d=g._keys;a.setItem(b,h),d&&e!==a.length&&d.push(c)}},1,0,0,0,0,0,[Ext.util,"LocalStorage"],function(){var a=this;if(!("localStorage"in window))return Ext.isIE?void a.override({data:null,flushDelay:1,init:function(){var b,c=this,d=c.data;c.el=b=document.createElement("div"),b.id=c.id||(c.id="extjs-localstore"),b.addBehavior("#default#userdata"),Ext.getHead().dom.appendChild(b),b.load(c.id),d=b.getAttribute("xdata"),c.data=d=d?Ext.decode(d):{},c._flushFn=function(){c._timer=null,c.save(0)}},destroy:function(){var c=this,b=c.el;b&&(c._timer&&c.save(),b.parentNode.removeChild(b),c.data=c.el=null,c.callParent())},getKeys:function(){var c=this,b=c._keys;return b||(c._keys=b=Ext.Object.getKeys(c.data)),b},save:function(b){var c=this;b?c._timer||(c._timer=Ext.defer(c._flushFn,b)):(c._timer&&(clearTimeout(c._timer),c._timer=null),c.el.setAttribute("xdata",Ext.encode(c.data)),c.el.save(c.id))},clear:function(){var b=this;b.data={},b._keys=null,b.save(b.flushDelay)},getItem:function(b){var c=this.data;return b in c?c[b]:null},removeItem:function(b){var d=this,c=d._keys,e=d.data;b in e&&(delete e[b],c&&(d.lazyKeys?d._keys=null:Ext.Array.remove(c,b)),d.save(d.flushDelay))},setItem:function(b,g){var d=this,e=d.data,c=d._keys;!c||b in e||c.push(b),e[b]=g,d.save(d.flushDelay)}}):void(a.supported=!1)}),Ext.cmd.derive("Ext.util.TSV",Ext.util.DelimitedValue,{singleton:!0,delimiter:"\t"},0,0,0,0,0,0,[Ext.util,"TSV"],0),Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:!0},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0),Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(a,d,e){var b=this,c=b.shared;return c||(c=b.shared=new b(a,e)),c.bind(a),c.setFixedWidth(e||"auto"),c.getSize(d)},destroy:function(){var a=this;Ext.destroy(a.shared),a.shared=null}},constructor:function(a,d){var c=this,b=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});b.setVisibilityMode(1),c.measure=b,a&&c.bind(a),b.position("absolute"),b.setLocalXY(-1e3,-1e3),b.hide(),d&&b.setWidth(d)},getSize:function(c){var a,b=this.measure;return b.setHtml(c),a=b.getSize(),b.setHtml(""),a},bind:function(a){var b=this;b.el=Ext.get(a),b.measure.setStyle(b.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){return this.measure.dom.style.width="auto",this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.el=a.measure=Ext.destroy(a.measure),a.callParent()}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(c,b,a){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(c,this.dom.innerHTML,!0)).width,b||0,a||1e6)}})}),Ext.cmd.derive("Ext.util.translatable.CssTransform",Ext.util.translatable.Dom,{isCssTransform:!0,doTranslate:function(a,d){var c=this,b=c.getElement();c.destroyed||b.destroyed||b.translate(a,d),Ext.util.translatable.Dom.prototype.doTranslate.call(this,a,d)},destroy:function(){var a=this.getElement();a&&!a.destroyed&&(a.dom.style.webkitTransform=null),Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"CssTransform"],0),Ext.cmd.derive("Ext.util.translatable.ScrollParent",Ext.util.translatable.Dom,{isScrollParent:!0,applyElement:function(a){var b=Ext.get(a);return b&&(this.parent=b.parent()),b},doTranslate:function(a,c){var b=this.parent;b.setScrollLeft(Math.round(-a)),b.setScrollTop(Math.round(-c)),Ext.util.translatable.Dom.prototype.doTranslate.call(this,a,c)},getPosition:function(){var c=this,a=c.position,b=c.parent;return a.x=b.getScrollLeft(),a.y=b.getScrollTop(),a}},0,0,0,0,0,0,[Ext.util.translatable,"ScrollParent"],0),Ext.cmd.derive("Ext.util.translatable.CssPosition",Ext.util.translatable.Dom,{doTranslate:function(a,c){var b=this.getElement().dom.style;"number"==typeof a&&(b.left=a+"px"),"number"==typeof c&&(b.top=c+"px"),Ext.util.translatable.Dom.prototype.doTranslate.call(this,a,c)},destroy:function(){var a=this.getElement().dom.style;a.left=null,a.top=null,Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"CssPosition"],0),Ext.cmd.derive("Ext.util.Translatable",Ext.Base,{constructor:function(a){var b=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(a)){case"scrollposition":return new b.ScrollPosition(a);case"scrollparent":return new b.ScrollParent(a);case"csstransform":return new b.CssTransform(a);case"cssposition":return new b.CssPosition(a)}}},1,0,0,0,0,0,[Ext.util,"Translatable"],0),Ext.cmd.derive("Ext.util.paintmonitor.OverflowChange",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(a){this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,"OverflowChange"],0),Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(c){var a=document.body,b=Ext.synchronouslyFocusing;(!b||("focusout"!==c.type||c.srcElement!==b&&c.srcElement!==window||c.toElement!==a)&&("focusin"!==c.type||c.srcElement!==a&&c.srcElement!==window||c.fromElement!==b||null!==c.toElement))&&this.callParent([c])}}),Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(a){this.duringSetRawValue||"checked"!==a.browserEvent.propertyName||this.callParent([a])},updateCheckedCls:function(b){var a=this,c=a.displayEl;a.callParent([b]),c&&b!==a.lastValue&&c.repaint()}}),Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(a){var b=this.callParent([a]);return delete b.checked,b},afterRender:function(){this.callParent(),this.checked&&(this.inputEl.dom.checked=!0)},onChange:function(b,a){this.callSuper([b,a])}}),Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(i,h,a){var d,b,j,k,e,g=this,c=g.getElement();c&&!c.destroyed&&(b=this.getElement().dom,k=i===1/0,e=h===1/0,(k||e)&&(d=g.getMaxPosition(),k&&(i=d.x),e&&(h=d.y)),i=g.convertX(i),a?(j={},null!=h&&(j.scrollTop=h),null!=i&&(j.scrollLeft=i),c.animate(Ext.mergeIf({to:{scrollTop:h,scrollLeft:i}},a))):(null!=i&&null!=h&&(g.deferDomScroll=!0),null!=h&&(b.scrollTop=h),null!=i&&(b.scrollLeft=i),g.deferDomScroll&&(g.deferDomScroll=!1,b.scrollLeft,b.scrollLeft=i)),g.positionDirty=!0)},onDomScroll:function(){var a=this;a.deferDomScroll||a.callParent()}}}),Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(a){this.initialConfig=a,this.itemId=a.itemId=a.itemId||a.id||Ext.id(),this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a,this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a,this.callEach("setIconCls",[a])},setGlyph:function(a){this.initialConfig.glyph=a,this.callEach("setGlyph",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a,this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a,this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(b,a){this.initialConfig.handler=b,this.initialConfig.scope=a,this.callEach("setHandler",[b,a])},each:function(b,a){Ext.each(this.items,b,a)},callEach:function(g,c){var e,b=this.items,d=0,a=b.length;for(Ext.suspendLayouts();d<a;d++)e=b[d],e[g].apply(e,c);Ext.resumeLayouts(!0)},addComponent:function(a){this.items.push(a),a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0),Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(a,b,c){return a.getTarget().setHtml(b.responseText,!0===c.scripts,c.rendererScope),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(b){var a,c=this;c.mixins.observable.constructor.call(c,b),c.setTarget(c.target),c.autoLoad&&(a=c.autoLoad,!0===a&&(a=null),c.load(a))},setTarget:function(b){var a=this;b=Ext.get(b),a.target&&a.target!==b&&a.abort(),a.target=b},getTarget:function(){return this.target||null},abort:function(){var a=this.active;void 0!==a&&(Ext.Ajax.abort(a.request),a.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(!0===a?null:a)},load:function(c){c=Ext.apply({},c);var e=this,a=Ext.isDefined(c.loadMask)?c.loadMask:e.loadMask,g=Ext.apply({},c.params),b=Ext.apply({},c.ajaxOptions),h=c.callback||e.callback,d=c.scope||e.scope||e;Ext.applyIf(b,e.ajaxOptions),Ext.applyIf(c,b),Ext.applyIf(g,e.params),Ext.apply(g,e.baseParams),Ext.applyIf(c,{url:e.url}),Ext.apply(c,{scope:e,params:g,callback:e.onComplete}),!1!==e.fireEvent("beforeload",e,c)&&(a&&e.addMask(a),e.active={options:c,mask:a,scope:d,callback:h,success:c.success||e.success,failure:c.failure||e.failure,renderer:c.renderer||e.renderer,scripts:Ext.isDefined(c.scripts)?c.scripts:e.scripts},e.active.request=Ext.Ajax.request(c),e.setOptions(e.active,c))},setOptions:function(b,a){b.rendererScope=a.rendererScope||this.rendererScope||this},onComplete:function(b,g,a){var h,c,d=this,e=d.active;e&&(c=e.scope,h=e.rendererScope,g&&(g=!1!==d.getRenderer(e.renderer).call(h,d,a,e)),g?(Ext.callback(e.success,c,[d,a,b]),d.fireEvent("load",d,a,b)):(Ext.callback(e.failure,c,[d,a,b]),d.fireEvent("exception",d,a,b)),Ext.callback(e.callback,c,[d,g,a,b]),e.mask&&d.removeMask()),delete d.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh(),c.autoRefresh=Ext.interval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),this.autoRefresh=null},isAutoRefreshing:function(){return!!this.autoRefresh},destroy:function(){var a=this;a.stopAutoRefresh(),a.abort(),a.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,"ElementLoader"],0),Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(a,b,d){var g=!0;try{a.getTarget().update(Ext.decode(b.responseText))}catch(c){g=!1}return g},Component:function(a,c,h){var i=!0,g=a.getTarget(),b=[];try{b=Ext.decode(c.responseText)}catch(d){i=!1}return i&&(g.suspendLayouts(),h.removeAll&&g.removeAll(),g.add(b),g.resumeLayouts(!0)),i}}},target:null,loadOnRender:!1,loadMask:!1,renderer:"html",setTarget:function(b){var a=this;Ext.isString(b)&&(b=Ext.getCmp(b)),a.target&&a.target!==b&&a.abort(),a.target=b,b&&a.loadOnRender&&(b.rendered?a.doLoadOnRender():a.mon(b,"render",a.doLoadOnRender,a))},doLoadOnRender:function(){var a=this.loadOnRender;this.load(Ext.isObject(a)?a:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll,b.rendererScope=a.rendererScope||this.rendererScope||this.target},getRenderer:function(b){if(Ext.isFunction(b))return b;var a=this.statics().Renderer;switch(b){case"component":return a.Component;case"data":
return a.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0),Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(c){var b,e=this,d=e.self,a=d.sizeModelsArray;Ext.apply(e,c),e[b=e.name]=!0,e.fixed=!(e.auto=e.natural||e.shrinkWrap),a[e.ordinal=a.length]=d[b]=d.sizeModels[b]=e},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var c,b,h,g,d,e=this,a=e.sizeModelsArray;for(new e({name:"calculated"}),new e({name:"configured",names:{width:"width",height:"height"}}),new e({name:"natural"}),new e({name:"shrinkWrap"}),new e({name:"calculatedFromConfigured",configured:!0,calculatedFrom:!0,names:{width:"width",height:"height"}}),new e({name:"calculatedFromNatural",natural:!0,calculatedFrom:!0}),new e({name:"calculatedFromShrinkWrap",shrinkWrap:!0,calculatedFrom:!0}),new e({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new e({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new e({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),c=0,h=a.length;c<h;++c)for(d=a[c],d.pairsByHeightOrdinal=g=[],b=0;b<h;++b)g.push({width:d,height:a[b]})}),Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-"),b.initConfig(a),delete b.type,b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(c){var d,b=this,a=b.context;b.lastWidthModel!==c.widthModel&&(b.lastWidthModel&&(d=!0),b.lastWidthModel=c.widthModel),b.lastHeightModel!==c.heightModel&&(b.lastWidthModel&&(d=!0),b.lastHeightModel=c.heightModel),d&&((a=c.context).clearTriggers(b,!1),a.clearTriggers(b,!0),b.triggerCount=0)},finishedLayout:function(a){this.lastWidthModel=a.widthModel,this.lastHeightModel=a.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return!1},isItemLayoutRoot:function(d){var c=d.getSizeModel(),b=c.width,a=c.height;return!(!d.componentLayout.lastComponentSize&&(b.calculated||a.calculated)||b.shrinkWrap||a.shrinkWrap)},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(d,b){var e,g,c,a,h=d.length;if(h)for(a=[],e=0;e<h;++e)g=d[e],g.rendered||(b&&void 0!==b[g.id]?c=b[g.id]:(this.configureItem(g),c=g.getRenderTree(),b&&(b[g.id]=c)),c&&a.push(c));return a},finishRender:Ext.emptyFn,finishRenderItems:function(e,a){var b,c,d=a.length;for(b=0;b<d;b++)c=a[b],c.rendering&&c.finishRender(b)},renderChildren:function(){var b=this,a=b.getLayoutItems(),c=b.getRenderTarget();b.renderItems(a,c)},renderItems:function(a,g){var c,e=this,d=a.length,b=0,h=0;if(d){for(Ext.suspendLayouts();b<d;b++,h++)c=a[b],c&&!c.rendered?e.renderItem(c,g,h):c.ignoreDomPosition?--h:e.isValidParent(c,g,h)?e.configureItem(c):e.moveItem(c,g,h);Ext.resumeLayouts(!0)}},isValidParent:function(d,e,a){var c=e&&e.dom||e,b=this.getItemLayoutEl(d);return!(!b||!c)&&("number"==typeof a?(a=this.getPositionOffset(a),b===c.childNodes[a]):b.parentNode===c)},getItemLayoutEl:function(c){var b,d=c.el?c.el.dom:Ext.getDom(c),a=d.parentNode;return a&&(b=a.className)&&-1!==b.indexOf("x-resizable-wrap")&&(d=d.parentNode),d},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(c,d,a){var b=this;c.rendered||(b.configureItem(c),c.render(d,a))},moveItem:function(b,c,a){var d=Ext.Element.getActiveElement(!0);c=c.dom||c,"number"==typeof a&&(a=c.childNodes[a]),b.el.contains(d)?d.suspendFocusEvents():d=null,c.insertBefore(b.el.dom,a||null),b.container=Ext.get(c),this.configureItem(b),d&&(d.focus(),d.resumeFocusEvents())},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var a,d=this,c=e.el,b=d.owner;e.rendered&&(a=[].concat(d.itemCls||[]),b.itemCls&&(a=Ext.Array.push(a,b.itemCls)),a.length&&c.removeCls(a)),delete e.ownerLayout},afterCollapse:function(a,b){b&&this.onContentChange(a)},afterExpand:function(a,b){b&&this.onContentChange(a)},destroy:function(){var b,a=this;a.targetCls&&(b=a.getTarget())&&b.removeCls(a.targetCls),a.onDestroy.$emptyFn||a.onDestroy(),a.callParent()},sortWeightedItems:function(a,d){for(var b=0,c=a.length;b<c;++b)a[b].$i=b;for(Ext.Array.sort(a,function(g,e){var h=e.weight-g.weight;return h||(h=g.$i-e.$i,g[d]&&(h=-h)),h}),b=0;b<c;++b)delete a[b].$i}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this),Ext.layout.Layout.prototype.destroy.call(this)},beginLayout:function(a){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments),a.targetContext=a.paddingContext=a.getEl("getTarget",this),this.cacheChildItems(a)},beginLayoutCycle:function(c,a){var b=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments),a&&(b.usesContainerHeight&&++c.consumersContainerHeight,b.usesContainerWidth&&++c.consumersContainerWidth)},cacheChildItems:function(g){var c,h,a,d,b,e=this;if(e.needsItemSize||e.setsItemSize)for(c=g.context,h=g.childItems=[],a=g.visibleItems=e.getVisibleItems(),d=a.length,b=0;b<d;++b)h.push(c.getCmp(a[b]))},cacheElements:function(){var a=this.owner;this.attachChildEls(a.el,a)},calculate:function(c){var b=c.props,a=c.el;c.widthModel.shrinkWrap&&isNaN(b.width)&&c.setContentWidth(a.getWidth()),c.heightModel.shrinkWrap&&isNaN(b.height)&&c.setContentHeight(a.getHeight())},configureItem:function(d){var a,g,c=this,e=c.itemCls,b=c.owner.itemCls;d.ownerLayout=c,e&&("string"==typeof e?g=[e]:(g=e,a=!!g)),b&&(a&&(g=Ext.Array.clone(g)),g=Ext.Array.push(g||[],b)),g&&d.addCls(g)},doRenderBody:function(a,b){this.renderItems(a,b),this.renderContent(a,b)},doRenderContainer:function(b,e){var c=e.$comp.layout,a=c.getRenderTpl(),d=c.getRenderData();a.applyOut(d,b)},doRenderItems:function(b,d){var c=d.$layout,a=c.getRenderTree();a&&Ext.DomHelper.generateMarkup(a,b)},doRenderTabGuard:function(b,d,a){var e,c=d.$comp;c.tabGuard&&!d.$skipTabGuards&&(e=c.lookupTpl("tabGuardTpl"))&&(d.tabGuard=a,d.tabGuardEl=c.tabGuardElements[a],c.addChildEl(d.tabGuardEl),e.applyOut(d,b),delete d.tabGuard,delete d.tabGuardEl)},finishRender:function(){var d,b,c=this;c.owner,Ext.layout.Layout.prototype.finishRender.call(this),c.cacheElements(),d=c.getRenderTarget(),b=c.getLayoutItems(),c.finishRenderItems(d,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(b,g){var d,h,a,l,c=b.targetContext,e=c.getFrameInfo(),j=b.paddingContext.getPaddingInfo(),i=0,k=0;return b.widthModel.shrinkWrap||(++k,a=g?c.getDomProp("width"):c.getProp("width"),(d="number"==typeof a)&&(++i,(a-=e.width+j.width)<0&&(a=0))),b.heightModel.shrinkWrap||(++k,l=g?c.getDomProp("height"):c.getProp("height"),(h="number"==typeof l)&&(++i,(l-=e.height+j.height)<0&&(l=0))),{width:a,height:l,needed:k,got:i,gotAll:i===k,gotWidth:d,gotHeight:h}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;b&&(a+=b)}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var b,j,c,e=this,h=e.getRenderTarget(),a=e.getLayoutItems(),d=a.length,g=[];for(b=0,j=0;b<d;b++,j++)if(c=a[b],c.rendered){if(c.ignoreDomPosition)--j;else if(!this.isValidParent(c,h,j))continue;g.push(c)}return g},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");return b.renderContent||a.owner.setupRenderTpl(b),b},getRenderTree:function(){var a,d,c=this.owner.items,b={};do{d=c.generation,a=this.getItemsRenderTree(this.getLayoutItems(),b)}while(c.generation!==d);return a},renderChildren:function(){var d,a,b=this,c=b.owner.items,e=b.getRenderTarget();do{d=c.generation,a=b.getLayoutItems(),b.renderItems(a,e)}while(c.generation!==d)},getScrollbarsNeeded:function(c,i,b,h){var a=Ext.getScrollbarSize(),e="number"==typeof c,j="number"==typeof i,g=0,d=0;return a.width?(j&&i<h&&(d=2,c-=a.width),e&&c<b&&(g=1,!d&&j&&(i-=a.height)<h&&(d=2)),d+g):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var c,h,d,g=this.getRenderTarget(),b=this.getLayoutItems(),e=b.length,a=[];for(c=0,h=0;c<e;c++,h++)if(d=b[c],d.rendered&&!0!==d.hidden&&!d.floated){if(d.ignoreDomPosition)--h;else if(!this.isValidParent(d,g,h))continue;a.push(d)}return a},getMoveAfterIndex:function(a){return this.owner.items.indexOf(a)+1},moveItemBefore:function(d,e){var g,a=this.owner,b=a.items,c=b.indexOf(d);return d===e?d:(e?(g=b.indexOf(e),c>-1&&c<g&&--g):g=b.length,a.insert(g,d))},setupRenderTpl:function(a){a.renderBody=this.doRenderBody,a.renderContainer=this.doRenderContainer,a.renderItems=this.doRenderItems,a.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(a){a.liquidLayout||++this.activeItemCount,Ext.layout.Layout.prototype.onAdd.call(this,a)},onRemove:function(b,a){b.liquidLayout||--this.activeItemCount,Ext.layout.Layout.prototype.onRemove.call(this,b,a)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0),Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(a){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments),this.initContextItems(a)},beforeLayoutCycle:function(d){var b=this.owner,c=b.inheritedState,a=b.inheritedStateInner;c&&!c.invalid||(c=b.getInherited(),a=b.inheritedStateInner),d.widthModel.shrinkWrap?a.inShrinkWrapTable=!0:delete a.inShrinkWrapTable},beginLayoutCycle:function(d){var l,e,m,c,i,j=this,b=j.outerCt,h=j.lastOuterCtWidth||"",g=j.lastOuterCtHeight||"",k=j.lastOuterCtTableLayout||"",a=d.state;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments),e=m=c="",d.widthModel.shrinkWrap||(e="100%",i=j.owner.inheritedStateInner,l=j.getOverflowXStyle(d),c=i.inShrinkWrapTable||"auto"===l||"scroll"===l?"":"fixed"),d.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(m="100%"),(e!==h||j.hasOuterCtPxWidth)&&(b.setStyle("width",e),j.lastOuterCtWidth=e,j.hasOuterCtPxWidth=!1),c!==k&&(b.setStyle("table-layout",c),j.lastOuterCtTableLayout=c),(m!==g||j.hasOuterCtPxHeight)&&(b.setStyle("height",m),j.lastOuterCtHeight=m,j.hasOuterCtPxHeight=!1),j.hasInnerCtPxHeight&&(j.innerCt.setStyle("height",""),j.hasInnerCtPxHeight=!1),a.overflowAdjust=a.overflowAdjust||j.lastOverflowAdjust},calculate:function(c){var a=this,b=c.state,e=a.getContainerSize(c,!0),d=b.calculatedItems||(b.calculatedItems=!a.calculateItems||a.calculateItems(c,e));if(a.setCtSizeIfNeeded(c,e),d&&c.hasDomProp("containerChildrenSizeDone")&&(a.calculateContentSize(c),e.gotAll))return void(!a.manageOverflow||c.state.secondPass||a.reserveScrollbar||a.calculateOverflow(c,e));a.done=!1},calculateContentSize:function(g){var e=this,a=(g.widthModel.shrinkWrap?1:0)|(g.heightModel.shrinkWrap?2:0),c=1&a||void 0,h=2&a||void 0,d=0,b=g.props;c&&(isNaN(b.contentWidth)?++d:c=void 0),h&&(isNaN(b.contentHeight)?++d:h=void 0),d&&(c&&!g.setContentWidth(e.measureContentWidth(g))&&(e.done=!1),h&&!g.setContentHeight(e.measureContentHeight(g))&&(e.done=!1))},calculateOverflow:function(c){var b,j,a,g,e,d,i,h=this;e="auto"===h.getOverflowXStyle(c),d="auto"===h.getOverflowYStyle(c),(e||d)&&(a=Ext.getScrollbarSize(),i=c.overflowContext.el.dom,g=0,i.scrollWidth>i.clientWidth&&(g|=1),i.scrollHeight>i.clientHeight&&(g|=2),b=d&&2&g?a.width:0,j=e&&1&g?a.height:0,b===h.lastOverflowAdjust.width&&j===h.lastOverflowAdjust.height||(h.done=!1,c.invalidate({state:{overflowAdjust:{width:b,height:j},overflowState:g,secondPass:!0}})))},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderBody:function(c,e){var d=e.$layout,a=Ext.XTemplate,g=d.beforeBodyTpl,b=d.afterBodyTpl;g&&a.getTpl(d,"beforeBodyTpl").applyOut(e,c),this.renderItems(c,e),this.renderContent(c,e),b&&a.getTpl(d,"afterBodyTpl").applyOut(e,c)},doRenderPadding:function(b,d){var c=d.$layout,a=d.$layout.owner,e=a[a.contentPaddingProperty];c.managePadding&&e&&b.push("padding:",a.unitizeBox(e))},finishedLayout:function(b){var a=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments),Ext.isIE8&&a.repaint(),Ext.isOpera&&(a.setStyle("position","relative"),a.dom.scrollWidth,a.setStyle("position",""))},getContainerSize:function(b,c){var a=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),d=b.state.overflowAdjust;return d&&(a.width-=d.width,a.height-=d.height),a},getRenderData:function(){var a=this,b=Ext.layout.container.Container.prototype.getRenderData.call(this);return b.innerCtCls=a.innerCtCls,b.outerCtCls=a.outerCtCls,b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(b){var a=this,d=b.target,c=a.owner.getOverflowEl();b.outerCtContext=b.getEl("outerCt",a),b.innerCtContext=b.getEl("innerCt",a),b.overflowContext=c===b.el?b:b.getEl(c),void 0!==d[d.contentPaddingProperty]&&(b.paddingContext=b.innerCtContext)},initLayout:function(){var c=this,b=Ext.getScrollbarSize().width,a=c.owner;Ext.layout.container.Container.prototype.initLayout.call(this),b&&c.manageOverflow&&!c.hasOwnProperty("lastOverflowAdjust")&&(a.scrollable||c.reserveScrollbar)&&(c.lastOverflowAdjust={width:b,height:0})},measureContentHeight:function(b){var a=this.outerCt.getHeight(),c=b.target;return this.managePadding&&void 0===c[c.contentPaddingProperty]&&(a+=b.targetContext.getPaddingInfo().height),a},measureContentWidth:function(d){var g,c,b,a,e;return this.chromeCellMeasureBug&&(g=this.innerCt.dom,c=g.style,"table-cell"===(b=c.display)&&(c.display="",g.offsetWidth,c.display=b)),Ext.isSafari&&(g=this.outerCt.dom,c=g.style,c.display="table-cell",g.offsetWidth,g.style.display=""),a=this.outerCt.getWidth(),e=d.target,this.managePadding&&void 0===e[e.contentPaddingProperty]&&(a+=d.targetContext.getPaddingInfo().width),a},setCtSizeIfNeeded:function(d,b){var g,i,e=this,l=b.height,h=d.paddingContext.getPaddingInfo(),j=e.getTarget(),k=e.getOverflowXStyle(d),c="auto"===k||"scroll"===k,a=Ext.getScrollbarSize();l&&!d.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(g=!0),Ext.isIE8&&(i=!0),(g||i)&&c&&j.dom.scrollWidth>j.dom.clientWidth&&(l=Math.max(l-a.height,0)),g&&(d.outerCtContext.setProp("height",l+h.height),e.hasOuterCtPxHeight=!0),i&&(d.innerCtContext.setProp("height",l),e.hasInnerCtPxHeight=!0))},setupRenderTpl:function(a){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments),a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(b){var a=Ext.chromeVersion;b.prototype.chromeCellMeasureBug=Ext.isChrome&&a>=26&&a<=34}),Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3,activeCounter:0},constructor:function(a){var b=this;b.id=Ext.id(null,"zindex-mgr-"),b.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(e,d){var c=(e.alwaysOnTop||0)-(d.alwaysOnTop||0);return c||(c=e.getActiveCounter()-d.getActiveCounter()),c}},filters:{filterFn:function(c){return c.isVisible()}}}),b.zIndexStack.addObserver(b),b.front=null,b.sortCount=0,b.globalListeners=Ext.GlobalEvents.on({beforehide:b.onComponentShowHide,show:b.onComponentShowHide,scope:b,destroyable:!0}),a?a.isContainer?(b.resizeListeners=a.on({resize:b.onContainerResize,scope:b,destroyable:!0}),b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed()),b.targetEl=a.getTargetEl(),b.container=a):(b.resizeListeners=Ext.on({resize:b.onContainerResize,scope:b,destroyable:!0}),b.zseed=b.getNextZSeed(),b.targetEl=Ext.get(a)):(b.zseed=b.getNextZSeed(),Ext.onInternalReady(function(){b.resizeListeners=Ext.on({resize:b.scheduleContainerResize,scope:b,destroyable:!0,priority:-1e4}),b.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(a){return this.zseed=a,this.onCollectionSort()},onCollectionSort:function(){var d,g,c,b,j=this,e=j.front,k=j.zseed,l=j.zIndexStack.getRange(),h=l.length,m=!e||e.isVisible();for(j.sortCount++,d=0;d<h;d++)g=l[d],g.destroying||g.destroyed||(k=g.setZIndex(k),g.hidden||(b=g,g.modal&&(c=g)));return b!==e&&(e&&!e.destroying&&e.setActive(!1),b&&(m=m&&b.isFocusable(!0)&&(b.modal||b.focusOnToFront&&!b.preventFocusOnActivate),b.setActive(!0,m))),j.front=b||null,c?c===e?j.syncModalMask(c):j.showModalMask(c):j.hideModalMask(),k},onComponentUpdate:function(a){this.zIndexStack.contains(a)&&this.zIndexStack.sort()},onAfterComponentRender:function(a){a.isVisible()&&a.toFrontOnShow&&(this.zIndexStack.itemChanged(a,"hidden"),this.zIndexStack.sort())},onComponentShowHide:function(b){var c=this,d=c.zIndexStack,a=c.sortCount;b.isFloating()&&!c.hidingAll&&(d.getSource()||d).contains(b)&&(c.tempHidden&&Ext.Array.remove(c.tempHidden,b),d.beginUpdate(),b.isVisible()?b.toFrontOnShow&&(d.itemChanged(b,"hidden"),b.setActiveCounter(++Ext.ZIndexManager.activeCounter)):d.itemChanged(b,"hidden"),d.endUpdate(),c.sortCount===a&&c.onCollectionSort())},register:function(a){var b=this;a.zIndexManager&&a.zIndexManager.unregister(a),a.zIndexManager=b,a.rendered||a.on("afterrender",b.onAfterComponentRender,b,{single:!0}),b.zIndexStack.add(a)},unregister:function(a){var b=this;delete a.zIndexManager,a.un("afterrender",b.onAfterComponentRender,b),b.zIndexStack.remove(a),b.onCollectionSort()},get:function(a){return a.isComponent?a:this.zIndexStack.get(a)},bringToFront:function(b,e){var d,g,c=this,h=c.zIndexStack,a=h.last();return!!(b=c.get(b))&&(g=b.preventFocusOnActivate,b.preventFocusOnActivate=e,b.setActiveCounter(++Ext.ZIndexManager.activeCounter),b.preventFocusOnActivate=g,(d=h.last())===b&&d!==a)},sendToBack:function(a){return a=this.get(a),a&&a.setActiveCounter(0),a||null},hideAll:function(){var b,d=this,c=d.zIndexStack.getRange(),a=c.length;for(d.hidingAll=!0,b=0;b<a;b++)c[b].hide();d.hidingAll=!1,d.hideModalMask(),d.front=null},hide:function(){var c,b,g=this,e=Ext.Element.getActiveElement(),d=g.zIndexStack.getRange(),a=d.length;for(g.focusRestoreElement=null,(g.tempHidden||(g.tempHidden=[])).length=0,c=0;c<a;c++)b=d[c],b.isVisible()&&(b.el.contains(e)&&(g.focusRestoreElement=e),b.el.hide(),b.pendingShow=b.hidden=!0,g.tempHidden.push(b))},show:function(){var c,b,d=this,e=d.tempHidden,a=e?e.length:0;for(c=0;c<a;c++)b=e[c],b.hidden=!1,b.pendingShow?(b.el.show(),b.pendingShow=!1,b.setPosition(b.x,b.y),b.onFloatShow()):b.hide();d.tempHidden=null,d.focusRestoreElement&&d.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(b,a){return this.zIndexStack.filterBy(b,a).getRange()},each:function(b,a){this.zIndexStack.each(b,a)},eachBottomUp:function(g,e){var d,c,b=this.zIndexStack.getRange(),a=b.length;for(d=0;d<a;d++)if(c=b[d],c.isComponent&&!1===g.call(e||c,c))return},eachTopDown:function(e,d){var c,b,a=this.zIndexStack.getRange();for(c=a.length;c-- >0;)if(b=a[c],b.isComponent&&!1===e.call(d||b,b))return},destroy:function(){var c,d=this,b=d.zIndexStack.getRange(),a=b.length;for(c=0;c<a;c++)Ext.destroy(b[c]);Ext.destroy(d.mask,d.maskShim,d.zIndexStack,d.globalListeners,d.resizeListeners),d.callParent()},privates:{getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},scheduleContainerResize:function(){this.containerResizeTimer||(this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this))},onContainerResize:function(){var d,c=this,b=c.mask,a=c.maskShim;c.containerResizeTimer=null,b&&b.isVisible()&&(b.hide(),a&&a.hide(),d=c.getMaskBox(),a&&(a.setSize(d),a.show()),b.setSize(d),b.show())},onMaskMousedown:function(a){this.front&&(this.front.focus(),a.preventDefault())},onMaskClick:function(){var a,b=this.front;b&&(b.hasListeners.maskclick&&!1===b.fireEvent("maskclick",b)||(a=b.maskClickAction||"focus",b[a]()))},showModalMask:function(b){var d=this,e=b.el,c=b.floatParent?b.floatParent.getEl():b.container,a=d.mask;a?d.hideModalMask():(d.mask=a=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"}),a.setVisibilityMode(Ext.Element.DISPLAY),a.on({mousedown:d.onMaskMousedown,click:d.onMaskClick,scope:d})),a.maskTarget=c,c.saveTabbableState({excludeRoot:e}),d.syncModalMask(b)},syncModalMask:function(b){var c=this,g=b.el.getZIndex()-4,a=c.mask,e=c.maskShim,d=c.getMaskBox();e&&(e.setZIndex(g),e.show(),e.setBox(d)),a.setZIndex(g),a.show(),a.setBox(d)},hideModalMask:function(){var b=this.mask,a=this.maskShim;b&&b.isVisible()&&(b.maskTarget.restoreTabbableState(),b.maskTarget=void 0,b.hide(),a&&a.hide())}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:void 0,layout:"auto",suspendLayout:!1,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="x-tab-guard x-tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var n,j,b,a,o,m,g,k,l=this,h=Ext.Array.slice(arguments),e="number"==typeof h[0]?h.shift():-1,c=l.getLayout(),d=!1;for(1===h.length&&Ext.isArray(h[0])?(j=h[0],n=!0):j=h,l.rendered&&Ext.suspendLayouts(),g=j=l.prepareItems(j,!0),a=j.length,n||1!==a||(g=j[0]),b=0;b<a;b++)o=j[b],m=e<0?l.items.length:e+b,k=!!o.instancedCmp,delete o.instancedCmp,o.floating?((l.floatingItems||(l.floatingItems=new Ext.util.ItemCollection)).add(o),o.onAdded(l,m,k),delete o.$initParent,l.hasListeners.add&&l.fireEvent("add",l,o,m)):l.hasListeners.beforeadd&&!1===l.fireEvent("beforeadd",l,o,m)||!1===l.onBeforeAdd(o)||(l.items.insert(m,o),o.onAdded(l,m,k),delete o.$initParent,l.onAdd(o,m),c.onAdd(o,m),d=!0,l.hasListeners.add&&l.fireEvent("add",l,o,m));return d&&l.updateLayout(),l.rendered&&Ext.resumeLayouts(!0),g},onAdded:function(b,c,a){Ext.Component.prototype.onAdded.call(this,b,c,a),this.containerOnAdded(b,a)},onRemoved:function(a){this.containerOnRemoved(a),Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var a,d,c,b=this.floatingItems;if(Ext.Component.prototype.afterComponentLayout.apply(this,arguments),b)for(b=b.items,a=b.length,d=0;d<a;d++)c=b[d],!c.rendered&&c.autoShow&&c.show()},afterLayout:function(b){var a=this;++a.layoutCounter,a.hasListeners.afterlayout&&a.fireEvent("afterlayout",a,b)},doDestroy:function(){var e,b=this,a=b.items,d=b.floatingItems;if(a){for(;e=a.first();)b.doRemove(e,!0);a.destroy(),b.items=null}if(d){for(;e=d.first();)b.doRemove(e,!0);d.destroy(),b.floatingItems=null}Ext.destroy(b.layout),Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var c,b=this,a=b.getLayout();b.preventChildDisable=!0,Ext.Component.prototype.beforeRender.call(this),b.preventChildDisable=!1,a.initialized||a.initLayout(),(c=a.targetCls)&&b.applyTargetCls(c)},cascade:function(l,m,a){var j,k=this,e=k.items?k.items.items:[],g=e.length,d=0,h=a?a.concat(k):[k],b=h.length-1;if(!1!==l.apply(m||k,h))for(;d<g;d++)j=e[d],j.cascade?j.cascade(l,m,a):(h[b]=j,l.apply(m||j,h));return this},contains:function(c,b){var a=!1;return b?(this.cascade(function(d){if(d.contains&&d.contains(c))return a=!0,!1}),a):this.items.contains(c)||this.floatingItems&&this.floatingItems.contains(c)},disable:function(b,h){var g,a,c,e=this,d=e.disabled;if(Ext.Component.prototype.disable.call(this,b,h),!h&&!e.preventChildDisable&&!d)for(g=e.getChildItemsToDisable(),a=g.length,c=0;c<a;c++)g[c].disable(b,!0);return e},enable:function(b,h){var g,a,c,e=this,d=e.disabled;if(Ext.Component.prototype.enable.call(this,b,h),d)for(g=e.getChildItemsToDisable(),a=g.length,c=0;c<a;c++)g[c].enable(b,!0);return e},getChildByElement:function(e,a){var h,c,b=0,d=this.getRefItems(),g=d.length;for(e=Ext.getDom(e);b<g;b++)if(h=d[b],(c=h.getEl())&&(c.dom===e||c.contains(e)))return a&&h.getChildByElement?h.getChildByElement(e,a):h;return null},getComponent:function(b){Ext.isObject(b)&&(b=b.getItemId());var d=this.items.get(b),a=this.floatingItems;return!d&&a&&"number"!=typeof b&&(d=a.get(b)),d},getFocusEl:function(){return this.getDefaultFocus()||(this.focusable?this.getTargetEl():void 0)},getLayout:function(){var b=this,a=b.layout;return a&&a.isLayout||b.setLayout(a),b.layout},getRefItems:function(c){for(var g,h=this,d=h.items.items,b=d.length,e=0,a=[];e<b;e++)g=d[e],a[a.length]=g,c&&g.getRefItems&&a.push.apply(a,g.getRefItems(!0));if(h.floatingItems)for(d=h.floatingItems.items,b=d.length,e=0;e<b;e++)g=d[e],a[a.length]=g,c&&g.getRefItems&&a.push.apply(a,g.getRefItems(!0));return a},getDefaultFocus:function(){var a,b=this.defaultFocus;return b&&(a=this.down(b)),a},initComponent:function(){var a=this;Ext.Component.prototype.initComponent.call(this),a.getLayout(),a.constructing=!0,a.initItems(),a.disabled&&(a.disabled=!1,a.disable(!0)),delete a.constructing},initItems:function(){var b=this,a=b.items;a&&a.isMixedCollection||(b.items=new Ext.util.ItemCollection,a&&(Ext.isArray(a)||(a=[a]),b.$initingItems=!0,b.add(a),delete b.$initingItems))},initInheritedState:function(i,c){var h=this,e=(h.controller,h.layout);h.session,h.viewModel,h.reference,h.referenceHolder,Ext.Component.prototype.initInheritedState.call(this,i,c),h.collapsed&&(i.collapsed=!0),h.initContainerInheritedState(i,c),e&&e.initInheritedState&&e.initInheritedState(i,c)},insert:function(c,b){var a;return b&&b.isComponent&&-1!==(a=this.items.indexOf(b))?this.move(a,c):this.add(c,b)},lookupComponent:function(a){var b,c=this,d=c.defaultType;if(!a.isComponent){if("string"==typeof a){if(!(b="@"===a[0]))return Ext.ComponentManager.get(a);a=c.getAction(a.substr(1)),d=c.defaultActionType||d}a=Ext.ComponentManager.create(a,d),b&&(a.instancedCmp=!0)}return a},move:function(b,e){var c,d=this,a=d.items;if(b.isComponent&&(b=a.indexOf(b)),c=a.getAt(b),b!==e){if(!1===(c=a.removeAt(b)))return!1;e=Math.min(e,a.getCount()),a.insert(e,c),d.onMove(c,b,e),d.hasListeners.childmove&&d.fireEvent("childmove",d,c,b,e),d.updateLayout()}return c},moveBefore:function(a,c){var d,b;return a!==c&&(d=Ext.Element.getActiveElement(!0),a.el&&a.el.contains(d)&&(b=d,b.suspendFocusEvents(),a.isLayoutMoving=!0),a=this.layout.moveItemBefore(a,c),b&&(a.isLayoutMoving=!1,b.focus(),b.resumeFocusEvents())),a},moveAfter:function(c,d){var a,b=this.layout;return c!==d&&(a=d?b.getMoveAfterIndex(d):0,c=this.moveBefore(c,this.items.getAt(a))),c},nextChild:function(j,c){var a,g=this,d=g.items,h=d.indexOf(j),e=0,b=d.length;if(-1!==h)if(c)for(;e<b&&(a=d.getAt(h+e))&&!Ext.ComponentQuery.is(a,c);e++);else a=d.getAt(h+1);return a||null},onAdd:Ext.emptyFn,onBeforeAdd:function(b){var a=b.ownerCt;a&&a!==this&&a.remove(b,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments),this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments),this.repositionFloatingItems()},prevChild:function(j,c){var a,g=this,d=g.items,h=d.indexOf(j),e=0,b=d.length;if(-1!==h)if(c)for(;e<b&&(a=d.getAt(h-e))&&!Ext.ComponentQuery.is(a,c);e++);else a=d.getAt(h-1);return a||null},remove:function(b,a){var e,d=this;if(!d.destroyed&&!d.destroying)return e=d.getComponent(b),!e||d.hasListeners.beforeremove&&!1===d.fireEvent("beforeremove",d,e)||(d.doRemove(e,a),d.hasListeners.remove&&d.fireEvent("remove",d,e),d.destroying||d.destroyAfterRemoving||e.floating||d.updateLayout(),d.destroyAfterRemoving&&d.destroy()),e},removeAll:function(d){var g,a,h,j=this,b=j.floatingItems,c=[],e=0;for(g=b?j.items.items.concat(b.items):j.items.items.slice(),a=g.length,Ext.suspendLayouts(),j.removingAll=!0;e<a;e++)h=g[e],j.remove(h,d),h.ownerCt!==j&&c.push(h);return j.removingAll=!1,Ext.resumeLayouts(!!a),c},setLayout:function(e){var a,c,d=this,b=d.layout,g=b&&b.isLayout;"string"==typeof e&&(e={type:e}),c=e.type,!g||c&&c!==b.type?(g&&b.setOwner(null),a=d.self.prototype.layout,"string"==typeof a?e.type=c||a:Ext.merge(Ext.merge({},a),e),e=this.layout=Ext.Factory.layout(e),e.setOwner(this)):(delete e.type,b.setConfig(e)),d.rendered&&d.updateLayout()},setActiveItem:function(a){return this.getLayout().setActiveItem(a)},updateActions:function(d){var a;for(a in d)d[a].isAction||(d[a]=new Ext.Action(d[a]))},getAction:function(b){for(var a=this,a=this;a;a=a.getRefOwner())if(a.actions&&a.actions[b])return a.actions[b]},privates:{applyDefaults:function(a){var b=this,c=b.defaults;return c&&(Ext.isFunction(c)&&(c=c.call(b,a)),Ext.isString(a)&&(a=Ext.ComponentManager.get(a)),a.isComponent?a.setConfig(c,null,b._applyDefaultsOptions):a=b.self.getConfigurator().merge(b,Ext.Object.fork(c),a)),a},applyReference:function(a){return this.setupReference(a)},applyTargetCls:function(a){
this.layoutTargetCls=a},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},doRemove:function(i,b){var j,d,h=this,a=h.detachOnRemove,c=h.layout,e=c&&h.rendered,g=i.floating;void 0===b?j=h.autoDestroy:"boolean"==typeof b?j=b:(j="destroy"in b&&b.destroy,a="detach"in b&&b.detach),d=i.destroying||j,g?h.floatingItems.remove(i):h.items.remove(i),e&&!g&&(c.running&&Ext.Component.cancelLayout(i,d),c.onRemove(i,d)),i.destroyed||i.onRemoved(d),h.onRemove(i,d),j?i.destroy():h.destroyed||(e&&!g&&c.afterRemove(i),a&&i.rendered&&h.detachComponent(i))},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var a=this.getLayout();a&&a.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(b,d){b=Ext.isArray(b)?b.slice():[b];for(var e,g=this,c=0,a=b.length;c<a;c++)e=b[c],null==e?(Ext.Array.erase(b,c,1),--c,--a):(d&&(e=this.applyDefaults(e)),e.$initParent=g,e.isComponent&&(e.instancedCmp=!0),b[c]=g.lookupComponent(e),delete e.$initParent);return b},repositionFloatingItems:function(){var a,d,c,b=this.floatingItems;if(b)for(b=b.items,a=b.length,d=0;d<a;d++)c=b[d],c.el&&!c.hidden&&c.setPosition(c.x,c.y)},initTabGuards:function(h){var j,c,a,k=this,g=k.tabGuardBeforeEl,e=k.tabGuardAfterEl,d=k.tabGuardBeforeIndex||0,b=k.tabGuardAfterIndex||0;if(k.rendered&&k.tabGuard){if(a=k.el.findTabbableElements({skipSelf:!0}),a[0]===g.dom&&a.shift(),a[a.length-1]===e.dom&&a.pop(),a&&a.length){if(null==d||null==b)for(j=0;j<a.length;j++)(c=+a[j].getAttribute("tabIndex"))>0&&(d=Math.min(d,c),b=Math.max(b,c));g.dom.setAttribute("tabIndex",d),e.dom.setAttribute("tabIndex",b)}else g.dom.removeAttribute("tabIndex"),e.dom.removeAttribute("tabIndex");k.onTabGuardFocusEnter&&(g.hasListeners.focusenter||g.on("focusenter",k.onTabGuardFocusEnter,k),e.hasListeners.focusenter||e.on("focusenter",k.onTabGuardFocusEnter,k))}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var d,a=this.items.items,c=a.length,b=this._noMargin;c--;)d=a[c],d.margin$=null,d.el.setStyle(b)},setupRenderTpl:function(a){Ext.Component.prototype.setupRenderTpl.apply(this,arguments),this.getLayout().setupRenderTpl(a)}}},0,["container"],["component","box","container"],{component:!0,box:!0,container:!0},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0),Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(d){var c=this,a=c.owner.autoSize,b=a&&a.width,e=c.sizePolicies;return e=e[b]||e.$,b=a&&a.height,e=e[b]||e.$},calculate:function(g){var d,c,e=this,b=e.owner,a=b.autoSize;!0===a&&(a=e.autoSizeDefault),a&&(d=e.getDimension(b,a.width,"getWidth",b.width),c=e.getDimension(b,a.height,"getHeight",b.height)),g.childItems[0].setSize(d,c),g.setWidth(d),g.setHeight(c),g.setContentSize(d||b.field.getWidth(),c||b.field.getHeight())},getDimension:function(a,b,d,c){switch(b){case"boundEl":return a.boundEl[d]();case"field":return;default:return c}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0),Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,baseCls:"x-editor",editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field||{},"textfield");b.msgTarget=b.msgTarget||"qtip",a.mon(b,{scope:a,specialkey:a.onSpecialKey}),b.grow&&a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1}),a.floating={constrain:a.constrain},a.items=b,Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(a){this.ownerCmp=a},onFieldAutosize:function(){this.updateLayout()},afterRender:function(b,a){var c=this,e=c.field,d=e.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments),d&&(d.dom.name="",c.swallowKeys&&d.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(h,g){var e=this,c=g.getKey(),a=e.completeOnEnter&&c===g.ENTER,d=e.cancelOnEsc&&c===g.ESC,b=e.specialKeyTask;(a||d)&&(g.stopEvent(),b||(e.specialKeyTask=b=new Ext.util.DelayedTask),b.delay(e.specialKeyDelay,a?e.completeEdit:e.cancelEdit,e)),e.fireEvent("specialkey",e,h,g)},startEdit:function(c,e,a){var i,b,h,d=this,g=d.field;d.completeEdit(!0),d.boundEl=Ext.get(c),i=d.boundEl.dom,d.useBoundValue&&!Ext.isDefined(e)&&(e=Ext.String.trim(i.textContent||i.innerText||i.innerHTML)),!1!==d.fireEvent("beforestartedit",d,d.boundEl,e)&&(d.context&&(e=d.context.value),Ext.suspendLayouts(),d.rendered||(b=d.ownerCt,h=d.renderTo||b&&b.getEl()||Ext.getBody(),Ext.fly(h).position(),d.renderTo=h),d.startValue=e,d.show(),d.realign(!0),g.suspendEvents(),g.setValue(e),g.resetOriginalValue(),g.resumeEvents(),!1!==a&&g.focus(!!g.selectOnFocus||[Number.MAX_VALUE]),g.autoSize&&g.autoSize(),Ext.resumeLayouts(!0),d.toggleBoundEl(!1),d.editing=!0)},realign:function(a){var b=this;!0===a&&b.updateLayout(),b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(a){var e,d=this,g=d.field,b=d.startValue,c=d.context&&d.context.cancel;if(d.editing)return g.assertValue&&g.assertValue(),e=d.getValue(),g.isValid()?d.ignoreNoChange&&!g.didValueChange(e,b)?void d.onEditComplete(a):void(!1!==d.fireEvent("beforecomplete",d,e,b)&&(e=d.getValue(),d.updateEl&&d.boundEl&&d.boundEl.setHtml(e),d.onEditComplete(a,c),d.fireEvent("complete",d,e,b))):void(!1!==d.revertInvalid&&d.cancelEdit(a))},onShow:function(){var a=this;Ext.container.Container.prototype.onShow.apply(this,arguments),a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(a){var d,c=this,b=c.startValue,e=c.field;c.editing&&(e&&(d=c.editedValue=c.getValue(),e.suspendEvents(),c.setValue(b),e.resumeEvents()),c.onEditComplete(a,!0),c.fireEvent("canceledit",c,d,b),delete c.editedValue)},onEditComplete:function(b,a){this.editing=!1,!0!==b&&(this.hide(),this.toggleBoundEl(!0))},onFocusLeave:function(b){var a=this;!0===a.allowBlur&&a.editing&&a.completeEdit(),Ext.container.Container.prototype.onFocusLeave.call(this,b)},onHide:function(){var a=this,b=a.field;a.editing?a.completeEdit():b.collapse&&b.collapse(),Ext.container.Container.prototype.onHide.apply(this,arguments)},getValue:function(){return this.field.getValue()},setValue:function(a){this.field.setValue(a)},toggleBoundEl:function(a){!1!==this.hideEl&&this.boundEl.setVisible(a)},doDestroy:function(){var b=this,a=b.specialKeyTask;a&&a.cancel(),Ext.destroy(b.field),Ext.container.Container.prototype.doDestroy.call(this)}},0,["editor"],["component","box","container","editor"],{component:!0,box:!0,container:!0,editor:!0},["widget.editor"],0,[Ext,"Editor"],0),Ext.cmd.derive("Ext.EventManager",Ext.Base,{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(c,a,e,d,b){Ext.get(c).addListener(a,e,d,b)},onWindowResize:function(c,b,a){Ext.GlobalEvents.on("resize",c,b,a)},onWindowUnload:function(c,b,a){Ext.getWin().on("unload",c,b,a)},purgeElement:function(b,a){Ext.get(b).clearListeners()},removeAll:function(a){Ext.get(a).clearListeners()},removeListener:function(c,a,e,d,b){Ext.get(c).removeListener(a,e,d,b)},removeResizeListener:function(b,a){Ext.GlobalEvents.un("resize",b,a)},removeUnloadListener:function(b,a){Ext.getWin().un("unload",b,a)},stopEvent:function(a){this.stopPropagation(a),this.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){if(a=a.browserEvent||a,a.preventDefault)a.preventDefault();else{a.returnValue=!1;try{(a.ctrlKey||a.keyCode>111&&a.keyCode<124)&&(a.keyCode=-1)}catch(b){}}},getId:function(a){return a=Ext.get(a),a.id},getRelatedTarget:function(a){a=a.browserEvent||a;var b=a.relatedTarget;return b||(this.mouseLeaveRe.test(a.type)?b=a.toElement:this.mouseEnterRe.test(a.type)&&(b=a.fromElement)),this.resolveTextNode(b)},getPageX:function(a){return this.getPageXY(a)[0]},getPageXY:function(c){c=c.browserEvent||c;var b=c.pageX,e=c.pageY,d=document.documentElement,a=document.body;return b||0===b||(b=c.clientX+(d&&d.scrollLeft||a&&a.scrollLeft||0)-(d&&d.clientLeft||a&&a.clientLeft||0),e=c.clientY+(d&&d.scrollTop||a&&a.scrollTop||0)-(d&&d.clientTop||a&&a.clientTop||0)),[b,e]},getPageY:function(a){return this.getPageXY(a)[1]},getTarget:function(a){return a=a.browserEvent||a,Ext.EventManager.resolveTextNode(a.target||a.srcElement)},resolveTextNode:Ext.isGecko?function(b){if(b){var a=HTMLElement.prototype.toString.call(b);if("[xpconnect wrapped native prototype]"!==a&&"[object XULElement]"!==a)return 3===b.nodeType?b.parentNode:b}}:function(a){return a&&3===a.nodeType?a.parentNode:a}},0,0,0,0,0,0,[Ext,"EventManager"],function(a){a.on=a.addListener,a.un=a.removeListener}),Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:"x-img",config:{src:null,glyph:null},alt:"",title:"",imgCls:"",maskOnDisable:!1,applySrc:function(a){return a&&Ext.resolveResource(a)},getElConfig:function(){var a,d=this,e=d.autoEl,b=Ext.Component.prototype.getElConfig.call(this),c=d.glyph;return c?(b.tag="div",b.html=c.character,b.style=b.style||{},b.style.fontFamily=c.fontFamily,b.role="img"):"img"===e||Ext.isObject(e)&&"img"===e.tag?a=b:b.cn=[a={tag:"img",id:d.id+"-img"}],a&&(d.imgCls&&(a.cls=(a.cls?a.cls+" ":"")+d.imgCls),a.src=d.src||Ext.BLANK_IMAGE_URL),d.alt?(a||b).alt=d.alt:(a||b).alt="",d.title&&((a||b).title=d.title),b},onRender:function(){var a,b=this,c=b.autoEl;Ext.Component.prototype.onRender.apply(this,arguments),a=b.el,"img"===c||Ext.isObject(c)&&"img"===c.tag?b.imgEl=a:b.imgEl=a.getById(b.id+"-img")},doDestroy:function(){var a=this,b=a.imgEl;b&&a.el!==b&&b.destroy(),a.imgEl=null,Ext.Component.prototype.doDestroy.call(this)},getTitle:function(){return this.title},setTitle:function(c){var a=this,b=a.imgEl;a.title=c||"",b&&(b.dom.title=c||"")},afterComponentLayout:function(e,a,c,g){var d,b=this.getSizeModel().height;(b.calculated||b.configured)&&a&&this.glyph&&(d=a+"px",this.setStyle({"line-height":d,"font-size":d})),Ext.Component.prototype.afterComponentLayout.call(this,e,a,c,g)},getAlt:function(){return this.alt},setAlt:function(c){var a=this,b=a.imgEl;a.alt=c||"",b&&(b.dom.alt=c||"")},_naturalSize:null,getNaturalSize:function(){var d,a,c,e=this,b=e.imgEl,g=e._naturalSize;return b&&!g&&(b=b.dom,e._naturalSize=g={width:a=b.naturalWidth,height:b.naturalHeight},a||(d=b.style,a=d.width,c=d.height,d.width=d.height="auto",g.width=b.width,g.height=b.height,d.width=a,d.height=c),g.aspect=g.width/g.height),g},updateSrc:function(b){var a=this.imgEl;a&&(a.dom.src=b||Ext.BLANK_IMAGE_URL)},applyGlyph:function(b,a){return b&&(b.isGlyph||(b=new Ext.Glyph(b)),b.isEqual(a)&&(b=void 0)),b},updateGlyph:function(c,a){var b=this.el;b&&(b.dom.innerHTML=c.character,b.setStyle(c.getStyle()))}},0,["image","imagecomponent"],["component","box","image","imagecomponent"],{component:!0,box:!0,image:!0,imagecomponent:!0},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0),Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",autoDestroyBoundStore:!1,bindStore:function(b,c,a){a=a||"store";var d=this,e=c?null:d[a];return b!==e&&(e&&(d.onUnbindStore.$emptyFn||d.onUnbindStore(e,c,a),e.destroyed||(d.autoDestroyBoundStore&&"store"===a&&e.autoDestroy?e.destroy():d.unbindStoreListeners(e))),b?(d[a]=b=Ext.data.StoreManager.lookup(b),d.bindStoreListeners(b),d.onBindStore.$emptyFn||d.onBindStore(b,e,c)):d[a]=null,d.fireEvent&&d.fireEvent("storechange",d,b,e)),d},getStore:function(){return this.store},setStore:function(a){this.bindStore(a)},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=this.getStoreListeners(a);b&&(b=Ext.apply({},b),b.scope||(b.scope=this),this.storeListeners=b,a.on(b))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0),Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:!0,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:!0,useTargetEl:!1,cls:"x-mask",componentCls:"x-border-box",ariaRole:"progressbar",focusable:!0,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:!1,skipLayout:!0,constructor:function(b){var a,c=this;2===arguments.length?(a=c.target=b,b=arguments[1]):a=b.target,Ext.Component.prototype.constructor.call(this,b),a.isComponent?(c.ownerCt=a,c.hidden=!0,c.renderTo=c.getMaskTarget(),c.external=c.renderTo===Ext.getBody(),c.bindComponent(a)):(a=Ext.get(a),c.isElement=!0,c.renderTo=c.target),c.render(c.renderTo),c.store&&c.bindStore(c.store,!0)},initRenderData:function(){var a=Ext.Component.prototype.initRenderData.apply(this,arguments);return a.msg=this.msg||"",a},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments),this.maskEl=this.el},bindComponent:function(a){var c=this,b={scope:this,resize:c.sizeMask};c.external&&(b.added=c.onComponentAdded,b.removed=c.onComponentRemoved,a.floating?(b.move=c.sizeMask,c.activeOwner=a):a.ownerCt&&c.onComponentAdded(a.ownerCt)),c.mon(a,b),c.external&&c.mon(Ext.GlobalEvents,{show:c.onContainerShow,hide:c.onContainerHide,expand:c.onContainerExpand,collapse:c.onContainerCollapse,scope:c})},onComponentAdded:function(a){var b=this;delete b.activeOwner,b.floatParent=a,a.floating||(a=a.up("[floating]")),a?(b.activeOwner=a,b.mon(a,"move",b.sizeMask,b),b.mon(a,"tofront",b.onOwnerToFront,b)):b.preventBringToFront=!0,a=b.floatParent.ownerCt,b.rendered&&b.isVisible()&&a&&(b.floatOwner=a,b.mon(a,"afterlayout",b.sizeMask,b,{single:!0}))},onComponentRemoved:function(a){var c=this,d=c.activeOwner,b=c.floatOwner;d&&(c.mun(d,"move",c.sizeMask,c),c.mun(d,"tofront",c.onOwnerToFront,c)),b&&c.mun(b,"afterlayout",c.sizeMask,c),delete c.activeOwner,delete c.floatOwner},afterRender:function(){var a=this;Ext.Component.prototype.afterRender.apply(this,arguments),Ext.isIE&&a.el.on("mousedown",a.onMouseDown,a),this.el.skipGarbageCollection=!0},onMouseDown:function(b){var a=this.el;b.within(a)&&(b.preventDefault(),a.focus())},onOwnerToFront:function(a,b){this.el.setStyle("zIndex",b+1)},onContainerShow:function(a){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerHide:function(a){this.isHierarchicallyHidden()&&this.onComponentHide()},onContainerExpand:function(a){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerCollapse:function(a){this.isHierarchicallyHidden()&&this.onComponentHide()},onComponentHide:function(){var a=this;a.rendered&&a.isVisible()&&(a.hide(),a.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var d,b=this,c=b.activeOwner||b.target,a=b.external?b.getOwner().el:b.getMaskTarget();b.rendered&&b.isVisible()&&(b.external&&(!b.isElement&&c.floating&&(d=c.el.getZIndex(),isNaN(d)||b.onOwnerToFront(c,d)),b.el.setSize(a.getSize()).alignTo(a,"tl-tl")),b.msgWrapEl.center(b.el))},bindStore:function(a,b){var c=this;if(Ext.destroy(c.proxyListeners),c.mixins.storeholder.bindStore.apply(c,arguments),a=c.store){for(;a.getSource;)a=a.getSource();a.loadsSynchronously()||(c.proxyListeners=a.getProxy().on({exception:c.onLoad,scope:c,destroyable:!0})),a.isLoading()&&c.onBeforeLoad()}},getStoreListeners:function(b){var d=this.onLoad,c=this.onBeforeLoad,a={cachemiss:c,cachefilled:{fn:d,buffer:100}};return b.loadsSynchronously()||(a.beforeload=c,a.load=d),a},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.isElement?this.target:this.useTargetEl?a.getTargetEl():a.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var b,c=this,a=c.getOwner();c.disabled||(c.loading=!0,a.componentLayoutCounter?c.maybeShow():(b=a.afterComponentLayout,a.afterComponentLayout=function(){a.afterComponentLayout=b,b.apply(a,arguments),c.maybeShow()}))},maybeShow:function(){var b,c=this,a=c.getOwner();b=a.isVisible(!0)&&(!c.isComponent||a.el.isVisible(!0)),b?c.loading&&a.rendered&&c.show():c.showNext=!0},hide:function(){var b=this,a=b.ownerCt;return b.isElement?(a.unmask(),void b.fireEvent("hide",this)):(a&&a.updateMaskState(!1,b),delete b.showNext,Ext.Component.prototype.hide.apply(this,arguments))},show:function(){var a=this;return a.isElement?(a.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void a.fireEvent("show",this)):Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var b=this,a=b.ownerCt;b.loading=!0,Ext.Component.prototype.afterShow.apply(this,arguments),a.updateMaskState(!0,b),b.el.restoreTabbableState(),b.syncMaskState()},syncMaskState:function(){var c=this,b=c.ownerCt,a=c.el;c.isVisible()&&(c.hasOwnProperty("msgWrapCls")&&(a.dom.className=c.msgWrapCls),c.useMsg?(c.msgTextEl.setHtml(c.msg),c.ariaEl.dom.setAttribute("aria-valuetext",c.msg)):c.msgWrapEl.hide(),c.shim||Ext.useShims?a.enableShim(null,!0):a.disableShim(),b.el.contains(Ext.Element.getActiveElement())&&c.focus(),c.sizeMask())},onLoad:function(){this.loading=!1,this.hide()},doDestroy:function(){var a=this;a.ownerCt=null,a.bindStore(null),a.isElement&&a.ownerCt.unmask(),Ext.Component.prototype.doDestroy.call(this)}},1,["loadmask"],["component","box","loadmask"],{component:!0,box:!0,loadmask:!0},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0),Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(d,q){var m,o,b,p,l=this,c=l.owner,h=d.ownerCtContext,i=d.heightModel,j=d.widthModel,k=c.el.dom===document.body,g=c.lastBox||l.nullBox,n=c.el.lastBox||l.nullBox,a=!k,e=d.isTopLevel;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,d,q),q&&(l.usesContentWidth&&++d.consumersContentWidth,l.usesContentHeight&&++d.consumersContentHeight,l.usesWidth&&++d.consumersWidth,l.usesHeight&&++d.consumersHeight,h&&!h.hasRawContent&&(m=c.ownerLayout)&&(m.usesWidth&&++d.consumersWidth,m.usesHeight&&++d.consumersHeight)),j.configured?(b=c[j.names.width],e&&j.calculatedFrom&&(b=g.width),k||(a=l.setWidthInDom||(q?b!==n.width:j.constrained)),d.setWidth(b,a)):e&&(j.calculated&&(o=g.width,d.setWidth(o,o!==n.width)),o=g.x,d.setProp("x",o,o!==n.x)),i.configured?(p=c[i.names.height],e&&i.calculatedFrom&&(p=g.height),k||(a=q?p!==n.height:i.constrained),d.setHeight(p,a)):e&&(i.calculated&&(o=g.height,d.setHeight(o,o!==n.height)),o=g.y,d.setProp("y",o,o!==n.y))},finishedLayout:function(b){var e,c,j,d,g,h=this,k=b.children,a=h.owner;if(k)for(e=k.length,c=0;c<e;c++)j=k[c],j.el.lastBox=j.props;b.previousSize=h.lastComponentSize,h.lastComponentSize=a.el.lastBox=g=b.props,d=a.lastBox||(a.lastBox={}),d.x=g.x,d.y=g.y,d.width=g.width,d.height=g.height,d.invalid=!1,Ext.layout.Layout.prototype.finishedLayout.call(this,b)},notifyOwner:function(c){var b=this,a=b.lastComponentSize,d=c.previousSize;b.owner.afterComponentLayout(a.width,a.height,d?d.width:void 0,d?d.height:void 0)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var c,a=this,d=a.targetInfo;return d||(c=b.getEl("getTarget",a),a.targetInfo=d={padding:c.getPaddingInfo(),border:c.getBorderInfo()}),d},measureAutoDimensions:function(m,i){var j,q,e,p,s,x,n,u=this,a=u.owner,r=a.layout,d=m.heightModel,h=m.widthModel,c=m.boxParent,o=m.isBoxParent,v=m.target,b=m.props,w={gotWidth:!1,gotHeight:!1,isContainer:j=!m.hasRawContent},t=i||3,k=0,g=0;return h.shrinkWrap&&m.consumersContentWidth?(++k,q=!(1&t),j?q?(w.contentWidth=0,w.gotWidth=!0,++g):void 0!==(w.contentWidth=m.getProp("contentWidth"))&&(w.gotWidth=!0,++g):(p=b.contentWidth,"number"==typeof p?(w.contentWidth=p,w.gotWidth=!0,++g):(!!q||!!m.hasDomProp("containerChildrenSizeDone")&&(!(!o&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width")))&&(q?s=0:r&&r.measureContentWidth?s=r.measureContentWidth(m):v.cacheWidth?(x=v.xtype+"-"+v.ui,n=u.widthCache,s=n[x]||(n[x]=u.measureContentWidth(m))):s=u.measureContentWidth(m),isNaN(w.contentWidth=s)||(m.setContentWidth(s,!0),w.gotWidth=!0,++g)))):h.natural&&m.consumersWidth&&(++k,p=b.width,"number"==typeof p?(w.width=p,w.gotWidth=!0,++g):(!(!o&&c)||c.hasDomProp("width"))&&(isNaN(w.width=u.measureOwnerWidth(m))||(m.setWidth(w.width,!1),w.gotWidth=!0,++g))),d.shrinkWrap&&m.consumersContentHeight?(++k,e=!(2&t),j?e?(w.contentHeight=0,w.gotHeight=!0,++g):void 0!==(w.contentHeight=m.getProp("contentHeight"))&&(w.gotHeight=!0,++g):(p=b.contentHeight,"number"==typeof p?(w.contentHeight=p,w.gotHeight=!0,++g):(!!e||!!m.hasDomProp("containerChildrenSizeDone")&&(!!a.noWrap||(h.shrinkWrap?!(!o&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width"):(m.bodyContext||m).hasDomProp("width"))))&&(e?s=0:r&&r.measureContentHeight?s=r.measureContentHeight(m):v.cacheHeight?(x=v.xtype+"-"+v.ui,n=u.heightCache,s=n[x]||(n[x]=u.measureContentHeight(m))):s=u.measureContentHeight(m),isNaN(w.contentHeight=s)||(m.setContentHeight(s,!0),w.gotHeight=!0,++g)))):d.natural&&m.consumersHeight&&(++k,p=b.height,"number"==typeof p?(w.height=p,w.gotHeight=!0,++g):(!(!o&&c)||c.hasDomProp("width"))&&(isNaN(w.height=u.measureOwnerHeight(m))||(m.setHeight(w.height,!1),w.gotHeight=!0,++g))),c&&m.onBoxMeasured(),w.gotAll=g===k,w},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0),Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(d,a){var c=this,g=c.lastWidthModel,e=c.lastHeightModel,b=c.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments),g&&g.fixed&&d.widthModel.shrinkWrap&&b.setWidth(null),e&&e.fixed&&d.heightModel.shrinkWrap&&b.setHeight(null)},calculate:function(h){var d,a,g=this,e=g.measureAutoDimensions(h),b=h.heightModel,c=h.widthModel;e.gotWidth?c.shrinkWrap?g.publishOwnerWidth(h,e.contentWidth):g.publishInnerWidth&&g.publishInnerWidth(h,e.width):!c.auto&&g.publishInnerWidth&&(d=g.waitForOuterWidthInDom?h.getDomProp("width"):h.getProp("width"),void 0===d?g.done=!1:g.publishInnerWidth(h,d)),e.gotHeight?b.shrinkWrap?g.publishOwnerHeight(h,e.contentHeight):g.publishInnerHeight&&g.publishInnerHeight(h,e.height):!b.auto&&g.publishInnerHeight&&(a=g.waitForOuterHeightInDom?h.getDomProp("height"):h.getProp("height"),void 0===a?g.done=!1:g.publishInnerHeight(h,a)),e.gotAll||(g.done=!1)},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(i,g){var h,d,c,e=this,b=e.owner,a=e.calculateOwnerHeightFromContentHeight(i,g);isNaN(a)?e.done=!1:(h=Ext.Number.constrain(a,b.minHeight,b.maxHeight),h===a?d=e.setHeightInDom:(c=e.sizeModels[h<a?"constrainedMax":"constrainedMin"],a=h,i.heightModel.calculatedFromShrinkWrap?i.heightModel=c:i.invalidate({heightModel:c})),i.setHeight(a,d))},publishOwnerWidth:function(h,b){var i,d,c,g=this,a=g.owner,e=g.calculateOwnerWidthFromContentWidth(h,b);isNaN(e)?g.done=!1:(i=Ext.Number.constrain(e,a.minWidth,a.maxWidth),i===e?d=g.setWidthInDom:(c=g.sizeModels[i<e?"constrainedMax":"constrainedMin"],e=i,h.widthModel.calculatedFromShrinkWrap?h.widthModel=c:h.invalidate({widthModel:c})),h.setWidth(e,d))}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0),Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(d){var a,c,b=this;if(Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments),!d.textEls)if(c=b.owner.textEl,c.isComposite)for(d.textEls=[],c=c.elements,a=c.length;a--;)d.textEls[a]=d.getEl(Ext.get(c[a]));else d.textEls=[d.getEl("textEl")]},calculate:function(e){var a,d,b,c=this;if(Ext.layout.component.Auto.prototype.calculate.apply(this,arguments),Ext.isNumber(b=e.getProp("width")))for(b-=e.getBorderInfo().width,d=e.textEls,a=d.length;a--;)d[a].setWidth(b);else c.done=!1}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0),Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:"x-progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:!0,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var b,a=this,c=a.value||0;return b=Ext.Component.prototype.initRenderData.call(this),Ext.apply(b,{internalText:!a.hasOwnProperty("textEl"),text:a.text||Math.round(100*c)+"%",percentage:100*c})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments),a.textEl?(a.textEl=Ext.get(a.textEl),a.updateText(a.text)):a.textEl=a.el.select("."+a.baseCls+"-text")},afterRender:function(){var a=this;Ext.Component.prototype.afterRender.apply(this,arguments),a.text&&a.ariaEl.dom.setAttribute("aria-valuetext",a.text)},updateValue:function(a){this.updateProgress(a)},updateProgress:function(e,g,a){e=e||0;var d=this,b=d.value,c=d.getTextTpl();return d.value=e||(e=0),null!=g?(d.autoText=!1,d.updateText(g)):c?(d.autoText=!1,d.updateText(c.apply({value:e,percent:100*e}))):d.text||!1===d.autoText?d.text&&d.ariaEl.dom&&d.ariaEl.dom.removeAttribute("aria-valuetext"):(d.autoText=!0,d.updateText(Math.round(100*e)+"%")),d.rendered&&!d.destroyed&&(!0===a||!1!==a&&d.animate?(d.bar.stopAnimation(),d.bar.animate(Ext.apply({from:{width:100*b+"%"},to:{width:100*e+"%"}},d.animate))):d.bar.setStyle("width",100*e+"%"),d.ariaEl.dom.setAttribute("aria-valuenow",Math.round(100*e))),d.fireEvent("update",d,e,g),d},updateText:function(b){var a=this;return a.autoText||(a.text=b),a.rendered&&(a.textEl.setHtml(b),a.autoText?a.ariaEl.dom.removeAttribute("aria-valuetext"):a.ariaEl.dom.setAttribute("aria-valuetext",b)),a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(c){var a,b=this;return b.waitTimer||(a=b,c=c||{},null!=c.text&&(b.autoText=!1),b.updateText(c.text),b.waitTimer=Ext.TaskManager.start({run:function(d){var e=c.increment||10;d-=1,b.updateProgress(100/e*((d+e)%e+1)*.01,null,c.animate)},interval:c.interval||1e3,duration:c.duration,onStop:function(){c.fn&&c.fn.apply(c.scope||b),b.reset()},scope:a})),b},isWaiting:function(){return null!==this.waitTimer},reset:function(a){var b=this;return b.updateProgress(0),b.clearTimer(),!0===a&&b.hide(),b.rendered&&b.ariaEl.dom.removeAttribute("aria-valuetext"),b},clearTimer:function(){var a=this;a.waitTimer&&(a.waitTimer.onStop=null,Ext.TaskManager.stop(a.waitTimer),a.waitTimer=null)},doDestroy:function(){var b=this,a=b.bar;b.clearTimer(),b.rendered&&(b.textEl.isComposite&&b.textEl.clear(),Ext.destroyMembers(b,"textEl","progressBar"),a&&b.animate&&a.stopAnimation()),Ext.Component.prototype.doDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:!0,box:!0,progressbar:!0},["widget.progressbar"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"ProgressBar"],0),Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(d,a,b){var e=this,c=e.component;return Ext.dom.Element.prototype.setSize.call(this,d,a,b),c.btnWrap.setStyle("table-layout",d&&"auto"!==d?"fixed":""),c.btnEl.setStyle("height",a&&"auto"!==a?"auto":""),e},setStyle:function(g,e){var c,a,d=this,b=d.component;return Ext.dom.Element.prototype.setStyle.call(this,g,e),g&&(("width"===g||"string"!=typeof g&&"width"in g)&&(c=e||g.width,b.btnWrap.setStyle("table-layout",c&&"auto"!==c?"fixed":"")),("height"===g||"string"!=typeof g&&"height"in g)&&(a=e||g.height,b.btnEl.setStyle("height",a&&"auto"!==a?"auto":""))),d},setHeight:function(a,b){return Ext.dom.Element.prototype.setHeight.call(this,a,b),this.component.btnEl.setStyle("height",a&&"auto"!==a?"auto":""),this},setWidth:function(b,a){return Ext.dom.Element.prototype.setWidth.call(this,b,a),this.component.btnWrap.setStyle("table-layout",b&&"auto"!==b?"fixed":""),this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0),Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){var a=this;a.initialized||(Ext.getDoc().on({mouseup:a.onDocumentMouseUp,scope:a}),a.initialized=!0)},onButtonMousedown:function(a,c){var b=this.pressedButton;!b||b.destroying||b.destroyed||b.onMouseUp(c),this.pressedButton=a},onDocumentMouseUp:function(b){var a=this.pressedButton;!a||a.destroying||a.destroyed||(a.onMouseUp(b),this.pressedButton=null)},toggleGroup:function(b,e){if(e){var a,d=this.groups[b.toggleGroup],c=d.length;for(a=0;a<c;a++)d[a]!==b&&d[a].toggle(!1)}},register:function(b){var c=this,a=this.groups,d=a[b.toggleGroup];c.init(),b.toggleGroup&&(d||(d=a[b.toggleGroup]=[]),d.push(b),b.on("toggle",c.toggleGroup,c))},unregister:function(a){if(a.toggleGroup){var b=this,c=b.groups[a.toggleGroup];c&&(Ext.Array.remove(c,a),a.un("toggle",b.toggleGroup,b))}},getPressed:function(d){var a,c=this.groups[d],b=0;if(c)for(a=c.length;b<a;b++)if(!0===c[b].pressed)return c[b];return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0),Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var a=this;a.onShow=function(){return a.registerGlobalListeners(),a.onShow.apply(a,arguments)}},onGlobalScroll:function(c){var d,e,g=this.visible,b=g.length,a=c.getElement();if(b&&c!==Ext.scroll.Scroller.viewport)for(g=g.slice(),d=0;d<b;++d)e=g[d],e.alignOnScroll||!1===e.hideOnScroll||e.owns(a)||e.hide()},checkActiveMenus:function(d){var b,g,h=this.visible,a=h.length,c=Ext.Component.fromElement(d.target);if(a)for(h=h.slice(),b=0;b<a;++b)g=h[b],g.owns(d)||c&&c.isMenuItem&&c.menu===g||g.hide()},onShow:function(a){a.floating&&Ext.Array.include(this.visible,a)},onHide:function(a){a.floating&&Ext.Array.remove(this.visible,a)},hideAll:function(){var c,d=this.visible,b=d.length,a=!1;if(b)for(d=d.slice(),c=0;c<b;c++)d[c].hide(),
a=!0;return a},get:function(c,b){var a;return"string"==typeof c?(a=Ext.getCmp(c))instanceof Ext.menu.Menu&&(c=a):Ext.isArray(c)?(b=Ext.apply({items:c},b),c=new Ext.menu.Menu(b)):c.isComponent||(b=Ext.apply({},c,b),c=Ext.ComponentManager.create(b,"menu")),c},registerCheckable:function(c){var a=this.groups,b=c.group;b&&(a[b]||(a[b]=[]),a[b].push(c))},unregisterCheckable:function(c){var a=this.groups,b=c.group;b&&Ext.Array.remove(a[b],c)},onCheckChange:function(d,g){var j,e,h,a=this.groups,c=d.group,b=0;if(c&&g)for(j=a[c],e=j.length;b<e;b++)(h=j[b])!==d&&h.setChecked(!1)},registerGlobalListeners:function(){var a=this;delete a.onShow,Ext.on({mousedown:a.checkActiveMenus,scroll:a.onGlobalScroll,scope:a})}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0),Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(b,a){var c=this;c.el=Ext.get(b),c.el.unselectable(),Ext.apply(c,a),Ext.util.Observable.prototype.constructor.call(this),c.disabled||(c.disabled=!0,c.enable()),c.handler&&c.on("click",c.handler,c.scope||c)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE8&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(a){!a&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners()),this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0),Ext.util.Observable.prototype.destroy.call(this)},handleDblClick:function(a){clearTimeout(this.timer),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a),this.accelerate&&(this.delay=400),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a]),this.mousedownPreventDefault&&a.preventDefault(),this.mousedownStopEvent&&a.stopEvent()},click:function(a){this.fireEvent("click",this,a),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(e,a,h,g){return e===g?a+h:h*(1-Math.pow(2,-10*e/g))+a},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(a){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click(a)},handleMouseUp:function(a){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,a)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0),Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0,glyph:null},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:!0,focusable:!0,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_arrowElCls:"x-btn-arrow-el",_focusCls:"x-btn-focus",_arrowFocusCls:"x-arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){var a=this;a.addCls("x-unselectable"),Ext.Component.prototype.initComponent.call(this),a.menu&&(a.split=!0,a.setMenu(a.menu,!1,!0)),a.url&&(a.href=a.url),a.configuredWithPreventDefault=a.hasOwnProperty("preventDefault"),a.href&&!a.configuredWithPreventDefault&&(a.preventDefault=!1),Ext.isString(a.toggleGroup)&&""!==a.toggleGroup&&(a.enableToggle=!0),a.html&&!a.text&&(a.text=a.html,delete a.html)},getElConfig:function(){var c=this,b=Ext.Component.prototype.getElConfig.call(this),a=c.getHref(),d=c.hrefTarget;return"a"===b.tag&&(c.disabled||(b.tabIndex=c.tabIndex),a&&(c.disabled||(b.href=a,d&&(b.target=d)))),c.ariaStaticRoles[c.ariaRole]||(c.menu&&!c.isSplitButton&&(b["aria-haspopup"]=!0),c.enableToggle&&(b["aria-pressed"]=!!c.pressed)),b},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this),this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(i,h,e){var c,d,g=this,b=g.menu,a=g.isSplitButton?g.arrowEl&&g.arrowEl.dom:g.ariaEl.dom;b&&!e&&(!1!==h&&g.destroyMenu&&b.destroy(),b.ownerCmp=null),i?(c=i.isMenu,i=Ext.menu.Manager.get(i,{ownerCmp:g}),i.setOwnerCmp(g,c),i.menuClickBuffer=250,g.mon(i,{scope:g,show:g.onMenuShow,hide:g.onMenuHide}),!b&&g.getArrowVisible()&&(g.split=!0,g.rendered&&(g._addSplitCls(),g.updateLayout())),g.menu=i,a?(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",i.id)):(d=g.isSplitButton?g.ariaArrowElAttributes||(g.ariaArrowElAttributes={}):g.ariaRenderAttributes||(g.ariaRenderAttributes={}),d["aria-haspopup"]=!0,d["aria-owns"]=i.id)):(g.rendered?(a.removeAttribute("aria-haspopup"),a.removeAttribute("aria-owns"),g._removeSplitCls(),g.updateLayout()):(d=g.isSplitButton?g.ariaArrowElAttributes:g.ariaRenderAttributes)&&(delete d["aria-haspopup"],delete d["aria-owns"]),g.split=!1,g.menu=null)},onRender:function(){var d,a,b,c=this;Ext.Component.prototype.onRender.apply(this,arguments),a=c.el,c.tooltip&&c.setTooltip(c.tooltip,!0),c.handleMouseEvents?(b={scope:c,mouseover:c.onMouseOver,mouseout:c.onMouseOut,mousedown:c.onMouseDown},c.split&&(b.mousemove=c.onMouseMove)):b={scope:c},Ext.supports.Touch&&(b.touchstart=c.onTouchStart),c.repeat?c.mon(new Ext.util.ClickRepeater(a,Ext.isObject(c.repeat)?c.repeat:{}),"click",c.onRepeatClick,c):b[c.clickEvent]?d=!0:b[c.clickEvent]=c.onClick,c.mon(a,b),c.hasFrameTable()&&c.mon(c.frameTable,"click",c.frameTableListener,c),d&&c.mon(a,c.clickEvent,c.onClick,c),Ext.button.Manager.register(c)},onFocusLeave:function(a){Ext.Component.prototype.onFocusLeave.call(this,a),this.menu&&this.menu.hide()},getTemplateArgs:function(){var g,h=this,b=h._btnCls,d=h._baseIconCls,a=h.getIconAlign(),i=h.glyph,j=h.text,c=h._hasIcon(),e=h._hasIconCls;return i&&(g=i.fontFamily,i=i.character),{split:h.isSplitButton,innerCls:h._innerCls,splitCls:h.getArrowVisible()?h.getSplitCls():"",iconUrl:h.icon,iconCls:h.iconCls,glyph:i,glyphCls:i?h._glyphCls:"",glyphFontFamily:g,text:j||"&#160;",closeText:h.closeText,textCls:j?h._textCls:"",noTextCls:j?"":h._noTextCls,hasIconCls:c?e:"",btnWrapCls:h._btnWrapCls,btnWrapStyle:h.width?"table-layout:fixed;":"",btnElStyle:h.height?"height:auto;":"",btnCls:b,baseIconCls:d,iconBeforeText:"left"===a||"top"===a,iconAlignCls:c?e+"-"+a:"",textAlignCls:b+"-"+h.getTextAlign(),arrowElCls:h._arrowElCls,arrowElStyle:h.arrowVisible?"":"display:none",tabIndex:h.tabIndex}},renderIcon:function(a){return this.lookupTpl("iconTpl").apply(a)},setHref:function(a){var c,b=this,d=b.hrefTarget;b.href=a,b.configuredWithPreventDefault||(b.preventDefault=!a),b.rendered&&(c=b.el.dom,!a||b.disabled?(c.removeAttribute("href"),c.removeAttribute("hrefTarget")):(c.href=b.getHref(),d&&(c.target=d)))},getHref:function(){var b=this,a=b.href;return!!a&&Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},b.params,b.baseParams)))},setParams:function(c){var b,a=this;a.params=c,a.rendered&&(b=a.el.dom,a.disabled?b.removeAttribute("href"):b.href=a.getHref()||"")},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign:""},setIcon:function(b){b=b||"";var c=this,a=c.btnIconEl,d=c.icon||"";return c.glyph&&c.setGlyph(null),c.icon=b,b!==d&&(a&&(a.removeCls(c.iconCls),a.setStyle("background-image",b?"url("+b+")":""),c._syncHasIconCls(),c.didIconStateChange(d,b)&&c.updateLayout()),c.fireEvent("iconchange",c,d,b)),c},setIconCls:function(b){b=b||"";var d=this,a=d.btnIconEl,c=d.iconCls||"";return d.glyph&&d.setGlyph(null),d.iconCls=b,c!==b&&(a&&(a.setStyle("background-image",""),a.removeCls(c),a.addCls(b),d._syncHasIconCls(),d.didIconStateChange(c,b)&&d.updateLayout()),d.fireEvent("iconchange",d,c,b)),d},applyGlyph:function(b,a){return b&&(b.isGlyph||(b=new Ext.Glyph(b)),b.isEqual(a)&&(b=void 0)),b},updateGlyph:function(d,b){var c=this,a=c.btnIconEl,e=c._glyphCls;return a&&(c.icon=null,a.setStyle("background-image",""),d?(a.dom.innerHTML=d.character,a.addCls(e),a.setStyle(d.getStyle())):(a.dom.innerHTML="",a.removeCls(e)),c._syncHasIconCls(),c.didIconStateChange(b,d)&&c.updateLayout()),c.fireEvent("glyphchange",c,d&&d.glyphConfig,b&&b.glyphConfig),c},setTooltip:function(c,a){var b=this;return b.rendered?(a&&c||b.clearTip(),c&&(Ext.quickTipsActive&&Ext.isObject(c)?(Ext.tip.QuickTipManager.register(Ext.apply({target:b.el.id},c)),b.tooltip=c):b.el.dom.setAttribute(b.getTipAttr(),c))):b.tooltip=c,b},updateIconAlign:function(g,d){var b,a,e,c=this;c.rendered&&(b=c.btnEl,a=c.btnIconEl,e=c._hasIconCls,d&&b.removeCls(e+"-"+d),b.addCls(e+"-"+g),"top"===g||"left"===g?b.insertFirst(a):b.appendChild(a),c.updateLayout())},updateTextAlign:function(e,d){var c=this,b=c.btnEl,a=c._btnCls;c.rendered&&(b.removeCls(a+"-"+d),b.addCls(a+"-"+e))},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},getRefItems:function(a){var c=this.menu,b=[];return c&&(a&&(b=c.getRefItems(a)),b.unshift(c)),b},clearTip:function(){var b=this,a=b.el;Ext.quickTipsActive&&Ext.isObject(b.tooltip)?Ext.tip.QuickTipManager.unregister(a):a.dom.removeAttribute(b.getTipAttr())},doDestroy:function(){var a=this,b=a.menu;a.rendered&&a.clearTip(),Ext.destroy(a.repeater),b&&a.destroyMenu&&(a.menu=Ext.destroy(b)),Ext.button.Manager.unregister(a),Ext.Component.prototype.doDestroy.call(this)},setHandler:function(b,a){return this.handler=b,arguments.length>1&&(this.scope=a),this},updateText:function(d,a){d=null==d?"":String(d),a=a||"";var c=this,e=c.btnInnerEl,b=c.btnEl;c.rendered&&(e.setHtml(d||"&#160;"),b[d?"addCls":"removeCls"](c._textCls),b[d?"removeCls":"addCls"](c._noTextCls),c.updateLayout()),c.fireEvent("textchange",c,a,d)},didIconStateChange:function(a,c){var b=Ext.isEmpty(c);return Ext.isEmpty(a)?!b:b},click:function(a){return this.onClick(a)},setPressed:function(a){return this.toggle(!1!==a)},toggle:function(d,b){var c=this,a=c.ariaEl.dom;return c.enableToggle?(d=void 0===d?!c.pressed:!!d,!1!==c.fireEvent("beforetoggle",c,d)&&d!==c.pressed&&(c[d?"addCls":"removeCls"](c._pressedCls),c.pressed=d,a&&a.setAttribute("aria-pressed",d),b||(c.fireEvent("toggle",c,d),Ext.callback(c.toggleHandler,c.scope,[c,d],0,c),c.publishState&&c.publishState("pressed",d))),c):c},maybeShowMenu:function(a){this.menu&&this.showMenu(a)},showMenu:function(a){var c=this,d=c.menu,b=!a||a.pointerType;return d&&c.rendered&&(c.tooltip&&Ext.quickTipsActive&&"title"!==c.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(c.el),d.isVisible()?b?d.hide():d.focus():(!a||c.showEmptyMenu||d.items.getCount()>0)&&(d.autoFocus=!b,d.showBy(c.el,c.menuAlign))),c},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onTouchStart:function(a){this.doPreventDefault(a)},onEnterKey:function(a){if(!this.href)return this.onClick(a),a.stopEvent(),!1},onClick:function(b){var a=this;b&&a.doPreventDefault(b),b&&"keydown"!==b.type&&b.button||a.disabled||(a.doToggle(),a.maybeShowMenu(b),a.fireHandler(b))},doToggle:function(){var a=this;!1===a.allowDepress&&a.pressed||a.toggle()},doPreventDefault:function(a){a&&(this.preventDefault||this.disabled&&this.getHref())&&a.preventDefault()},fireHandler:function(b){var a=this;!1===a.fireEvent("click",a,b)||a.destroyed||Ext.callback(a.handler,a.scope,[a,b],0,a)},onMouseOver:function(b){var a=this;a.disabled||b.within(a.el,!0,!0)||a.onMouseEnter(b)},onMouseOut:function(b){var a=this;b.within(a.el,!0,!0)||(a.overMenuTrigger&&a.onMenuTriggerOut(b),a.onMouseLeave(b))},onMouseMove:function(c){var a=this,b=a.overMenuTrigger;a.split&&(a.isWithinTrigger(c)?b||a.onMenuTriggerOver(c):b&&a.onMenuTriggerOut(c))},isWithinTrigger:function(d){var g,a,c=this,b=c.el;return g="right"===c.arrowAlign?d.getX()-c.getX():d.getY()-b.getY(),a=c.getTriggerRegion(),g>a.begin&&g<a.end},getTriggerRegion:function(){var d=this,e=d._triggerRegion,c="right"===d.arrowAlign,b=c?"getRight":"getBottom",a=c?d.getWidth():d.getHeight();return e.begin=a-(d.el[b]()-d.btnEl[b]()),e.end=a,e},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(c){var b=this,a=b.arrowTooltip;b.overMenuTrigger=!0,b.split&&a&&b.btnWrap.dom.setAttribute(b.getTipAttr(),a),b.fireEvent("menutriggerover",b,b.menu,c)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger,a.split&&a.arrowTooltip&&a.btnWrap.dom.setAttribute(a.getTipAttr(),""),a.fireEvent("menutriggerout",a,a.menu,b)},onEnable:function(){var b=this,a=b.href,d=b.hrefTarget,c=b.el.dom;Ext.Component.prototype.onEnable.call(this),b.removeCls(b._disabledCls),c.setAttribute("tabIndex",b.tabIndex),a&&(c.href=a),d&&(c.target=d)},onDisable:function(){var a=this,b=a.el.dom;Ext.Component.prototype.onDisable.call(this),a.addCls(a._disabledCls),a.removeCls(a.overCls),b.removeAttribute("tabIndex"),a.href&&b.removeAttribute("href"),a.hrefTarget&&b.removeAttribute("target")},setScale:function(c){var a=this,b=a.ui.replace("-"+a.scale,"");if(!Ext.Array.contains(a.allowedScales,c))throw"#setScale: scale must be an allowed scale ("+a.allowedScales.join(", ")+")";a.scale=c,a.setUI(b)},setUI:function(b){var a=this;a.scale&&!b.match(a.scale)&&(b=b+"-"+a.scale),Ext.Component.prototype.setUI.call(this,b)},onMouseDown:function(b){var a=this;(Ext.isIE||"touch"===b.pointerType)&&Ext.defer(function(){var c=a.getFocusEl();c&&!b.defaultPrevented&&c.focus()},1),a.disabled||0!==b.button||(Ext.button.Manager.onButtonMousedown(a,b),a.addCls(a._pressedCls))},onMouseUp:function(b){var a=this;a.destroyed||0!==b.button||a.pressed||a.removeCls(a._pressedCls)},onMenuShow:function(){var a=this;a.addCls(a._menuActiveCls),a.fireEvent("menushow",a,a.menu)},onMenuHide:function(b){var a=this;a.removeCls(a._menuActiveCls),a.fireEvent("menuhide",a,a.menu)},onDownKey:function(b){var a=this;if(a.menu&&!a.disabled)return a.showMenu(b),b.stopEvent(),!1},updateArrowVisible:function(b){var a=this;return a.rendered&&(b?(a.menu||a.isSplitButton)&&(a.split=!0,a._addSplitCls()):(a._removeSplitCls(),a.split=!1)),b},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){Ext.Component.prototype.addUIToElement.call(this),this.updateChildElsUICls(!0)},addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){var a=this;a.btnWrap.addCls(a.getSplitCls())},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){Ext.Component.prototype.removeUIFromElement.call(this),this.updateChildElsUICls(!1)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var a=this;a.btnWrap.removeCls(a.getSplitCls())},_syncHasIconCls:function(){var b=this,a=b.btnEl,c=b._hasIconCls;a&&a[b._hasIcon()?"addCls":"removeCls"]([c,c+"-"+b.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(j){var h,b,g,i,c=this,e=c.ui,a=j?"addCls":"removeCls",d=c.elClsMap;for(h in d)b=c[h],g=d[h],i=c[g],b&&i&&b[a](i+"-"+e)},wrapPrimaryEl:function(a){this.el=new Ext.dom.ButtonElement(a),Ext.Component.prototype.wrapPrimaryEl.call(this,a)}}},0,["button"],["component","box","button"],{component:!0,box:!0,button:!0},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,"Button",Ext,"Button"],0),Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:!0,arrowCls:"split",split:!0,getTemplateArgs:function(){var a,c,b=this;return c=Ext.button.Button.prototype.getTemplateArgs.call(this),b.disabled&&(c.tabIndex=null),a=b.ariaArrowElAttributes||{},a["aria-hidden"]=!!b.hidden,a["aria-disabled"]=!!b.disabled,b.arrowTooltip?a["aria-label"]=b.arrowTooltip:a["aria-labelledby"]=b.id,c.arrowElAttributes=a,c},onRender:function(){var a,b=this;Ext.button.Button.prototype.onRender.call(this),a=b.getFocusEl(),a&&a.on({scope:b,focus:b.onMainElFocus,blur:b.onMainElBlur}),(a=b.arrowEl)&&(a.dom.setAttribute("data-componentid",b.id),a.setVisibilityMode(Ext.dom.Element.DISPLAY),a.on({scope:b,focus:b.onArrowElFocus,blur:b.onArrowElBlur}))},setArrowHandler:function(b,a){this.arrowHandler=b,this.scope=a},onClick:function(c){var b=this,a="keydown"===c.type&&c.target===b.arrowEl.dom;b.doPreventDefault(c),b.disabled||(a||b.isWithinTrigger(c)?(c.preventDefault(),b.maybeShowMenu(c),b.fireEvent("arrowclick",b,c),b.arrowHandler&&b.arrowHandler.call(b.scope||b,b,c)):(b.doToggle(),b.fireHandler(c)))},enable:function(b){var c=this,a=c.arrowEl;Ext.button.Button.prototype.enable.call(this,b),a&&(a.dom.setAttribute("tabIndex",c.tabIndex),a.dom.setAttribute("aria-disabled","false"))},disable:function(b){var c=this,a=c.arrowEl;Ext.button.Button.prototype.disable.call(this,b),a&&(a.dom.removeAttribute("tabIndex"),a.dom.setAttribute("aria-disabled","true"))},afterHide:function(a,b){Ext.button.Button.prototype.afterHide.call(this,a,b),this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(c,a,b){Ext.button.Button.prototype.afterShow.call(this,c,a,b),this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(d){var c=this,h=d.fromElement,g=d.toElement,b=c.focusEl&&c.focusEl.dom,a=c.arrowEl&&c.arrowEl.dom;return!!c.focusable&&(g===b?h!==a:g!==a||h!==b)},isBlurring:function(d){var c=this,h=d.fromElement,g=d.toElement,b=c.focusEl&&c.focusEl.dom,a=c.arrowEl&&c.arrowEl.dom;return!!c.focusable&&(h===b?g!==a:h!==a||g!==b)},getFocusClsEl:Ext.privateFn,onMainElFocus:function(a){this.el.addCls(this._focusCls)},onMainElBlur:function(a){this.el.removeCls(this._focusCls)},onArrowElFocus:function(a){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(a){Ext.button.Button.prototype.setTabIndex.call(this,a),this.arrowEl&&this.arrowEl.set({tabIndex:a})},_addSplitCls:function(){var a=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this),a.dom.setAttribute("tabIndex",this.tabIndex),a.setVisible(!0)},_removeSplitCls:function(){var a=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this),a.dom.removeAttribute("tabIndex"),a.setVisible(!1)}}},0,["splitbutton"],["component","box","button","splitbutton"],{component:!0,box:!0,button:!0,splitbutton:!0},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0),Ext.cmd.derive("Ext.button.Cycle",Ext.button.Split,{alternateClassName:"Ext.CycleButton",getButtonText:function(b){var a=this,c="";return b&&!0===a.showText?(a.prependText&&(c+=a.prependText),c+=b.text):a.text},setActiveItem:function(g,a){var e=this,b=e.changeHandler,d=e.forceIcon,c=e.forceGlyph;e.settingActive=!0,Ext.isObject(g)||(g=e.menu.getComponent(g)),g&&(e.setText(e.getButtonText(g)),e.setIconCls(d||g.iconCls),e.setGlyph(c||g.glyph),e.activeItem=g,g.checked||g.setChecked(!0,!1),a||(b&&Ext.callback(b,e.scope,[e,g],0,e),e.fireEvent("change",e,g))),e.settingActive=!1},getActiveItem:function(){return this.activeItem},initComponent:function(){var b,c,a,d,g=this,e=0;for(b=(g.menu.items||[]).concat(g.items||[]),g.menu=Ext.applyIf({cls:"x-cycle-menu",items:[]},g.menu),a=b.length,c=0;c<a;c++)d=b[c],d=Ext.applyIf({group:g.id,itemIndex:c,checkHandler:g.checkHandler,scope:g,checked:d.checked||!1},d),g.menu.items.push(d),d.checked&&(e=c);g.itemCount=g.menu.items.length,Ext.button.Split.prototype.initComponent.apply(this,arguments),g.on("click",g.toggleSelected,g),g.setActiveItem(e,!0)},checkHandler:function(a,b){b&&!this.settingActive&&this.setActiveItem(a)},toggleSelected:function(){var b,c=this,a=c.menu;b=c.activeItem.next(":not([disabled])")||a.items.getAt(0),b.setChecked(!0)}},0,["cycle"],["component","box","button","splitbutton","cycle"],{component:!0,box:!0,button:!0,splitbutton:!0,cycle:!0},["widget.cycle"],0,[Ext.button,"Cycle",Ext,"CycleButton"],0),Ext.cmd.derive("Ext.layout.container.SegmentedButton",Ext.layout.container.Container,{needsItemSize:!1,setsItemSize:!1,_btnRowCls:"x-segmented-button-row",getRenderTree:function(){var b,c,d=this,a=Ext.layout.container.Container.prototype.getRenderTree.call(this);if(d.owner.getVertical())for(b=0,c=a.length;b<c;b++)a[b]={cls:d._btnRowCls,cn:a[b]};return a},getItemLayoutEl:function(a){var b=a.el.dom;return this.owner.getVertical()?b.parentNode:b},onDestroy:function(){if(this.rendered)for(var a,b=this.getRenderTarget();a=b.last();)a.destroy()}},0,0,0,0,["layout.segmentedbutton"],0,[Ext.layout.container,"SegmentedButton"],0),Ext.cmd.derive("Ext.button.Segmented",Ext.container.Container,{config:{allowDepress:!1,allowMultiple:!1,forceSelection:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:void 0},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:"x-segmented-button",itemCls:"x-segmented-button-item",_firstCls:"x-segmented-button-first",_lastCls:"x-segmented-button-last",_middleCls:"x-segmented-button-middle",applyValue:function(k,a){var d,e,l,m,h,c,g,b,j=this,n=j.getAllowMultiple();if(l=k instanceof Array?k:null==k?[]:[k],m=a instanceof Array?a:null==a?[]:[a],j._isApplyingValue=!0,!j.rendered)for(h=j.items.items,c=h.length-1;c>=0;c--)e=h[c],!j.forceSelection||c||b||(e.pressed=!0),e.pressed&&(b=!0,d=e.value,null==d&&(d=j.items.indexOf(e)),Ext.Array.contains(l,d)||l.unshift(d));for(g=l.length,c=0;c<g;c++)k=l[c],(e=j._lookupButtonByValue(k))&&(d=e.value,null!=d&&d!==k&&(l[c]=d),e.pressed||e.setPressed(!0));for(k=n?l:g?l[0]:null,c=0,g=m.length;c<g;c++)a=m[c],Ext.Array.contains(l,a)||j._lookupButtonByValue(a).setPressed(!1);return j._isApplyingValue=!1,k},updateValue:function(c,a){var d,b=this;b.hasListeners.change&&(c&&a&&b.getAllowMultiple()&&(d=Ext.Array.equals(c,a)),d||b.fireEvent("change",b,c,a))},beforeRender:function(){var a=this;a.addCls(a.baseCls+a._getClsSuffix()),a._syncItemClasses(!0),Ext.container.Container.prototype.beforeRender.call(this)},onAdd:function(c){var b=this,a="_syncItemClasses";b.mon(c,{hide:a,show:a,beforetoggle:"_onBeforeItemToggle",toggle:"_onItemToggle",scope:b}),b.getAllowToggle()&&(c.enableToggle=!0,b.getAllowMultiple()||(c.toggleGroup=b.getId(),c.allowDepress=b.getAllowDepress())),c.addCls(b.itemCls+b._getClsSuffix()),b._syncItemClasses(),Ext.container.Container.prototype.onAdd.call(this,c)},onRemove:function(b){var a=this;b.removeCls(a.itemCls+a._getClsSuffix()),a._syncItemClasses(),Ext.container.Container.prototype.onRemove.call(this,b)},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth,Ext.container.Container.prototype.beforeLayout.call(this)},updateDefaultUI:function(e){var d,b,c,a=this.items;if(this.rendered)Ext.raise("Changing the ui config of a segmented button after render is not supported.");else if(a)for(a.items&&(a=a.items),b=0,c=a.length;b<c;b++)d=a[b],"default"!==d.ui||"default"===e||d.hasOwnProperty("ui")||(a[b].ui=e)},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(h){for(var a,c,b=this.items.items,g=b.length,e=0,d=null;e<g;e++)if(c=b[e],null!=(a=c.value)&&a===h){d=c;break}return d||"number"!=typeof h||(d=b[h]),d},_onBeforeItemToggle:function(a,b){if(this.allowMultiple&&this.forceSelection&&!b&&1===this.getValue().length)return!1},_onItemToggle:function(c,h){if(!this._isApplyingValue){var i,e=this,d=Ext.Array,b=e.allowMultiple,a=null!=c.value?c.value:e.items.indexOf(c),g=e.getValue();b&&(i=d.indexOf(g,a)),h?b?-1===i&&(g=d.slice(g),g.push(a)):g=a:b?i>-1&&(g=d.slice(g),g.splice(i,1)):g===a&&(g=null),e.setValue(g),e.fireEvent("toggle",e,c,h)}},_syncItemClasses:function(a){var b,d,k,g,e,l,j,c,h=this;if(a||h.rendered){for(b=h._getFirstCls(),d=h._middleCls,k=h._getLastCls(),g=h.items.items,e=g.length,l=[],c=0;c<e;c++)j=g[c],j.hidden||l.push(j);for(e=l.length,c=0;c<e;c++)l[c].removeCls([b,d,k]);if(e>1){for(l[0].addCls(b),c=1;c<e-1;c++)l[c].addCls(d);l[e-1].addCls(k)}}}}},0,["segmentedbutton"],["component","box","container","segmentedbutton"],{component:!0,box:!0,container:!0,segmentedbutton:!0},["widget.segmentedbutton"],0,[Ext.button,"Segmented"],0),Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var b=this,a=b.vertical;b.dock=b.dock||(a?"left":"top"),b.layout=Ext.apply(a?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},b.layout),Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(b,c,a){this.initOrientation(),Ext.container.Container.prototype.onAdded.call(this,b,c,a)},onRemoved:function(a){this.removeClsWithUI(this.uiCls),Ext.container.Container.prototype.onRemoved.call(this,a)},beforeRender:function(){var a=this;!a.forceOrientation&&a.ownerCt||a.initOrientation(),Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(d){var b,a,c=this;d!==c.dock&&(Ext.suspendLayouts(),c.clearOrientation(),Ext.container.Container.prototype.setDock.call(this,d),c.initOrientation(),a=c.vertical,b=c.layout,b.setVertical(a),b.setAlignRoundingMethod(a?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var c=this,b=c.dock,a=c.vertical=b?b in c._verticalSides:c.vertical;c.addClsWithUI([a?"vertical":"horizontal",c.getDockName()])}}},0,0,["component","box","container"],{component:!0,box:!0,container:!0},0,0,[Ext.panel,"Bar"],0),Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var a,e,c,d=this,b=d.getRotation();b&&!Ext.isIE8&&(c=d.el,a=d.lastBox,e=a.x,c.setStyle(d._getVerticalAdjustDirection(),e+(1===b?a.width:-a.height)+"px")),Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var c=this,a=c.getRotation(),b=c.el;Ext.Component.prototype.onRender.call(this),a&&b.setVertical(c._rotationAngles[a]),Ext.supports.FixedTableWidthBug&&(b._needsTableWidthFix=!0)},applyText:function(a){return a||(a="&#160;"),a},beforeRender:function(){var a=this;Ext.Component.prototype.beforeRender.call(this),a.addCls(a._rotationClasses[a.getRotation()]),a.addCls(a._textAlignClasses[a.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var g,e=this,c=e.getIcon(),b=e.getIconCls(),d=e.getGlyph(),a=e.getIconAlign();return d&&(g=d.fontFamily,d=d.character),{id:e.id,ui:e.ui,itemCls:e._itemCls,iconUrl:c,iconCls:b,iconWrapCls:e._iconWrapCls,baseIconCls:e._baseIconCls,iconAlignCls:e._iconAlignClasses[a],glyph:d,glyphCls:d?e._glyphCls:"",glyphFontFamily:g}},
initRenderData:function(){var a,c,b=this;return c=Ext.apply({text:b.getText(),textElRole:b.textElRole,id:b.id,ui:b.ui,itemCls:b._itemCls,textCls:b._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this)),b._hasIcon()&&(a=b.getIconAlign(),c.iconMarkup=b.getIconMarkup(),c.iconBeforeTitle="top"===a||"left"===a),c},onAdded:function(b,g,a){var d=this,e=d._titleSuffix,c=b.baseCls;d.addCls([c+e,c+e+"-"+b.ui]),Ext.Component.prototype.onAdded.call(this,b,g,a)},applyGlyph:function(b,a){return b&&(b.isGlyph||(b=new Ext.Glyph(b)),b.isEqual(a)&&(b=void 0)),b},updateGlyph:function(d,b){var a,c=this,e=c._glyphCls;c.rendered&&(c._syncIconVisibility(),a=c.iconEl,d?(a.dom.innerHTML=d.character,a.addCls(e),a.setStyle("font-family",d.fontFamily)):b!==d&&(a.dom.innerHTML="",a.removeCls(e)),c._didIconStateChange(b,d)&&c.updateLayout())},updateIcon:function(b,d){b=b||"";var a,c=this;c.rendered&&b!==d&&(c._syncIconVisibility(),a=c.iconEl,a.setStyle("background-image",b?"url("+b+")":""),c._didIconStateChange(d,b)&&c.updateLayout())},updateIconAlign:function(g,c){var a,d,b=this,e=b.iconWrapEl;b.iconWrapEl&&(a=b.el,d=b._iconAlignClasses,c&&e.removeCls(d[c]),e.addCls(d[g]),"top"===g||"left"===g?a.insertFirst(e):a.appendChild(e),b.updateLayout())},updateIconCls:function(b,c){b=b||"";var a,d=this;d.rendered&&c!==b&&(d._syncIconVisibility(),a=d.iconEl,c&&a.removeCls(c),a.addCls(b),d._didIconStateChange(c,b)&&d.updateLayout())},updateRotation:function(b,a){var c,e,d=this;d.rendered&&(c=d.el,e=d._rotationClasses,d.removeCls(e[a]),d.addCls(e[b]),c.setHorizontal(),b&&c.setVertical(d._rotationAngles[b]),c.setStyle({right:"",left:"",top:"",height:"",width:""}),d.lastBox=null,d.updateLayout())},updateText:function(a){this.rendered&&(this.textEl.setHtml(a),this.updateLayout())},updateTextAlign:function(d,b){var a=this,c=a._textAlignClasses;a.rendered&&(b&&a.removeCls(c[b]),a.addCls(c[d]),a.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(a,c){var b=Ext.isEmpty(c);return Ext.isEmpty(a)?!b:b},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var c,b,e=this,d=e.el,a=e._hasIcon(),g=e.iconWrapEl;a&&!g&&(b=e.iconAlign,c="left"===b||"top"===b,d.dom.insertAdjacentHTML(c?"afterbegin":"beforeend",e.getIconMarkup()),g=e.iconWrapEl=d[c?"first":"last"](),e.iconEl=g.first()),g&&g.setDisplayed(a)}}},0,["title"],["component","box","title"],{component:!0,box:!0,title:!0},["widget.title"],0,[Ext.panel,"Title"],0),Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{config:{glyph:null},isTool:!0,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,ariaRole:"button",focusable:!0,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:!0,cacheWidth:!0,initComponent:function(){var a=this;a.tooltip=a.tooltip||a.qtip,Ext.Component.prototype.initComponent.call(this)},initRenderData:function(){var d,b=this,c=Ext.Component.prototype.initRenderData.call(this),a=b.getGlyph();return a&&(d=a.fontFamily,a=a.character),Ext.applyIf(c,{className:b.calculateClassName(),glyph:a,glyphFontFamily:d}),c},calculateClassName:function(){var b=this,a=b.baseCls+"-tool-el ";return b.type?a+=b.baseCls+"-img "+b.baseCls+"-"+b.type:b.iconCls&&(a+=b.iconCls),a},afterRender:function(){var b,a=this;Ext.Component.prototype.afterRender.call(this),a.setTypeAfterRender&&(a.setTypeAfterRender=!1,a.setType(a.type)),a.el.on({click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a}),(b=a.tooltip)&&a.setTooltip(b)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(h,d){var a,e=this,b=e.tooltip,g=e.tooltipType,i=e.id,c=e.el;b&&Ext.quickTipsActive&&Ext.isObject(b)&&Ext.tip.QuickTipManager.unregister(i),e.tooltip=h,d&&(e.tooltipType=d),h&&(Ext.quickTipsActive&&Ext.isObject(h)?Ext.tip.QuickTipManager.register(Ext.apply({target:i},h)):c&&(d&&g&&d!==g&&(a=e.tipAttrs[g]||"title",c.dom.removeAttribute(a)),a=e.tipAttrs[d||g]||"title",c.dom.setAttribute(a,h)),"title"!==a&&e.ariaRole&&"presentation"!==e.ariaRole&&(c?c.dom.setAttribute("aria-label",h):(e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-label"]=h)))},setType:function(g){var c,a,h=this,e=(h.toolEl,h.updating),b=h.rendering;return e||(c=h.calculateClassName(),b||(h.updating=a=!0),h.setIconCls(null),h.setGlyph(null)),h.type=g,a?(h.updateToolCls(c),h.updating=!1):b&&(h.setTypeAfterRender=!0),h},setIconCls:function(d){var b,a,g=this;return g.toolEl,g.updating||(b=g.calculateClassName(),g.updating=a=!0,g.setType(null),g.setGlyph(null)),g.iconCls=d,a&&(g.updateToolCls(b),g.updating=!1),g},doDestroy:function(){var a=this;a.setTooltip(null),delete a.toolOwner,Ext.Component.prototype.doDestroy.call(this)},applyGlyph:function(b,a){return b&&(b.isGlyph||(b=new Ext.Glyph(b)),b.isEqual(a)&&(b=void 0)),b},updateGlyph:function(h,b){var c,a,g=this,d=g.toolEl;g.updating||(c=g.calculateClassName(),g.updating=a=!0,g.setType(null),g.setIconCls(null)),d&&(h?(d.dom.innerHTML=h.character,d.setStyle(h.getStyle())):d.dom.innerHTML=""),a&&(g.updateToolCls(c),g.updating=!1)},privates:{onClick:function(c,b){var a=this;return!a.disabled&&("keydown"!==c.type&&a.el.removeCls(a.toolPressedCls+" "+a.toolOverCls),!1!==a.stopEvent&&c.stopEvent(),a.handler?Ext.callback(a.handler,a.scope,[c,b,a.ownerCt,a],0,a):a.callback&&Ext.callback(a.callback,a.scope,[a.toolOwner||a.ownerCt,a,c],0,a),a.destroyed?void 0:(a.fireEvent("click",a,c,a.toolOwner||a.ownerCt),!0))},onMouseDown:function(a){if(a.preventDefault(),this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(b){var a=this.toolEl;a&&(a.removeCls(b),a.addCls(this.calculateClassName()))}}},0,["tool"],["component","box","tool"],{component:!0,box:!0,tool:!0},["widget.tool"],0,[Ext.panel,"Tool"],0),Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if(1!==arguments.length||"string"==typeof a||a.dom||a.tagName||a===document||a.isComponent)return void b.legacyConstructor.apply(b,arguments);Ext.apply(b,a),b.bindings=[],b.target.isComponent||(b.target=Ext.get(b.target)),b.binding?b.addBinding(b.binding):a.key&&b.addBinding(a),b.enable()},legacyConstructor:function(b,d,a){var c=this;Ext.apply(c,{target:Ext.get(b),eventName:a||c.eventName,bindings:[]}),d&&c.addBinding(d),c.enable()},addBinding:function(e){var b,a,c=this,d=e.key;if(c.processing&&(c.bindings=c.bindings.slice(0)),Ext.isArray(e))for(b=0,a=e.length;b<a;b++)c.addBinding(e[b]);else c.bindings.push(Ext.apply({keyCode:c.processKeys(d)},e))},removeBinding:function(g){var b,d,c,e=this,h=e.bindings,a=h.length;for(e.processing&&(e.bindings=h.slice(0)),c=e.processKeys(g.key),b=0;b<a;++b)if(d=h[b],(d.fn||d.handler)===(g.fn||g.handler)&&d.scope===g.scope&&g.alt===d.alt&&g.ctrl===d.ctrl&&g.shift===d.shift&&Ext.Array.equals(d.keyCode,c))return void Ext.Array.erase(e.bindings,b,1)},processKeys:function(g){var d,e,b,a,c,h=!1;if(g.test)return g;if(Ext.isString(g)){for(e=[],b=g.toUpperCase(),c=0,a=b.length;c<a;++c)e.push(b.charCodeAt(c));g=e,h=!0}if(Ext.isArray(g)||(g=[g]),!h)for(c=0,a=g.length;c<a;++c)d=g[c],Ext.isString(d)&&(g[c]=d.toUpperCase().charCodeAt(0));return g},handleTargetEvent:function(e){var g,c,b,a,d=this;if(d.enabled&&(g=d.bindings,c=0,b=g.length,e=d.processEvent.apply(d.processEventScope||d,arguments))){if(d.lastKeyEvent=e,d.ignoreInputFields&&Ext.fly(e.target).isInputField())return;if(!e.getKey)return e;for(d.processing=!0;c<b;++c)if(!1===(a=d.processBinding(g[c],e)))return d.processing=!1,a;d.processing=!1}},processEvent:Ext.identityFn,processBinding:function(e,a){if(this.checkModifiers(e,a)){var c,d,l,g=a.getKey(),j=e.fn||e.handler,k=e.scope||this,h=e.keyCode,b=e.defaultEventAction;if(h.test){if(h.test(String.fromCharCode(a.getCharCode()))&&(l=j.call(k,g,a),!0!==l&&b&&a[b](),!1===l))return l}else if(h.length)for(c=0,d=h.length;c<d;++c)if(g===h[c]){if(l=j.call(k,g,a),!0!==l&&b&&a[b](),!1===l)return l;break}}},checkModifiers:function(h,e){for(var g,b,d=["shift","ctrl","alt"],c=0,a=d.length;c<a;++c)if(b=d[c],void 0!==(g=h[b])&&g!==e[b+"Key"])return!1;return!0},on:function(b,d,c){var h,a,e,g;Ext.isObject(b)&&!Ext.isArray(b)?(h=b.key,a=b.shift,e=b.ctrl,g=b.alt):h=b,this.addBinding({key:h,shift:a,ctrl:e,alt:g,fn:d,scope:c})},un:function(b,d,c){var h,a,e,g;Ext.isObject(b)&&!Ext.isArray(b)?(h=b.key,a=b.shift,e=b.ctrl,g=b.alt):h=b,this.removeBinding({key:h,shift:a,ctrl:e,alt:g,fn:d,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;a.enabled||(a.target.on(a.eventName,a.handleTargetEvent,a,{capture:a.capture,priority:a.priority}),a.enabled=!0)},disable:function(){var a=this;a.enabled&&(a.target.removeListener(a.eventName,a.handleTargetEvent,a),a.enabled=!1)},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(c){var a=this,b=a.target;a.bindings=[],a.disable(),c&&b.destroy(),delete a.target,a.callParent()}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0),Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(2===arguments.length)return void b.legacyConstructor.apply(b,arguments);b.doConstruction(a)},legacyConstructor:function(b,a){this.doConstruction(Ext.apply({target:b},a))},doConstruction:function(a){var d,c=this,b={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:c.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:c.forceKeyDown,a.eventName),capture:a.capture};c.map&&c.map.destroy(),c.initConfig(a),a.processEvent&&(b.processEvent=a.processEvent,b.processEventScope=a.processEventScope||c),a.priority&&(b.priority=a.priority),a.keyMap?d=c.map=a.keyMap:(d=c.map=new Ext.util.KeyMap(b),c.destroyKeyMap=!0),this.addBindings(a),d.disable(),a.disabled||d.enable()},addBindings:function(i){var b,g,d,c=this,e=c.map,a=Ext.util.KeyNav.keyOptions,h=i.scope||c;for(b in i)g=i[b],d=a[b],null!=d&&(b=d),!g||1!==b.length&&isNaN(b=parseInt(b,10))||("function"==typeof g&&(g={handler:g,defaultEventAction:void 0!==i.defaultEventAction?i.defaultEventAction:c.defaultEventAction}),e.addBinding({key:b,ctrl:g.ctrl,shift:g.shift,alt:g.alt,handler:Ext.Function.bind(c.handleEvent,g.scope||h,[g.handler||g.fn,c],!0),defaultEventAction:void 0!==g.defaultEventAction?g.defaultEventAction:c.defaultEventAction}))},handleEvent:function(d,c,b,a){return a.lastKeyEvent=c,b.call(this,c)},destroy:function(b){var a=this;a.destroyKeyMap&&a.map.destroy(b),delete a.map,a.callParent()},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a),this.disabled=a},getKeyEvent:function(b,a){return b||Ext.supports.SpecialKeyDownRepeat&&!a?"keydown":a||this.eventName}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0),Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:!0,privates:{initFocusableContainer:function(c){var b,d,a;if(this.enableFocusableContainer)c=null==c||c,this.doInitFocusableContainer(c);else for(b=this.getFocusables(),d=0,a=b.length;d<a;d++)b[d].focusableContainer=null},doInitFocusableContainer:function(a){var d,c=this,b=c.focusableContainerEl;a&&c.clearFocusables(),d=c.findNextFocusableChild({step:1,beforeRender:!0}),d?c.activateFocusableContainer(!0):c.isFocusableContainerActive()&&c.activateFocusableContainer(!1),b.isElement||(b=c.focusableContainerEl=c[b]),c.focusableKeyNav=c.createFocusableContainerKeyNav(b)},createFocusableContainerKeyNav:function(a){var b=this;return new Ext.util.KeyNav(a,{eventName:"keydown",ignoreInputFields:!0,scope:b,tab:b.onFocusableContainerTabKey,enter:b.onFocusableContainerEnterKey,space:b.onFocusableContainerSpaceKey,up:b.onFocusableContainerUpKey,down:b.onFocusableContainerDownKey,left:b.onFocusableContainerLeftKey,right:b.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.enableFocusableContainer&&this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var d,h,e,a,j=this,b=(j.activeChildTabIndex,!1);if(d=j.getFocusables(),a=d.length){for(e=0;e<a;e++)if(h=d[e],!h.disabled&&h.isFocusable&&h.isFocusable()){b=!0;break}if(b)return h=j.findNextFocusableChild({items:d,step:!0}),h&&j.activateFocusable(h),h}},clearFocusables:function(){var d,c,e=this,b=e.getFocusables(),a=b.length;for(c=0;c<a;c++)d=b[c],d.focusable&&!d.disabled&&e.deactivateFocusable(d)},activateFocusable:function(c,b){var a=null!=b?b:this.activeChildTabIndex;c.setTabIndex(a)},deactivateFocusable:function(c,b){var a=null!=b?b:this.inactiveChildTabIndex;c.setTabIndex(a)},activateFocusableContainer:function(b){var c=this,a=c.tabGuardBeforeEl,d=c.tabGuardAfterEl;c.rendered&&!c.destroying&&!c.destroyed&&a&&d&&(b=null==b||b,b?(a.dom.setAttribute("tabIndex",c.activeChildTabIndex),d.dom.setAttribute("tabIndex",c.activeChildTabIndex)):(a.dom.removeAttribute("tabIndex"),d.dom.removeAttribute("tabIndex")))},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(a){return a.preventDefault(),this.moveChildFocus(a,!1)},onFocusableContainerDownKey:function(a){return a.preventDefault(),this.moveChildFocus(a,!0)},onFocusableContainerLeftKey:function(a){return a.preventDefault(),this.moveChildFocus(a,!1)},onFocusableContainerRightKey:function(a){return a.preventDefault(),this.moveChildFocus(a,!0)},getFocusableFromEvent:function(a){return Ext.Component.fromElement(a.getTarget())},moveChildFocus:function(b,a){var c=this.getFocusableFromEvent(b);return this.focusChild(c,a,b)},focusChild:function(c,a){var b=this.findNextFocusableChild({child:c,step:a});return b&&b.focus(),b},findNextFocusableChild:function(l){var g,j,a,b,h,d,e,c,k=l.beforeRender;for(g=l.items||this.getFocusables(),b=null!=l.step?l.step:1,a=l.child,c=!!this.allowFocusingDisabledChildren,h=Ext.Array.indexOf(g,a),b=!0===b?1:!1===b?-1:b,e=g.length,d=b>0?h<e?h+b:0:h>0?h+b:e-1;;d+=b){if(h<0&&(d>=e||d<0))return null;if(d>=e)d=-1;else if(d<0)d=e;else{if(d===h)return null;if((j=g[d])&&j.focusable&&(!j.disabled||c)&&(k||j.isFocusable&&j.isFocusable()))return j}}return null},isFocusableContainerActive:function(){var g,a,e=this,d=!1,b=e.tabGuardBeforeEl,c=e.focusableContainerEl;return b&&b.isTabbable&&b.isTabbable()?d=!0:c.isTabbable&&c.isTabbable()?d=!0:(g=e.lastFocusedChild,(a=g&&g.getFocusEl&&g.getFocusEl())&&a.isTabbable&&a.isTabbable()&&(d=!0)),d},onFocusEnter:function(c){var d,a=this,b=c.toComponent;return!a.enableFocusableContainer||a.destroying||a.destroyed?null:(b===a?(d=a.initDefaultFocusable())&&(d.focus(),a.activateFocusableContainer(!1)):a.activateFocusableContainer(!1),b)},onFocusLeave:function(c){var b=this,a=b.lastFocusedChild;!b.enableFocusableContainer||b.destroying||b.destroyed||(b.clearFocusables(),a&&!a.disabled?b.activateFocusable(a):b.activateFocusableContainer(!0))},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(b){var a=this;!a.enableFocusableContainer||a.destroying||a.destroyed||(a.clearFocusables(),a.activateFocusable(b),b.needArrowKeys&&a.guardFocusableChild(b))},guardFocusableChild:function(d){var b,c=this,a=c.activeChildTabIndex;b=c.findNextFocusableChild({child:d,step:-1}),b&&b.setTabIndex(a),(b=c.findNextFocusableChild({child:d,step:1}))&&b.setTabIndex(a)},afterFocusableChildFocus:function(b){var a=this;!a.enableFocusableContainer||a.destroying||a.destroyed||(a.lastFocusedChild=b)},onFocusableChildAdd:function(a){if(this.enableFocusableContainer)return this.doFocusableChildAdd(a)},doFocusableChildAdd:function(b){var a=this;b.focusable&&(b.focusableContainer=a,a.$initingItems||a.isFocusableContainerActive()||a.activateFocusableContainer(!0))},onFocusableChildRemove:function(a){if(this.enableFocusableContainer)return this.doFocusableChildRemove(a);a.focusableContainer=null},doFocusableChildRemove:function(b){var a=this;b===a.lastFocusedChild&&(a.lastFocusedChild=null,a.activateFocusableContainer(!0)),(b=a.findNextFocusableChild({step:1,beforeRender:!0}))||a.activateFocusableContainer(!1)},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(b){var a=this;!a.enableFocusableContainer||a.destroying||a.destroyed||b!==a.lastFocusedChild&&(a.deactivateFocusable(b),a.isFocusableContainerActive()||a.activateFocusableContainer(!0))},beforeFocusableChildDisable:function(c){var a,b=this;!b.enableFocusableContainer||b.destroying||b.destroyed||c.hasFocus&&(a=b.findNextFocusableChild({child:c})||c.findFocusTarget())&&a.focus()},onFocusableChildDisable:function(d){var c=this,a=c.lastFocusedChild;!c.enableFocusableContainer||c.destroying||c.destroyed||(d===a&&c.activateFocusableContainer(!0),c.findNextFocusableChild({step:1})||c.activateFocusableContainer(!1))},beforeFocusableChildHide:function(a){return this.beforeFocusableChildDisable(a)},onFocusableChildHide:function(a){return this.onFocusableChildDisable(a)},beforeFocusableChildShow:function(a){return this.beforeFocusableChildEnable(a)},onFocusableChildShow:function(a){return this.onFocusableChildEnable(a)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0),Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(b,a){return"object"!=typeof b&&(b={text:b}),Ext.merge(a?Ext.Object.chain(a):{},b)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var d=this,c=d.items,b=d.itemPosition,a=[d.headerCls];d.tools=d.tools||[],d.items=c=c?c.slice():[],void 0!==b&&(d._userItems=c.slice(),d.items=c=[]),d.indicateDragCls=d.headerCls+"-draggable",d.indicateDrag&&a.push(d.indicateDragCls),d.addCls(a),d.syncNoBorderCls(),Ext.Array.push(c,d.tools),d.tools.length=0,Ext.panel.Bar.prototype.initComponent.call(this),d.on({dblclick:d.onDblClick,click:d.onClick,element:"el",scope:d})},addTool:function(a){var b=this;b.add(Ext.ComponentManager.create(a,"tool")),b.checkFocusableTools()},afterLayout:function(){var e,a,c,d,b=this;b.vertical&&(a=b.frameTR)&&(e=b.frameBR,c=b.frameTL,d=b.getWidth()-a.getPadding("r")-(c?c.getPadding("l"):b.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",d),a.setStyle("background-position-x",d)),Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(e,c){var a,b,d=this;return e=e||"",a=Ext.isString(e),Ext.isObject(e)||(e={text:e.toString()}),c?(Ext.suspendLayouts(),c.setConfig(e),Ext.resumeLayouts(!0),e=c):(a&&(e.xtype="title"),e.ui=d.ui,b="rotation"in e,e.id=d.id+"-title",d.isAccordionHeader&&(e.ariaRole="tab",e.textElRole=null,e.focusable=!0),e=Ext.create(e),!b&&d.vertical&&"default"===d.titleRotation&&(e.rotation=1)),e},applyTitlePosition:function(b){var a=this.items.getCount();return this._titleInItems&&--a,Math.max(Math.min(b,a),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this),this.syncBeforeAfterTitleClasses()},beforeRender:function(){var b=this,a=b.itemPosition;b.protoEl.unselectable(),Ext.panel.Bar.prototype.beforeRender.call(this),void 0!==a&&b.insert(a,b._userItems),b.checkFocusableTools()},checkFocusableTools:function(){var e,b,a,c=this,d=c.tools;if(c.isAccordionHeader)return void(c.enableFocusableContainer=!1);for(b=0,a=d.length;b<a;b++)if(d[b].focusable){e=!0;break}e?c.initialConfig.hasOwnProperty("enableFocusableContainer")&&!c.enableFocusableContainer||(c.ariaRole="toolbar",c.enableFocusableContainer=!0,c.rendered&&(c.ariaEl.dom.setAttribute("role","toolbar"),c.initFocusableContainer(!0))):(c.ariaRole="presentation",c.enableFocusableContainer=!1,c.rendered&&(c.ariaEl.dom.setAttribute("role","presentation"),c.initFocusableContainer(!0)))},getTools:function(){return this.tools.slice()},onAdd:function(b,a){var c=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,b,a),b.isTool&&(c.push(b),c[b.type]=b)},onAdded:function(b,c,a){this.syncNoBorderCls(),Ext.panel.Bar.prototype.onAdded.call(this,b,c,a)},onRemoved:function(b,c,a){this.syncNoBorderCls(),Ext.panel.Bar.prototype.onRemoved.call(this,b,c,a)},setDock:function(c){var b=this,e=b.getTitle(),a=b.getTitleRotation(),d=e.getRotation();Ext.suspendLayouts(),Ext.panel.Bar.prototype.setDock.call(this,c),"default"===a&&(a=b.vertical?1:0,a!==d&&e.setRotation(a),b.rendered&&b.resetItemMargins()),Ext.resumeLayouts(!0)},updateGlyph:function(a){this.getTitle().setGlyph(a)},updateIcon:function(a){this.getTitle().setIcon(a)},updateIconAlign:function(b,a){this.getTitle().setIconAlign(b)},updateIconCls:function(a){this.getTitle().setIconCls(a)},updateTitle:function(b,a){a||(this.insert(this.getTitlePosition(),b),this._titleInItems=!0),this.titleCmp=b},updateTitleAlign:function(b,a){this.getTitle().setTextAlign(b)},updateTitlePosition:function(a){this.insert(a,this.getTitle())},updateTitleRotation:function(a){"default"===a&&(a=this.vertical?1:0),this.getTitle().setRotation(a)},privates:{fireClickEvent:function(a,c){var b="."+Ext.panel.Tool.prototype.baseCls;c.getTarget(b)||this.fireEvent(a,this,c)},getFramingInfoCls:function(){var c=this,b=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),a=c.ownerCt;return!c.expanding&&a&&(a.collapsed||c.isCollapsedExpander)&&(b+="-"+a.collapsedCls),b+"-"+c.dock},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},syncBeforeAfterTitleClasses:function(c){var n,e,d,m,k=this,j=k.items,g=j.items,b=k.getTitlePosition(),a=g.length,h=j.generation,l=k.syncBeforeAfterGen;if(c||l!==h)for(k.syncBeforeAfterGen=h,d=0;d<a;++d)m=g[d],n=m.afterTitleCls||(m.afterTitleCls=m.baseCls+"-after-title"),e=m.beforeTitleCls||(m.beforeTitleCls=m.baseCls+"-before-title"),!k.title||d<b?(l&&m.removeCls(n),m.addCls(e)):d>b&&(l&&m.removeCls(e),m.addCls(n))},syncNoBorderCls:function(){var b=this,a=this.ownerCt,c=b.headerCls+"-noborder";(a?!1!==a.border||a.frame:!1!==b.border)?b.removeCls(c):b.addCls(c)}}},0,["header"],["component","box","container","header"],{component:!0,box:!0,container:!0,header:!0},["widget.header"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.panel,"Header"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(a){this.initConfig(a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(b){var d,a=this,c=b.state.boxPlan;c&&c.tooNarrow?(d=a.handleOverflow(b))&&d.reservedSpace&&a.layout.publishInnerCtSize(b,d.reservedSpace):a.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(d){var b,e,c=this,a=c.layout.owner;a.hasListeners.overflowchange&&(b=a.query(">[hidden]"),(e=b.length)!==c.lastHiddenCount&&(a.fireEvent("overflowchange",c.lastHiddenCount,e,b),c.lastHiddenCount=e))},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){return a.isToolbar?"toolbar":a.isTabBar?"tab-bar":a.isMenu?"menu":a.isBreadcrumb?"breadcrumb":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var b=this,a=b.layout,c=a.innerCt;c.removeCls(b.getOverflowCls(a.oppositeDirection)),c.addCls(b.getOverflowCls(a.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.scrollPosition=0,b.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var h=this,g=h.layout,b=g.owner,d=h.getOwnerType(b),a=h.scrollerCls,c=a+" "+a+"-"+g.names[e]+" "+a+"-"+d+" "+a+"-"+d+"-"+b.ui;return b.plain&&(c+=" "+a+"-plain"),c},getOverflowCls:function(a){return this.scrollerCls+"-body-"+a},beginLayout:function(a){a.innerCtScrollPos=this.getScrollPosition(),Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(d){var a,c=this,g=d.state.boxPlan,b=c.layout,e=b.names,h=Math.min(c.getMaxScrollPosition(),d.innerCtScrollPos);g&&g.tooNarrow&&(a=d.childItems[d.childItems.length-1].props,c.scrollSize=a[e.x]+a[e.width],c.updateScrollButtons(),b.innerCt[e.setScrollLeft](h)),Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,d)},handleOverflow:function(b){var c,e,d,a,h=this,g=h.layout.names,i=g.getWidth,j=g.parallelMargins;return h.showScrollers(),d=h.getBeforeScroller(),a=h.getAfterScroller(),c=d[i]()+a[i]()+d.getMargin(j)+a.getMargin(j),e=b.targetContext.getPaddingInfo()[g.width],{reservedSpace:Math.max(c-e,0)}},getBeforeScroller:function(){var a=this;return a._beforeScroller||(a._beforeScroller=a.createScroller(a.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var a=this;return a._afterScroller||(a._afterScroller=a.createScroller(a.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(g,d,h){var a,e=this,c=e.layout.owner,b=e.scrollerCls;return a=c.el.getById(c.id+g),a.addClsOnOver(b+"-hover"),a.addClsOnClick(b+"-pressed"),a.setVisibilityMode(Ext.Element.DISPLAY),e[d]=new Ext.util.ClickRepeater(a,{interval:e.scrollRepeatInterval,handler:h,scope:e}),a},createWheelListener:function(){var a=this;a.wheelListener=a.layout.innerCt.on("mousewheel",a.onMouseWheel,a,{destroyable:!0})},onMouseWheel:function(a){a.stopEvent(),this.scrollBy(this.getWheelDelta(a)*this.wheelIncrement*-1,!1)},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.wheelListener||a.createWheelListener(),a.getBeforeScroller().show(),a.getAfterScroller().show(),a.layout.owner.addClsWithUI("vertical"===a.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var b=this,c=b.getBeforeScroller(),a=b.getAfterScroller();c&&(c.hide(),a.hide(),b.layout.owner.removeClsWithUI("vertical"===b.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener"),this.callParent()},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var c,b=this,d=b.getBeforeScroller(),a=b.getAfterScroller();d&&a&&(c=b.scrollerCls+"-disabled",d[b.atExtremeBefore()?"addCls":"removeCls"](c),a[b.atExtremeAfter()?"addCls":"removeCls"](c),b.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var c=this,b=c.layout;return isNaN(c.scrollPosition)?b.innerCt[b.names.getScrollLeft]():c.scrollPosition},getMaxScrollPosition:function(){var b=this,a=b.layout,c=b.scrollSize-a.innerCt.lastBox[a.names.width];return c<0?0:c},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var c=this,d=c.getBeforeScroller(),b=c.getAfterScroller(),e=c.layout.names,a=c.scrollerCls;d.removeCls(a+"-"+e.beforeY),b.removeCls(a+"-"+e.afterY),d.addCls(a+"-"+e.beforeX),b.addCls(a+"-"+e.afterX),Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(a,b){var g=this,e=g.layout,h=e.names,d=g.getScrollPosition(),c=Ext.Number.constrain(a,0,g.getMaxScrollPosition());c===d||g.scrolling||(g.scrollPosition=NaN,void 0===b&&(b=g.animateScroll),e.innerCt[h.scrollTo](h.beforeScrollX,c,!!b&&g.getScrollAnim()),b?g.scrolling=!0:g.updateScrollButtons(),g.fireEvent("scroll",g,c,!!b&&g.getScrollAnim()))},scrollToItem:function(k,c){var a,e,h,j=this,g=j.layout,d=g.owner,i=g.names,b=g.innerCt;void 0!==(k=j.getItem(k))&&(k===d.items.first()?h=0:k===d.items.last()?h=j.getMaxScrollPosition():(a=j.getItemVisibility(k),a.fullyVisible||(e=k.getBox(!1,!0),h=e[i.x],a.hiddenEnd&&(h-=b[i.getWidth]()-e[i.width]))),void 0!==h&&j.scrollTo(h,c))},getItemVisibility:function(j){var h=this,b=h.getItem(j).getBox(!0,!0),c=h.layout,g=c.names,e=b[g.x],d=e+b[g.width],a=h.getScrollPosition(),i=a+c.innerCt[g.getWidth]();return{hiddenStart:e<a,hiddenEnd:d>i,fullyVisible:e>=a&&d<=i}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0),Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!1,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:"x-dd-drag-current",currentPoint:new Ext.util.Point,_execOnAll:function(c,b){var d,a,h,g,e=this.ids;for(d in e)if(e.hasOwnProperty(d)){g=e[d];for(a in g)if(g.hasOwnProperty(a)){if(h=g[a],!this.isTypeOfDD(h))continue;h[c].apply(h,b)}}},addListeners:function(){var a=this;a.init(),Ext.getWin().on({unload:a._onUnload,resize:a._onResize,scope:a})},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){this.initialized||this.init(),this.ids[a]||(this.ids[a]={}),this.ids[a][b.id]=b},removeDDFromGroup:function(c,a){this.ids[a]||(this.ids[a]={})
;var b=this.ids[a];b&&b[c.id]&&delete b[c.id]},_remove:function(h,b){var d,e=this,c=e.ids,a=h.groups;if(!e.clearingAll){e.dragCurrent===h&&(e.dragCurrent=null);for(d in a)a.hasOwnProperty(d)&&(b?delete c[d]:c[d]&&delete c[d][h.id]);delete e.handleIds[h.id],delete e.locationCache[h.id]}},regHandle:function(b,a){this.handleIds[b]||(this.handleIds[b]={}),this.handleIds[b][a]=a},isDragDrop:function(a){return!!this.getDDById(a)},getRelated:function(g,b){var d,c,a,e=[];for(d in g.groups)for(c in this.ids[d])a=this.ids[d][c],this.isTypeOfDD(a)&&(b&&!a.isTarget||(e[e.length]=a));return e},isLegalTarget:function(e,d){var c,a,b=this.getRelated(e,!0);for(c=0,a=b.length;c<a;++c)if(b[c].id===d.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(b,a){return this.handleIds[b]&&this.handleIds[b][a]},getDDById:function(d,c){var b,a;for(b in this.ids)if((a=this.ids[b][d])instanceof Ext.dd.DDTarget||c)return a;return null},handleMouseDown:function(d,c){var g=this,k=d.getXY(),a=c.getEl(),i={translate:!1,fn:g.handleMouseUp,capture:!1,priority:-1e3},b={translate:!1,fn:g.handleMouseMove,capture:!1},h={capture:!0,destroyable:!0,scope:g},j=Ext.supports;h.touchstart=g.handleMouseUp,j.PointerEvents?(h.pointerup=i,h.pointermove=b):j.MSPointerEvents?(h.mouseup=i,h.mousemove=b):"mouse"===d.pointerType?(h.mouseup=i,h.mousemove=b):(h.touchend=i,h.touchmove=b),g.pointerMoveListeners=Ext.getDoc().on(h),g.isMouseDown=!0,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),g.currentPoint.setPosition(k),g.dragCurrent&&g.handleMouseUp(d),g.mousedownEvent=d,g.currentTarget=d.getTarget(),g.dragCurrent=c,Ext.fly(a).setCapture(),g.startX=k[0],g.startY=k[1],g.offsetX=g.offsetY=0,g.deltaX=g.startX-a.offsetLeft,g.deltaY=g.startY-a.offsetTop,g.dragThreshMet=!1},startDrag:function(b,e){var a,c=this,d=c.dragCurrent;clearTimeout(c.clickTimeout),d&&(d.b4StartDrag(b,e),d.startDrag(b,e),(a=Ext.fly(d.getDragEl()))&&(a.addCls(c.dragCls),a.shim&&a.shim.el&&a.shim.el.addCls(c.dragCls))),c.dragThreshMet=!0},handleMouseUp:function(b){var a=this;a.pointerMoveListeners.destroy(),a.isMouseDown=!1,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),a.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(a.clickTimeout),a.dragThreshMet&&a.fireEvents(b,!0),a.stopDrag(b),a.dragThreshMet&&a.stopEvent(b),a.mousedownEvent=a.currentTarget=null)},stopEvent:function(a){this.stopPropagation&&a.stopPropagation(),this.preventDefault&&"touch"===a.pointerType&&a.preventDefault()},stopDrag:function(d){var a,b=this,c=b.dragCurrent;c&&(b.dragThreshMet&&(a=Ext.fly(c.getDragEl()),a&&(a.removeCls(b.dragCls),a.shim&&a.shim.el&&a.shim.el.removeCls(b.dragCls)),c.b4EndDrag(d),c.endDrag(d)),b.dragCurrent.onMouseUp(d)),b.dragCurrent=null,b.dragOvers={}},handleMouseMove:function(j){var g,c,h=this,i=h.dragCurrent,a=j.getXY(),d=a[0],b=a[1];return h.offsetX=d-h.startX,h.offsetY=b-h.startY,h.currentPoint.setPosition(a),!i||(h.dragThreshMet||(g=Math.abs(h.offsetX),c=Math.abs(h.offsetY),(g>h.clickPixelThresh||c>h.clickPixelThresh)&&(j.claimGesture(),h.startDrag(h.startX,h.startY))),h.dragThreshMet&&(i.b4Drag(j),i.onDrag(j),i.moveOnly||h.fireEvents(j,!1)),h.stopEvent(j),!0)},fireEvents:function(u,m){var c,d,l,b,q,r,p,j,w=this,n=Ext.supports.Touch,g=w.dragCurrent,s=w.currentPoint,o=[],h=[],k=[],a=[],v=[],t=[];if(g&&!g.isLocked()){j=!(g.deltaX<0||g.deltaY<0),(n||!w.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&j)&&(c=g.getDragEl(),j&&(c.style.visibility="hidden"),u=u.chain({target:w.elementFromPoint(u.clientX,u.clientY)||document.documentElement}),j&&(c.style.visibility="visible"));for(q in w.dragOvers)d=w.dragOvers[q],delete w.dragOvers[q],w.isTypeOfDD(d)&&!d.destroyed&&(m?k.push(d):w.notifyOccluded?this.isOverTarget(s,d,w.mode)||k.push(d):u.within(d.getEl())||k.push(d),h[q]=!0);for(p in g.groups)if("string"==typeof p)for(q in w.ids[p])if(d=w.ids[p][q],w.isTypeOfDD(d)&&(l=d.getEl())&&d.isTarget&&!d.isLocked()&&Ext.fly(l).isVisible(!0)&&(d!==g||!1===g.ignoreSelf))if(w.notifyOccluded)-1!==(d.zIndex=w.getZIndex(l))&&(b=!0),o.push(d);else if(u.within(d.getEl())){o.push(d);break}for(b&&Ext.Array.sort(o,w.byZIndex),q=0,r=o.length;q<r&&(d=o[q],!w.isOverTarget(s,d,w.mode)||(m?v.push(d):(h[d.id]?a.push(d):t.push(d),w.dragOvers[d.id]=d),w.notifyOccluded));q++);if(w.mode)t.length&&g.onDragEnter(u,t),a.length&&(g.b4DragOver(u,a),g.onDragOver(u,a)),v.length&&(g.b4DragDrop(u,v),g.onDragDrop(u,v)),k.length&&(g.b4DragOut(u,k),g.onDragOut(u,k));else{for(q=0,r=t.length;q<r;++q)g.onDragEnter(u,t[q].id);for(q=0,r=a.length;q<r;++q)g.b4DragOver(u,a[q].id),g.onDragOver(u,a[q].id);for(q=0,r=v.length;q<r;++q)g.b4DragDrop(u,v[q].id),g.onDragDrop(u,v[q].id);for(q=0,r=k.length;q<r;++q)g.b4DragOut(u,k[q].id),g.onDragOut(u,k[q].id)}m&&!v.length&&g.onInvalidDrop(u)}},elementFromPoint:function(a,b){return Ext.rootInheritedState.rtl&&(a=Ext.Element.getViewportWidth()-a),Ext.Element.fromPoint(a,b,!0)},getZIndex:function(b){var c,a=document.body,d=-1;for(b=Ext.getDom(b);b!==a;)isNaN(c=Number(Ext.fly(b).getStyle("zIndex")))||(d=c),b=b.parentNode;return d},byZIndex:function(b,a){return b.zIndex<a.zIndex},getBestMatch:function(c){var d,a,e=null,b=c.length;if(1===b)e=c[0];else for(d=0;d<b;++d){if(a=c[d],a.cursorIsOver){e=a;break}(!e||e.overlap.getArea()<a.overlap.getArea())&&(e=a)}return e},refreshCache:function(b){var a,c,d,e;for(a in b)if("string"==typeof a)for(c in this.ids[a])d=this.ids[a][c],this.isTypeOfDD(d)&&(e=this.getLocation(d),e?this.locationCache[d.id]=e:delete this.locationCache[d.id])},verifyEl:function(a){return Ext.getBody().contains(a)},getLocation:function(i){if(!this.isTypeOfDD(i))return null;if(i.getRegion)return i.getRegion();var m,d,c,o,n,p,a,k,h,g=i.getEl();try{m=Ext.fly(g).getXY()}catch(j){}return m?(d=m[0],c=d+g.offsetWidth,o=m[1],n=o+g.offsetHeight,p=o-i.padding[0],a=c+i.padding[1],k=n+i.padding[2],h=d-i.padding[3],new Ext.util.Region(p,a,k,h)):null},isOverTarget:function(j,a,c){var i,g,b,d,h,e=this.locationCache[a.id];return e&&this.useCache||(e=this.getLocation(a),this.locationCache[a.id]=e),!!e&&(a.cursorIsOver=e.contains(j),(i=this.dragCurrent)&&i.getTargetCoord&&(c||i.constrainX||i.constrainY)?(a.overlap=null,g=i.getTargetCoord(j.x,j.y),b=i.getDragEl(),d=new Ext.util.Region(g.y,g.x+b.offsetWidth,g.y+b.offsetHeight,g.x),!!(h=d.intersect(e))&&(a.overlap=h,!!c||a.cursorIsOver)):a.cursorIsOver)},_onUnload:function(b,a){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var b,c=this,a=c.elementCache;c.dragCurrent&&(c.stopDrag(),c.dragCurrent=null),c.clearingAll=!0,c._execOnAll("unreg",[]),delete c.clearingAll;for(b in a)delete a[b];c.elementCache={},c.ids={},c.handleIds={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];return a&&a.el||(a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))),a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return a?a.style:null},ElementWrapper:function(a){this.el=a||null,this.id=this.el&&a.id,this.css=this.el&&a.style},getPosX:function(a){return Ext.fly(a).getX()},getPosY:function(a){return Ext.fly(a).getY()},swapNode:function(c,a){if(c.swapNode)c.swapNode(a);else{var d=a.parentNode,b=a.nextSibling;b===c?d.insertBefore(c,a):a===c.nextSibling?d.insertBefore(a,c):(c.parentNode.replaceChild(a,c),d.insertBefore(c,b))}},getScroll:function(){var d=window.document,e=d.documentElement,a=d.body,c=0,b=0;return e&&(e.scrollTop||e.scrollLeft)?(c=e.scrollTop,b=e.scrollLeft):a&&(c=a.scrollTop,b=a.scrollLeft),{top:c,left:b}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,c){var b=Ext.fly(c).getXY();Ext.fly(a).setXY(b)},numericSort:function(d,c){return d-c},handleWasClicked:function(a,c){if(this.isHandle(c,a.id))return!0;for(var b=a.parentNode;b;){if(this.isHandle(c,b.id))return!0;b=b.parentNode}return!1}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(a){Ext.onInternalReady(function(){a.addListeners()})}),Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:!0,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,touchAction:void 0,size:5,tracker:null,ariaRole:"separator",focusable:!0,tabIndex:0,applyTouchAction:function(a,b){return void 0===a&&(a=this.vertical?{panX:!1}:{panY:!1}),Ext.Component.prototype.applyTouchAction.call(this,a,b)},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var c=this,d=c.getCollapseTarget(),b=c.collapsible;Ext.Component.prototype.beforeRender.call(this),d.collapsed&&c.addCls(c.collapsedClsInternal),c.canResize||c.addCls(c.baseCls+"-noresize"),Ext.applyIf(c.renderData,{collapseDir:c.getCollapseDirection(),collapsible:null!==b?b:d.collapsible}),c.ariaRenderAttributes=c.ariaRenderAttributes||{},c.ariaRenderAttributes["aria-orientation"]=c.orientation,c.protoEl.unselectable()},onRender:function(){var c,a,b=this;Ext.Component.prototype.onRender.apply(this,arguments),!1!==b.performCollapse&&(b.renderData.collapsible&&b.mon(b.collapseEl,"click",b.toggleTargetCmp,b),b.collapseOnDblClick&&b.mon(b.el,"dblclick",b.toggleTargetCmp,b)),c=b.getCollapseTarget(),c&&c.isPanel&&c.on({collapse:b.onTargetCollapse,expand:b.onTargetExpand,beforeexpand:b.onBeforeTargetExpand,beforecollapse:b.onBeforeTargetCollapse,scope:b}),b.canResize&&(b.tracker=Ext.create(b.getTrackerConfig()),b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])),(a=b.collapseEl)&&(a.lastCollapseDirCls=b.collapseDirProps[b.collapseDirection].cls)},getCollapseDirection:function(){var e,a,b,d,g=this,c=g.collapseDirection;return c||(e=g.collapseTarget,e.isComponent&&(c=e.collapseDirection),c||(d=g.ownerCt.layout.type,e.isComponent?(b=g.ownerCt.items,a=Number(b.indexOf(e)===b.indexOf(g)-1)<<1|Number("hbox"===d)):a=Number("prev"===g.collapseTarget)<<1|Number("hbox"===d),c=["bottom","right","top","left"][a]),g.collapseDirection=c),g.setOrientation("top"===c||"bottom"===c?"horizontal":"vertical"),c},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:"prev"===a.collapseTarget?a.previousSibling():a.nextSibling()},setCollapseEl:function(b){var a=this.collapseEl;a&&a.setDisplayed(b)},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(b){var a=this;b===a.getCollapseTarget()&&b["vertical"===a.orientation?"collapsedHorizontal":"collapsedVertical"]()&&a.el.addCls(a.collapsedClsInternal+" "+(a.collapsedCls||"")),a.setCollapseEl("")},onTargetExpand:function(b){var a=this;a.el.removeCls(a.collapsedClsInternal+" "+(a.collapsedCls||"")),a.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a,c=this,b=c.collapseEl,d=c.collapseDirProps[c.collapseDirection];b&&(a=b.lastCollapseDirCls,a&&b.removeCls(a),b.addCls(b.lastCollapseDirCls=d.cls))},applyOrientation:function(){var e=this,c=e.orientation,d=e.orientationProps[c],g=e.size,b=d.fixedAxis,h=d.stretchedAxis,a=e.baseCls+"-";e[c]=!0,e[d.opposite]=!1,e.hasOwnProperty(b)&&"100%"!==e[b]||(e[b]=g),e.hasOwnProperty(h)&&e[h]!==g||(e[h]="100%"),e.removeCls(a+d.opposite),e.addCls(a+c)},setOrientation:function(a){var b=this;b.orientation!==a&&(b.orientation=a,b.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(d,b){var c=this.getCollapseTarget(),g=c.placeholder;Ext.isFunction(c.expand)&&Ext.isFunction(c.collapse)&&(!(!g||g.hidden)||!c.hidden)&&(c.collapsed||c.floatedFromCollapse?c.expand():c.collapseDirection?c.collapse():c.collapse(this.renderData.collapseDir))},setSize:function(){var a=this;Ext.Component.prototype.setSize.apply(this,arguments),Ext.isIE&&a.el&&a.el.repaint()},doDestroy:function(){Ext.destroy(this.tracker),Ext.Component.prototype.doDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:!0,box:!0,splitter:!0},["widget.splitter"],0,[Ext.resizer,"Splitter"],0),Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(b,a){return"string"==typeof b&&(b={type:b}),Ext.merge(a?Ext.Object.chain(a):{},b)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b,c=this;Ext.layout.container.Container.prototype.constructor.call(this,a),c.setVertical(c.vertical),c.flexSortFn=c.flexSort.bind(c),"string"!=(b=typeof c.padding)&&"number"!==b||(c.padding=Ext.util.Format.parseBox(c.padding),c.padding.height=c.padding.top+c.padding.bottom,c.padding.width=c.padding.left+c.padding.right)},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(q,r){var l=this,j=l.sizePolicy,h=l.align,g=q.flex,o=h,k=l.names,i=k.height,n=k.width,b=q[n],p=q[i],d=l._percentageRe,c=d.test(b),e="stretch"===h,a="stretchmax"===h,m=l.constrainAlign;return!r&&(e||g||c||m&&!a)&&(r=l.owner.getSizeModel()),e?!d.test(p)&&r[i].shrinkWrap&&(o="stretchmax"):a||(o=d.test(p)?"stretch":m&&!r[i].shrinkWrap?"stretchmax":""),(g||c)&&(r[n].shrinkWrap||(j=j.flex)),j[o]},flexSort:function(o,n){var c,p,j,d,q,g,l=this.names.maxWidth,e=this.names.minWidth,k=o.target,r=n.target,i=k.flex,h=r.flex,s=0;return j=k[l]||1/0,d=r[l]||1/0,c=k[e]||0,p=r[e]||0,q=isFinite(c)||isFinite(p),g=isFinite(j)||isFinite(d),(q||g)&&(g&&(s=j-d),0===s&&q&&(s=p-c),0===s&&(s=g?h-i:i-h)),s},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},roundFlex:function(a){return Math.floor(a)},beginCollapse:function(b){var a=this;"vertical"===a.direction&&b.collapsedVertical()?(b.collapseMemento.capture(["flex"]),delete b.flex):"horizontal"===a.direction&&b.collapsedHorizontal()&&(b.collapseMemento.capture(["flex"]),delete b.flex)},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(e){var d=this,a=d.owner,h=a.stretchMaxPartner,c=d.innerCt.dom.style,g=d.names,b=d.overflowHandler;e.boxNames=g,b&&b.beginLayout(e),"string"==typeof h&&(h=Ext.getCmp(h)||a.query(h)[0]),e.stretchMaxPartner=h&&e.context.getCmp(h),Ext.layout.container.Container.prototype.beginLayout.call(this,e),e.innerCtContext=e.getEl("innerCt",d),e.targetElContext=e.getEl("targetEl",d),e.ownerScrollable=a.getScrollable(),c.width=c.height=""},beginLayoutCycle:function(d,n){var h,g,k=this,a=d.state,l=d.ownerScrollable,i=k.align,j=d.boxNames,m=k.pack,c=k._centerRe,e=k.overflowHandler,b=d.state.canScroll;e&&e.beginLayoutCycle(d,n),Ext.layout.container.Container.prototype.beginLayoutCycle.call(this,d,n),d.parallelSizeModel=h=d[j.widthModel],d.perpendicularSizeModel=g=d[j.heightModel],d.boxOptions={align:i={stretch:"stretch"===i,stretchmax:"stretchmax"===i,center:c.test(i),bottom:k._endRe.test(i)},pack:m={center:c.test(m),end:"end"===m}},l&&(b||(a.canScroll={parallel:!h.shrinkWrap&&l[j.getX](),perpendicular:!g.shrinkWrap&&l[j.getY]()}),a.actualScroll||(a.actualScroll={parallel:!1,perpendicular:!1})),i.stretch&&g.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),h.shrinkWrap&&(m.center=m.end=!1),k.cacheFlexes(d),k.targetEl.setWidth(2e4)},cacheFlexes:function(m){for(var g,q,u,k,d,e,r,p,B=this,n=m.boxNames,a=n.widthModel,h=n.heightModel,c=m.boxOptions.align.nostretch,t=0,b=m.childItems,v=b.length,z=[],o=0,w=0,s=0,l=n.minWidth,y=n.minHeight,j=B._percentageRe,x=0,A=0;v--;)q=b[v],g=q.target,e=q[a],e.calculated&&(q.flex=u=g.flex,u?(t+=u,z.push(q),o+=g[l]||0):(k=j.exec(g[n.width]))&&(q.percentageParallel=parseFloat(k[1])/100,++x)),r=e.configured?g[n.width]:g[l]||0,s+=r,d=q[h],c&&d.calculated&&(k=j.exec(g[n.height]),q.percentagePerpendicular=parseFloat(k[1])/100,++A),(p=d.configured?g[n.height]:g[y]||0)>w&&(w=p);m.flexedItems=z,m.flexedMinWidth=o,m.smallestWidth=s,m.smallestHeight=w,m.totalFlex=t,m.percentageWidths=x,m.percentageHeights=A,Ext.Array.sort(z,B.flexSortFn)},calculate:function(c){var h=this,g=c.boxNames,a=c.state,e=a.actualScroll,j=a.needsScroll,b=a.canScroll,i=a.boxPlan||(a.boxPlan={}),d=h.overflowHandler;if(i.targetSize=h.getContainerSize(c),b&&!j&&(a.needsScroll=j={parallel:b.parallel&&i.targetSize[g.width]<c.smallestWidth,perpendicular:b.perpendicular&&i.targetSize[g.height]<c.smallestHeight}),a.parallelDone||(a.parallelDone=h.calculateParallel(c,g,i)),a.perpendicularDone||(a.perpendicularDone=h.calculatePerpendicular(c,g,i)),a.parallelDone&&a.perpendicularDone){if(b&&!a.scrollPass&&(j.parallel!==e.parallel||j.perpendicular!==e.perpendicular))return c.invalidate({state:{scrollPass:!0,canScroll:b,needsScroll:e}}),void(h.done=!1);h.publishInnerCtSize(c),h.done&&c.boxOptions.align.stretchmax&&!a.stretchMaxDone&&(h.calculateStretchMax(c,g,i),a.stretchMaxDone=!0),d&&d.calculate(c)}else h.done=!1},calculateParallel:function(x,L,C){var J,y,g,m,n,k,c,K,E,v,d,r=this,o=x.parallelSizeModel.shrinkWrap,D=L.width,h=x.childItems,t=L.beforeX,H=L.afterX,l=L.setWidth,A=h.length,w=x.flexedItems,G=w.length,q=x.boxOptions.pack,I=r.padding,b=C.targetSize,p=b[D],M=x.state,z=M.needsScroll,s=M.canScroll,B=0,j=I[t],F=j+I[H],u=Ext.getScrollbarSize(),e=u[L.width],a=u[L.height];if(!o&&!b[L.gotWidth])return!1;for(J=0;J<A;++J)if(n=h[J],y=n.marginInfo||n.getMarginInfo(),B+=y[D],!n[L.widthModel].calculated&&(E=n.getProp(D),F+=E,isNaN(F)))return!1;if(F+=B,x.percentageWidths){if(v=p-B,isNaN(v))return!1;for(J=0;J<A;++J)n=h[J],n.percentageParallel&&(E=Math.ceil(v*n.percentageParallel),E=n[l](E),F+=E)}for(o?(d=0,C.tooNarrow=!1):(d=p-F,z&&z.perpendicular&&(d-=a),C.tooNarrow=d<x.flexedMinWidth,C.tooNarrow&&s&&s.parallel&&(M.actualScroll.parallel=!0)),K=F,g=d,m=x.totalFlex,J=0;J<G;J++)n=w[J],k=n.flex,c=r.roundFlex(k/m*g),c=n[l](c),K+=c,g=Math.max(0,g-c),m-=k;for(q.center?(j+=g/2)<0&&(j=0):q.end&&(j+=g),J=0;J<A;++J)n=h[J],y=n.marginInfo,j+=y[t],n.setProp(L.x,j),j+=y[H]+n.props[D];return K+=x.targetContext.getPaddingInfo()[D],x.state.contentWidth=K,z&&z.perpendicular&&(o&&(K+=e),x[L.hasOverflowY]=!0,x.target.componentLayout[L.setWidthInDom]=!0,x[L.invalidateScrollY]=Ext.isIE8),x[L.setContentWidth](K),!0},calculatePerpendicular:function(v,M,B){var z,K,E,w,y,c,r,e,N,L,g,t=this,Q=v.state,x=Q.needsScroll,u=Q.canScroll,d=v.perpendicularSizeModel.shrinkWrap,b=B.targetSize,j=v.childItems,A=j.length,m=Math.max,l=M.height,n=M.setHeight,h=M.beforeY,s=M.y,J=t.padding,k=J[h],o=b[l]-k-J[M.afterY],G=v.boxOptions.align,p=G.stretch,q=G.stretchmax,P=G.center,O=G.bottom,I=t.constrainAlign,H=0,D=0,F=t.onBeforeConstrainInvalidateChild,C=t.onAfterConstrainInvalidateChild,a=Ext.getScrollbarSize().height;if(!d&&!b[M.gotHeight])return!1;if((p||(P||O)&&!d)&&isNaN(o))return!1;if(x&&x.parallel&&(d?L=!0:(o-=a,B.targetSize[l]-=a)),p)c=o,H=m(c,v.smallestHeight);else for(K=0;K<A;K++){if(r=j[K],w=(r.marginInfo||r.getMarginInfo())[l],g=r.percentagePerpendicular){if(++D,d)continue;E=g*o-w,E=r[n](E)}else E=r.getProp(l);if(!d&&I&&r[M.heightModel].shrinkWrap&&E>o&&(r.invalidate({before:F,after:C,layout:t,childHeight:o,names:M}),v.state.parallelDone=!1),isNaN(H=m(H,E+w,r.target[M.minHeight]||0)))return!1}if(L&&(H+=a,v[M.hasOverflowX]=!0,v.target.componentLayout[M.setHeightInDom]=!0,v[M.invalidateScrollX]=Ext.isIE8),(e=v.stretchMaxPartner)&&(v.setProp("maxChildHeight",H),(N=e.childItems)&&N.length&&(H=m(H,e.getProp("maxChildHeight")),isNaN(H))))return!1;for(v[M.setContentHeight](H+t.padding[l]+v.targetContext.getPaddingInfo()[l]),L&&(H-=a),H>b[l]&&u&&u.perpendicular&&(Q.actualScroll.perpendicular=!0),B.maxSize=H,q?c=H:(P||O||D)&&(c=I?d?H:o:d?H:m(o,H),c-=v.innerCtContext.getBorderInfo()[l]),K=0;K<A;K++)r=j[K],w=r.marginInfo||r.getMarginInfo(),z=k+w[h],p?r[n](c-w[l]):(g=r.percentagePerpendicular,d&&g&&(w=r.marginInfo||r.getMarginInfo(),E=g*c-w[l],E=r[n](E)),P?(y=c-r.props[l])>0&&(z=k+Math[t.alignRoundingMethod](y/2)):O&&(z=m(0,c-z-r.props[l]))),r.setProp(s,z);return!0},onBeforeConstrainInvalidateChild:function(b,a){var c=a.names.heightModel;b[c].constrainedMin||(b[c]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(b,a){var c=a.names;b.setProp(c.beforeY,0),b[c.heightModel].calculated&&b[c.setHeight](a.childHeight)},calculateStretchMax:function(c,k,m){var q,j,d,b,l=this,h=k.height,n=k.width,g=c.childItems,a=g.length,p=m.maxSize,o=l.onBeforeStretchMaxInvalidateChild,e=l.onAfterStretchMaxInvalidateChild;for(d=0;d<a;++d)q=g[d],j=q.props,((b=p-q.getMarginInfo()[h])!==j[h]||q[k.heightModel].constrained)&&q.invalidate({before:o,after:e,layout:l,childWidth:j[n],childHeight:b,childX:j.x,childY:j.y,names:k})},onBeforeStretchMaxInvalidateChild:function(b,a){var c=a.names.heightModel;b[c].constrainedMax||(b[c]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(d,c){var e=c.names,a=c.childHeight,b=c.childWidth;d.setProp("x",c.childX),d.setProp("y",c.childY),d[e.heightModel].calculated&&d[e.setHeight](a),d[e.widthModel].calculated&&d[e.setWidth](b)},completeLayout:function(b){var e,a,g,d,k,j=this,i=b.invalidateScrollX,h=b.invalidateScrollY,c=j.overflowHandler;c&&c.completeLayout(b),(i||h)&&(a=j.getTarget(),e=a.dom,k=e.style,i&&(g=a.getStyle("overflowX"),"auto"===g?(g=k.overflowX,k.overflowX="scroll"):i=!1),h&&(d=a.getStyle("overflowY"),"auto"===d?(d=k.overflowY,k.overflowY="scroll"):h=!1),(i||h)&&(e.scrollWidth,i&&(k.overflowX=g),h&&(k.overflowY=d)))},finishedLayout:function(b){var a=this.overflowHandler;a&&a.finishedLayout(b),Ext.layout.container.Container.prototype.finishedLayout.call(this,b)},getLayoutItems:function(){var e,d,c,k,h,g,a,j=Ext.layout.container.Container.prototype.getLayoutItems.call(this),b=j.length;for(c=0;c<b;++c)(k=j[c]).isSplitter||(a=k.splitter,k.hidden?a&&(a.hidden||(a.hidden=!0,a.el&&a.el.hide())):(g=!!a&&"next"===a.collapseTarget,d=null,e&&h?(h.hidden&&(h.hidden=!1,h.el&&h.el.show()),g&&(d=!0)):g&&(d=!e),null!==d&&a.hidden!==d&&(a.hidden=d,a.el&&a.el.setVisible(!d)),h=!g&&a,e=k));return e&&h&&!h.hidden&&(h.hidden=!0,h.el&&h.el.hide()),j},insertSplitter:function(d,c,g,b){var e={xtype:"splitter",id:d.id+"-splitter",hidden:g,splitterFor:d,synthetic:!0},a=c+("prev"===b.collapseTarget?1:0);e[this.names.height]="100%",b&&Ext.apply(e,b),d.splitter=this.owner.add(a,e)},publishInnerCtSize:function(b,d){d=d||0;var c,o,j=this,a=b.state,i=b.boxNames,h=i.height,l=i.width,g=b.boxOptions.align,n=j.padding,k=a.boxPlan,e=k.targetSize,p=k.maxSize,m=a.needsScroll,q=b.innerCtContext;b.parallelSizeModel.shrinkWrap||k.tooNarrow&&a.canScroll?c=a.contentWidth-b.targetContext.getPaddingInfo()[l]:(c=e[l],m&&m.perpendicular&&(c-=Ext.getScrollbarSize()[l])),c-=d,j.owner.tooNarrow=k.tooNarrow,g.stretch?o=p:(o=k.maxSize+n[i.beforeY]+n[i.afterY]+q.getBorderInfo()[h],b.perpendicularSizeModel.shrinkWrap||!g.center&&!g.bottom||(o=Math.max(e[h],o))),q[i.setWidth](c),q[i.setHeight](o),b.targetElContext.setWidth(b.innerCtContext.props.width-(j.vertical?0:d||0)),isNaN(c+o)&&(j.done=!1)},onAdd:function(d,a){var c=this,b=c.enableSplitters&&!d.isButton&&d.split;Ext.layout.container.Container.prototype.onAdd.call(this,d,a),b&&(b=!0===b?{collapseTarget:"next"}:Ext.isString(b)?{collapseTarget:"before"===b?"next":"prev"}:Ext.apply({collapseTarget:"before"===b.side?"next":"prev"},b),c.insertSplitter(d,a,!!d.hidden,b))},onRemove:function(b,e){var d,g=this,i=g.names,a=g.owner,h=b.splitter,c=g.overflowHandler;Ext.layout.container.Container.prototype.onRemove.call(this,b,e),h&&a.contains(h)&&(a.doRemove(h,!0),b.splitter=null),c&&c.onRemove(b),b.layoutMarginCap===g.id&&delete b.layoutMarginCap,a.destroying||e||!b.rendered||(d=b.getEl())&&(d.setStyle(i.beforeY,""),d.setStyle(i.beforeX,""),d.setStyle("margin",""))},applyOverflowHandler:function(b,a){return"string"==typeof b&&(b={type:b}),b.type,a&&a.type===b.type?(delete b.type,a.setConfig(b),a):(b.layout=this,Ext.Factory.boxOverflow(b))},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var a=this;Ext.destroy(a.innerCt,a.overflowHandler),a.flexSortFn=a.innerCt=null,Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var a=Ext.layout.container.Container.prototype.getRenderData.call(this);return a.targetElCls=this.targetElCls,a},updateVertical:function(b){var e=this,c=e.overflowHandler,a=e.owner,d=e._props;Ext.apply(e,b?d.vbox:d.hbox),c&&a&&a.rendered&&c.setVertical(b)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0),Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0),Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0),Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:void 0,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var c=this,b=c.layout,a=c.vertical;void 0===a&&(c.vertical=a="right"===c.dock||"left"===c.dock),c.layout=b=Ext.applyIf(Ext.isString(b)?{type:b}:b||{},{type:a?"vbox":"hbox",align:a?"stretchmax":"middle"}),c.overflowHandler?b.overflowHandler=c.overflowHandler:c.enableOverflow&&(b.overflowHandler="menu"),a&&c.addClsWithUI("vertical"),"footer"===c.ui&&(c.ignoreBorderManagement=!0),Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(a){var c,e=this,b=Ext.container.Container.prototype.getRefItems.apply(this,arguments),d=e.layout;return a&&(e.enableOverflow||"menu"===e.overflowHandler)&&(c=d.overflowHandler)&&c.menu&&(b=b.concat(c.menu.getRefItems(a))),b},lookupComponent:function(e){var a,b,d=arguments;return"string"==typeof e&&"@"!==e[0]&&(b=Ext.toolbar.Toolbar,a=b.shortcutsHV[this.vertical?1:0][e]||b.shortcuts[e],e="string"==typeof a?{xtype:a}:a?Ext.apply({},a):{xtype:"tbtext",text:e},this.applyDefaults(e),d=[e]),Ext.container.Container.prototype.lookupComponent.apply(this,d)},onBeforeAdd:function(b){var c=this,d="footer"===c.ui,a=d?c.defaultFooterButtonUI:c.defaultButtonUI;b.isSegmentedButton?"default"!==b.getDefaultUI()||b.config.hasOwnProperty("defaultUI")||b.setDefaultUI(a):"default"!==b.ui||b.hasOwnProperty("ui")||(b.isButton?b.ui=a:b.isFormField&&(b.ui=d?c.defaultFooterFieldUI:c.defaultFieldUI)),b instanceof Ext.toolbar.Separator&&b.setUI(c.vertical?"vertical":"horizontal"),Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(a){var b=this;a.needArrowKeys&&b.enableFocusableContainer&&(b.enableFocusableContainer=!1,b.ariaRole="group"),Ext.container.Container.prototype.onAdd.apply(this,arguments),b.trackMenu(a)},onRemove:function(a){Ext.container.Container.prototype.onRemove.apply(this,arguments),this.trackMenu(a,!0)},privates:{
applyDefaults:function(a){return Ext.isString(a)||(a=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)),a},trackMenu:function(c,a){var b=this;b.trackMenus&&c.menu&&c[a?"un":"on"]({mouseover:b.onButtonOver,menushow:b.onButtonMenuShow,menuhide:b.onButtonMenuHide,scope:b})},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(b,c){var a=this.activeMenuBtn;a&&a!==b&&(a.hideMenu(),b.focus(),b.showMenu(c),this.activeMenuBtn=b)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:!0,box:!0,container:!0,toolbar:!0},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0),Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(c,a,b){c&&this.init(c,a,b)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,b,l){Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b}),b=b||this.defaultPadding;var g,j,d,a,h=Ext.get(this.getEl()).getBox(),m=Ext.get(e),k=m.getScroll(),i=m.dom;i===document.body?g={x:k.left,y:k.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}:(j=m.getXY(),g={x:j[0],y:j[1],width:i.clientWidth,height:i.clientHeight}),d=h.y-g.y,a=h.x-g.x,this.resetConstraints(),this.setXConstraint(a-(b.left||0),g.width-a-h.width-(b.right||0),this.xTickSize),this.setYConstraint(d-(b.top||0),g.height-d-h.height-(b.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(d,a,b){var c=this;c.el=c.el||Ext.get(d),c.initTarget(d,a,b),Ext.get(c.id).on(c.triggerEvent,c.handleMouseDown,c),Ext.supports.Touch&&"longpress"===c.triggerEvent&&Ext.get(c.id).swallowEvent("contextmenu",!0)},initTarget:function(c,a,b){this.config=b||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof c&&(c=Ext.id(c)),this.id=c,this.addToGroup(a||"default"),this.handleElId=c,this.setDragElId(c),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(c,a,d,b){this.padding=a||0===a?d||0===d?[c,a,d,b]:[c,a,c,a]:[c,c,c,c]},setInitPosition:function(d,c){var b,a,g,e=this.getEl();this.DDMInstance.verifyEl(e)&&(b=d||0,a=c||0,g=Ext.fly(e).getXY(),this.initPageX=g[0]-b,this.initPageY=g[1]-a,this.lastPageX=g[0],this.lastPageY=g[1],this.setStartPosition(g))},setStartPosition:function(b){var a=b||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null,this.startPageX=a[0],this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0,this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a],this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.handleElId=a,this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),Ext.get(a).on(this.triggerEvent,this.handleMouseDown,this),this.setHandleElId(a),this.hasOuterHandles=!0},unreg:function(){var a,b=this;b._domRef&&(a=Ext.fly(b.id))&&a.un(b.triggerEvent,b.handleMouseDown,b),b._domRef=null,b.DDMInstance._remove(b,b.autoGroup)},destroy:function(){this.unreg(),this.callParent()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(c,b){var a=this;a.primaryButtonOnly&&c.button||a.isLocked()||(a.DDMInstance.refreshCache(a.groups),(a.hasOuterHandles||a.DDMInstance.isOverTarget(c.getPoint(),a))&&a.clickValidator(c)&&(a.setStartPosition(),a.b4MouseDown(c),a.onMouseDown(c),a.DDMInstance.handleMouseDown(c,a),a.DDMInstance.stopEvent(c)))},clickValidator:function(b){var a=b.getTarget();return this.isValidHandleChild(a)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){var c,d=this.invalidHandleClasses,a=d.length;for(c=0;c<a;++c)d[c]===b&&delete d[c]},isValidHandleChild:function(d){var h,b,a,c=!0;try{h=d.nodeName.toUpperCase()}catch(g){h=d.nodeName}for(c=c&&!this.invalidHandleTypes[h],c=c&&!this.invalidHandleIds[d.id],b=0,a=this.invalidHandleClasses.length;c&&b<a;++b)c=!Ext.fly(d).hasCls(this.invalidHandleClasses[b]);return c},setXTicks:function(d,a){this.xTicks=[],this.xTickSize=a;var b,c={};for(b=this.initPageX;b>=this.minX;b-=a)c[b]||(this.xTicks[this.xTicks.length]=b,c[b]=!0);for(b=this.initPageX;b<=this.maxX;b+=a)c[b]||(this.xTicks[this.xTicks.length]=b,c[b]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(d,a){this.yTicks=[],this.yTickSize=a;var b,c={};for(b=this.initPageY;b>=this.minY;b-=a)c[b]||(this.yTicks[this.yTicks.length]=b,c[b]=!0);for(b=this.initPageY;b<=this.maxY;b+=a)c[b]||(this.yTicks[this.yTicks.length]=b,c[b]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(c,b,a){this.leftConstraint=c,this.rightConstraint=b,this.minX=this.initPageX-c,this.maxX=this.initPageX+b,a&&this.setXTicks(this.initPageX,a),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(a,c,b){this.topConstraint=a,this.bottomConstraint=c,this.minY=this.initPageY-a,this.maxY=this.initPageY+c,b&&this.setYTicks(this.initPageY,b),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var b=this.maintainOffset?this.lastPageX-this.initPageX:0,a=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(b,a)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(h,d){if(d){if(d[0]>=h)return d[0];var b,a,c,g,e;for(b=0,a=d.length;b<a;++b)if(c=b+1,d[c]&&d[c]>=h)return g=h-d[b],e=d[c]-h,e>g?d[b]:d[c];return d[d.length-1]}return h},toString:function(){return"DragDrop "+this.id}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0),Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(c,a,b){c&&this.init(c,a,b)},scroll:!0,autoOffset:function(c,b){var a=c-this.startPageX,d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b,this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(b,e,c){var j,a,k,h,g=this.getTargetCoord(e,c),d=b.dom?b:Ext.fly(b,"_dd"),l=d.getSize(),i=Ext.Element;return this.deltaSetXY?(j=this.cachedViewportSize,this.setLocalXY(d,Math.max(0,Math.min(g.x+this.deltaSetXY[0],j.width-l.width)),Math.max(0,Math.min(g.y+this.deltaSetXY[1],j.height-l.height)))):(j=this.cachedViewportSize={width:i.getDocumentWidth(),height:i.getDocumentHeight()},a=[Math.max(0,Math.min(g.x,j.width-l.width)),Math.max(0,Math.min(g.y,j.height-l.height))],d.setXY(a),k=this.getLocalX(d),h=d.getLocalY(),this.deltaSetXY=[k-g.x,h-g.y]),this.cachePosition(g.x,g.y),this.autoScroll(g.x,g.y,b.offsetHeight,b.offsetWidth),g},cachePosition:function(b,a){if(b)this.lastPageX=b,this.lastPageY=a;else{var c=Ext.fly(this.getEl()).getXY();this.lastPageX=c[0],this.lastPageY=c[1]}},autoScroll:function(l,k,e,m){if(this.scroll){var n=Ext.Element.getViewportHeight(),b=Ext.Element.getViewportWidth(),p=this.DDMInstance.getScrollTop(),d=this.DDMInstance.getScrollLeft(),j=e+k,o=m+l,i=n+p-k-this.deltaY,g=b+d-l-this.deltaX,a=document.all?80:30;j>n&&i<40&&window.scrollTo(d,p+a),k<p&&p>0&&k-p<40&&window.scrollTo(d,p-a),o>b&&g<40&&window.scrollTo(d+a,p),l<d&&d>0&&l-d<40&&window.scrollTo(d-a,p)}},getTargetCoord:function(c,b){var a=c-this.deltaX,d=b-this.deltaY;return this.constrainX&&(a<this.minX&&(a=this.minX),a>this.maxX&&(a=this.maxX)),this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY)),a=this.getTick(a,this.xTicks),d=this.getTick(d,this.yTicks),{x:a,y:d}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this),this.scroll=!1!==this.config.scroll},b4MouseDown:function(b){var a=b.getXY();this.autoOffset(a[0],a[1])},b4Drag:function(b){var a=b.getXY();this.setDragElPos(a[0],a[1])},toString:function(){return"DD "+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(b,a,c){b.setLocalXY(a,c)}},3,0,0,0,0,0,[Ext.dd,"DD"],0),Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(c,a,b){c&&(this.init(c,a,b),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var d,c,b=this,a=document.body;if(!a||!a.firstChild)return void Ext.defer(function(){b.createFrame()},50);(d=this.getDragEl())||(d=document.createElement("div"),d.id=this.dragElId,d.setAttribute("role","presentation"),c=d.style,c.position="absolute",c.visibility="hidden",c.cursor="move",c.border="2px solid #aaa",c.zIndex=999,a.insertBefore(d,a.firstChild))},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,d){var c=this,a=c.getDragEl(),b=a.style;c._resizeProxy(),c.centerFrame&&c.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2)),c.setDragElPos(e,d),Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(c){var b=c.getXY(),a=b[0],d=b[1];this.autoOffset(a,d),this.setDragElPos(a,d)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl(),a=this.getDragEl();a.style.visibility="",this.beforeMove(),b.style.visibility="hidden",Ext.dd.DDM.moveToEl(b,a),a.style.visibility="hidden",b.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0),Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:!1,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",skipLayout:!0,alignOnScroll:!1,constructor:function(a){var b=this;a=a||{},Ext.apply(b,{hideMode:"visibility",hidden:!0,floating:!0,id:b.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()}),Ext.Component.prototype.constructor.apply(this,arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed,this.dropStatus!==a&&(this.el.replaceCls(this.dropStatus,a),this.dropStatus=a)},reset:function(b){var c=this,a="x-dd-drag-proxy ";c.el.replaceCls(a+c.dropAllowed,a+c.dropNotAllowed),c.dropStatus=c.dropNotAllowed,b&&c.ghost.setHtml("")},update:function(a){"string"==typeof a?this.ghost.setHtml(a):(this.ghost.setHtml(""),a.style.margin="0",this.ghost.dom.appendChild(a));var b=this.ghost.dom.firstChild;b&&Ext.fly(b).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){Ext.Component.prototype.hide.call(this),a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(c,d,a){var b=this;b.callback=d,b.scope=a,c&&!1!==b.animRepair?(b.el.addCls(b.repairCls),b.el.setUnderlaysVisible(!1),b.anim=b.el.animate({duration:b.repairDuration||500,easing:"ease-out",to:{x:c[0],y:c[1]},stopAnimation:!0,callback:b.afterRepair,scope:b})):b.afterRepair()},afterRepair:function(){var a=this;a.hide(!0),a.el.removeCls(a.repairCls),"function"==typeof a.callback&&a.callback.call(a.scope||a),delete a.callback,delete a.scope}},1,0,["component","box"],{component:!0,box:!0},0,0,[Ext.dd,"StatusProxy"],0),Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(b,a){this.el=Ext.get(b),this.dragData||(this.dragData={}),Ext.apply(this,a),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}),this.dragging=!1},getDragData:function(a){return this.dragData},onDragEnter:function(c,d){var a,b=Ext.dd.DragDropManager.getDDById(d);this.cachedTarget=b,!1!==this.beforeDragEnter(b,c,d)&&(b.isNotifyTarget?(a=b.notifyEnter(this,c,this.dragData),this.proxy.setStatus(a)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(b,c,d))},beforeDragEnter:function(b,a,c){return!0},onDragOver:function(c,d){var a,b=this.cachedTarget||Ext.dd.DragDropManager.getDDById(d);!1!==this.beforeDragOver(b,c,d)&&(b.isNotifyTarget&&(a=b.notifyOver(this,c,this.dragData),this.proxy.setStatus(a)),this.afterDragOver&&this.afterDragOver(b,c,d))},beforeDragOver:function(b,a,c){return!0},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);!1!==this.beforeDragOut(a,b,c)&&(a.isNotifyTarget&&a.notifyOut(this,b,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(a,b,c)),this.cachedTarget=null},beforeDragOut:function(b,a,c){return!0},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);!1!==this.beforeDragDrop(a,b,c)&&(a.isNotifyTarget?!1!==a.notifyDrop(this,b,this.dragData)?this.onValidDrop(a,b,c):this.onInvalidDrop(a,b,c):this.onValidDrop(a,b,c),this.afterDragDrop&&this.afterDragDrop(a,b,c)),delete this.cachedTarget},beforeDragDrop:function(b,a,c){return!0},onValidDrop:function(b,a,c){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(b,a,c)},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(c,b,d){var a=this;b||(b=c,c=null,d=b.getTarget().id),!1!==a.beforeInvalidDrop(c,b,d)&&(a.cachedTarget&&(a.cachedTarget.isNotifyTarget&&a.cachedTarget.notifyOut(a,b,a.dragData),a.cacheTarget=null),a.proxy.repair(a.getRepairXY(b,a.dragData),a.afterRepair,a),a.afterInvalidDrop&&a.afterInvalidDrop(b,d))},afterRepair:function(){var a=this;Ext.enableFx&&a.el.highlight(a.repairHighlightColor),a.dragging=!1},beforeInvalidDrop:function(b,a,c){return!0},handleMouseDown:function(b){if(!this.dragging){var a=this.getDragData(b);a&&!1!==this.onBeforeDrag(a,b)&&(this.dragData=a,this.proxy.stop(),Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments))}},onBeforeDrag:function(a,b){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(a,b){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(a,b),this.proxy.show()},onInitDrag:function(a,c){var b=this.el.dom.cloneNode(!0);return b.id=Ext.id(),this.proxy.update(b),this.onStartDrag(a,c),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy),Ext.dd.DDProxy.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0),Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){var c=this;c.panel=a,c.id=c.panel.id+"-ddproxy",Ext.apply(c,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;a.ghost&&(a.proxy&&(a.proxy.destroy(),delete a.proxy),a.panel.unghost(null,a.moveOnDrag),delete a.ghost)},show:function(){var a,b=this;b.ghost||(a=b.panel.getSize(),b.panel.el.setVisibilityMode(Ext.Element.DISPLAY),b.ghost=b.panel.ghost(),b.insertProxy&&(b.proxy=b.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"}),b.proxy.setSize(a)))},repair:function(b,c,a){this.hide(),Ext.callback(c,a||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0),Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(b,a){var c=this;c.panel=b,c.dragData={panel:b},c.panelProxy=new Ext.panel.Proxy(b,a),c.proxy=c.panelProxy.proxy,Ext.dd.DragSource.prototype.constructor.call(this,b.el,a),c.setupEl(b)},setupEl:function(a){var c=this,d=a.header,b=a.body;d&&(c.setHandleElId(d.id),b=d.el),b?(b.setStyle("cursor","move"),c.scroll=!1):a.on("boxready",c.setupEl,c,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(c){var b=c.getXY(),a=b[0],d=b[1];this.autoOffset(a,d)},onInitDrag:function(a,b){return this.onStartDrag(a,b),!0},createFrame:Ext.emptyFn,getDragEl:function(b){var a=this.panelProxy.ghost;if(a)return a.el.dom},endDrag:function(a){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX,b-=this.startPageY,this.setDelta(a,b)},onInvalidDrop:function(c,b,d){var a=this;!1!==a.beforeInvalidDrop(c,b,d)&&(a.cachedTarget&&(a.cachedTarget.isNotifyTarget&&a.cachedTarget.notifyOut(a,b,a.dragData),a.cacheTarget=null),a.afterInvalidDrop&&a.afterInvalidDrop(b,d))}},1,0,0,0,0,0,[Ext.panel,"DD"],0),Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var c,a,b=this;Ext.layout.component.Component.prototype.finishRender.call(this),c=b.getRenderTarget(),a=b.getDockedItems(),b.finishRenderItems(c,a)},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var l,q,e,k,p,o,j,m=this,a=m.owner,h=m.lastDockedItems,g=m.borders,b=a.dockedItems.generation,c=m.noBorderClassesSides,n=m.borderWidthProps,d=m.collapsed;if(!(m.initializedBorders===b||a.border&&!a.manageBodyBorders||a.collapsed&&"mini"===a.collapseMode)){for(m.initializedBorders=b,m.collapsed=!1,m.lastDockedItems=q=m.getLayoutItems(),m.collapsed=d,l={top:[],right:[],bottom:[],left:[]},e=0,k=q.length;e<k;e++)p=q[e],o=p.dock,p.ignoreBorderManagement||(l[o].satisfied||(l[o].push(p),l[o].satisfied=!0),l.top.satisfied||"bottom"===o||l.top.push(p),l.right.satisfied||"left"===o||l.right.push(p),l.bottom.satisfied||"top"===o||l.bottom.push(p),l.left.satisfied||"right"===o||l.left.push(p));if(h)for(e=0,k=h.length;e<k;e++)p=h[e],p.destroyed||p.ignoreBorderManagement||a.manageBodyBorders||p.removeCls(m.noBorderClasses);if(g)for(j in g)a.manageBodyBorders&&g[j].satisfied&&a.setBodyStyle(n[j],"");for(j in l)if(k=l[j].length,a.manageBodyBorders)l[j].satisfied&&a.setBodyStyle(n[j],"1px");else{for(e=0;e<k;e++)l[j][e].addCls(c[j]);!l[j].satisfied&&!a.bodyBorder||!1===a.bodyBorder?a.addBodyCls(c[j]):a.removeBodyCls(c[j])}m.borders=l}},beforeLayoutCycle:function(g){var d,a,c=this,b=c.owner,h=c.sizeModels.shrinkWrap,e=b.shrinkWrapDock;b.collapsed&&(b.collapsedVertical()?(a=!0,g.measureDimensions=1):(d=!0,g.measureDimensions=2)),g.collapsedVert=a,g.collapsedHorz=d,a?g.heightModel=h:d&&(g.widthModel=h),e=!0===e?3:e||0,g.shrinkWrapDockHeight=1&e&&g.heightModel.shrinkWrap,g.shrinkWrapDockWidth=2&e&&g.widthModel.shrinkWrap},beginLayout:function(d){var m,j,o,a,e,h,n,l=this,c=l.owner,p=l.getLayoutItems(),b=d.context,g=p.length,k=l.lastCollapsedState;for(Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments),h=c.getCollapsed(),h!==k&&void 0!==k&&(l.owner.collapsed?(d.isCollapsingOrExpanding=1,c.addClsWithUI(c.collapsedCls)):(d.isCollapsingOrExpanding=2,c.removeClsWithUI(c.collapsedCls),d.lastCollapsedState=l.lastCollapsedState)),l.lastCollapsedState=h,d.dockedItems=m=[],j=0;j<g;j++)o=p[j],o.rendered&&(n=o.dock,a=b.getCmp(o),a.dockedAt={x:0,y:0},a.offsets=e=Ext.Element.parseBox(o.offsets||0),a.horizontal="top"===n||"bottom"===n,e.width=e.left+e.right,e.height=e.top+e.bottom,m.push(a));d.bodyContext=d.getEl("body")},beginLayoutCycle:function(b){var c,j,h,e=this,l=b.dockedItems,d=l.length,a=e.owner,g=a.frameBody,k=e.lastHeightModel;for(Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments),e.owner.manageHeight?e.lastBodyDisplay&&(a.body.dom.style.display=e.lastBodyDisplay=""):("inline-block"!==e.lastBodyDisplay&&(a.body.dom.style.display=e.lastBodyDisplay="inline-block"),k&&k.shrinkWrap&&!b.heightModel.shrinkWrap&&(a.body.dom.style.marginBottom="")),b.widthModel.auto&&(b.widthModel.shrinkWrap&&a.el.setWidth(null),a.body.setWidth(null),g&&g.setWidth(null)),b.heightModel.auto&&(a.body.setHeight(null),g&&g.setHeight(null)),b.collapsedVert?b.setContentHeight(0):b.collapsedHorz&&b.setContentWidth(0),c=0;c<d;c++)if(j=l[c].target,"right"===(h=j.dock))j.setLocalX(0);else if("left"!==h)continue},calculate:function(d){var j,a,i,h,m,l=this,c=l.measureAutoDimensions(d,d.measureDimensions),b=d.state,k=b.horzDone,e=b.vertDone,g=d.bodyContext;for(d.borderInfo||d.getBorderInfo(),d.paddingInfo||d.getPaddingInfo(),d.frameInfo||d.getFrameInfo(),g.borderInfo||g.getBorderInfo(),g.paddingInfo||g.getPaddingInfo(),d.frameBorder||((j=d.framing)?(d.frameBorder=j.border,d.framePadding=j.padding):(d.frameBorder=d.borderInfo,d.framePadding=d.paddingInfo)),a=!k&&l.createAxis(d,c.contentWidth,d.widthModel,l.horzAxisProps,d.collapsedHorz),i=!e&&l.createAxis(d,c.contentHeight,d.heightModel,l.vertAxisProps,d.collapsedVert),h=0,m=d.dockedItems.length;m--;++h)a&&l.dockChild(d,a,m,h),i&&l.dockChild(d,i,m,h);a&&l.finishAxis(d,a)&&(b.horzDone=k=a),i&&l.finishAxis(d,i)&&(b.vertDone=e=i),k&&e&&l.finishConstraints(d,k,e)?l.finishPositions(d,k,e):l.done=!1},createAxis:function(p,j,e,m,d){var a,s,q,h,u=this,t=0,b=u.owner,g=b[m.maxSize],c=b[m.minSize]||0,n=m.dockBegin,i=m.dockEnd,r=m.pos,l=m.size,k=null!=g;return e.shrinkWrap?d?h=0:(a=p.bodyContext,h=j+a.borderInfo[l]):(s=p.frameBorder,q=p.framePadding,t=s[n]+q[n],h=p.getProp(l)-(s[i]+q[i])),{shrinkWrap:e.shrinkWrap,sizeModel:e,initialBegin:t,begin:t,end:h,collapsed:d,horizontal:m.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:h-t,maxChildSize:0,hasMinMaxConstraints:(c||k)&&e.shrinkWrap,minSize:c,maxSize:k?g:1e9,bodyPosProp:u.owner.manageHeight?r:m.marginBegin,dockBegin:n,dockEnd:i,posProp:r,sizeProp:l,setSize:m.setSize,shrinkWrapDock:p[m.shrinkWrapDock],sizeModelName:m.sizeModel,dockedPixelsEnd:0}},dockChild:function(b,c,l,e){var h,k,g=this,a=b.dockedItems[c.shrinkWrap?l:e],i=a.target,j=i.dock,d=c.sizeProp;i.ignoreParentFrame&&b.isCollapsingOrExpanding&&a.clearMarginCache(),a.marginInfo||a.getMarginInfo(),j===c.dockBegin?h=c.shrinkWrap?g.dockOutwardBegin(b,a,i,c):g.dockInwardBegin(b,a,i,c):j===c.dockEnd?h=c.shrinkWrap?g.dockOutwardEnd(b,a,i,c):g.dockInwardEnd(b,a,i,c):c.shrinkWrapDock?(k=a.getProp(d)+a.marginInfo[d],c.maxChildSize=Math.max(c.maxChildSize,k),h=0):h=g.dockStretch(b,a,i,c),a.dockedAt[c.posProp]=h},dockInwardBegin:function(b,a,j,d){var h,k,i,g=d.begin,e=d.sizeProp,c=j.ignoreParentFrame;return c&&(d.ignoreFrameBegin=a,i=j.dock,h=b.frameBorder[i],g-=h+b.framePadding[i]),j.overlay||(k=a.getProp(e)+a.marginInfo[e],d.begin+=k,c&&(d.begin-=h)),g},dockInwardEnd:function(e,d,c,b){var g,i=b.sizeProp,a=d.getProp(i)+d.marginInfo[i],h=b.end-a;return c.overlay||(b.end=h),c.ignoreParentFrame&&(b.ignoreFrameEnd=d,g=e.frameBorder[c.dock],h+=g+e.framePadding[c.dock],b.end+=g),h},dockOutwardBegin:function(e,d,c,b){var a,h=b.begin,g=b.sizeProp;return b.collapsed?b.ignoreFrameBegin=b.ignoreFrameEnd=d:c.ignoreParentFrame&&(b.ignoreFrameBegin=d),c.overlay||(a=d.getProp(g)+d.marginInfo[g],h-=a,b.begin=h),h},dockOutwardEnd:function(e,d,c,b){var a,h=b.end,g=b.sizeProp;return a=d.getProp(g)+d.marginInfo[g],b.collapsed?b.ignoreFrameBegin=b.ignoreFrameEnd=d:c.ignoreParentFrame&&(b.ignoreFrameEnd=d),c.overlay||(b.end=h+a,b.dockedPixelsEnd+=a),h},dockStretch:function(c,b,m,d){var g,o,n=m.dock,j=d.sizeProp,a="top"===n||"bottom"===n,i=c.frameBorder,e=b.offsets,l=c.framePadding,h=a?"right":"bottom",p=a?"left":"top",k=d.begin+e[p];return!1!==m.stretch&&(o=d.end-k-e[h],m.ignoreParentFrame&&(k-=l[p]+i[p],o+=l[j]+i[j]),g=b.marginInfo,o-=g[j],b[d.setSize](o)),k},finishAxis:function(m,e){if(isNaN(e.maxChildSize))return!1;var c,x,v,i,d=e.begin,p=e.end-d,h=e.collapsed,w=e.setSize,k=e.dockBegin,u=e.dockEnd,o=m.framePadding,r=m.frameBorder,g=r[k],s=m.framing,n=s&&s[k],b=h?0:o[k],j=e.sizeProp,t=e.ignoreFrameBegin,q=e.ignoreFrameEnd,a=m.bodyContext,l=Math.max(g+b-n,0);return e.shrinkWrap?(x=e.initialSize,s?(v=-d+g+b,c=v-n-l):(c=-d,v=c+b),h||(p+=o[j]),t?(v-=g,c-=g,t.dockedAt[e.posProp]-=b):p+=g,h||(q?q.dockedAt[e.posProp]+=o[u]:p+=r[u]),e.size=p,e.horizontal||this.owner.manageHeight||(i=!1)):(s?(v=0,c=d-n-l):(v=-g,c=d-b-g),x=p),e.delta=v,a[w](x,i),a.setProp(e.bodyPosProp,c),!isNaN(p)},beforeInvalidateShrinkWrapDock:function(c,b){var a=b.axis.sizeModelName;c[a].constrainedMin||(c[a]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(d,a){var e,b=a.axis,c=a.layout;d[b.sizeModelName].calculated&&(e=c.dockStretch(a.ownerContext,d,d.target,b),d.setProp(b.posProp,b.delta+e))},finishConstraints:function(k,c,p){var i,m,n,g,h,l,b,d,e,j,s=this,r=s.sizeModels,o=c.shrinkWrap,q=p.shrinkWrap,a=s.owner;if(o&&(l=c.size,b=c.collapsed?0:c.minSize,d=c.maxSize,e=c.maxChildSize,j=Math.max(l,e),j>d?(h=r.constrainedMax,n=d):j<b?(h=r.constrainedMin,n=b):l<e?(h=r.constrainedDock,a.dockConstrainedWidth=n=e):n=l),q&&(l=p.size,b=p.collapsed?0:p.minSize,d=p.maxSize,e=p.maxChildSize,j=Math.max(l,e+l-p.initialSize),j>d?(g=r.constrainedMax,m=d):j<b?(g=r.constrainedMin,m=b):l<e?(g=r.constrainedDock,a.dockConstrainedHeight=m=e):(k.collapsedVert||a.manageHeight||(i=!1,k.bodyContext.setProp("margin-bottom",p.dockedPixelsEnd)),m=l)),h||g){if(h&&g&&h.constrainedMax&&g.constrainedByMin)return k.invalidate({widthModel:h}),!1;if(!k.widthModel.calculatedFromShrinkWrap&&!k.heightModel.calculatedFromShrinkWrap)return k.invalidate({widthModel:h,heightModel:g}),!1}else s.invalidateAxes(k,c,p);return o&&(k.setWidth(n),h&&(k.widthModel=h)),q&&(k.setHeight(m,i),g&&(k.heightModel=g)),!0},invalidateAxes:function(g,a,l){var q,n,k,d,r,o,h,j,p=this.beforeInvalidateShrinkWrapDock,b=this.afterInvalidateShrinkWrapDock,e=a.end-a.begin,s=l.initialSize,c=a.shrinkWrapDock&&a.maxChildSize<=e,m=l.shrinkWrapDock&&l.maxChildSize<=s;if(c||m)for(m&&(l.begin=l.initialBegin,l.end=l.begin+l.initialSize),q=g.dockedItems,k=0,n=q.length;k<n;++k)d=q[k],o=d.horizontal,h=null,c&&o?(j=a.sizeProp,r=e,h=a):m&&!o&&(j=l.sizeProp,r=s,h=l),h&&(r-=d.getMarginInfo()[j])!==d.props[j]&&d.invalidate({before:p,after:b,axis:h,ownerContext:g,layout:this})},finishPositions:function(d,a,h){var i,b,j=d.dockedItems,c=j.length,g=a.delta,e=h.delta;for(i=0;i<c;++i)b=j[i],b.setProp("x",g+b.dockedAt.x),b.setProp("y",e+b.dockedAt.y)},finishedLayout:function(b){var c=b.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments),b.animatePolicy||(1===b.isCollapsingOrExpanding?c.afterCollapse(!1):2===b.isCollapsingOrExpanding&&c.afterExpand(!1))},getAnimatePolicy:function(c){var a,d,b=this;return 1===c.isCollapsingOrExpanding?a=b.lastCollapsedState:2===c.isCollapsingOrExpanding&&(a=c.lastCollapsedState),"left"===a||"right"===a?d=b.horizontalCollapsePolicy:"top"!==a&&"bottom"!==a||(d=b.verticalCollapsePolicy),d},getDockedItems:function(c,n){var b,m,l,g,d,a,j=this,e="visual"===c,k=e?Ext.ComponentQuery.query("[rendered]",j.owner.dockedItems.items):j.owner.dockedItems.items,h=k&&k.length&&!1!==c;if(null==n)l=h&&!e?k.slice():k;else{for(l=[],g=0,a=k.length;g<a;++g)m=k[g].dock,d="top"===m||"left"===m,(n?d:!d)&&l.push(k[g]);h=h&&l.length}return h&&(b="render"===(c=c||"render"),Ext.Array.sort(l,function(o,i){var p,q;return!b||(p=j.owner.dockOrder[o.dock])===(q=j.owner.dockOrder[i.dock])||p+q?(p=j.getItemWeight(o,c),q=j.getItemWeight(i,c),void 0!==p&&void 0!==q?p-q:0):p-q})),l||[]},getItemWeight:function(b,a){var c=b.weight||this.owner.defaultDockWeights[b.dock];return c[a]||c},getLayoutItems:function(){var b,g,d,c,a,e=this;if(e.owner.collapsed)a=e.owner.getCollapsedDockedItems();else for(b=e.getDockedItems("visual"),g=b.length,a=[],c=0;c<g;c++)d=b[c],d.hidden||a.push(d);return a},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(c){var b=this,a=b.owner;1===c.isCollapsingOrExpanding?(a.reExpander&&a.reExpander.el.show(),a.addClsWithUI(a.collapsedCls),c.redo(!0)):2===c.isCollapsingOrExpanding&&(a.removeClsWithUI(a.collapsedCls),c.bodyContext.redo())},getRenderTarget:function(){
return this.owner.bodyWrap},renderChildren:function(){var b=this,a=b.getDockedItems(),c=b.getRenderTarget();b.handleItemBorders(),b.renderItems(a,c)},renderItems:function(m,z){var d,r,c,x,t,k,o,j,q,h,p,s,w,n,y=this,a=y.owner,e={},v=m.length,l=a.body.dom,g=a.bodyWrap.dom,b=!!a.frameSize,u=a.bodyContainer;if(v){for(s=0;s<v;s++)x=m[s],e[x.id]=x,x.dockToEl&&(c=!0);for(d=y.getRenderTarget().dom.childNodes,r=d.length,o=0,s=0;s<r;++s){if(t=d[s],k=t===l){j=s;break}e[t.id]&&++o}if(j-=o,c){for(k=!1,o=0,d=a.el.dom.childNodes,r=d.length,s=0;s<r;s++){if(t=d[s],b?!(k=t===g||t===u)&&Ext.fly(t).contains(g)&&(k=!0,a.bodyContainer=t):k=t===g,k){h=s;break}e[t.id]&&++o}h-=o}for(q=p=0,s=0;s<v;s++)x=m[s],x.dockToEl?(n=a.el,w=h+p++,"right"===x.dock||"bottom"===x.dock?(w++,b&&w++):b&&w>0&&w--):(n=z,w=j+q++,"right"!==x.dock&&"bottom"!==x.dock||w++),x.rendered?y.isValidParent(x,n,w)||y.moveItem(x,n,w):y.renderItem(x,n,w)}},undoLayout:function(c){var b=this,a=b.owner;1===c.isCollapsingOrExpanding?(a.reExpander&&a.reExpander.el.hide(),a.removeClsWithUI(a.collapsedCls),c.undo(!0)):2===c.isCollapsingOrExpanding&&(a.addClsWithUI(a.collapsedCls),c.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(d,g){var b,a,c=this,h=c.sizePolicy,e=c.owner.shrinkWrapDock;return!1===d.stretch?h.nostretch:(b=d.dock,a="left"===b||"right"===b,e=!0===e?3:e||0,a?(h=h.vert,e&=1):(h=h.horz,e&=2),e&&(g||(g=c.owner.getSizeModel()),g[a?"height":"width"].shrinkWrap)?h.shrinkWrap:h.stretch)},configureItem:function(a,b){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments),a.addCls(this._itemCls),a.ignoreBorderManagement||a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){var b;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments),a.removeCls(this._itemCls),a.ignoreBorderManagement||a.removeClsWithUI(this.getDockCls(a.dock)),b=a.el.dom,!a.destroying&&b&&b.parentNode.removeChild(b),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var c,d=this,g=d.borderCollapseMap,a=d.owner,b=a.baseCls,e=a.ui;return g=g[b]||(g[b]={}),c=g[e],c||(b+="-"+e+"-outer-border-",g[e]=c=[0,b+"l",b+"b",b+"bl",b+"r",b+"rl",b+"rb",b+"rbl",b+"t",b+"tl",b+"tb",b+"tbl",b+"tr",b+"trl",b+"trb",b+"trbl"]),c}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0),Ext.cmd.derive("Ext.util.Memento",Ext.Base,function(){function d(i,h,j,g){i[g?g+j:j]=h[j]}function c(h,g,i){delete h[i]}function e(k,j,l,i){var g=i?i+l:l,h=k[g];(h||k.hasOwnProperty(g))&&a(j,l,h)}function a(h,i,g){Ext.isDefined(g)?h[i]=g:delete h[i]}function b(h,m,l,i,j){if(m)if(Ext.isArray(i)){var k,g=i.length;for(k=0;k<g;k++)h(m,l,i[k],j)}else h(m,l,i,j)}return{data:null,target:null,constructor:function(h,g){this.data={},h&&(this.target=h,g&&this.capture(g))},capture:function(g,j,i){var h=this;b(d,h.data||(h.data={}),j||h.target,g,i)},remove:function(g){b(c,this.data,null,g)},restore:function(h,g,j,i){b(e,this.data,j||this.target,h,i),!1!==g&&this.remove(h)},restoreAll:function(g,k){var l,i=this,h=k||this.target,j=i.data;g=!1!==g;for(l in j)j.hasOwnProperty(l)&&(a(h,l,j[l]),g&&delete j[l])}}}(),1,0,0,0,0,0,[Ext.util,"Memento"],0),Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(g,k){var e,h,m,a,j=this,b=j.rendered,c=0,l=j.dockedItems,d=l.getCount();for(g=j.prepareItems(g),a=g.length,b&&Ext.suspendLayouts(),k=void 0===k?d:Math.min(k,d);c<a;c++)m=g[c],m.dock=m.dock||"top","left"!==m.dock&&"right"!==m.dock||j.horizontalDocks++,e=k+c,l.insert(e,m),h=!!m.instancedCmp,delete m.instancedCmp,m.onAdded(j,e,h),delete m.$initParent,j.onDockedAdd!==Ext.emptyFn&&j.onDockedAdd(m),j.hasListeners.dockedadd&&j.fireEvent("dockedadd",j,m,e);return j.rendered&&(j.updateLayout(),Ext.resumeLayouts(!0)),g},destroyDockedItems:function(){var b,a=this.dockedItems;if(a)for(;b=a.first();)this.removeDocked(b,!0)},doRenderDockedItems:function(d,h,i){var b,a,g=h.$comp,e=g.componentLayout;g.tabGuard&&g.lookupTpl("tabGuardTpl"),e.getDockedItems&&(b=e.getDockedItems("render",!i),(a=b&&e.getItemsRenderTree(b))&&Ext.DomHelper.generateMarkup(a,d))},getDockedComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.dockedItems.get(a)},getDockedItems:function(a,c){var b=this.getComponentLayout().getDockedItems("render",c);return a&&b.length&&(b=Ext.ComponentQuery.query(a,b)),b},getDockingRefItems:function(b,e){var c,a=b&&"*,* *",d=this.getDockedItems(a,!0);return d.push.apply(d,e),c=this.getDockedItems(a,!1),d.push.apply(d,c),d},initDockingItems:function(){var b=this,a=b.dockedItems;a&&a.isMixedCollection||(b.dockedItems=new Ext.util.ItemCollection,a&&b.addDocked(a))},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,b){var c,a,d=this;return b=!0===b||!1!==b&&d.autoDestroy,d.dockedItems.contains(e)?("left"!==e.dock&&"right"!==e.dock||d.horizontalDocks--,c=d.componentLayout,a=c&&d.rendered,a&&c.onRemove(e),d.dockedItems.remove(e),e.onRemoved(e.destroying||b),d.onDockedRemove(e),b?e.destroy():a&&c.afterRemove(e),d.hasListeners.dockedremove&&d.fireEvent("dockedremove",d,e),d.destroying||d.updateLayout(),e):e},moveDocked:function(c,a){var b=this;b.rendered&&Ext.suspendLayouts(),b.removeDocked(c,!1),c.dock=a,b.addDocked(c),b.rendered&&(c.frame&&(Ext.getDetachedBody().appendChild(c.el),c.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0),Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',"x-",'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",closeToolText:"Close panel",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(b){var c=this;return(c.rendered?c.body:c.getProtoBody()).addCls(b),c},addTool:function(e){Ext.isArray(e)||(e=[e]);var c,b,d=this,h=d.header,a=e.length,g=d.tools;for(h&&h.isHeader||(h=null,g||(d.tools=g=[])),c=0;c<a;c++)b=e[c],b.toolOwner=d,h?h.addTool(b):g.push(b);d.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(b){var c=this,a=c.tab;b=!!b,c.closable!==b&&(c.closable=b,a&&a.setClosable(b))},setCollapsible:function(c){var b=this,d=b.collapsible,a=b.collapseTool;b.collapsible=c,c&&!d?(b.updateCollapseTool(),(a=b.collapseTool)&&a.show()):!c&&d&&a&&a.hide()},addUIClsToElement:function(b){var c=this,a=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);return c.addBodyCls(["x-"+b,c.baseCls+"-body-"+b,c.baseCls+"-body-"+c.ui+"-"+b]),a},afterCollapse:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0,a.updateCollapseTool(),b&&a.removeCls("x-animating-size"),c&&c.afterCollapse(a,b),a.setHiddenDocked(),a.fireEvent("collapse",a)},afterExpand:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0,a.updateCollapseTool(),b&&a.removeCls("x-animating-size"),c&&c.afterExpand(a,b),a.fireEvent("expand",a),a.fireHierarchyEvent("expand")},doDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd,a.accordionHeaderKeyNav,a.accordionBodyKeyNav,a.defaultButtonKeyNav),a.destroyDockedItems(),Ext.container.Container.prototype.doDestroy.call(this)},beforeRender:function(){var a,b=this;b.getProtoBody(),Ext.container.Container.prototype.beforeRender.call(this),b.initTools(),(!b.preventHeader&&!1!==b.header||b.isViewportBorderChild)&&b.updateHeader(),b.afterHeaderInit=!0,b.collapsed&&(b.isPlaceHolderCollapse()?b.hidden||(b.setHiddenState(!0),b.preventCollapseFire=!0,b.placeholderCollapse(),delete b.preventCollapseFire,a=b.collapsed,b.collapsed=!1):(b.beginCollapse(),b.addClsWithUI(b.collapsedCls))),a&&(b.collapsed=a)},getMemento:function(a){var b=this;if(a&&"string"==typeof a)return a+="Memento",b[a]||(b[a]=new Ext.util.Memento(b))},beginCollapse:function(){var a,e=this,c=e.lastBox,h=e.rendered,b=e.getMemento("collapse"),d=e.getSizeModel(),g=e.header;b.capture(["height","minHeight","width","minWidth"]),c&&b.capture(e.restoreDimension(),c,"last."),e.collapsedVertical()?(d.width.shrinkWrap&&(e.width=h?e.getWidth():e.width||e.minWidth||100),delete e.height,e.minHeight=0):e.collapsedHorizontal()&&(d.height.shrinkWrap&&(e.height=h?e.getHeight():e.height||e.minHeight||100),delete e.width,e.minWidth=0),e.ownerCt&&e.ownerCt.getLayout().beginCollapse(e),e.isPlaceHolderCollapse()||!1===g||(g===(a=e.getReExpander())?(g.collapseImmune=!0,g.getInherited().collapseImmune=!0,g.addClsWithUI(e.getHeaderCollapsedClasses(g)),g.rendered&&g.updateFrame()):a.el&&(a.el.show(),a.hidden=!1)),e.resizer&&e.resizer.disable(),e.rendered&&(e.ariaEl.dom.setAttribute("aria-expanded",!1),e.isAccordionPanel&&e.body.dom.setAttribute("aria-hidden",!0))},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var b,e=this,d=e.lastBox,c=e.getMemento("collapse"),a=e.restoreDimension(),g=e.header;c&&(c.restore(["minHeight","minWidth",a]),d&&c.restore(a,!0,d,"last.")),e.ownerCt&&e.ownerCt.getLayout().beginExpand(e),e.isPlaceHolderCollapse()||!1===g||(g===(b=e.getReExpander())?(delete g.collapseImmune,delete g.getInherited().collapseImmune,g.removeClsWithUI(e.getHeaderCollapsedClasses(g)),g.rendered&&(g.expanding=!0,g.updateFrame(),delete g.expanding)):(b.hidden=!0,b.el.hide())),e.resizer&&e.resizer.enable(),e.rendered&&(e.ariaEl.dom.setAttribute("aria-expanded",!0),e.isAccordionPanel&&e.body.dom.setAttribute("aria-hidden",!1))},bridgeToolbars:function(){function e(i,l,k,j){return Ext.isArray(i)?i={xtype:"toolbar",items:i}:i.isComponent||(i=Ext.apply({},i)),i.xtype||(i.xtype="toolbar"),i.dock=l,j&&(i.enableFocusableContainer=!1),k&&(i.layout=Ext.applyIf(i.layout||{},{pack:{left:"start",center:"center"}[a.buttonAlign]||"end"})),i}var d,c,b,a=this,h=[],g=a.minButtonWidth;a.tbar&&(h.push(e(a.tbar,"top")),a.tbar=null),a.bbar&&(h.push(e(a.bbar,"bottom")),a.bbar=null),a.buttons&&(a.fbar=a.buttons,a.buttons=null,b=!0),a.fbar&&(d=e(a.fbar,"bottom",!0,b),d.ui="footer",g&&(c=d.defaults,d.defaults=function(k){var i,l=c||{},j=!k.xtype||k.isButton;return j||(i=Ext.ClassManager.getByAlias("widget."+k.xtype))&&(j=i.prototype.isButton),!j||"minWidth"in l||(l=Ext.apply({minWidth:g},l)),l}),h.push(d),a.fbar=null),a.lbar&&(h.push(e(a.lbar,"left")),a.lbar=null),a.rbar&&(h.push(e(a.rbar,"right")),a.rbar=null),a.dockedItems?a.dockedItems.isMixedCollection?a.addDocked(h):(Ext.isArray(a.dockedItems)||(a.dockedItems=[a.dockedItems]),a.dockedItems=a.dockedItems.concat(h)):a.dockedItems=h},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},collapse:function(e,a){var d=this,g=e||d.collapseDirection,b=d.ownerCt,c=d.ownerLayout,h=d.rendered;return d.isCollapsingOrExpanding?d:(arguments.length<2&&(a=d.animCollapse),d.collapsed||!1===d.fireEvent("beforecollapse",d,e,a)?d:c&&c.onBeforeComponentCollapse&&!1===c.onBeforeComponentCollapse(d)?d:h&&b&&d.isPlaceHolderCollapse()?d.placeholderCollapse(e,a):(d.collapsed=g,h&&d.beginCollapse(),d.getInherited().collapsed=!0,d.fireHierarchyEvent("collapse"),h&&d.doCollapseExpand(1,a),d))},collapsedHorizontal:function(){var a=this.getCollapsed();return"left"===a||"right"===a},collapsedVertical:function(){var a=this.getCollapsed();return"top"===a||"bottom"===a},convertCollapseDir:function(a){return a.substr(0,1)},createGhost:function(a){var b=this,d=b.header,c=b.frame&&!b.alwaysFramed;return{xtype:"panel",hidden:!1,header:d?{titleAlign:d.getTitleAlign()}:null,ui:c?b.ui.replace(/-framed$/,""):b.ui,id:b.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,focusable:!1,floating:!0,alignOnScroll:!1,shadow:!1,frame:c,shim:b.shim,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.getHeaderPosition(),titleRotation:b.getTitleRotation(),baseCls:b.baseCls,getRefOwner:function(){return b.getRefOwner()},cls:b.baseCls+"-ghost "+(a||"")}},createReExpander:function(g,b){var d=this,i="left"===g,h="right"===g,e=i||h,a=d.ownerCt,c=d.header,j=Ext.apply({hideMode:"offsets",title:d.getTitle(),titleAlign:d.getTitleAlign(),vertical:e,textCls:d.headerTextCls,icon:d.getIcon(),iconCls:d.getIconCls(),iconAlign:d.getIconAlign(),glyph:d.getGlyph(),baseCls:d.self.prototype.baseCls+"-header",ui:d.ui,frame:d.frame&&d.frameHeader,ignoreParentFrame:d.frame||d.overlapHeader,ignoreBorderManagement:d.frame||d.ignoreHeaderBorderManagement,indicateDrag:d.draggable,collapseImmune:!0,ariaRole:d.ariaRole,preventRefocus:!0,ownerCt:a&&"placeholder"===d.collapseMode?a:d,ownerLayout:d.componentLayout,forceOrientation:!0,margin:d.margin,defaultFocus:"tool[isDefaultExpandTool]"},b);return"mini"===d.collapseMode&&(e?j.width=1:j.height=1),c&&Ext.apply(j,{enableFocusableContainer:c.enableFocusableContainer,activeChildTabIndex:c.activeChildTabIndex,inactiveChildTabIndex:c.inactiveChildTabIndex,allowFocusingDisabledChildren:c.allowFocusingDisabledChildren}),d.hideCollapseTool||((i||h&&d.isPlaceHolderCollapse())&&(j.titlePosition=1),j.tools=[{xtype:"tool",type:"expand-"+d.getOppositeDirection(g),isDefaultExpandTool:!0,uiCls:["top"],handler:d.toggleCollapse,scope:d,tooltip:d.expandToolText}]),j=new Ext.panel.Header(j),j.addClsWithUI(d.getHeaderCollapsedClasses(j)),j.expandTool=j.down("tool[isDefaultExpandTool=true]"),j},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},doCollapseExpand:function(a,b){var d=this,c=d.animCollapse,e=d.ownerLayout;return d.animCollapse=b,d.isCollapsingOrExpanding=a,b&&d.addCls("x-animating-size"),e&&!b?e.onContentChange(d):d.updateLayout({isRoot:!0}),d.animCollapse=c,d},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(a){var c=this,b=c.ownerLayout,d=c.rendered;return c.isCollapsingOrExpanding?c:(arguments.length||(a=c.animCollapse),c.collapsed||c.floatedFromCollapse?!1===c.fireEvent("beforeexpand",c,a)?c:b&&b.onBeforeComponentExpand&&!1===b.onBeforeComponentExpand(c)?c:(delete c.getInherited().collapsed,d&&c.isPlaceHolderCollapse()?c.placeholderExpand(a):(c.restoreHiddenDocked(),d&&c.beginExpand(),c.collapsed=!1,c.rendered&&c.doCollapseExpand(2,a),c)):c)},findReExpander:function(h){var b,d,g=this,j=Ext.Component,e=g.dockedItems.items,a=e.length;if("mini"!==g.collapseMode)switch(h){case j.DIRECTION_TOP:case j.DIRECTION_BOTTOM:for(d=0;d<a;d++)if(b=e[d],!b.hidden&&b.isHeader&&(!b.dock||"top"===b.dock||"bottom"===b.dock))return b;break;case j.DIRECTION_LEFT:case j.DIRECTION_RIGHT:for(d=0;d<a;d++)if(b=e[d],!b.hidden&&b.isHeader&&("left"===b.dock||"right"===b.dock))return b;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},floatCollapsedPanel:function(){var b,d,i=this,j=i.placeholder,a=i.splitter,h=Ext.util.Region.from(j.getBox(!1,!0)),e=Ext.panel.Panel.floatCls,c=i.collapsed,k=i.ownerCt||i,g={mouseleave:i.onMouseLeaveFloated,mouseenter:i.onMouseEnterFloated,scope:i,destroyable:!0};if(!i.isSliding){if(i.el.hasCls(e))return void i.slideOutFloatedPanel();if(i.isSliding=!0,j.el.hide(),j.hidden=!0,i.el.show(),i.setHiddenState(!1),i.collapsed=!1,k.updateLayout(),j.el.show(),j.hidden=!1,i.el.hide(),i.setHiddenState(!0),i.collapsed=c,k.updateLayout(),d=i.getBox(!1,!0),!1!==i.fireEvent("beginfloat",i)){switch(i.slideOutTask=i.slideOutTask||new Ext.util.DelayedTask(i.slideOutFloatedPanel,i),i.pointerLeaveListener=Ext.getDoc().on({mousedown:i.onFloatedPointerEvent,mousemove:i.onFloatedPointerEvent,scope:i,destroyable:!0}),i.placeholderListener||(i.placeholderListener=j.on({resize:i.onPlaceholderResize,scope:i,destroyable:!0})),i.phHoverListeners=j.el.on(g),i.elHoverListeners=i.el.on(g),i.el.addCls(e),i.floated=c,i.collapseTool&&i.collapseTool.el.hide(),a&&(h=h.union(a.getBox(!1,!0))),i.collapsed){case"top":i.width=h.width,i.setLocalXY(d.x,d.y+h.height);break;case"right":i.height=h.height,i.setLocalXY(d.x-h.width,d.y);break;case"bottom":i.width=h.width,i.setLocalXY(d.x,d.y-h.height);break;case"left":i.height=h.height,i.setLocalXY(d.x+h.width,d.y)}b=i.convertCollapseDir(i.collapsed),i.floatedFromCollapse=i.collapsed,i.collapsed=!1,i.setHiddenState(!1),i.el.slideIn(b,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.isSliding=!1,i.fireEvent("endfloat",i),i.fireEvent("float",i)}}})}}},onFloatedPointerEvent:function(b){var a=this;a.owns(b)||a.placeholder.owns(b)||a.splitter&&a.splitter.owns(b)||a.floatCollapsedPanel&&a.el.getRegion().contains(b.getPoint())?a.slideOutTask.cancel():a.slideOutTask.delay(500)},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},onMouseLeaveFloated:function(b){var a=b.getRelatedTarget();a&&(this.owns(a)||this.placeholder.owns(a))||this.slideOutTask.delay(500)},onPlaceholderResize:function(g,c,a){var b=this,e=b.splitter,d=b.getBox(!1,!0),h=Ext.util.Region.from(g.getBox(!1,!0));switch(e&&(h=h.union(e.getBox(!1,!0))),b.floated){case"top":b.width=c,b.setLocalY(h.y+h.height);break;case"right":b.height=a,b.setLocalX(h.x-d.width);break;case"bottom":b.width=c,b.setLocalY(h.y-d.height);break;case"left":b.height=a,b.setLocalX(h.x+h.width)}b.updateLayout({isRoot:!0})},getAnimationProps:function(){var a,b=this;return a=Ext.container.Container.prototype.getAnimationProps.call(this),"number"==typeof b.animCollapseDuration?a.duration=b.animCollapseDuration:"number"==typeof b.animCollapse&&(a.duration=b.animCollapse),a},getCollapsed:function(){var a=this;return!0===a.collapsed?a.collapseDirection:a.collapsed},getCollapsedDockedItems:function(){var a=this;return!1===a.header||"placeholder"===a.collapseMode?a.emptyArray:[a.getReExpander()]},getComponent:function(a){var b=Ext.container.Container.prototype.getComponent.apply(this,arguments);return void 0!==b||Ext.isNumber(a)||(b=this.getDockedComponent(a)),b},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(d){var a,b=this,c=b.collapsedCls;return a=[c,c+"-"+d.getDockName()],b.border&&(!b.frame||b.frame&&Ext.supports.CSS3BorderRadius)&&a.push(c+"-border-"+d.getDockName()),a},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getPlaceholder:function(e){var d=this,h=e||d.collapseDirection,c=null,g=d.placeholder,b=d.floatable,a=d.titleCollapse;return g||((b||d.collapsible&&a)&&(c={click:{fn:function(j,i){g.expandTool.el.dom.contains(arguments[1])||d[!a&&b?"floatCollapsedPanel":"toggleCollapse"]()},element:"el",scope:d}}),d.placeholder=g=Ext.widget(d.createReExpander(h,{id:d.id+"-placeholder",listeners:c}))),g.placeholderFor||(g.isComponent||(d.placeholder=g=d.lookupComponent(g)),Ext.applyIf(g,{margin:d.margin,placeholderFor:d,synthetic:!0}),g.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+h+"-placeholder",d.collapsedCls])),g},getProtoBody:function(){var b=this,a=b.protoBody;return a||(b.protoBody=a=new Ext.util.ProtoElement({cls:b.bodyCls,style:b.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),a},getReExpander:function(e){var d=this,g=e||d.collapseDirection,b=d.reExpander||d.findReExpander(g),a=d.titleCollapse,c=null;return d.expandDirection=d.getOppositeDirection(g),b||(a&&(c={click:{fn:d.toggleCollapse,element:"el",scope:d}}),d.reExpander=b=d.createReExpander(g,{dock:g,cls:"x-docked "+d.baseCls+"-"+d.ui+"-collapsed",isCollapsedExpander:!0,listeners:c}),d.dockedItems.insert(0,b)),b},getRefItems:function(b){var a,c=this.placeholder;return c?(a=[c],b&&c.getRefItems&&a.push.apply(a,c.getRefItems(b))):a=[],a.push.apply(a,this.getDockingRefItems(b,Ext.container.Container.prototype.getRefItems.call(this,b))),a},getState:function(){var e,d,a=this,c=Ext.container.Container.prototype.getState.call(this)||{},g=a.collapsed,b=a.floated;return b&&(a.collapsed=b),c=a.addPropertyToState(c,"collapsed"),b&&(a.collapsed=g),a.getCollapsed()&&(e=a.getMemento("collapse").data,c=a.addPropertyToState(c,"collapsed",e),d=a.isPlaceHolderCollapse(),a.collapsedVertical()?d?(c=a.addPropertyToState(c,"height"),delete c.width):(delete c.height,e&&(c=a.addPropertyToState(c,"height",e.height))):d?(c=a.addPropertyToState(c,"width"),delete c.height):(delete c.width,e&&(c=a.addPropertyToState(c,"width",e.width)))),c},applyState:function(c){var d,b=this,a={};c&&(d=c.collapsed,d&&(a=b.getMemento("collapse"),Ext.Object.merge(a.data,d),c.collapsed=!0),Ext.container.Container.prototype.applyState.apply(this,arguments))},ghost:function(n){var l,g,k,m,h,c,j=this,a=j.el,b=j.ghostPanel,e=j.getBox(),d=j.header;if(b?b.el.show():(j.ghostPanel=b=Ext.widget(j.createGhost(n)),b.el.dom.removeAttribute("tabIndex")),b.setHiddenState(!1),b.floatParent=j.floatParent,d&&!j.preventHeader){for(l=b.header,l.suspendLayouts(),g=l.query("tool"),c=g.length;c--;)l.remove(g[c]);l.setTitlePosition(0),b.addTool(j.ghostTools()),b.setTitle(j.getTitle()),l.setTitlePosition(d.titlePosition),m=j.getIconCls(),m?b.setIconCls(m):(k=j.getIcon(),k?b.setIcon(k):(h=j.getGlyph())&&b.setGlyph(h)),l.addCls("x-header-ghost"),l.resumeLayouts(!0)}return b.setPagePosition(e.x,e.y),b.setSize(e.width,e.height),j.elVisMode=a.getVisibilityMode(),a.setVisibilityMode(Ext.Element.CLIP),a.hide(),b},ghostTools:function(){var c,a,b,e=[],g=this.header,d=g?g.query("tool[hidden=false]"):[];if(d.length)for(c=0,a=d.length;c<a;c++)b=d[c],e.push({type:b.type,tooltip:b.tooltip});else e=[{type:"placeholder"}];return e},initBodyBorder:function(){var a=this;a.frame&&a.bodyBorder&&(Ext.isNumber(a.bodyBorder)||(a.bodyBorder=1),a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder)))},initBodyStyles:function(){var b=this,a=b.getProtoBody();void 0!==b.bodyPadding&&(b.layout.managePadding?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(!0===b.bodyPadding?5:b.bodyPadding))),b.initBodyBorder()},initBorderProps:function(){var a=this;a.frame&&a.border&&void 0===a.bodyBorder&&(a.bodyBorder=!1),a.frame&&a.border&&(!1===a.bodyBorder||0===a.bodyBorder)&&(a.manageBodyBorders=!0)},initComponent:function(){var a=this;a.collapsible&&a.addStateEvents(["expand","collapse"]),a.unstyled&&a.setUI("plain"),a.frame&&a.setUI(a.ui+"-framed"),a.bridgeToolbars(),a.initBorderProps(),Ext.container.Container.prototype.initComponent.call(this),a.collapseDirection=a.collapseDirection||a.getHeaderPosition()||Ext.Component.DIRECTION_TOP,"number"==typeof a.animCollapse&&(a.animCollapseDuration=a.animCollapse),a.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){Ext.container.Container.prototype.initItems.call(this),this.initDockingItems()},initRenderData:function(){var b,a=this,c=a.bodyWrapAriaRole,d=a.bodyAriaRole;return b=Ext.container.Container.prototype.initRenderData.call(this),a.initBodyStyles(),a.protoBody.writeTo(b),delete a.protoBody,a.headingText&&(b.headingText=a.headingText,a.addChildEl("headingEl")),c&&(b.bodyWrapAriaAttributes={role:c},!a.ariaStaticRoles[c]&&a.bodyWrapAriaRenderAttributes&&Ext.apply(b.bodyWrapAriaAttributes,a.bodyWrapAriaRenderAttributes)),d&&(b.bodyAriaAttributes={role:d},!a.ariaStaticRoles[d]&&a.bodyAriaRenderAttributes&&Ext.apply(b.bodyAriaAttributes,a.bodyAriaRenderAttributes)),b},calculateConstrainedPosition:function(g,b,e,a){var d,c,h=this,i=h.header;return h.constrainHeader&&(d=i.lastBox,a?a=i.vertical?[d?d.width:a[0],a[1]]:[a[0],d?d.height:a[1]]:d&&(a=[d.width,d.height]),c=h.floatParent,g=g||h.constrainTo||(c?c.getTargetEl():null)||h.container||h.el.parent()),Ext.container.Container.prototype.calculateConstrainedPosition.call(this,g,b,e,a)},initTools:function(){var b,d,a,c=this,e=c.tools;for(c.tools=[],b=e&&e.length;b;)--b,c.tools[b]=a=e[b],a.toolOwner=c;!c.collapsible||c.hideCollapseTool||!1===c.header||c.preventHeader||(c.updateCollapseTool(),c.collapseFirst&&c.tools.unshift(c.collapseTool)),c.addTools(),c.pinnable&&c.initPinnable(),c.closable&&(c.addClsWithUI("closable"),d={xtype:"tool",type:"close",scope:c,handler:c.close,tooltip:c.closeToolText},(c.isAccordionPanel||c.disableCloseToolFocus)&&(d.focusable=!1,d.ariaRole="presentation"),c.addTool(d)),c.collapseTool&&!c.collapseFirst&&c.addTool(c.collapseTool)},isLayoutRoot:function(){return!!this.floatedFromCollapse||Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return"placeholder"===this.collapseMode},isVisible:function(a){var b=this;return b.collapsed&&b.placeholder?b.placeholder.isVisible(a):Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){var b,a=this;Ext.container.Container.prototype.onBoxReady.apply(this,arguments),a.collapsed&&a.setHiddenDocked(),a.isAccordionPanel&&(a.ariaEl=a.header.titleCmp.el,a.ariaEl.dom.setAttribute("aria-expanded",!a.collapsed),a.ariaEl.dom.setAttribute("aria-controls",a.body.id),a.body.dom.setAttribute("aria-labelledby",a.header.titleCmp.id),a.body.dom.setAttribute("aria-hidden",!!a.collapsed),a.accordionHeaderKeyNav=new Ext.util.KeyNav({target:a.header.titleCmp.el,scope:a,left:a.navigateAccordionHeader,right:a.navigateAccordionHeader,up:a.navigateAccordionHeader,down:a.navigateAccordionHeader,home:a.navigateAccordionHeader,end:a.navigateAccordionHeader,space:a.toggleCollapse,enter:a.toggleCollapse,del:{alt:!0,fn:a.maybeClose}}),a.accordionBodyKeyNav=new Ext.util.KeyNav({target:a.body,scope:a,up:{ctrl:!0,fn:a.navigateAccordionBody}})),a.defaultButton&&(b=a.defaultButtonTarget?a[a.defaultButtonTarget]:a.body,a.defaultButtonKeyNav=new Ext.util.KeyNav({target:b,scope:a,defaultEventAction:"stopEvent",enter:a.fireDefaultButton}))},onHide:function(e,b,c){var d=this,a=d.dd;d.floatedFromCollapse&&d.slideOutFloatedPanel(!0),d.draggable&&a&&a.endDrag(),d.collapsed&&d.placeholder?(d.splitter&&(Ext.suspendLayouts(),d.splitter.hide(),Ext.resumeLayouts()),d.placeholder.hide()):Ext.container.Container.prototype.onHide.call(this,e,b,c)},onRemoved:function(b){var a=this;a.placeholder&&!b&&a.ownerCt.remove(a.placeholder,!1),Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var a=this;a.collapsed&&a.isPlaceHolderCollapse()?(a.splitter&&(Ext.suspendLayouts(),a.splitter.show(),Ext.resumeLayouts()),a.setHiddenState(!0),a.placeholderCollapse()):Ext.container.Container.prototype.onShow.apply(this,arguments)},placeholderCollapse:function(g,a){var i,e=this,b=e.ownerCt,j=g||e.collapseDirection,d=Ext.panel.Panel.floatCls,c=e.collapseTool,h=e.getPlaceholder(j);return(Ext.Component.layoutSuspendCount||e.isLayoutSuspended())&&(a=!1),e.fireEvent("beginfloat",e),e.isCollapsingOrExpanding=1,e.setHiddenState(!0),e.collapsed=j,h.rendered?(h.el.dom.parentNode!==e.el.dom.parentNode&&e.el.dom.parentNode.insertBefore(h.el.dom,e.el.dom),h.hidden=!1,h.setHiddenState(!1),h.el.show(),b.updateLayout()):b.insert(b.items.indexOf(e),h),e.rendered?(e.focusPlaceholderExpandTool=e.focusPlaceHolder=!1,c&&Ext.ComponentManager.getActiveComponent()===c?e.focusPlaceholderExpandTool=!0:e.containsFocus&&(e.focusPlaceHolder=!0),e.el.setVisibilityMode(e.placeholderCollapseHideMode),a?(e.el.addCls(d),h.el.hide(),i=e.convertCollapseDir(j),e.el.slideOut(i,{preserveScroll:!0,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{scope:e,afteranimate:function(){var k=this,l=k.placeholder.el;k.el.removeCls(d),l.show(),k.ownerCt?(l.setStyle("display","none"),l.slideIn(i,{easing:"linear",duration:100,listeners:{afteranimate:k.doPlaceholderCollapse,scope:k}})):k.doPlaceholderCollapse()}}})):(e.el.hide(),e.doPlaceholderCollapse())):(e.isCollapsingOrExpanding=0,e.preventCollapseFire||e.fireEvent("collapse",e)),e},doPlaceholderCollapse:function(){var b,a=this,c=a.placeholder,d=c.expandTool;a.focusPlaceholderExpandTool&&d?d.focus():a.focusPlaceHolder&&c.focus(),a.focusPlaceholderExpandTool=!1,c.setHiddenState(!1),c.rendered&&(b=c.ariaEl.dom,b.setAttribute("aria-hidden",!1),b.setAttribute("aria-expanded",!1)),b=a.ariaEl.dom,b.setAttribute("aria-hidden",!0),b.setAttribute("aria-expanded",!1),a.isCollapsingOrExpanding=0,a.fireEvent("collapse",a),a.fireEvent("endfloat",a)},placeholderExpand:function(c){var g,a,e=this,h=e.collapsed,i=e.placeholder.expandTool,d=Ext.panel.Panel.floatCls,b=e.ownerLayout?e.ownerLayout.centerRegion:null;return Ext.Component.layoutSuspendCount&&(c=!1),e.floatedFromCollapse&&(a=e.getPosition(!0),e.slideOutFloatedPanelBegin(),e.slideOutFloatedPanelEnd(),e.floated=!1),i&&Ext.ComponentManager.getActiveComponent()===i&&(e.focusHeaderCollapseTool=!0,i._ariaRole=i.ariaEl.dom.getAttribute("role"),i._ariaLabel=i.ariaEl.dom.getAttribute("aria-label"),i.ariaEl.dom.setAttribute("role","presentation"),i.ariaEl.dom.removeAttribute("aria-label")),c?(Ext.suspendLayouts(),e.placeholder.hide(),e.el.show(),e.collapsed=!1,e.setHiddenState(!1),b&&!a&&(b.hidden=!0),Ext.resumeLayouts(!0),b.hidden=!1,e.floatedFromCollapse||e.fireEvent("beginfloat",e),e.el.addCls(d),e.isCollapsingOrExpanding=2,a?(g=e.getXY(),e.setLocalXY(a[0],a[1]),e.setXY([g[0],g[1]],{duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{scope:e,afteranimate:function(){var j=this;j.el.removeCls(d),j.isCollapsingOrExpanding=0,j.fireEvent("expand",j),j.fireEvent("endfloat",j)}}})):(e.el.hide(),e.placeholder.el.show(),e.placeholder.hidden=!1,e.setHiddenState(!1),e.el.slideIn(e.convertCollapseDir(h),{preserveScroll:!0,duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:e.doPlaceholderExpand,scope:e}}))):(e.floated=e.collapsed=!1,e.doPlaceholderExpand(!0)),e},doPlaceholderExpand:function(b){b=!0===b
;var c=this,d=c.placeholder,a=c.collapseTool,e=d.expandTool;b&&(Ext.suspendLayouts(),c.show()),c.el.removeCls(Ext.panel.Panel.floatCls),d.hide(),b?Ext.resumeLayouts(!0):c.updateLayout(),c.focusHeaderCollapseTool&&a&&a.focus(),c.focusHeaderCollapseTool=!1,d.ariaEl.dom.setAttribute("aria-expanded",!0),c.ariaEl.dom.setAttribute("aria-expanded",!0),e&&e._ariaRole&&(e.ariaEl.dom.setAttribute("role",e._ariaRole),e.ariaEl.dom.setAttribute("aria-label",e._ariaLabel),e._ariaRole=e._ariaLabel=null),c.isCollapsingOrExpanding=0,c.fireEvent("expand",c),c.fireEvent("endfloat",c)},remove:function(b,a){var c=this.dockedItems;return c&&c.contains(b)?this.removeDocked(b,a):Ext.container.Container.prototype.remove.call(this,b,a),b},removeBodyCls:function(b){var c=this;return(c.rendered?c.body:c.getProtoBody()).removeCls(b),c},removeUIClsFromElement:function(b){var c=this,a=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);return c.removeBodyCls(["x-"+b,c.baseCls+"-body-"+b,c.baseCls+"-body-"+c.ui+"-"+b]),a},restoreDimension:function(){var a=this.collapseDirection;return"top"===a||"bottom"===a?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,!0)},setBodyStyle:function(b,d){var c=this,a=c.rendered?c.body:c.getProtoBody();return Ext.isFunction(b)&&(b=b()),1===arguments.length?(Ext.isString(b)&&(b=Ext.Element.parseStyles(b)),a.setStyle(b)):a.setStyle(b,d),c},setBorder:function(a,c){if(!c){var b=this,d=b.header;a=a?!0===a?"1px":b.unitizeBox(a):0,d&&(d.isHeader?d.setBorder(a):d.border=a),b.rendered&&!1!==b.bodyBorder&&b.body.setStyle("border-width",a),b.updateLayout(),b.border=a}},setCollapsed:function(a){this[a?"collapse":"expand"]()},setDockedItemsVisibility:function(g,c){var h,b,j=this,d=j.getDockedItems(),a=d.length,e=0;for(!1!==j.header&&(b=j.getReExpander());e<a;e++)(h=d[e])&&h!==b&&h.el&&g.add(h.el);g.setStyle("visibility",c?"":"hidden"),g.clear()},setGlyph:function(c){var b=this,a=b.glyph,e=b.header,d=b.placeholder;c!==a&&(b.glyph=c,e?e.isHeader?e.setGlyph(c):e.glyph=c:(b.rendered||b.afterHeaderInit)&&b.updateHeader(),d&&d.setGlyph&&d.setGlyph(c),b.fireEvent("glyphchange",b,c,a))},setIcon:function(a){var b=this,c=b.icon,e=b.header,d=b.placeholder;a!==c&&(b.icon=a,e?e.isHeader?e.setIcon(a):e.icon=a:(b.rendered||b.afterHeaderInit)&&b.updateHeader(),d&&d.setIcon&&d.setIcon(a),b.fireEvent("iconchange",b,a,c))},setIconCls:function(b){var c=this,a=c.iconCls,e=c.header,d=c.placeholder;b!==a&&(c.iconCls=b,e?e.isHeader?e.setIconCls(b):e.iconCls=b:(c.rendered||c.afterHeaderInit)&&c.updateHeader(),d&&d.setIconCls&&d.setIconCls(b),c.fireEvent("iconclschange",c,b,a))},setTitle:function(e){var c=this,b=c.title,g=c.header,a=c.reExpander,d=c.placeholder;e!==b&&(c.title=e,g?g.isHeader&&g.setTitle(e):(c.rendered||c.afterHeaderInit)&&c.updateHeader(),c.headingEl&&c.headingEl.setHtml(e),a&&a.setTitle(e),d&&d.setTitle&&d.setTitle(e),c.fireEvent("titlechange",c,e,b))},setHiddenDocked:function(){var b=this,a=new Ext.dom.CompositeElement;b.hiddenOnCollapse.add(b.body),a.add(b.body),b.setDockedItemsVisibility(a,!1)},setUI:function(b){var a=this;Ext.container.Container.prototype.setUI.apply(this,arguments),a.header&&a.header.rendered&&a.header.setUI(b)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var c,b=this,a=b.collapseTool;!a&&b.collapsible&&(b.collapseDirection=b.collapseDirection||b.getHeaderPosition()||"top",c={xtype:"tool",handler:b.toggleCollapse,scope:b},b.isAccordionPanel&&(c.focusable=!1,c.ariaRole="presentation"),b.collapseTool=b.expandTool=a=Ext.widget(c)),a&&(b.collapsed&&!b.isPlaceHolderCollapse()?(a.setType("expand-"+b.getOppositeDirection(b.collapseDirection)),a.setTooltip(b.expandToolText)):(a.setType("collapse-"+b.collapseDirection),a.setTooltip(b.collapseToolText)))},navigateAccordionHeader:function(d){var c,b=this;switch(d.getKey()){case d.UP:case d.LEFT:c=b.findAccordionSibling("prev");break;case d.DOWN:case d.RIGHT:c=b.findAccordionSibling("next");break;case d.HOME:c=b.findAccordionSibling("first");break;case d.END:c=b.findAccordionSibling("last");break;case d.DELETE:(c=b.findAccordionSibling("prev")||b.findAccordionSibling("next"))||(d.doNotClose=!0)}d.stopEvent(),c&&c!==b&&c.header.titleCmp.focus()},navigateAccordionBody:function(b){var a;b.getKey()===b.UP&&(a=this),b.stopEvent(),a&&a.header.titleCmp.focus()},findAccordionSibling:function(d,e){var b,c=this,a="[isAccordionPanel]";switch(d){case"prev":(b=c.prev(a))||(c.accordionWrapOver?b=c.ownerCt.child(a+":last"):e&&(b=c));break;case"next":(b=c.next(a))||(c.accordionWrapOver?b=c.ownerCt.child(a+":first"):e&&(b=c));break;case"first":b=c.ownerCt.child(a+":first");break;case"last":b=c.ownerCt.child(a+":last")}return b},fireDefaultButton:function(c){var d,a,b=this;if(d=b.lookupReferenceHolder(!1)||b,(a=d.lookupReference(b.defaultButton))&&a.click)return a.click(c),c.stopEvent(),!1},maybeClose:function(b){var a=this;a.closable&&(a.navigateAccordionHeader(b),b.doNotClose||a.close())},canFocus:function(a,b){return this.collapsed?!(!this.placeholder||!this.placeholder.canFocus(a,b)):this.mixins.focusable.canFocus.call(this,a,b)},focus:function(){var a=this,b=a.placeholder;a.collapsed&&b&&b.canFocus()?b.focus.apply(b,arguments):Ext.container.Container.prototype.focus.apply(this,arguments)},onFocusEnter:function(c){var b=this,a=b.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,c),b.isAccordionPanel&&a&&a.setAttribute("aria-selected",!0)},onFocusLeave:function(c){var b=this,a=b.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,c),b.isAccordionPanel&&a&&a.setAttribute("aria-selected","false")},updateHeaderPosition:function(a){var b=this.header;b&&b.isHeader&&b.setDock(a)},updateIconAlign:function(b){var a=this.header;a&&a.isHeader&&a.setIconAlign(b)},updateTitleAlign:function(b){var a=this.header;a&&a.isHeader&&a.setTitleAlign(b)},updateTitleRotation:function(a){var b=this.header;b&&b.isHeader&&b.setTitleRotation(a)},unghost:function(c,a,b){var g=this,e=g.el,d=g.ghostPanel;d&&(e.show(),e.setVisibilityMode(g.elVisMode),!1!==c?!1!==a&&g.setPagePosition(d.getXY()):e.hide(),d.el.hide(),d.setHiddenState(!0))},updateHeader:function(a){var n,b,j=this,e=j.header,m=j.getTitle(),h=j.tools,l=j.getIcon(),k=j.getGlyph(),o=j.getIconCls(),d=k||l||o,i=j.ariaEl.dom,g=j.getHeaderPosition(),c="left"===g||"right"===g;Ext.isObject(e)||!1!==e&&(a||m||d||h&&h.length||j.collapsible&&!j.titleCollapse)?(e&&e.isHeader?(e.dockToEl=!0,e.show()):(e=j.header=Ext.widget(Ext.merge({xtype:"header",title:m,titleAlign:j.getTitleAlign(),vertical:c,dock:j.getHeaderPosition()||"top",dockToEl:!0,titleRotation:j.getTitleRotation(),textCls:j.headerTextCls,iconCls:o,iconAlign:j.getIconAlign(),icon:l,glyph:k,baseCls:j.baseCls+"-header",tools:h,ui:j.ui,id:j.id+"_header",overCls:j.headerOverCls,indicateDrag:j.draggable,frame:(j.frame||j.alwaysFramed)&&j.frameHeader,ignoreParentFrame:j.frame||j.overlapHeader,ignoreBorderManagement:j.frame||j.ignoreHeaderBorderManagement,isAccordionHeader:j.isAccordionPanel,ownerCt:j,synthetic:!0,listeners:j.collapsible&&j.titleCollapse?{click:j.toggleCollapse,scope:j}:null},j.header)),j.addDocked(e,0)),j.isAccordionPanel?i?(i.setAttribute("aria-labelledby",e.id+"-title"),i.removeAttribute("aria-label")):(b=j.ariaRenderAttributes||(j.ariaRenderAttributes={}),b["aria-labelledby"]=e.id+"-title",delete b["aria-label"]):m?"tabpanel"!==j.ariaRole&&(i?(i.setAttribute("aria-labelledby",e.id+"-title-textEl"),i.removeAttribute("aria-label")):(b=j.ariaRenderAttributes||(j.ariaRenderAttributes={}),b["aria-labelledby"]=e.id+"-title-textEl",delete b["aria-label"])):j.ariaRenderAttributes&&delete j.ariaRenderAttributes["aria-label"]):(e&&e.hide(),m=Ext.util.Format.stripTags(m),i?i.hasAttribute("aria-labelledby")||(m?i.setAttribute("aria-label",m):i.removeAttribute("aria-label")):(b=j.ariaRenderAttributes||(j.ariaRenderAttributes={}),b["aria-labelledby"]||(m?b["aria-label"]=m:delete b["aria-label"]))),j.isViewportBorderChild&&!j.hasOwnProperty("ariaRole")&&(j.ariaRole="region"),m&&"region"===j.ariaRole?(n=j.headingEl,n?n.setHtml(m):j.rendered?(j.headingEl=Ext.dom.Helper.insertFirst(j.el,{tag:"div",id:j.id+"-headingEl",role:"heading",class:"x-hidden-clip",style:"height:0",html:m},!0),i.removeAttribute("aria-label"),i.setAttribute("aria-labelledby",j.id+"-headingEl")):(j.headingText=j.title,b=j.ariaRenderAttributes||(j.ariaRenderAttributes={}),b["aria-labelledby"]=j.id+"-headingEl",delete b["aria-label"])):j.headingEl&&(j.headingEl.destroy(),j.headingEl=null)},statics:{floatCls:"x-border-region-slide-in"},privates:{addUIToElement:function(){var a=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments),a.addBodyCls(a.baseCls+"-body-"+a.ui)},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},initDraggable:function(){var a=this;a.simpleDrag?a.initSimpleDraggable():a.dd=new Ext.panel.DD(a,Ext.isBoolean(a.draggable)?null:a.draggable)},initResizable:function(a){Ext.container.Container.prototype.initResizable.call(this,a),this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var b=this,a=b.draggable;b.header||a.delegate||b.updateHeader(!0),(b.header||a.delegate)&&(a=Ext.apply({el:b.el,delegate:b.header&&b.header.el},a),(b.constrain||b.constrainHeader)&&(a.constrain=b.constrain,a.constrainDelegate=b.constrainHeader,a.constrainTo=b.constrainTo||b.container),a=b.dd=new Ext.util.ComponentDragger(b,a),b.relayEvents(a,["dragstart","drag","dragend"]))},removeUIFromElement:function(){var a=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments),a.removeBodyCls(a.baseCls+"-body-"+a.ui)},setupRenderTpl:function(a){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments),this.setupDockingRenderTpl(a)},slideOutFloatedPanel:function(b){var e,a,d=this,g=d.el,c=function(){d.slideOutFloatedPanelEnd(),d.el.removeCls("x-border-region-slide-in"),d.fireEvent("endfloat",d)};if(!d.isSliding&&!d.destroyed){if(d.isSliding=!0,d.floated=!1,d.slideOutFloatedPanelBegin(),b)return g.hide(),c();"string"==typeof d.collapsed&&(e=d.convertCollapseDir(d.collapsed)),d.fireEvent("beginfloat",d),g.slideOut(e,{preserveScroll:!0,duration:Ext.Number.from(d.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:c}}),this.containsFocus&&(a=this.findFocusTarget())&&a.focus()}},slideOutFloatedPanelBegin:function(){var b=this,d=(b.placeholder.el,b.el,b.bodyMousedownListener);b.collapsed=b.floatedFromCollapse,b.setHiddenState(!0),b.floatedFromCollapse=null,Ext.destroy(b.pointerLeaveListener,b.phHoverListeners,b.elHoverListeners),d&&(b.bodyMousedownListener=d.destroy())},slideOutFloatedPanelEnd:function(a){var b=this;b.collapseTool&&b.collapseTool.el.show(),b.slideOutTask.cancel(),b.isSliding=!1,a||b.fireEvent("unfloat",b)}}},0,["panel"],["component","box","container","panel"],{component:!0,box:!0,container:!0,panel:!0},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var a=this.prototype;a.animCollapse=Ext.enableFx,a.placeholderCollapseHideMode=Ext.Element.VISIBILITY}),Ext.cmd.derive("Ext.layout.container.Table",Ext.layout.container.Container,{alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:"x-table-layout-ct",tableCls:"x-table-layout",cellCls:"x-table-layout-cell",childEls:["table","tbody"],tableAttrs:null,getItemSizePolicy:function(a){return this.autoSizePolicy},initInheritedState:function(b,a){a.inShrinkWrapTable=!0},getLayoutItems:function(){var e,d,b=[],c=Ext.layout.container.Container.prototype.getLayoutItems.call(this),a=c.length;for(d=0;d<a;d++)e=c[d],e.hidden||b.push(e);return b},getHiddenItems:function(){var d,e,b=[],c=this.owner.items.items,a=c.length;for(d=0;d<a;++d)e=c[d],e.rendered&&e.hidden&&b.push(e);return b},renderChildren:function(){var o,m,b,a,n,l,k,d,j=this,h=j.getLayoutItems(),e=j.tbody.dom,p=e.rows,g=h.length,c=j.getHiddenItems();for(o=j.calculateCells(h),d=0;d<g;d++)if(m=o[d],b=m.rowIdx,a=m.cellIdx,n=h[d],l=p[b],l||(l=e.insertRow(b),j.trAttrs&&l.set(j.trAttrs)),k=Ext.get(l.cells[a]||l.insertCell(a)),n.rendered?j.isValidParent(n,k,b,a,e)||j.moveItem(n,k,0):j.renderItem(n,k,0),j.tdAttrs&&k.set(j.tdAttrs),n.tdAttrs&&k.set(n.tdAttrs),k.set({colSpan:n.colspan||1,rowSpan:n.rowspan||1,cls:j.cellCls+" "+(n.cellCls||"")}),!o[d+1]||o[d+1].rowIdx!==b)for(a++;l.cells[a];)l.deleteCell(a);for(b++;e.rows[b];)e.deleteRow(b);for(d=0,g=c.length;d<g;++d)j.ensureInDocument(c[d].getEl())},ensureInDocument:function(a){for(var b=a.dom.parentNode;b;){if("BODY"===b.tagName.toUpperCase())return;b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(g){if(g.hasDomProp("containerChildrenSizeDone")){var c=g.targetContext,b=g.widthModel.shrinkWrap,a=g.heightModel.shrinkWrap,h=a||b,d=h&&this.table.dom,e=h&&c.getPaddingInfo();b&&g.setContentWidth(d.offsetWidth+e.width,!0),a&&g.setContentHeight(d.offsetHeight+e.height,!0)}else this.done=!1},calculateCells:function(k){var l,d,c,m=[],b=0,e=0,a=0,g=this.columns||1/0,n=[],h=k.length;for(d=0;d<h;d++){for(l=k[d];e>=g||n[e]>0;)if(e>=g)for(e=0,a=0,b++,c=0;c<g;c++)n[c]>0&&n[c]--;else e++;for(m.push({rowIdx:b,cellIdx:a}),c=l.colspan||1;c;--c)n[e]=l.rowspan||1,++e;++a}return m},getRenderTree:function(){var d,n,l,h,b,a,k,m,j=this,g=j.getLayoutItems(),o=[],p=Ext.apply({tag:"table",id:j.owner.id+"-table","data-ref":"table",role:"presentation",cls:j.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",id:j.owner.id+"-tbody","data-ref":"tbody",role:"presentation",cn:o}},j.tableAttrs),c=j.tdAttrs,e=g.length;for(m=j.calculateCells(g),d=0;d<e;d++)n=g[d],l=m[d],b=l.rowIdx,a=l.cellIdx,h=o[b],h||(h=o[b]={tag:"tr",role:"presentation",cn:[]},j.trAttrs&&Ext.apply(h,j.trAttrs)),k=h.cn[a]={tag:"td",role:"presentation"},c&&Ext.apply(k,c),Ext.apply(k,{colSpan:n.colspan||1,rowSpan:n.rowspan||1,cls:j.cellCls+" "+(n.cellCls||"")}),j.configureItem(n),k.cn=n.getRenderTree();return p},isValidParent:function(c,d,b,a){return 3===arguments.length?this.table.isAncestor(c.el):c.el.dom.parentNode===this.tbody.dom.rows[b].cells[a]}},0,0,0,0,["layout.table"],0,[Ext.layout.container,"Table",Ext.layout,"TableLayout"],0),Ext.cmd.derive("Ext.container.ButtonGroup",Ext.panel.Panel,{alternateClassName:"Ext.ButtonGroup",baseCls:"x-btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",bodyAriaRole:"toolbar",focusableContainerEl:"body",initComponent:function(){var a=this,b=a.columns;b&&(a.layout=Ext.apply({},{columns:b},a.layout)),a.title||a.addClsWithUI(a.noTitleCls),Ext.panel.Panel.prototype.initComponent.call(this)},onBeforeAdd:function(a){a.isButton&&(this.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?a.ui=this.defaultButtonUI:a.ui=a.ui+"-toolbar"),Ext.panel.Panel.prototype.onBeforeAdd.apply(this,arguments)},beforeRender:function(){var a,b=this;Ext.panel.Panel.prototype.beforeRender.call(this),b.afterHeaderInit&&!b.header&&b.title&&(a=b.bodyAriaRenderAttributes||(b.bodyAriaRenderAttributes={}),a["aria-label"]=b.title)},updateHeader:function(d){var e,b,c=this,a=c.body;Ext.panel.Panel.prototype.updateHeader.call(this,d),e=c.header,e?a?(a.dom.setAttribute("aria-labelledby",e.id+"-title-textEl"),a.dom.removeAttribute("aria-label")):(b=c.bodyAriaRenderAttributes||(c.bodyAriaRenderAttributes={}),b["aria-labelledby"]=e.id+"-title-textEl",delete b["aria-label"]):c.title&&(a?(a.dom.setAttribute("aria-label",c.title),a.dom.removeAttribute("aria-labelledby")):(b=c.bodyAriaRenderAttributes||(c.bodyAriaRenderAttributes={}),b["aria-label"]=c.title,delete b["aria-labelledby"]))},privates:{applyDefaults:function(a){return Ext.isString(a)||(a=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)),a}}},0,["buttongroup"],["component","box","container","panel","buttongroup"],{component:!0,box:!0,container:!0,panel:!0,buttongroup:!0},["widget.buttongroup"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.container,"ButtonGroup",Ext,"ButtonGroup"],0),Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:!1,clearPrototypeOnDestroy:!1,disabled:0,constructor:function(a){Ext.apply(this,a)},destroy:function(){this.unbind(),this.callParent()},bind:function(b){var a=this;a.target=b,b.on("beforedestroy",a.disable,a),a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;b&&!b.destroyed&&(a.onContainerRemove(b,b),b.un("beforedestroy",a.disable,a)),a.items=Ext.destroy(a.items)},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(b,a){this.disabled||(Ext.ComponentQuery.is(a,this.selector)&&this.onItemAdd(a.ownerCt,a),a.isQueryable&&this.onContainerAdd(a))},onItemAdd:function(c,b){var e=this,a=e.items,d=e.addHandler;e.disabled||(d&&d.call(e.scope||b,b),a&&a.add(b)),b.clearPropertiesOnDestroy=b.clearPrototypeOnDestroy=!1},onItemRemove:function(c,b){var e=this,a=e.items,d=e.removeHandler;e.disabled||(d&&d.call(e.scope||b,b),a&&a.remove(b))},onContainerAdd:function(e,g){var c,a,d,b,h=this;if(e.isContainer&&e.on({scope:h,add:h.handleAdd,dockedadd:h.handleAdd,remove:h.handleRemove,dockedremove:h.handleRemove}),!0!==g)for(c=e.query(h.selector),d=0,a=c.length;d<a;++d)b=c[d],h.onItemAdd(b.ownerCt,b);for(c=e.query(">container"),d=0,a=c.length;d<a;++d)h.onContainerAdd(c[d],!0);e.clearPropertiesOnDestroy=e.clearPrototypeOnDestroy=!1},handleRemove:function(b,a){var c=this;c.disabled||(Ext.ComponentQuery.is(a,c.selector)&&c.onItemRemove(b,a),a.isQueryable&&c.onContainerRemove(b,a))},onContainerRemove:function(e,c){var b,d,a,g,h=this;if(!c.destroyed&&c.isContainer&&(h.removeCtListeners(c),!c.destroying)){for(b=c.query(h.selector),d=0,a=b.length;d<a;++d)g=b[d],h.onItemRemove(g.ownerCt,g);for(b=c.query("container"),d=0,a=b.length;d<a;++d)h.removeCtListeners(b[d])}h.invalidateItems(!0)},removeCtListeners:function(a){var b=this;a.un({scope:b,add:b.handleAdd,dockedadd:b.handleAdd,remove:b.handleRemove,dockedremove:b.handleRemove})},getItems:function(){var b=this,a=b.items;return a||(a=b.items=new Ext.util.MixedCollection,a.addAll(b.target.query(b.selector))),a},invalidateItems:function(c){var b=this,a=b.invalidateHandler;c&&a&&a.call(b.scope||b,b),b.items=Ext.destroy(b.items)}},1,0,0,0,0,0,[Ext.container,"Monitor"],0),Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{id:"responsive",isPlugin:!0,constructor:function(a){var d=this,b=a.cmp,e=Ext.apply({responsiveConfig:b.responsiveConfig,responsiveFormulas:b.responsiveFormulas},a);delete e.cmp,d.cmp=b,d.initConfig(e),d.transformed&&(b.setConfig(d.transformed),d.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(c){var b=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,c);b.ptype&&(b=Ext.apply({},b),delete b.ptype),this.transformed=b;var a=Ext.apply({},c);return delete a.ptype,delete a.responsiveConfig,delete a.responsiveFormulas,a},updateResponsiveState:function(){var a=this.getResponsiveState();this.cmp.setConfig(a)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0),Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(a){this.cmp=a,a&&!a.isViewport&&(this.decorate(a),a.renderConfigs&&a.flushRenderConfigs(),a.setupViewport())},statics:{decorate:function(a){Ext.applyIf(a.prototype||a,{ariaRole:"application",viewportCls:"x-viewport"}),Ext.override(a,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent(),this.setupViewport()},getSizeModel:function(){var b=Ext.layout.SizeModel.configured;return b.pairsByHeightOrdinal[b.ordinal]},handleViewportResize:function(){var e=this,c=Ext.dom.Element,d=c.getViewportWidth(),b=c.getViewportHeight();d===e.width&&b===e.height||e.setSize(d,b)},setupViewport:function(){var c=this,b=document.body;b.id||(b.id=c.id),b.setAttribute("data-componentid",c.id),c.ariaStaticRoles[c.ariaRole]||b.setAttribute("role",c.ariaRole),b=c.el=Ext.getBody(),Ext.fly(document.documentElement).addCls(c.viewportCls),b.setHeight=b.setWidth=Ext.emptyFn,b.dom.scroll="no",c.allowDomMove=!1,c.renderTo=b,Ext.supports.Touch&&c.addMeta("apple-mobile-web-app-capable","yes"),Ext.getScrollbarSize(),c.width=c.height=void 0,c.initialViewportHeight=Ext.Element.getViewportHeight(),c.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(b){Ext.supports.Touch&&(document.body.scrollTop=0),this.callParent([b])},onRender:function(){var c=this,b=(c.getOverflowEl(),Ext.getBody());c.callParent(arguments),Ext.setViewportScroller(c.getScrollable()||{x:!1,y:!1,element:b}),c.getOverflowEl()!==b&&b.setStyle("overflow","hidden"),c.width=c.initialViewportWidth,c.height=c.initialViewportHeight,c.initialViewportWidth=c.initialViewportHeight=null},initInheritedState:function(d,c){var e=this,b=Ext.rootInheritedState;d!==b?e.initInheritedState(e.inheritedState=b,e.inheritedStateInner=Ext.Object.chain(b)):e.callParent([d,c])},doDestroy:function(){var c,d=this,b=Ext.rootInheritedState;for(c in b)"rtl"!==c&&delete b[c];d.removeUIFromElement(),d.el.removeCls(d.baseCls),Ext.fly(document.body.parentNode).removeCls(d.viewportCls),d.callParent()},addMeta:function(b,c){var d=document.createElement("meta");d.setAttribute("name",b),d.setAttribute("content",c),Ext.getHead().appendChild(d)},privates:{applyTargetCls:function(c){this.el===this.getTargetEl()?this.el.addCls(c):this.callParent([c])},disableTabbing:function(){var b=this.el;b&&b.saveTabbableState({skipSelf:!0})},enableTabbing:function(){var b=this.el;b&&b.restoreTabbableState(!0)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize(),Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(a){a.prototype.decorate=a.decorate}),Ext.cmd.derive("Ext.container.Viewport",Ext.container.Container,{alternateClassName:"Ext.Viewport",ariaRole:"application",privates:{updateResponsiveState:function(){this.handleViewportResize(),this.mixins.responsive.updateResponsiveState.call(this)}}},0,["viewport"],["component","box","container","viewport"],{component:!0,box:!0,container:!0,viewport:!0},["widget.viewport"],[[Ext.mixin.Responsive.prototype.mixinId||Ext.mixin.Responsive.$className,Ext.mixin.Responsive]],[Ext.container,"Viewport",Ext,"Viewport"],function(){Ext.plugin.Viewport.decorate(this)}),Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(g){var j,a,h,b,c,d=0;for(Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments),h=g.childItems,c=h.length,b=0;b<c&&(a=h[b],!(j=a.target.anchorSpec)||(a.widthModel.calculated&&j.right&&(d|=1),a.heightModel.calculated&&j.bottom&&(d|=2),3!==d));++b);g.anchorDimensions=d},calculateItems:function(h,a){var m,s,n,r,k,d,q=this,l=h.childItems,g=l.length,o=a.gotHeight,j=a.gotWidth,e=a.height,c=a.width,b=(j?1:0)|(o?2:0),p=h.anchorDimensions;if(!p)return!0;for(k=0;k<g;k++)s=l[k],n=s.getMarginInfo(),m=s.target.anchorSpec,j&&s.widthModel.calculated&&(d=m.right(c)-n.width,d=q.adjustWidthAnchor(d,s),s.setWidth(d)),o&&s.heightModel.calculated&&(r=m.bottom(e)-n.height,r=q.adjustHeightAnchor(r,s),s.setHeight(r));return(b&p)===p},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(c,g,b){if(c&&"none"!==c){var e,d=this.anchorFactory;if(this.parseAnchorRE.test(c))return d.standard(b-g);if(-1!==c.indexOf("%"))return d.ratio(.01*parseFloat(c.replace("%","")));if(e=parseInt(c,10),!isNaN(e))return d.offset(e)}return null},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b},configureItem:function(g){var b,c,h,e=this,a=e.owner,d=g.anchor;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments),g.anchor||!g.items||Ext.isNumber(g.width)||(g.anchor=d=e.defaultAnchor),a.anchorSize?"number"==typeof a.anchorSize?c=a.anchorSize:(c=a.anchorSize.width,h=a.anchorSize.height):(c=a.initialConfig.width,h=a.initialConfig.height),d&&(b=d.split(" "),g.anchorSpec={right:e.parseAnchor(b[0],g.initialConfig.width,c),bottom:e.parseAnchor(b[1],g.initialConfig.height,h)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(c){var b,e=c.anchorSpec,a="$",d=this.sizePolicy;return e&&(b=this.owner.getSizeModel(),e.right&&!b.width.shrinkWrap&&(d=d.r),e.bottom&&!b.height.shrinkWrap&&(a="b")),d[a]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0),Ext.cmd.derive("Ext.dashboard.Panel",Ext.panel.Panel,{cls:"x-dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,loadMessage:"Loading...",minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){var a=this;a.animateClose?a.closing||(a.closing=!0,a.el.animate({opacity:0,callback:a.finishClose,scope:a})):a.finishClose()},finishClose:function(){var b=this,a=b.closeAction;b.closing=!1,b.fireEvent("close",b),Ext.suspendLayouts(),b[a](),Ext.resumeLayouts(!0),"hide"===a&&b.el.setOpacity(1)},afterRender:function(){Ext.panel.Panel.prototype.afterRender.call(this),this.loading&&this.onViewBeforeLoad()},getLoadMask:function(){var a,c=this,b=c.rendered&&c.loadMask;return b&&!b.isComponent&&(a={target:c},!0===b?b=a:Ext.apply(a,b),c.loadMask=b=Ext.ComponentManager.create(a,"loadmask")),b||null},onAdd:function(a){Ext.panel.Panel.prototype.onAdd.apply(this,arguments),a.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var a=this.getLoadMask();a&&a.show()},onViewLoaded:function(){this.loading=!1;var b=this.getLoadMask();b&&b.hide();var a=this.items.getAt(0);if(a.getTitle){var c=a.getTitle();c&&this.setTitle(c)}},setBox:function(a){this.setSize(a.width,a.height)},getState:function(){var a=this,b=Ext.panel.Panel.prototype.getState.call(this)||{};return b.collapsed||a.addPropertyToState(b,"height",a.rendered?a.getHeight():a.height||a.minHeight||100),b}},0,["dashboard-panel"],["component","box","container","panel","dashboard-panel"],{component:!0,box:!0,container:!0,panel:!0,"dashboard-panel":!0},["widget.dashboard-panel"],0,[Ext.dashboard,"Panel"],0),Ext.cmd.derive("Ext.dashboard.Column",Ext.container.Container,{layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:"x-dashboard-column",synthetic:!0,onRemove:function(k,h){var c,a,b,g,j=this,d=j.ownerCt,e=0;if(d&&0===j.items.getCount()&&(c=Ext.Array.filter(d.query(">"+j.xtype+"[rowIndex="+j.rowIndex+"]"),function(i){return i!==j}),a=c.length,!j.destroying&&!j.destroyed)){if(d.remove(j),1===a)c[0].columnWidth=1;else{for(g=0;g<a;g++)e+=c[g].columnWidth||0;for(g=0;g<a;g++)b=c[g].columnWidth,c[g].columnWidth=Math.floor(b/e*100)/100}h&&d.updateLayout()}}},0,["dashboard-column"],["component","box","container","dashboard-column"],{component:!0,box:!0,container:!0,"dashboard-column":!0},["widget.dashboard-column"],0,[Ext.dashboard,"Column"],0),Ext.cmd.derive("Ext.layout.container.Column",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:"x-column",targetCls:"x-column-layout-ct",clearSide:"left",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,needsItemSize:!0,isItemShrinkWrap:function(a){return!0},getItemSizePolicy:function(a,b){return a.columnWidth&&(b||(b=this.owner.getSizeModel()),!b.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(d,a){var j,q,h,c,k,m,p=this,n=p.columnCount,e=d.targetContext,o=d.childItems,l=o.length,b=0,g=a.gotWidth;if(!1===g)e.domBlock(p,"width"),j=!0;else{if(!g)return!0;q=a.width}for(h=0;h<l;++h)c=o[h],n&&(h%n?c.setProp("clear",null):c.setProp("clear",p.clearSide)),k=c.getMarginInfo().width,c.widthModel.calculated||(m=c.getProp("width"),"number"!=typeof m&&(c.block(p,"width"),j=!0),b+=m+k);if(!j){for(q=q<b?0:q-b,h=0;h<l;++h)c=o[h],c.widthModel.calculated&&(k=c.marginInfo.width,m=c.target.columnWidth,m=Math.floor(m*q)-k,m=c.setWidth(m),b+=m+k);d.setContentWidth(b+d.paddingContext.getPaddingInfo().width)}return!j}},0,0,0,0,["layout.column"],0,[Ext.layout.container,"Column",Ext.layout,"ColumnLayout"],0),Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){var b=this;Ext.apply(b,a),b.dragRegion=new Ext.util.Region(0,0,0,0),b.el&&b.initEl(b.el),b.mixins.observable.constructor.call(b),b.disabled&&b.disable(),Ext.supports.Touch&&Ext.getWin().on({touchstart:"onWindowTouchStart",scope:b,capture:!0})},initEl:function(b){var e,d,c=this,a=c.delegate;c.el=b=Ext.get(b),b.addCls("x-unselectable"),a&&a.isElement&&(c.handle=a),c.delegate=c.handle?void 0:c.delegate,Ext.supports.Touch&&(e=Ext.ComponentManager.fromElement(b),(d=e&&e.getScrollable())&&(e=d.getElement(),d=!(c.handle&&!e.contains(c.handle))&&!(c.delegate&&!e.down(c.delegate))&&(d.getX()||d.getY()))),c.handle||(c.handle=b),c.handleListeners={scope:c,delegate:c.delegate,dragstart:c.onDragStart},d?(c.handleListeners.longpress=c.onMouseDown,c.handleListeners.mousedown={fn:c.onMouseDown,delegate:c.delegate,translate:!1},c.handleListeners.contextmenu=function(g){g.stopEvent()}):c.handleListeners.mousedown=c.onMouseDown,Ext.supports.TouchEvents||!c.trackOver&&!c.overCls||Ext.apply(c.handleListeners,{mouseover:c.onMouseOver,mouseout:c.onMouseOut}),c.mon(c.handle,c.handleListeners),c.keyNav=new Ext.util.KeyNav({target:b,up:c.onResizeKeyDown,left:c.onResizeKeyDown,right:c.onResizeKeyDown,down:c.onResizeKeyDown,scope:c})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var a=this;a.endDrag({}),a.el=a.handle=a.onBeforeStart=a.onStart=a.onDrag=a.onEnd=a.onCancel=null,a.callParent()},onWindowTouchStart:function(a){this.mouseIsDown&&this.onMouseUp(a)},onMouseOver:function(k,j){var h,d,c,a,b,g=this;if(!g.disabled&&(k.within(k.target,!0,!0)||g.delegate)){if(h=g.handleCls,g.mouseIsOut=!1,h)for(c=0,a=g.handleEls.length;c<a;c++)d=g.handleEls[c],b=d.delegateCls,b||(b=d.delegateCls=[h,"-",d.region,"-over"].join("")),d.addCls([b,g.overCls]);g.fireEvent("mouseover",g,k,g.delegate?k.getTarget(g.delegate,j):g.handle)}},onMouseOut:function(g){var c,b,a,d=this;if(d.mouseIsDown)d.mouseIsOut=!0;else{if(d.handleCls)for(b=0,a=d.handleEls.length;b<a;b++)c=d.handleEls[b],c.removeCls([c.delegateCls,d.overCls]);d.fireEvent("mouseout",d,g)}},onMouseDown:function(d,c){var b=this,a=d.parentEvent||d;b.disabled||a.dragTracked||(b.dragTarget=b.delegate?c:b.handle.dom,b.startXY=b.lastXY=d.getXY(),b.startRegion=Ext.fly(b.dragTarget).getRegion(),!1!==b.fireEvent("mousedown",b,d)&&!1!==b.fireEvent("beforedragstart",b,d)&&!1!==b.onBeforeStart(d)&&(b.mouseIsDown=!0,a.dragTracked=!0,b.el.setCapture(),d.stopPropagation(),!1===b.preventDefault&&"touch"!==d.pointerType||d.preventDefault(),Ext.getDoc().on({scope:b,capture:!0,mouseup:b.onMouseUp,mousemove:b.onMouseMove,selectstart:b.stopSelect}),b.dragEnded=!1,b.tolerance?b.autoStart&&(b.timer=Ext.defer(b.triggerStart,!0===b.autoStart?1e3:b.autoStart,b,[d])):b.triggerStart()))},onMouseMove:function(g,d){var b=this,c=g.getXY(),a=b.startXY;if(g.stopPropagation(),
!1!==b.preventDefault&&g.preventDefault(),!b.dragEnded){if(b.lastXY=c,!b.active){if(!(Math.max(Math.abs(a[0]-c[0]),Math.abs(a[1]-c[1]))>b.tolerance))return;b.triggerStart(g)}!1===b.fireEvent("mousemove",b,g)?b.onMouseUp(g):(b.onDrag(g),b.fireEvent("drag",b,g))}},onMouseUp:function(b){var a=this;a.mouseIsDown=!1,a.mouseIsOut&&(a.mouseIsOut=!1,a.onMouseOut(b)),!1!==a.preventDefault&&b.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),a.fireEvent("mouseup",a,b),a.endDrag(b)},endDrag:function(c){var b=this,a=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,capture:!0,scope:b}),b.clearStart(),b.active=!1,b.dragEnded=!0,a?(b.onEnd(c),b.fireEvent("dragend",b,c)):b.onCancel(c),b._constrainRegion=null},triggerStart:function(b){var a=this;a.clearStart(),a.active=!0,a.onStart(b),a.fireEvent("dragstart",a,b)},clearStart:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},stopSelect:function(a){return a.stopEvent(),!1},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onCancel:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region)return a.constrainTo;a._constrainRegion||(a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion())}else a._constrainRegion||(a._constrainRegion=a.getDragCt().getViewRegion());return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c),a=this.startXY;return[b[0]-a[0],b[1]-a[1]]},onDragStart:function(a){a.stopPropagation()},constrainModes:{point:function(b,d){var c=b.dragRegion,a=b.getConstrainRegion();return a?(c.x=c.left=c[0]=c.right=d[0],c.y=c.top=c[1]=c.bottom=d[1],c.constrainTo(a),[c.left,c.top]):d},dragTarget:function(c,g){var d,b=c.startXY,e=c.startRegion.copy(),a=c.getConstrainRegion();return a?(e.translateBy(g[0]-b[0],g[1]-b[1]),e.right>a.right&&(g[0]+=d=a.right-e.right,e.left+=d),e.left<a.left&&(g[0]+=a.left-e.left),e.bottom>a.bottom&&(g[1]+=d=a.bottom-e.bottom,e.top+=d),e.top<a.top&&(g[1]+=a.top-e.top),g):g}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0),Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:!0,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var a,b=Ext.dom.Element;a=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"}),a.unselectable(),a.setSize(b.getDocumentWidth(),b.getDocumentHeight()),a.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},onBeforeStart:function(i){var b,d=this,g=d.getPrevCmp(),a=d.getNextCmp(),c=d.getSplitter().collapseEl,h=i.getTarget();return!(!g||!a)&&(!c||h!==c.dom)&&!a.collapsed&&!g.collapsed&&(d.prevBox=g.getEl().getBox(),d.nextBox=a.getEl().getBox(),d.constrainTo=b=d.calculateConstrainRegion(),b||!1)},onMouseDown:function(b,a){Ext.dd.DragTracker.prototype.onMouseDown.call(this,b,a),this.mouseIsDown&&this.getSplitter().el.dom===a&&Ext.dom.Element.maskIframes()},onMouseUp:function(a){Ext.dd.DragTracker.prototype.onMouseUp.call(this,a),Ext.dom.Element.unmaskIframes()},onStart:function(b){var a=this.getSplitter();this.createDragOverlay(),a.addCls(a.baseCls+"-active")},onResizeKeyDown:function(g){var h,b=this,d=b.getSplitter(),a=g.getKey(),c="vertical"===d.orientation?0:1,i=a===g.UP||a===g.LEFT?-1:1;!b.active&&b.onBeforeStart(g)&&(Ext.fly(g.target).on("keyup",b.onResizeKeyUp,b),b.triggerStart(g),b.onMouseDown(g),b.startXY=d.getXY(),b.lastKeyDownXY=Ext.Array.slice(b.startXY),h=b.easing=new Ext.fx.easing.Linear,h.setStartTime(Ext.Date.now()),h.setStartValue(1),h.setEndValue(4),h.setDuration(2e3)),b.active&&(b.lastKeyDownXY[c]=Math.round(b.lastKeyDownXY[c]+i*b.easing.getValue()),b.lastXY=b.lastKeyDownXY,d.setXY(b.getXY("dragTarget")))},onResizeKeyUp:function(a){this.onMouseUp(a)},calculateConstrainRegion:function(){var m,l,d,h=this,a=h.getSplitter(),i=a.getWidth(),j=a.defaultSplitMin,b=a.orientation,e=h.prevBox,k=h.getPrevCmp(),c=h.nextBox,g=h.getNextCmp();return"vertical"===b?(d={prevCmp:k,nextCmp:g,prevBox:e,nextBox:c,defaultMin:j,splitWidth:i},m=new Ext.util.Region(e.y,h.getVertPrevConstrainRight(d),e.bottom,h.getVertPrevConstrainLeft(d)),l=new Ext.util.Region(c.y,h.getVertNextConstrainRight(d),c.bottom,h.getVertNextConstrainLeft(d))):(m=new Ext.util.Region(e.y+(k.minHeight||j),e.right,(k.maxHeight?e.y+k.maxHeight:c.bottom-(g.minHeight||j))+i,e.x),l=new Ext.util.Region((g.maxHeight?c.bottom-g.maxHeight:e.y+(k.minHeight||j))-i,c.right,c.bottom-(g.minHeight||j),c.x)),m.intersect(l)},performResize:function(n,h){for(var r,s,p=this,a=p.getSplitter(),j=a.orientation,q=p.getPrevCmp(),o=p.getNextCmp(),b=a.ownerCt,l=b.query(">[flex]"),m=l.length,c="vertical"===j,k=0,g=c?"width":"height",d=0;k<m;k++)r=l[k],s=c?r.getWidth():r.getHeight(),d+=s,r.flex=s;h=c?h[0]:h[1],q&&(s=p.prevBox[g]+h,q.flex?q.flex=s:q[g]=s),o&&(s=p.nextBox[g]-h,o.flex?o.flex=s:o[g]=s),b.updateLayout()},endDrag:function(){var a=this;a.overlay&&(a.overlay.destroy(),delete a.overlay),Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(c){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+"-active"),a.performResize(c,a.getResizeOffset())},onDrag:function(g){var c=this,h=c.getOffset("dragTarget"),d=c.getSplitter(),b=d.getEl();"vertical"===d.orientation?b.setX(c.startRegion.left+h[0]):b.setY(c.startRegion.top+h[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0),Ext.cmd.derive("Ext.layout.container.ColumnSplitterTracker",Ext.resizer.SplitterTracker,{onStart:function(a){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0}),Ext.resizer.SplitterTracker.prototype.onStart.apply(this,arguments)},endDrag:function(){var a=this;Ext.resizer.SplitterTracker.prototype.endDrag.apply(this,arguments),a.getSplitter().el.dom.style.left=0},performResize:function(g,d){var k,a,h,j=this,m=j.getPrevCmp(),i=j.getNextCmp(),b=j.getSplitter(),c=b.ownerCt,l=d[0];m&&i&&(m.width=k=j.prevBox.width+l,i.width=a=j.nextBox.width-l,h=(m.columnWidth+i.columnWidth)/(k+a),m.columnWidth=k*h,i.columnWidth=a*h),c.updateLayout()}},0,0,0,0,0,0,[Ext.layout.container,"ColumnSplitterTracker"],0),Ext.cmd.derive("Ext.layout.container.ColumnSplitter",Ext.resizer.Splitter,{isSplitter:!0,synthetic:!0,cls:"x-splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var a=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);return a.xclass=this.trackerClass,a}},0,["columnsplitter"],["component","box","splitter","columnsplitter"],{component:!0,box:!0,splitter:!0,columnsplitter:!0},["widget.columnsplitter"],0,[Ext.layout.container,"ColumnSplitter"],0),Ext.cmd.derive("Ext.layout.container.Dashboard",Ext.layout.container.Column,{type:"dashboard",firstColumnCls:"x-dashboard-column-first",lastColumnCls:"x-dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(a){var b=Ext.Array;return b.filter(b.from(a),function(c){return c.target&&!0!==c.target.isSplitter})},beginLayout:function(e){var n=this;Ext.layout.container.Column.prototype.beginLayout.call(this,e);var c,j,g,o,a,m,b,k=e.childItems,q=e.rows=[],d=k.length,l=2,h=0,r=0,p=n.owner.getMaxColumns();for(j=0;j<d;++j)m=(c=k[j]).target,a=m&&m.isSplitter,h+=a?0:1,b=a?0:m.columnWidth||1,(l+b>1||p&&h>p)&&(g&&(g.orphan=1,g.el.setHeight(0)),l=0,h=1,q.length&&(r=q.length-1,n.syncFirstLast(n.getColumns(q[r].items))),q.push(o={index:q.length,items:[],maxHeight:0})),l+=b,o.items.push(c),c.row=o,m.rowIndex=o.index,a&&c.el.setHeight(1),g=c;q.length&&n.syncFirstLast(n.getColumns(q[q.length-1].items))},beforeLayoutCycle:function(c){var b=this,a=b.owner.items;b.splitterGen!==a.generation&&(b.syncSplitters(),b.splitterGen=a.generation),Ext.layout.container.Column.prototype.beforeLayoutCycle.apply(this,arguments)},finishedLayout:function(e){var d,j,c,g,h,b=e.childItems,a=b.length;for(Ext.layout.container.Column.prototype.finishedLayout.call(this,e),c=0;c<a;c+=2)g=(j=b[c]).target,d=g.lastBox,h=j.row,h.maxHeight=Math.max(h.maxHeight,d.height),g.width=d.width;for(c=1;c<a;c+=2)g=(j=b[c]).target,j.orphan||g.el.setHeight(j.row.maxHeight)},syncSplitters:function(){for(var g,h=this,a=h.owner,b=a.items.items,c=b.length,e=!0,d=!1;c-- >0;)g=b[c],d?g.isSplitter?d=!1:(e&&(e=!1,a.suspendLayouts()),a.add(c+1,h.getSplitterConfig())):g.isSplitter?(e&&(e=!1,a.suspendLayouts()),a.remove(g)):d=!0;for(;b.length&&(g=b[0]).isSplitter;)e&&(e=!1,a.suspendLayouts()),a.remove(g);e||a.resumeLayouts()},syncFirstLast:function(e){var d,c,k,h,g=this,b=g.firstColumnCls,j=g.lastColumnCls,a=[b,j];for(e=Ext.Array.from(e),d=e.length,c=0;c<d;++c)k=e[c].target,h=c===d-1,c?h?(k.addCls(j),k.removeCls(b)):k.removeCls(a):h?k.addCls(a):(k.addCls(b),k.removeCls(j))}},0,0,0,0,["layout.dashboard"],0,[Ext.layout.container,"Dashboard"],0),Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(c,a,b){c&&this.initTarget(c,a,b)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0),Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:!0,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this),a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this),this.doScroll=this.doScroll.bind(this),this.ddmInstance=a,this.els={},this.dragEl=null,this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null,b.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var g=this;if(g.ddmInstance.dragCurrent){var a=g.proc,e=a.el,c=a.component,h=a.el.ddScrollConfig,i=h&&h.increment?h.increment:g.increment,b=h&&"animate"in h?h.animate:g.animate,d=function(){g.triggerRefresh()};b&&(!0===b?b={callback:d}:b.callback=b.callback?Ext.Function.createSequence(b.callback,d):d),c?(i*=g.dirTrans[a.dir],"up"===a.dir||"down"===a.dir?c.scrollBy(0,i,b):c.scrollBy(i,0,b)):e.scroll(a.dir,i,b),b||d()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id),a.id=0,a.el=null,a.dir=""},startProc:function(c,b){var g,e,d=this,a=d.proc;d.clearProc(),a.el=c,a.dir=b,g=c.ddScrollConfig?c.ddScrollConfig.ddGroup:void 0,e=c.ddScrollConfig&&c.ddScrollConfig.frequency?c.ddScrollConfig.frequency:d.frequency,void 0!==g&&d.ddmInstance.dragCurrent.ddGroup!==g||(a.id=Ext.interval(d.doScroll,e))},onFire:function(h,k){var l,i,d,a,b,g,c,j=this;if(!k&&j.ddmInstance.dragCurrent){j.dragEl&&j.dragEl===j.ddmInstance.dragCurrent||(j.dragEl=j.ddmInstance.dragCurrent,j.refreshCache()),l=h.getPoint(),i=j.proc,d=j.els;for(a in d)if(b=d[a],g=b._region,c=b.ddScrollConfig||j,g&&g.contains(l)&&b.isScrollable()){if(g.bottom-l.y<=c.vthresh)return void(i.el!==b&&j.startProc(b,"down"));if(g.right-l.x<=c.hthresh)return void(i.el!==b&&j.startProc(b,"right"));if(l.y-g.top<=c.vthresh)return void(i.el!==b&&j.startProc(b,"up"));if(l.x-g.left<=c.hthresh)return void(i.el!==b&&j.startProc(b,"left"))}j.clearProc()}},register:function(c){if(Ext.isArray(c))for(var b=0,a=c.length;b<a;b++)this.register(c[b]);else c=Ext.get(c),this.els[c.id]=c},unregister:function(c){if(Ext.isArray(c))for(var b=0,a=c.length;b<a;b++)this.unregister(c[b]);else c=Ext.get(c),delete this.els[c.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var b,a=this.els;for(b in a)"object"==typeof a[b]&&(a[b]._region=a[b].getRegion())}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0),Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b),Ext.apply(this,a),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},containerScroll:!1,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(a,c,b){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(a,c,b){return this.dropAllowed},notifyOut:function(a,c,b){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(a,c,b){return this.overClass&&this.el.removeCls(this.overClass),!1},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el),Ext.dd.DDTarget.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0),Ext.cmd.derive("Ext.dashboard.DropZone",Ext.dd.DropTarget,{ddScrollConfig:{vthresh:75,hthresh:-1,animate:!0,increment:200},containerScroll:!0,overClass:"x-dashboard-dd-over",constructor:function(b,a){this.dashboard=b,b.body.ddScrollConfig=this.ddScrollConfig,Ext.dd.DropTarget.prototype.constructor.call(this,b.body,a)},getOverEvent:function(A,v,C){var n,B,s,q,z,m,u,a,h,p=this.dashboard,b=p.body,o=p.items.items,c=b.getBox(),g=o.length,d=v.getXY(),l=d[0]-c.x+b.getScrollLeft(),j=d[1]-c.y+b.getScrollTop(),r={columnIndex:0,column:null,dashboard:p,above:null,extensible:!1,beforeAfter:0,data:C,panel:C.panel,rawEvent:v,source:A,status:this.dropAllowed};for(s=0;s<g;s+=2){if(z=o[s],m=z.lastBox.width,o[s+1]&&(m+=o[s+1].lastBox.width),v.within(z.el)){if(r.columnIndex=s,r.column=z,r.extensible=this.isRowExtensible(z.rowIndex),n=Math.min(80,.2*m),r.beforeAfter=n=r.extensible&&(l<n?-1:l>m-n?1:0),!n||!r.extensible)for(a=z.items.items,q=0,u=a.length;q<u;++q){if(h=a[q],B=h.el.getHeight(),j<B/2){r.above=h;break}j-=B}break}l-=m}return r},notifyOver:function(p,i,h){var b,g,o,m=this,n=m.dashboard,j=m.getOverEvent(p,i,h),c=j.column&&j.column.el,l=p.proxy,d=j.above,a=0,k=n.hasListeners;return h.lastOver=j,k.validatedrop&&!1===n.fireEvent("validatedrop",j)||k.beforedragover&&!1===n.fireEvent("beforedragover",j)||(b=p.panelProxy.getProxy(),l.getProxy().setWidth("auto"),c?(a=g=c.getWidth(),j.beforeAfter?(p.panelProxy.moveProxy(c.dom,c.dom.firstChild),a=g/2,b.setWidth(a)):(d?p.panelProxy.moveProxy(d.el.dom.parentNode,d.el.dom):p.panelProxy.moveProxy(c.dom,null),b.setWidth("auto")),b.setStyle({float:"none",clear:"none","margin-left":j.beforeAfter>0?g-a-c.getPadding("lr")+"px":"","margin-top":"7px"})):(o=n.body.getPadding("lr"),b.setStyle({float:"left",clear:"left",margin:"0 7px 0 7px"}),b.setWidth(n.body.getWidth()-o),p.panelProxy.moveProxy(n.body.dom.firstChild.firstChild,null)),this.scrollPos=n.body.getScroll(),k.dragover&&n.fireEvent("dragover",j)),j.status},isRowExtensible:function(d){var c=this,b=c.dashboard,a=b.getMaxColumns()||1;return Ext.Array.from(b.query(">dashboard-column[rowIndex="+d+"]")).length<a},notifyDrop:function(p,h,c){Ext.dd.DropTarget.prototype.notifyDrop.apply(this,arguments);var n,b,l=this.dashboard,i=c.lastOver,a=i.panel,m=a.ownerCt,d=i.column,k=d?i.beforeAfter:1,g=m.items.indexOf(a),o=d?i.above?d.items.indexOf(i.above):d.items.getCount():0,j=l.hasListeners;if(m===d){if(1===m.items.getCount())return;if(!k&&(g<o&&--o,g===o))return}j.validatedrop&&!1===l.fireEvent("validatedrop",i)||j.beforedrop&&!1===l.fireEvent("beforedrop",i)||(Ext.suspendLayouts(),a.isMoving=!0,k&&(n=l.items.indexOf(d),n<0?n=l.items.getCount():k>0&&++n,b=l.createColumn(),d?(b.columnWidth=d.columnWidth=d.columnWidth/2,delete d.width):b.columnWidth=1,d=l.insert(n,b),o=0),a.el.dom.style.display="",d.insert(o,a),a.isMoving=!1,d.updateLayout(),Ext.resumeLayouts(!0),j.drop&&l.fireEvent("drop",i))}},1,0,0,0,0,0,[Ext.dashboard,"DropZone"],0),Ext.cmd.derive("Ext.dashboard.Part",Ext.Base,{factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(a){this.initConfig(a)},applyViewTemplate:function(a){return Ext.util.ObjectTemplate.create(a,this.viewTemplateOptions)},displayForm:function(a,b,d,c){d.call(c||this,{})},createView:function(b){var d=this,c=d.getViewTemplate(),a=c.apply(b);return a.dashboard=d.getDashboard(),a.part=d,a._partConfig=b,a}},1,0,0,0,["part.part"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.dashboard,"Part"],0),Ext.cmd.derive("Ext.dashboard.Dashboard",Ext.panel.Panel,{isDashboard:!0,cls:"x-dashboard",bodyCls:"x-dashboard-body",defaultType:"dashboard-column",scrollable:!0,layout:null,stateful:!1,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){var a=this;a.layout||(a.layout={type:"dashboard"}),Ext.panel.Panel.prototype.initComponent.call(this)},applyParts:function(b,c){c||(c=new Ext.util.Collection({decoder:Ext.Factory.part}));var d,a;for(d in b)a=b[d],Ext.isString(a)&&(a={type:a}),a.id=d,a.dashboard=this,c.add(a);return c},getPart:function(a){return this.getParts().getByKey(a)},addNew:function(c,b,e){var d=this;d.getPart(c).displayForm(null,null,function(g){g.type=c,d.addView(g,b,e)})},addView:function(k,e,i){var b,h=this,g=h.query("dashboard-column"),c=g.length,d=e||0,j=k.id?k:h.createView(k),a=h.columnWidths;return c||(b=h.add(0,h.createColumn({columnWidth:Ext.isArray(a)?a[0]:1})),g=[b],c=1),d>=c&&(d=c-1,i=1),!i&&(b=g[d])?b.add(j):(i>0&&++d,b=h.createColumn(),a&&(b.columnWidth=a[d]||(a[d]=1)),b.items||(b.items=[]),b.items.push(j),b=h.add(b),b.items.first())},createColumn:function(a){var b=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","childmove","resize"],listeners:{remove:this.onRemoveItem,expand:b,collapse:b,scope:this}},a)},createView:function(c){var e=this,d=c.type,b=e.getPart(d),a=b.createView(c);return a.id||(a.id=e.id+"_"+d+e.idSeed++),a.bubbleEvents=Ext.Array.from(a.bubbleEvents).concat(["expand","collapse"]),a.stateful=e.stateful,a},initEvents:function(){Ext.panel.Panel.prototype.initEvents.call(this),this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},doDestroy:function(){this.dd&&Ext.destroy(this.dd),Ext.panel.Panel.prototype.doDestroy.call(this)},applyState:function(g){delete g.items;var e=this;Ext.panel.Panel.prototype.applyState.call(this,g);var c,h,b=g.columnWidths,a=e.items.items,d=a.length;if(b)for(h=b.length,e.columnWidths=[],c=0;c<d;++c)e.columnWidths.push(a[c].columnWidth=c<h?b[c]:1/d)},getState:function(){var c,d,g=this,b=[],a=g.items.items,h=Ext.panel.Panel.prototype.getState.call(this)||{},e=a.length;for(c=0;c<e;++c)(d=a[c]).isSplitter||b.push(d.columnWidth);return h.columnWidths=b,h.idSeed=g.idSeed,h.items=g.serializeItems(),g.columnWidths=b,h},initItems:function(){var c,b=this,a=b.defaultContent;b.stateful&&(c=Ext.state.Manager.get(b.getStateId()),a=c&&c.items||a),!b.items&&a&&(b.items=b.deserializeItems(a)),Ext.panel.Panel.prototype.initItems.call(this)},deserializeItems:function(g){var d,j,b,h,m,l,k=this,c=g.length,e=[],a=k.columnWidths,n=k.getMaxColumns();for(h=0;h<c;++h)l=g[h],j=Math.min(l.columnIndex||0,n-1),delete l.columnIndex,(d=e[j])||(e[j]=d=k.createColumn(),(b=a&&a[j])&&(d.columnWidth=b)),m=k.createView(l),d.items.push(m);for(h=0,c=e.length;h<c;++h)d=e[h],d.columnWidth||(d.columnWidth=1/c);return e},serializeItem:function(a){return Ext.apply({type:a.part.id,id:a.id,columnIndex:a.columnIndex},a._partConfig)},serializeItems:function(){var a,g,e,o,d,c,n=this,m=n.items.items,b=m.length,l=[],h=0;for(e=0;e<b;++e)if(o=m[e],!o.isSplitter){for(g=o.items.items,d=0,c=g.length;d<c;++d)a=g[d],a.columnIndex=h,l.push(n.serializeItem(a));++h}return l},onRemoveItem:function(a,b){b.stateful&&!b.isMoving&&Ext.state.Manager.clear(b.getStateId())}},0,["dashboard"],["component","box","container","panel","dashboard"],{component:!0,box:!0,container:!0,panel:!0,dashboard:!0},["widget.dashboard"],0,[Ext.dashboard,"Dashboard"],0),Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(c,b){var a,d=this;Ext.dd.DragSource.prototype.constructor.call(this,c,b),(a=d.containerScroll)&&(c=d.scrollEl||c,c=Ext.get(c),Ext.isObject(a)&&(c.ddScrollConfig=a),Ext.dd.ScrollManager.register(c))},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(a,b),!0},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el),Ext.dd.DragSource.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0),Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(b,a){if("string"==typeof b)return b;var c=b.id;return c||!1===a||(c="extdd-"+ ++this.autoIdSeed,b.id=c),c},register:function(d,e){if(e=e||{},"string"==typeof d&&(d=document.getElementById(d)),e.ddel=d,this.elements[this.getId(d)]=e,!1!==e.isHandle&&(this.handles[e.ddel.id]=e),e.handles){var b,a,c=e.handles;for(b=0,a=c.length;b<a;b++)this.handles[this.getId(c[b])]=e}},unregister:function(d){var c,b,a,g=this.getId(d,!1),e=this.elements[g];if(e&&(delete this.elements[g],e.handles))for(c=e.handles,b=0,a=c.length;b<a;b++)delete this.handles[this.getId(c[b],!1)]},getHandle:function(a){return"string"!=typeof a&&(a=a.id),this.handles[a]},getHandleFromEvent:function(b){var a=b.getTarget();return a?this.handles[a.id]:null},getTarget:function(a){return"string"!=typeof a&&(a=a.id),this.elements[a]},getTargetFromEvent:function(b){var a=b.getTarget();return a?this.elements[a.id]||this.handles[a.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0),Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,a,c,b){},onNodeOver:function(d,a,c,b){return this.dropAllowed},onNodeOut:function(d,a,c,b){},onNodeDrop:function(d,a,c,b){return!1},onContainerOver:function(a,c,b){return this.dropNotAllowed},onContainerDrop:function(a,c,b){return!1},notifyEnter:function(a,c,b){return Ext.dd.DropTarget.prototype.notifyEnter.call(this,a,c,b),this.dropNotAllowed},notifyOver:function(a,d,c){var b=this,g=b.getTargetFromEvent(d);return g?(b.lastOverNode!==g&&(b.lastOverNode&&b.onNodeOut(b.lastOverNode,a,d,c),b.onNodeEnter(g,a,d,c),b.lastOverNode=g),b.onNodeOver(g,a,d,c)):(b.lastOverNode&&(b.onNodeOut(b.lastOverNode,a,d,c),b.lastOverNode=null),b.onContainerOver(a,d,c))},notifyOut:function(a,c,b){Ext.dd.DropTarget.prototype.notifyOut.call(this,a,c,b),this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,c,b),this.lastOverNode=null)},notifyDrop:function(b,g,d){var c=this,h=c.getTargetFromEvent(g),a=h?c.onNodeDrop(h,b,g,d):c.onContainerDrop(b,g,d);return c.lastOverNode&&(c.onNodeOut(c.lastOverNode,b,g,d),c.lastOverNode=null),a},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0),Ext.cmd.derive("Ext.dom.Layer",Ext.Element,{alternateClassName:"Ext.Layer",isLayer:!0,constructor:function(c,h){c=c||{};var d,b,e,l,k=this,j=Ext.DomHelper,i=c.parentEl,g=i?Ext.getDom(i):document.body,a=c.hideMode,m="x-"+(c.fixed?"fixed-layer":"layer");h&&(d=Ext.getDom(h),d.parentNode||g.appendChild(d)),d||(d=j.append(g,c.dh||{tag:"div",cls:m})),c.id&&(d.id=c.id),b=d.id,b&&(e=Ext.cache[b])&&(delete Ext.cache[b],e.dom=null),Ext.dom.Element.prototype.constructor.call(this,d),h&&k.addCls(m),c.preventSync&&(k.preventSync=!0),c.cls&&k.addCls(c.cls),k.constrain=!1!==c.constrain,a?k.setVisibilityMode(Ext.Element[a.toUpperCase()]):c.useDisplay?k.setVisibilityMode(Ext.Element.DISPLAY):k.setVisibilityMode(Ext.Element.VISIBILITY),c.shadow?(k.shadowOffset=c.shadowOffset||4,l={offset:k.shadowOffset,fixed:c.fixed},!0!==c.shadow&&(l.mode=c.shadow),k.enableShadow(l)):k.shadowOffset=0,c.shim&&k.enableShim({fixed:c.fixed}),!0===c.hidden?k.hide():!1===c.hidden&&k.show()}},1,0,0,0,0,0,[Ext.dom,"Layer",Ext,"Layer"],0),Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(a){var b={mouseover:"mouseenter",mouseout:"mouseleave"};Ext.supports.MouseEnterLeave||a.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(j){var i,c,k,g,d,h;j=this.callParent([j]),i=j.getTarget(),(c=j.getRelatedTarget())&&Ext.fly(i).contains(c)||(k=i.id)&&(g=Ext.cache[k])&&(d=b[j.type],j=j.chain({type:d}),g.hasListeners[d]&&(h=g.events[d])&&(h=h.directs)&&(j.setCurrentTarget(g.dom),h.fire(j,j.target)))}}),a.instance=new a}),Ext.cmd.derive("Ext.flash.Component",Ext.Component,{alternateClassName:"Ext.FlashComponent",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}" role="application"></div>'],initComponent:function(){Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var b=this,a=Ext.apply({},b.flashParams),c=Ext.apply({},b.flashVars);Ext.Component.prototype.afterRender.call(this),a=Ext.apply({allowScriptAccess:"always",bgcolor:b.backgroundColor,wmode:b.wmode},a),c=Ext.apply({allowedDomain:document.location.hostname},c),new swfobject.embedSWF(b.url,b.getSwfId(),b.swfWidth,b.swfHeight,b.flashVersion,b.expressInstall?b.statics.EXPRESS_INSTALL_URL:void 0,c,a,b.flashAttributes,b.swfCallback.bind(b))},swfCallback:function(b){var a=this;b.success?(a.swf=Ext.get(b.ref),a.onSuccess(),a.fireEvent("success",a)):(a.onFailure(),a.fireEvent("failure",a))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,doDestroy:function(){var b=this,a=b.swf;a&&(swfobject.removeSWF(b.getSwfId()),b.swf=Ext.destroy(a)),Ext.Component.prototype.doDestroy.call(this)},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}},0,["flash"],["component","box","flash"],{component:!0,box:!0,flash:!0},["widget.flash"],0,[Ext.flash,"Component",Ext,"FlashComponent"],0),Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(a){a&&Ext.apply(this,a);var b=a.params;Ext.isString(b)&&(this.params=Ext.Object.fromQueryString(b))},run:Ext.emptyFn,onFailure:function(a){var c=this.form,b=c&&!c.destroying&&!c.destroyed;this.response=a,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,b&&c.afterAction(this,!1)},processResponse:function(a){return this.response=a,!a.responseText&&!a.responseXML||(this.result=this.handleResponse(a))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this;return{success:a.onSuccess,failure:a.onFailure,scope:a,timeout:1e3*(a.timeout||a.form.timeout)}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0),Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(b){var a=this.processResponse(b),d=this.form,c=d&&!d.destroying&&!d.destroyed;if(!0===a||!a.success||!a.data)return this.failureType=Ext.form.action.Action.LOAD_FAILURE,void(c&&d.afterAction(this,!1));c&&(d.clearInvalid(),d.setValues(a.data),d.afterAction(this,!0))},handleResponse:function(c){var b,d,a=this.form.reader;return a?(b=a.read(c),d=b.records&&b.records[0]?b.records[0].data:null,{success:b.success,data:d}):Ext.decode(c.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0),Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var b=this,a=b.form;!1===b.clientValidation||a.isValid()?b.doSubmit():(b.failureType=Ext.form.action.Action.CLIENT_INVALID,a.afterAction(b,!1))},doSubmit:function(){var g,d=this,b=Ext.apply(d.createCallback(),{url:d.getUrl(),method:d.getMethod(),headers:d.headers}),c=d.form,e=d.jsonSubmit||c.jsonSubmit,a=e?"jsonData":"params";c.hasUpload()?(g=d.buildForm(),b.form=g.formEl,b.isUpload=!0):b[a]=d.getParams(e),Ext.Ajax.request(b),g&&d.cleanup(g)},cleanup:function(h){var c,g,e=h.formEl,d=h.uploadEls,b=h.uploadFields,a=b.length;for(c=0;c<a;++c)g=b[c],g.clearOnSubmit||g.restoreInput(d[c]);e&&Ext.removeNode(e)},getParams:function(d){var b=Ext.form.action.Action.prototype.getParams.call(this),a=this.form.getValues(!1,!1,!1!==this.submitEmptyText,d,!0);return Ext.apply({},a,b)},buildForm:function(){var l,s,e,m,r,p,q,o,b,k=this,n=[],h=k.form,d=k.getParams(),c=[],a=[],g=h.getFields().items,j=g.length;for(e=0;e<j;++e)m=g[e],m.isFileUpload()&&c.push(m);for(r in d)if(d.hasOwnProperty(r))if(p=d[r],Ext.isArray(p))for(o=p.length,q=0;q<o;q++)n.push(k.getFieldConfig(r,p[q]));else n.push(k.getFieldConfig(r,p));for(l={tag:"form",role:"presentation",action:k.getUrl(),method:k.getMethod(),target:k.target?Ext.isString(k.target)?k.target:Ext.fly(k.target).dom.name:"_self",style:"display:none",cn:n},c.length&&(l.encoding=l.enctype="multipart/form-data"),s=Ext.DomHelper.append(Ext.getBody(),l),j=c.length,e=0;e<j;++e)b=c[e].extractFileInput(),s.appendChild(b),a.push(b);return{formEl:s,uploadFields:c,uploadEls:a}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(b){var d=this.form,c=d&&!d.destroying&&!d.destroyed,e=!0,a=this.processResponse(b);!0===a||a.success||(a.errors&&c&&d.markInvalid(a.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,e=!1),c&&d.afterAction(this,e)},handleResponse:function(d){var g,l,h,j,b,m,a=this.form,c=a.errorReader;if(c){if(g=c.read(d),b=g.records,l=[],b)for(h=0,j=b.length;h<j;h++)l[h]=b[h].data;l.length<1&&(l=null),m={success:g.success,errors:l}}else try{m=Ext.decode(d.responseText)}catch(k){m={success:!1,errors:[]}}return m}
},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0),Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var a=this.buildForm();a.formEl.submit(),this.cleanup(a)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0),Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(a,b){this.comp=a,this.initialConstrainTo=b.constrainTo,Ext.dd.DragTracker.prototype.constructor.call(this,b)},onStart:function(c){var b=this,a=b.comp;b.dragTarget=b.el,b.startRegion=b.el.getRegion(),b.startPosition=a.getXY(),a.ghost&&!a.liveDrag&&(b.proxy=a.ghost()),(b.constrain||b.constrainDelegate)&&(b.constrainTo=b.calculateConstrainRegion()),a.beginDrag&&a.beginDrag(),a.el.shim&&Ext.dom.Element.maskIframes()},calculateConstrainRegion:function(){var k,b,d,i=this,g=i.comp,h=i.initialConstrainTo||i.comp.el.dom.parentNode,e=g.constraintInsets,c=i.proxy?i.proxy.el:g.el,j=c.shadow,a=j&&!i.constrainDelegate&&g.constrainShadow&&!j.disabled?j.getShadowSize():0;return h instanceof Ext.util.Region?h=h.copy():(k=Ext.fly(h),h=k.getConstrainRegion()),e&&(e=Ext.isObject(e)?e:Ext.Element.parseBox(e),h.adjust(e.top,e.right,e.bottom,e.left)),a&&h.adjust(a[0],-a[1],-a[2],a[3]),i.constrainDelegate&&(b=Ext.fly(i.handle).getRegion(),d=c.getRegion(),h.adjust(d.top-b.top,d.right-b.right,d.bottom-b.bottom,d.left-b.left)),h},onDrag:function(c){var b=this,a=b.proxy&&!b.comp.liveDrag?b.proxy:b.comp,d=b.getOffset(b.constrain||b.constrainDelegate?"dragTarget":null);a.setPagePosition(b.startPosition[0]+d[0],b.startPosition[1]+d[1])},onEnd:function(b){var a=this.comp;a.destroyed||a.destroying||(this.proxy&&!a.liveDrag&&a.unghost(),a.endDrag&&a.endDrag(),a.el.shim&&Ext.dom.Element.unmaskIframes())}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0),Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,alignOnScroll:!1,itemCls:"x-window-item",overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",focusable:!0,tabGuard:!0,closeToolText:!1,keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:!0,initComponent:function(){var a=this;a.frame=!1,Ext.panel.Panel.prototype.initComponent.call(this),a.plain&&a.addClsWithUI("plain"),a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a;return a=Ext.panel.Panel.prototype.getElConfig.call(this),a.tabIndex=-1,a},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var e,b=this,d=Ext.panel.Panel.prototype.getState.call(this)||{},a=!!b.maximized,c=b.ghostBox;return d.maximized=a,e=a?b.restorePos:c?[c.x,c.y]:b.getPosition(!0),Ext.apply(d,{size:a?b.restoreSize:b.getSize(),pos:e}),d},applyState:function(b){var a=this;b&&(a.maximized=b.maximized,a.maximized?(a.hasSavedRestore=!0,a.restoreSize=b.size,a.restorePos=b.pos):Ext.apply(a,{width:b.size.width,height:b.size.height,x:b.pos[0],y:b.pos[1]}))},onRender:function(b,a){var c=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments),c.header&&c.header.on({scope:c,click:c.onHeaderClick}),c.maximizable&&c.header.on({scope:c,dblclick:c.toggleMaximize})},afterRender:function(){var a=this,b=a.header;a.maximized&&(a.maximized=!1,a.maximize(null,!0),b&&b.removeCls(b.indicateDragCls)),Ext.panel.Panel.prototype.afterRender.call(this),a.initTabGuards()},onEsc:function(a){a.stopEvent(),this.close()},doDestroy:function(){var a=this;a.rendered&&(Ext.un("resize",a.onWindowResize,a),delete a.animateTarget,a.hide()),Ext.panel.Panel.prototype.doDestroy.call(this)},addTools:function(){var a=this,b=[];Ext.panel.Panel.prototype.addTools.call(this),a.minimizable&&b.push({type:"minimize",handler:"minimize",scope:a}),a.maximizable&&b.push({type:"maximize",handler:"toggleMaximize",scope:a}),b.length&&a.addTool(b)},addTool:function(b){var a=this;Ext.panel.Panel.prototype.addTool.call(this,b),a.rendered&&a.tabGuard&&a.initTabGuards()},add:function(){var a,b=this;return a=Ext.panel.Panel.prototype.add.apply(this,arguments),b.rendered&&b.tabGuard&&b.initTabGuards(),a},remove:function(){var a,b=this;return a=Ext.panel.Panel.prototype.remove.apply(this,arguments),b.rendered&&b.tabGuard&&b.initTabGuards(),a},addDocked:function(){var a,b=this;return a=Ext.panel.Panel.prototype.addDocked.apply(this,arguments),b.rendered&&b.tabGuard&&b.initTabGuards(),a},removeDocked:function(){var a,b=this;return a=Ext.panel.Panel.prototype.removeDocked.apply(this,arguments),b.rendered&&b.tabGuard&&b.initTabGuards(),a},onShow:function(){var a=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments),a.expandOnShow&&a.expand(!1),a.syncMonitorWindowResize(),a.rendered&&a.tabGuard&&a.initTabGuards()},doClose:function(){var a=this;a.hidden?(a.fireEvent("close",a),"destroy"!==a.closeAction||a.destroying||a.destroyed||a.destroy()):a.hide(a.animateTarget,a.doClose,a)},afterHide:function(){var a=this;a.syncMonitorWindowResize(),Ext.panel.Panel.prototype.afterHide.apply(this,arguments),a.rendered&&a.tabGuard&&a.initTabGuards()},onWindowResize:function(){var a,b=this;b.destroyed||(b.maximized?b.fitContainer():(a=b.getSizeModel(),(a.width.natural||a.height.natural)&&b.updateLayout(),b.doConstrain()))},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,c=a.header,b=a.tools;c&&a.maximizable&&(c.suspendLayouts(),b.maximize.hide(),this.resumeHeaderLayout(!0)),a.resizer&&a.resizer.disable(),Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var c,a=this,d=a.header,b=a.tools;d&&(d.suspendLayouts(),a.maximizable&&(b.maximize.show(),c=!0),this.resumeHeaderLayout(c)),a.resizer&&a.resizer.enable(),Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(b,g){var c,i=this,d=i.header,e=i.tools,a=i.width,j=i.height;return i.maximized||i.maximizing||(i.maximizing=!0,i.expand(!1),i.hasSavedRestore||(i.restoreSize={width:a||null,height:j||null},i.restorePos=g?[i.x||0,i.y||0]:i.getPosition()),d&&(d.suspendLayouts(),e.maximize&&e.maximize.setType("restore"),i.collapseTool&&(i.collapseTool.hide(),c=!0),i.resumeHeaderLayout(c)),i.el.disableShadow(),i.dd&&(i.dd.disable(),d&&d.removeCls(d.indicateDragCls)),i.resizer&&i.resizer.disable(),i.el.addCls("x-window-maximized"),i.container.addCls("x-window-maximized-ct"),i.syncMonitorWindowResize(),i.fitContainer(b=b||i.animateTarget?{callback:function(){i.maximizing=!1,i.maximized=!0,g||i.fireEvent("maximize",i)}}:null),b||(i.maximizing=!1,i.maximized=!0,g||i.fireEvent("maximize",i))),i},restore:function(b){var e,c=this,d=c.tools,g=c.header,a=c.restoreSize;return c.maximized&&(c.hasSavedRestore=null,c.removeCls("x-window-maximized"),g&&(g.suspendLayouts(),d.maximize&&d.maximize.setType("maximize"),c.collapseTool&&(c.collapseTool.show(),e=!0),c.resumeHeaderLayout(e)),a.x=c.restorePos[0],a.y=c.restorePos[1],c.setBox(a,b=b||c.animateTarget?{callback:function(){c.el.enableShadow(null,!0),c.maximized=!1,c.fireEvent("restore",c)}}:null),c.restorePos=c.restoreSize=null,c.dd&&(c.dd.enable(),g&&g.addCls(g.indicateDragCls)),c.resizer&&c.resizer.enable(),c.container.removeCls("x-window-maximized-ct"),c.syncMonitorWindowResize(),b||(c.el.enableShadow(null,!0),c.maximized=!1,c.fireEvent("restore",c))),c},syncMonitorWindowResize:function(){var b=this,c=b._monitoringResize,d=b.monitorResize||b.constrain||b.constrainHeader||b.maximized,a=b.hidden||b.destroying||b.destroyed;d&&!a?c||(Ext.on("resize",b.onWindowResize,b,{buffer:1}),b._monitoringResize=!0):c&&(Ext.un("resize",b.onWindowResize,b),b._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var a=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);return a.xtype="window",a.focusOnToFront=!1,a},getDefaultFocus:function(){var b,a,c=this,d=c.defaultFocus;return void 0!==d&&(Ext.isNumber(d)?b=c.query("button")[d]:Ext.isString(d)?(a=d,Ext.validIdRe.test(a)&&(b=c.down(Ext.makeIdSelector(a))),b||(b=c.down(a))):d.focus&&(b=d)),b},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(c,b){var a;c.el.contains(b.getTarget())&&(a=this.getDefaultFocus())&&a.focus()},initResizable:function(a){var b=this;Ext.panel.Panel.prototype.initResizable.call(this,a),(b.maximized||b.maximizing)&&b.resizer.disable()},initSimpleDraggable:function(){var a,b=this;Ext.panel.Panel.prototype.initSimpleDraggable.call(this),((a=b.dd)&&b.maximized||b.maximizing)&&a.disable()},onTabGuardFocusEnter:function(h,i){var a,g,l,j=this,b=j.el,d=j.tabGuardBeforeEl,c=j.tabGuardAfterEl,k=h.relatedTarget;a=b.findTabbableElements({skipSelf:!0}),a[0]===d.dom&&a.shift(),a[a.length-1]===c.dom&&a.pop(),0===a.length?l=b:g=k===b.dom?i===d.dom:b.contains(k)?!!h.forwardTab:i===d.dom,(l=l||(g?a[0]:a[a.length-1]))&&l.focus()}}},0,["window"],["component","box","container","panel","window"],{component:!0,box:!0,container:!0,panel:!0,window:!0},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0),Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="x-hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="x-hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="x-hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",labelTextCls:"x-form-item-label-text",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,ariaHelp:void 0,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var a,c,b=this.tip;b||(a={id:"ext-form-error-tip",ui:"form-invalid"},Ext.supports.Touch&&(a.dismissDelay=0,a.anchor="top",a.showDelay=0,a.showOnTap=!0,a.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}),b=this.tip=Ext.create("Ext.tip.QuickTip",a),c=Ext.apply({},b.tagConfig),c.attribute="errorqtip",b.setTagConfig(c))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var a=this,b=a.padding;b&&(a.padding=void 0,a.extraMargins=Ext.Element.parseBox(b)),Ext.isIE8&&(a.restoreDisplay=Ext.Function.createDelayed(a.doRestoreDisplay,0,a)),a.activeErrorsTpl||("title"===a.msgTarget?a.activeErrorsTpl=a.plaintextActiveErrorsTpl:a.activeErrorsTpl=a.htmlActiveErrorsTpl),a.addCls([a.formItemCls,a.formItemCls+"-"+a.ui]),a.lastActiveError="",a.enableBubble("errorchange")},trimLabelSeparator:function(){var c=this,d=c.labelSeparator,a=c.fieldLabel||"";return a.substr(a.length-1)===d?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(d){d=d||"";var e=this,g=e.labelSeparator,b=(e.labelEl,e.errorWrapEl),i="top"!==e.labelAlign,a=e.noLabelCls,h=e.errorWrapUnderSideLabelCls;e.fieldLabel=d,e.rendered&&(Ext.isEmpty(d)&&e.hideEmptyLabel?(e.addCls(a),i&&b&&b.removeCls(h)):(g&&(d=e.trimLabelSeparator()+g),e.labelTextEl.dom.innerHTML=d,e.removeCls(a),i&&b&&b.addCls(h)),e.updateLayout())},setHideLabel:function(a){var b=this;a!==b.hideLabel&&(b.hideLabel=a,b.rendered&&(b[a?"addCls":"removeCls"](b.noLabelCls),b.updateLayout()))},setHideEmptyLabel:function(a){var b,c=this;a!==c.hideEmptyLabel&&(c.hideEmptyLabel=a,c.rendered&&!c.hideLabel&&(b=a&&!c.getFieldLabel(),c[b?"addCls":"removeCls"](c.noLabelCls),c.updateLayout()))},getInsertionRenderData:function(d,e){for(var a,c,b=e.length;b--;)a=e[b],c=this[a],c&&"string"!=typeof c&&(c.isTemplate||(c=Ext.XTemplate.getTpl(this,a)),c=c.apply(d)),d[a]=c||"";return d},getLabelableRenderData:function(){var c,q,p=this,s=p.labelAlign,e="top"===s,m="right"===s,j="side"===p.msgTarget,g="under"===p.msgTarget,r=p.errorMsgCls,h=p.labelPad,o=p.labelWidth,b=p.labelClsExtra||"",i=j?p.errorWrapSideCls:p.errorWrapUnderCls,a="",l="",d=p.hasVisibleLabel(),n=p.autoFitErrors,k=p.defaultBodyWidth;return e?(b+=" "+p.topLabelCls,h&&(l="padding-bottom:"+h+"px;"),j&&!n&&(b+=" "+p.topLabelSideErrorCls)):(m&&(b+=" "+p.rightLabelCls),h&&(a+=p.getHorizontalPaddingStyle()+h+"px;"),a+="width:"+(o+(h||0))+"px;",l="width:"+o+"px"),d&&!e&&g&&(i+=" "+p.errorWrapUnderSideLabelCls),k&&(c="min-width:"+k+"px;max-width:"+k+"px;"),q={id:p.id,inputId:p.getInputId(),labelCls:p.labelCls,labelClsExtra:b,labelStyle:a+(p.labelStyle||""),labelInnerStyle:l,labelInnerCls:p.labelInnerCls,labelTextCls:p.labelTextCls,skipLabelForAttribute:!!p.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:c,baseBodyCls:p.baseBodyCls,fieldBodyCls:p.fieldBodyCls,extraFieldBodyCls:p.extraFieldBodyCls,errorWrapCls:p.errorWrapCls,errorWrapExtraCls:i,renderError:j||g,invalidMsgCls:j?p.invalidIconCls:g?p.invalidUnderCls:"",errorMsgCls:r,growCls:p.grow?p.growCls:"",tipAnchorTarget:p.id+"-inputEl",errorWrapStyle:j&&!n?"visibility:hidden":"display:none",fieldLabel:p.getFieldLabel(),labelSeparator:p.labelSeparator,renderAriaElements:!!p.renderAriaElements,ariaStatus:""},p.ariaHelp&&(q.ariaHelp=Ext.String.htmlEncode(p.ariaHelp)),p.getInsertionRenderData(q,p.labelableInsertions),q},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var a=this;a.setFieldDefaults(a.getInherited().fieldDefaults),a.ownerLayout&&a.addCls("x-"+a.ownerLayout.type+"-form-item"),a.hasVisibleLabel()||a.addCls(a.noLabelCls)},onLabelRender:function(){var e,b,d=this,c={},g=Ext.Element,a=d.errorWrapEl;if(a&&a.setVisibilityMode("side"!==d.msgTarget||d.autoFitErrors?g.DISPLAY:g.VISIBILITY),d.extraMargins){e=d.el.getMargin();for(b in e)e.hasOwnProperty(b)&&(c["margin-"+b]=e[b]+d.extraMargins[b]+"px");d.el.setStyle(c)}},hasVisibleLabel:function(){return!(this.hideLabel||this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(l){var c,b,h,m,j,a,d,i=this,k=i.errorWrapEl,g=i.msgTarget,e="side"===g,n="qtip"===g,o=i.ariaErrorEl;l=Ext.Array.from(l),h=i.lookupTpl("activeErrorsTpl"),i.activeErrors=l,b=i.activeError=h.apply({fieldLabel:i.fieldLabel,errors:l,listCls:"x-list-plain"}),i.renderActiveError(),i.rendered&&(c=i.getActionEl(),e?i.errorEl.dom.setAttribute("data-errorqtip",b):n?c.dom.setAttribute("data-errorqtip",b):"title"===g&&c.dom.setAttribute("title",b),"title"!==g&&o&&(j=i.lookupTpl("ariaActiveErrorsTpl"),a=j.apply({errors:l}),d=Ext.String.formatEncode(i.ariaErrorText,a,i.fieldLabel),o.dom.innerHTML!==d&&(o.dom.innerHTML=d),i.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(a)),(e||n)&&Ext.form.Labelable.initTip(),i.msgTargets[g]||(m=Ext.get(g))&&(m.dom.innerHTML=b)),k&&(k.setVisible(l.length>0),e&&i.autoFitErrors&&i.labelEl.addCls(i.topLabelSideErrorCls),i.updateLayout())},unsetActiveError:function(){var d,h,g=this,b=g.errorWrapEl,e=g.ariaErrorEl,c=g.msgTarget,a=g.restoreDisplay;g.hasActiveError()&&(delete g.activeError,delete g.activeErrors,g.renderActiveError(),g.rendered&&(d=g.getActionEl(),"qtip"===c?d.dom.removeAttribute("data-errorqtip"):"title"===c&&d.dom.removeAttribute("title"),"title"!==c&&e&&(e.dom.innerHTML=g.ariaStatusEl.dom.innerHTML=""),g.msgTargets[c]||(h=Ext.get(c))&&(h.dom.innerHTML=""),b&&(b.hide(),"side"===c&&g.autoFitErrors&&g.labelEl.removeCls(g.topLabelSideErrorCls),g.updateLayout(),a&&(g.el.dom.style.display="block",g.restoreDisplay()))))},doRestoreDisplay:function(){var a=this.el;a&&a.dom&&(a.dom.style.display="")},renderActiveError:function(){var c=this,b=c.getActiveError(),a=!!b;b!==c.lastActiveError&&(c.lastActiveError=b,c.fireEvent("errorchange",c,b)),!c.rendered||c.destroyed||c.preventMark||(c.toggleInvalidCls(a),c.errorEl&&(c.errorEl.dom.innerHTML=b))},toggleInvalidCls:function(a){this.el[a?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(b){var a;for(a in b)this.hasOwnProperty(a)||(this[a]=b[a])}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")}),Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var a,b,d=this,c=d.valuePublishEvent;if(d.initValue(),Ext.isString(c))d.on(c,d.publishValue,d);else for(b=0,a=c.length;b<a;++b)d.on(c[b],d.publishValue,d)},initValue:function(){var a=this;"value"in a&&(a.suspendCheckChange++,a.setValue(a.value),a.suspendCheckChange--),a.initialValue=a.originalValue=a.lastValue=a.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;return a.value=b,a.checkChange(),a},isEqual:function(b,a){return String(b)===String(a)},isEqualAsString:function(b,a){return String(Ext.valueFrom(b,""))===String(Ext.valueFrom(a,""))},getSubmitData:function(){var a=this,b=null;return!a.disabled&&a.submitValue&&(b={},b[a.getName()]=""+a.getValue()),b},getModelData:function(a,b){var c=this,d=null;return c.disabled||!c.submitValue&&b||(d={},d[c.getFieldIdentifier()]=c.getValue()),d},reset:function(){var a=this;a.beforeReset(),a.setValue(a.originalValue),a.clearInvalid(),delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){var b,a,c=this;c.suspendCheckChange||c.destroying||c.destroyed||(b=c.getValue(),a=c.lastValue,c.didValueChange(b,a)&&(c.lastValue=b,c.fireEvent("change",c,b,a),c.onChange(b,a)))},didValueChange:function(b,a){return!this.isEqual(b,a)},onChange:function(a){var b=this;b.validateOnChange&&b.validate(),b.checkDirty()},publishValue:function(){var a=this;a.rendered&&!a.getErrors().length&&a.publishState("value",a.getValue())},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();b!==a.wasDirty&&(a.dirty=b,a.fireEvent("dirtychange",a,b),a.onDirtyChange(b),a.wasDirty=b)},onDirtyChange:Ext.emptyFn,getErrors:function(d){var a,e=[],c=this.getValidationField(),b=this.getValidation();return c&&!0!==(a=c.validate(d,null,null,this._ownerRecord))&&e.push(a),b&&!0!==b&&e.push(b),e},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(b){var a=this;return b!==a.wasValid&&(a.wasValid=b,a.fireEvent("validitychange",a,b)),b},setValidationField:function(b,a){(arguments.callee.$previous||Ext.Base.prototype.setValidationField).call(this,b),this._ownerRecord=a},batchChanges:function(a){try{this.suspendCheckChange++,a()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(a,b){b&&this.validate()},privates:{resetToInitialValue:function(){var b=this,a=b.originalValue;b.originalValue=b.initialValue,b.reset(),b.originalValue=a}}},0,0,0,0,0,0,[Ext.form.field,"Field"],0),Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:"x-form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:!1,stretchInputElFixed:!0,ariaEl:"inputEl",renderAriaElements:!0,initComponent:function(){var a=this;Ext.Component.prototype.initComponent.call(this),a.subTplData=a.subTplData||{},a.initLabelable(),a.initField(),a.initDefaultName(),a.readOnly&&a.addCls(a.readOnlyCls),a.addCls("x-form-type-"+a.inputType),a.format&&a.formatText&&!a.ariaHelp&&(a.ariaHelp=Ext.String.format(a.formatText,a.format))},initDefaultName:function(){var a=this;a.name||(a.name=a.getInputId())},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(d){var h,c,a,g=this,i=g.id,e=g.inputType,b=g.getInputId();return h=Ext.apply({ui:g.ui,id:b,cmpId:i,name:g.name||b,disabled:g.disabled,readOnly:g.readOnly,value:g.getRawValue(),type:e,fieldCls:g.fieldCls,fieldStyle:g.getFieldStyle(),childElCls:d.childElCls,tabIdx:g.tabIndex,inputCls:g.inputCls,typeCls:"x-form-"+(g.isTextInput?"text":e),ariaEl:g.ariaEl},g.subTplData),g.ariaRole&&(c={},g.ariaStaticRoles[g.ariaRole]||(c["aria-hidden"]=!!g.hidden,c["aria-disabled"]=!!g.disabled,a={"aria-invalid":!1,"aria-readonly":!!g.readOnly},g.ariaLabel&&(c["aria-label"]=Ext.String.htmlEncode(g.ariaLabel)),c=Ext.apply(c,g.getAriaAttributes()),c["aria-describedby"]||(g.ariaHelp?a["aria-describedby"]=i+"-ariaStatusEl "+i+"-ariaHelpEl":a["aria-describedby"]=i+"-ariaStatusEl"),h.inputElAriaAttributes=a),"native"!==g.ariaRole&&(c.role=g.ariaRole),g.ariaLabel&&(c["aria-label"]=g.ariaLabel),g.format&&g.formatText&&!h.title&&(c.title=Ext.String.formatEncode(g.formatText,g.format)),h.ariaElAttributes=c),g.getInsertionRenderData(h,g.subTplInsertions),h},getSubTplMarkup:function(b){var c=this,d=c.getSubTplData(b),e=c.lookupTpl("preSubTpl"),g=c.lookupTpl("postSubTpl"),a="";return e&&(a+=e.apply(d)),a+=c.lookupTpl("fieldSubTpl").apply(d),g&&(a+=g.apply(d)),a},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;c&&c.applyStyles(a),b.fieldStyle=a},getFieldStyle:function(){var a=this.fieldStyle;return Ext.isObject(a)?Ext.DomHelper.generateStyles(a,null,!0):a||""},onRender:function(){this.callParent(arguments),this.mixins.labelable.self.initTip(),this.renderActiveError()},beforeBlur:function(a){this.validateOnBlur&&this.validate()},onFocusLeave:function(a){Ext.Component.prototype.onFocusLeave.call(this,a),this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var c,a=this,b=null;return!a.disabled&&a.submitValue&&null!==(c=a.getSubmitValue())&&(b={},b[a.getName()]=c),b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var b=this,a=b.inputEl?b.inputEl.getValue():Ext.valueFrom(b.rawValue,"");return b.rawValue=a,a},setRawValue:function(c){var a=this,b=a.rawValue;return a.transformRawValue.$nullFn||(c=a.transformRawValue(c)),c=Ext.valueFrom(c,""),void 0!==b&&b===c||(a.rawValue=c,a.inputEl&&(a.bindChangeEvents(!1),a.inputEl.dom.value=c,a.bindChangeEvents(!0))),a.rendered&&a.reference&&a.publishState("rawValue",c),c},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.valueFrom(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));return a.value=b,b},setValue:function(b){var a=this;return a.setRawValue(a.valueToRaw(b)),a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;Ext.Component.prototype.onBoxReady.apply(this,arguments),a.setReadOnlyOnBoxReady&&a.setReadOnly(a.readOnly)},onDisable:function(){var a=this,b=a.inputEl;Ext.Component.prototype.onDisable.call(this),b&&(b.dom.disabled=!0,a.hasActiveError()&&(a.clearInvalid(),a.hadErrorOnDisable=!0)),!1===a.wasValid&&a.checkValidityChange(!0)},onEnable:function(){var a,b=this,c=b.inputEl,d=b.preventMark;Ext.Component.prototype.onEnable.call(this),c&&(c.dom.disabled=!1),void 0!==b.wasValid&&(b.forceValidation=!0,b.preventMark=!b.hadErrorOnDisable,a=b.isValid(),b.forceValidation=!1,b.preventMark=d,b.checkValidityChange(a)),delete b.hadErrorOnDisable},setReadOnly:function(d){var b=this,c=b.inputEl,a=b.readOnly;d=!!d,b[d?"addCls":"removeCls"](b.readOnlyCls),b.readOnly=d,c?(c.dom.readOnly=d,c.dom.setAttribute("aria-readonly",d)):b.rendering&&(b.setReadOnlyOnBoxReady=!0),d!==a&&b.fireEvent("writeablechange",b,d)},fireKey:function(b,a){b.isSpecialKey()&&this.fireEvent("specialkey",this,b,a)},initEvents:function(){var b,d,e=this,h=e.inputEl,g=e.onFieldMutation,c=e.checkChangeEvents,a=c.length;if(h)for(e.mon(h,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",e.fireKey,e),b=0;b<a;++b)d=c[b],"propertychange"===d&&(e.usesPropertychange=!0),"textInput"===d&&(e.usesTextInput=!0),e.mon(h,d,g,e);Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(a){this.readOnly||"propertychange"===a.type&&this.ignoreChangeRe.test(a.browserEvent.propertyName)||this.startCheckChangeTask()},startCheckChangeTask:function(){var b=this,a=b.checkChangeTask;a||(b.checkChangeTask=a=new Ext.util.DelayedTask(b.doCheckChangeTask,b)),b.bindNotifyListener||(b.bindNotifyListener=Ext.on("beforebindnotify",b.onBeforeNotify,b,{destroyable:!0})),a.delay(b.checkChangeBuffer)},doCheckChangeTask:function(){var a=this.bindNotifyListener;a&&(a.destroy(),this.bindNotifyListener=null),this.checkChange()},publishValue:function(){var a=this;a.rendered&&!a.getErrors().length&&a.publishState("value",a.getValue())},onDirtyChange:function(b){var a=this;a[b?"addCls":"removeCls"](a.dirtyCls),a.rendered&&a.reference&&a.publishState("dirty",b)},isValid:function(){var b=this,a=b.disabled;return b.forceValidation||!a?b.validateValue(b.processRawValue(b.getRawValue())):a},validateValue:function(b){var a=this,d=a.getErrors(b),c=Ext.isEmpty(d);return a.preventMark||(c?a.clearInvalid():a.markInvalid(d)),c},markInvalid:function(d){var c,b=this,a=b.getActiveError();b.setActiveErrors(Ext.Array.from(d)),c=b.getActiveError(),a!==c&&(b.setError(c),!b.ariaStaticRoles[b.ariaRole]&&b.inputEl&&b.inputEl.dom.setAttribute("aria-invalid",!0))},clearInvalid:function(){var b=this,a=b.hasActiveError();delete b.hadErrorOnDisable,b.unsetActiveError(),a&&(b.setError(""),!b.ariaStaticRoles[b.ariaRole]&&b.inputEl&&b.inputEl.dom.setAttribute("aria-invalid",!1))},setError:function(a){var d,c=this,b=c.msgTarget;c.rendered&&("title"===b||"qtip"===b?(d="qtip"===b?"data-errorqtip":"title",c.getActionEl().dom.setAttribute(d,a||"")):c.updateLayout())},renderActiveError:function(){var c=this,b=c.hasActiveError(),a=c.invalidCls+"-field";c.inputEl&&c.inputEl[b?"addCls":"removeCls"]([a,a+"-"+c.ui]),c.mixins.labelable.renderActiveError.call(c)},doDestroy:function(){var b=this,a=b.checkChangeTask;a&&a.cancel(),Ext.destroy(b.bindNotifyListener),b.cleanupField(),Ext.Component.prototype.doDestroy.call(this)},privates:{applyBind:function(g,c){var e,d,b=this,a=c&&c.value;return e=Ext.Component.prototype.applyBind.call(this,g,c),e&&(d=e.value,b.hasBindingValue=!!d,d!==a&&b.getInherited().modelValidation&&b.updateValueBinding(e)),e},applyRenderSelectors:function(){var a=this;Ext.Component.prototype.applyRenderSelectors.call(this),a.inputEl||(a.inputEl=a.el.getById(a.getInputId()))},bindChangeEvents:function(b){var c=b?"resumeEvent":"suspendEvent",a=this.inputEl;this.usesPropertychange&&a[c]("propertychange"),this.usesTextInput&&a[c]("textInput")},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.lookupTpl("labelableRenderTpl")),Ext.Component.prototype.initRenderTpl.call(this)},
onBeforeNotify:function(){this.checkChangeTask.cancel(),this.checkChange()},updateValueBinding:function(d){var c=this,b=d.value,a=d.$fieldBinding;a&&(a.destroy(),d.$fieldBinding=null),b&&b.bindValidationField&&(c.fieldBinding=b.bindValidationField("setValidationField",c))}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindChangeEvents(!1),this.callParent(arguments),this.bindChangeEvents(!0)}}}}},0,["field"],["component","box","field"],{component:!0,box:!0,field:!0},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0),Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,function(){var c=/^[a-zA-Z_]+$/,d=/^[a-zA-Z0-9_]+$/,b=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return b.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return a.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return c.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return d.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0),Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,tooltip:null,weight:0,preventMouseDown:!0,focusOnMousedown:!1,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(a,b){return a.weight-b.weight}},constructor:function(b){var a,c=this;Ext.apply(c,b),c.compat4Mode&&(a=c.cls,c.focusCls=[c.focusCls,a+"-focus"],c.overCls=[c.overCls,a+"-over"],c.clickCls=[c.clickCls,a+"-click"])},afterFieldRender:function(){var a=this,b=a.tooltip;a.initEvents(),b&&(a.tooltip=null,a.setTooltip(b))},destroy:function(){var a=this;a.clickRepeater=a.el=Ext.destroy(a.clickRepeater,a.el),a.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var b=this,a=b.el;b.hidden=!0,a&&a.hide()},initEvents:function(){var d=this,a=d.isFieldEnabled,c=d.getStateEl(),b=d.el;c.addClsOnOver(d.overCls,a,d),c.addClsOnClick(d.clickCls,a,d),d.repeatClick?d.clickRepeater=new Ext.util.ClickRepeater(b,{preventDefault:!0,handler:d.onClick,listeners:{mousedown:d.onClickRepeaterMouseDown,mouseup:d.onClickRepeaterMouseUp,scope:d},scope:d}):d.field.mon(b,{click:d.onClick,mousedown:d.onMouseDown,scope:d})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var a=this,c=a.field,b=!1;return!a.hidden&&c&&a.rendered&&!a.destroyed||(b=!0),!b},onClick:function(){var c=this,a=arguments,g=c.clickRepeater?a[1]:a[0],b=c.handler,d=c.field;b&&!d.readOnly&&c.isFieldEnabled()&&Ext.callback(c.handler,c.scope,[d,c,g],0,d)},resolveListenerScope:function(a){return this.field.resolveSatelliteListenerScope(this,a)},onMouseDown:function(a){"touch"===a.pointerType||this.field.containsFocus&&!this.focusOnMousedown||this.field.focus(),this.preventMouseDown&&a.preventDefault()},onClickRepeaterMouseDown:function(b,a){a.parentEvent&&"mousedown"!==a.parentEvent.type||this.field.inputEl.focus(),a.preventDefault()},onClickRepeaterMouseUp:function(c){var a=this,b=a.field;Ext.callback(a.endHandler,a.scope,[b,a,c],0,b)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var b=this;(b.el=b.field.triggerWrap.selectNode("#"+b.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY),b.rendered=!0},renderBody:function(b){var a=this,c=a.bodyTpl;return Ext.apply(b,a.getBodyRenderData()),c?Ext.XTemplate.getTpl(a,"bodyTpl").apply(b):""},renderTrigger:function(a){var c=this,b=c.width,d=c.hidden?"display:none;":"";return b&&(d+="width:"+b),Ext.XTemplate.getTpl(c,"renderTpl").apply({$trigger:c,fieldData:a,ui:a.ui,childElCls:a.childElCls,triggerId:c.domId=c.field.id+"-trigger-"+c.id,cls:c.cls,triggerStyle:d,extraCls:c.extraCls,baseCls:c.baseCls,ariaRole:c.ariaRole})},setHidden:function(a){a!==this.hidden&&this[a?"hide":"show"]()},setTooltip:function(c){var b=this,a=b.el;c!==b.tooltip&&(b.tooltip=c,a&&a.dom.setAttribute("data-qtip",Ext.htmlEncode(c)))},setVisible:function(a){this.setHidden(!a)},show:function(){var b=this,a=b.el;b.hidden=!1,a&&a.show()}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0),Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},renderConfig:{editable:!0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:"x-form-empty-field",placeholderCoverCls:"x-placeholder-label",requiredCls:"x-form-required-field",ariaRole:"textbox",repeatTriggerClick:!1,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",emptyClsElements:null,needArrowKeys:!0,squashMouseUp:{mouseup:function(a){this.selectOnFocus&&this.inputEl.dom.select()},translate:!1,single:!0,preventDefault:!0},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var b=this,a=b.emptyCls;!1===b.allowOnlyWhitespace&&(b.allowBlank=!1),b.size&&(b.defaultBodyWidth=6.5*b.size+20),b.onTrigger1Click||(b.onTrigger1Click=b.onTriggerClick),Ext.form.field.Base.prototype.initComponent.call(this),b.readOnly&&b.setReadOnly(b.readOnly),b.fieldFocusCls=b.baseCls+"-focus",b.emptyUICls=a+" "+a+"-"+b.ui,b.addStateEvents("change")},initEvents:function(){var b=this,a=b.inputEl;Ext.form.field.Base.prototype.initEvents.call(this),(b.selectOnFocus||b.emptyText)&&b.mon(a,"mousedown",b.onMouseDown,b),(b.maskRe||b.vtype&&!0!==b.disableKeyFilter&&(b.maskRe=Ext.form.field.VTypes[b.vtype+"Mask"]))&&b.mon(a,"keypress",b.filterKeys,b),b.enableKeyEvents&&b.mon(a,{scope:b,keyup:b.onKeyUp,keydown:b.onKeyDown,keypress:b.onKeyPress})},isEqual:function(b,a){return this.isEqualAsString(b,a)},onChange:function(b,a){Ext.form.field.Base.prototype.onChange.call(this,b,a),this.autoSize()},getSubTplData:function(c){var h,e,b,d=this,g=d.getRawValue(),i=d.emptyText&&g.length<1,a=d.maxLength;return d.enforceMaxLength?a===Number.MAX_VALUE&&(a=void 0):a=void 0,d.emptyText&&(h=d.emptyText),e=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,c),{triggerWrapCls:d.triggerWrapCls,inputWrapCls:d.inputWrapCls,placeholderCoverCls:d.placeholderCoverCls,triggers:d.orderedTriggers,maxLength:a,readOnly:!d.editable||d.readOnly,placeholder:h,value:g,fieldCls:d.fieldCls+(d.allowBlank?"":" "+d.requiredCls)+(i?" "+d.emptyUICls:"")}),b=e.inputElAriaAttributes,b&&(b["aria-required"]=!d.allowBlank),e},onRender:function(){var d,b=this,a=b.getTriggers(),c=[];if(Ext.supports.FixedTableWidthBug&&(b.el._needsTableWidthFix=!0),(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this),a){this.invokeTriggers("onFieldRender");for(d in a)c.push(a[d].el);b.triggerEl=b.triggerCell=new Ext.CompositeElement(c,!0)}b.inputCell=b.inputWrap},afterRender:function(){var a=this;a.autoSize(),Ext.form.field.Base.prototype.afterRender.call(this),a.invokeTriggers("afterFieldRender"),a.emptyClsElements=[a.inputEl]},onMouseDown:function(){this.hasFocus||(this.squashMouseUp.scope=this,Ext.getDoc().on(this.squashMouseUp))},applyTriggers:function(h){var b,g,d,a,e,j=this,c=j.getHideTrigger(),l=j.readOnly,m=j.orderedTriggers=[],k=j.repeatTriggerClick;if(!h)for(h={},j.triggerCls&&!j.trigger1Cls&&(j.trigger1Cls=j.triggerCls),e=1;a=j["trigger"+e+"Cls"];e++)h["trigger"+e]={cls:a,extraCls:"x-trigger-index-"+e,handler:"onTrigger"+e+"Click",compat4Mode:!0,scope:j};for(b in h)h.hasOwnProperty(b)&&(g=h[b],g.field=j,g.id=b,(l&&!1!==g.hideOnReadOnly||c&&!1!==g.hidden)&&(g.hidden=!0),k&&!1!==g.repeatClick&&(g.repeatClick=!0),d=h[b]=Ext.form.trigger.Trigger.create(g),m.push(d));return Ext.Array.sort(m,Ext.form.trigger.Trigger.weightComparator),h},invokeTriggers:function(a,c){var g,b,e=this,d=e.getTriggers();if(d)for(g in d)d.hasOwnProperty(g)&&(b=d[g],b[a].apply(b,c||[]))},getTrigger:function(a){return this.getTriggers()[a]},updateHideTrigger:function(a){this.invokeTriggers(a?"hide":"show")},updateEditable:function(a,b){this.setReadOnlyAttr(!a||this.readOnly)},setReadOnly:function(g){var a,e,d=this,c=d.getTriggers(),b=d.getHideTrigger();if(g=!!g,Ext.form.field.Base.prototype.setReadOnly.call(this,g),d.rendered&&d.setReadOnlyAttr(g||!d.editable),c)for(e in c)a=c[e],(!0===a.hideOnReadOnly||!1!==a.hideOnReadOnly&&!b)&&a.setVisible(!g)},setReadOnlyAttr:function(d){var b=this,a="readonly",c=b.inputEl.dom;d?c.setAttribute(a,a):c.removeAttribute(a),b.ariaStaticRoles[b.ariaRole]||b.inputEl.dom.setAttribute("aria-readonly",!!d)},processRawValue:function(c){var a,d,b=this,e=b.stripCharsRe;return e&&(e.global||(a="g",a+=e.ignoreCase?"i":"",a+=e.multiline?"m":"",e=new RegExp(e.source,a)),(d=c.replace(e,""))!==c&&(b.setRawValue(d),b.lastValue===c&&(b.lastValue=d),c=d)),c},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},getEmptyText:function(){return this.emptyText},setEmptyText:function(b){var a=this,c=a.inputEl;return b=b||"",a.emptyText=b,a.rendered&&(Ext.supports.Placeholder&&!a.simulatePlaceholder?b?c.dom.setAttribute("placeholder",b):c.dom.removeAttribute("placeholder"):a.placeholderLabel.setHtml(b),a.refreshEmptyText()),this},afterFirstLayout:function(){if(Ext.form.field.Base.prototype.afterFirstLayout.call(this),Ext.isIE&&this.disabled){var a=this.inputEl;a&&(a.dom.unselectable="on")}},toggleInvalidCls:function(a){var b=a?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this,a),this.triggerWrap[b](this.triggerWrapInvalidCls),this.inputWrap[b](this.inputWrapInvalidCls)},onFieldMutation:function(a){this.refreshEmptyText(),Ext.form.field.Base.prototype.onFieldMutation.call(this,a)},refreshEmptyText:function(){var d,g,b,c=this,e=c.inputEl,a=c.emptyClsElements;if(e)for(d=c.getValue(),g=!(e.dom.value||Ext.isArray(d)&&d.length),c.placeholderLabel&&c.placeholderLabel.setDisplayed(g),b=0;b<a.length;b++)a[b].toggleCls(c.emptyUICls,g)},setValue:function(a){return a=Ext.form.field.Base.prototype.setValue.call(this,a),this.refreshEmptyText(),a},onFocus:function(c){var a,b=this;Ext.form.field.Base.prototype.onFocus.call(this,c),Ext.asap(function(){b.destroyed||document.activeElement!==b.inputEl.dom||(a=b.inputEl.dom.value.length,b.selectText(b.selectOnFocus?0:a,a))}),b.emptyText&&b.autoSize(),b.addCls(b.fieldFocusCls),b.triggerWrap.addCls(b.triggerWrapFocusCls),b.inputWrap.addCls(b.inputWrapFocusCls),b.invokeTriggers("onFieldFocus",[c])},onBlur:function(b){var a=this;Ext.form.field.Base.prototype.onBlur.call(this,b),a.removeCls(a.fieldFocusCls),a.triggerWrap.removeCls(a.triggerWrapFocusCls),a.inputWrap.removeCls(a.inputWrapFocusCls),a.invokeTriggers("onFieldBlur",[b])},filterKeys:function(b){if(!(b.ctrlKey&&!b.altKey||b.isSpecialKey())){var a=String.fromCharCode(b.getCharCode());this.maskRe.test(a)||b.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(a){Ext.form.field.Base.prototype.applyState.call(this,a),a.hasOwnProperty("value")&&this.setValue(a.value)},getErrors:function(l){l=arguments.length?null==l?"":l:this.processRawValue(this.getRawValue());var b,e,c,g=this,j=Ext.form.field.Base.prototype.getErrors.call(this,l),a=g.validator,d=g.vtype,h=Ext.form.field.VTypes,i=g.regex,k=Ext.String.format;if(Ext.isFunction(a)&&!0!==(b=a.call(g,l))&&j.push(b),e=g.allowOnlyWhitespace?l:Ext.String.trim(l),e.length<1){if(g.allowBlank||j.push(g.blankText),!g.validateBlank)return j;c=!0}return!c&&l.length<g.minLength&&j.push(k(g.minLengthText,g.minLength)),l.length>g.maxLength&&j.push(k(g.maxLengthText,g.maxLength)),d&&(h[d](l,g)||j.push(g.vtypeText||h[d+"Text"])),i&&!i.test(l)&&j.push(g.regexText||g.invalidText),j},selectText:function(h,b){var c,g=this,e=g.inputEl.dom,d=e.value,a=d.length;a>0&&(h=void 0===h?0:Math.min(h,a),b=void 0===b?a:Math.min(b,a),e.setSelectionRange?e.setSelectionRange(h,b):e.createTextRange&&(c=e.createTextRange(),c.moveStart("character",h),c.moveEnd("character",b-a),c.select()))},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var b,h,e,g,a,d,c=this;if(c.grow&&c.rendered&&c.getSizeModel().width.auto){g=c.inputEl,b=c.getTriggers(),e=0,d=Ext.util.Format.htmlEncode(c.getGrowWidth()||(c.hasFocus?"":c.emptyText)||""),d+=c.growAppend;for(h in b)e+=b[h].el.getWidth();a=g.getTextWidth(d)+e+c.inputWrap.getBorderWidth("lr")+c.triggerWrap.getBorderWidth("lr"),a=Math.min(Math.max(a,c.growMin),c.growMax),c.bodyEl.setWidth(a),c.updateLayout(),c.fireEvent("autosize",c,a)}},doDestroy:function(){var a=this;a.invokeTriggers("destroy"),Ext.destroy(a.triggerRepeater),Ext.form.field.Base.prototype.doDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var c,b=this.getTriggers(),a=0;if(b&&this.rendered)for(c in b)b.hasOwnProperty(c)&&(a+=b[c].el.getWidth());return a}}}}},0,["textfield"],["component","box","field","textfield"],{component:!0,box:!0,field:!0,textfield:!0},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0),Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",ariaAttributes:{"aria-multiline":!0},getSubTplData:function(b){var d=this,c=d.getFieldStyle(),a=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);return d.grow&&d.preventScrollbars&&(a.fieldStyle=(c||"")+";overflow:hidden;height:"+d.growMin+"px"),a},afterRender:function(){var a=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments),a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,a.needsMaxCheck&&a.inputEl.on("paste",a.onPaste,a)},transformRawValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(a){return a=this.stripReturns(a),Ext.form.field.Text.prototype.valueToRaw.call(this,a)},stripReturns:function(a){return a&&"string"==typeof a&&(a=a.replace(this.returnRe,"")),a},onPaste:function(){var a=this;a.pasteTask||(a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)),a.pasteTask.delay(1)},pasteCheck:function(){var b=this,c=b.getValue(),a=b.maxLength;c.length>a&&(c=c.substr(0,a),b.setValue(c))},fireKey:function(d){var c,b=this,a=d.getKey();d.isSpecialKey()&&(b.enterIsSpecial||a!==d.ENTER||d.hasModifier())&&b.fireEvent("specialkey",b,d),a===d.ENTER&&d.stopPropagation(),!b.needsMaxCheck||a===d.BACKSPACE||a===d.DELETE||d.isNavKeyPress()||b.isCutCopyPasteSelectAll(d,a)||(c=b.getValue(),c.length>=b.maxLength&&d.stopEvent())},isCutCopyPasteSelectAll:function(b,a){return!!b.ctrlKey&&(a===b.A||a===b.C||a===b.V||a===b.X)},autoSize:function(){var e,a,b,d,c=this;c.grow&&c.rendered&&c.getSizeModel().height.auto&&(e=c.inputEl,b=e.getWidth(!0),d=Ext.util.Format.htmlEncode(e.dom.value)||"&#160;",d+=c.growAppend,d=d.replace(/\n/g,"<br/>"),a=Ext.util.TextMetrics.measure(e,d,b).height+e.getPadding("tb")+c.inputWrap.getBorderWidth("tb")+c.triggerWrap.getBorderWidth("tb"),a=Math.min(Math.max(a,c.growMin),c.growMax),c.bodyEl.setHeight(a),c.updateLayout(),c.fireEvent("autosize",c,a))},doDestroy:function(){var a=this.pasteTask;a&&a.cancel(),Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:!0,box:!0,field:!0,textfield:!0,textareafield:!0,textarea:!0},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0),Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,scrollable:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a,c){var d,e,b=this;if(c&&"keydown"===c.type&&!c.isSpecialKey())return void c.getTarget(null,null,!0).on({keyup:function(g){b.btnCallback(a,g)},single:!0});(b.cfg.prompt||b.cfg.multiline)&&(e=b.cfg.multiline?b.textArea:b.textField,d=e.getValue(),e.reset()),b.hide(),b.userCallback(a.itemId,d,b.cfg)},hide:function(){var b=this,a=b.cfg?b.cfg.cls:"";b.progressBar.reset(),a&&b.removeCls(a),Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(a){var b=this;Ext.window.Window.prototype.constructor.apply(this,arguments),b.minWidth=b.defaultMinWidth=b.minWidth||b.defaultMinWidth,b.maxWidth=b.defaultMaxWidth=b.maxWidth||b.defaultMaxWidth,b.minHeight=b.defaultMinHeight=b.minHeight||b.defaultMinHeight,b.maxHeight=b.defaultMaxHeight=b.maxHeight||b.defaultMaxHeight},initComponent:function(a){var d,c,e=this,b=e.id;for(e.title=e.title||"&#160;",e.iconCls=e.iconCls||"",e.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[e.iconComponent=new Ext.Component({cls:e.baseIconCls}),e.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[e.msg=new Ext.Component({id:b+"-msg",cls:e.baseCls+"-text"}),e.textField=new Ext.form.field.Text({id:b+"-textfield",enableKeyEvents:!0,ariaAttributes:{"aria-labelledby":e.msg.id},listeners:{keydown:e.onPromptKey,scope:e}}),e.textArea=new Ext.form.field.TextArea({id:b+"-textarea",height:75,ariaAttributes:{"aria-labelledby":e.msg.id}})]})]}),e.progressBar=new Ext.ProgressBar({id:b+"-progressbar",margin:"0 10 10 10"}),e.items=[e.topContainer,e.progressBar],e.msgButtons=[],d=0;d<4;d++)c=e.makeButton(d),e.msgButtons[c.itemId]=c,e.msgButtons.push(c);e.bottomTb=new Ext.toolbar.Toolbar({id:b+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:!1,ariaRole:null,layout:{pack:"center"},items:[e.msgButtons[0],e.msgButtons[1],e.msgButtons[2],e.msgButtons[3]]}),e.dockedItems=[e.bottomTb],e.on("close",e.onClose,e),Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){var a=this;Ext.window.Window.prototype.afterRender.apply(this,arguments),a.textField.labelEl.dom.removeAttribute("for"),a.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var a=this.msgButtons[3];a&&this.btnCallback(a)},onPromptKey:function(a,c){var b=this;c.keyCode!==c.RETURN&&10!==c.keyCode||(b.msgButtons.ok.isVisible()?b.msgButtons.ok.handler.call(b,b.msgButtons.ok):b.msgButtons.yes.isVisible()&&b.msgButtons.yes.handler.call(b,b.msgButtons.yes))},reconfigure:function(d){var w,a,y,o,l,r,t,j,c,m,p,n,b,v=this,s=0,k=!0,x=v.buttonText,g=v.resizer,q=v.header,u=q&&!q.isHeader,e=d&&(d.message||d.msg),h=d.buttonTips;v.updateButtonText(),v.cfg=d=d||{},n=d.wait,d.width&&(o=d.width),d.height&&(l=d.height),v.minWidth=d.minWidth||v.defaultMinWidth,v.maxWidth=d.maxWidth||v.defaultMaxWidth,v.minHeight=d.minHeight||v.defaultMinHeight,v.maxHeight=d.maxHeight||v.defaultMaxHeight,"maskClickAction"in d?v.maskClickAction=d.maskClickAction:delete v.maskClickAction,g&&(y=g.resizeTracker,g.minWidth=y.minWidth=v.minWidth,g.maxWidth=y.maxWidth=v.maxWidth,g.minHeight=y.minHeight=v.minHeight,g.maxHeight=y.maxHeight=v.maxHeight),delete v.defaultFocus,d.defaultFocus&&(v.defaultFocus=d.defaultFocus),v.animateTarget=d.animateTarget||void 0,v.modal=!1!==d.modal,w=null!=d.title?d.title:u&&null!=q.title?q.title:v.title,a=null!=d.iconCls?d.iconCls:u&&null!=q.iconCls?q.iconCls:v.iconCls,v.setTitle(w),v.setIconCls(a),Ext.isObject(d.buttons)?(v.buttonText=d.buttons,s=0):(v.buttonText=d.buttonText||v.buttonText,s=Ext.isNumber(d.buttons)?d.buttons:0),Ext.each(v.buttonIds,function(i){v.msgButtons[i].setTooltip(h&&h[i]||null)}),s|=v.updateButtonText(),v.buttonText=x,Ext.suspendLayouts(),v.width=v.height=null,(o||l)&&(o&&v.setWidth(o),l&&v.setHeight(l)),v.rendered||v.render(Ext.getBody()),v.closable=!1!==d.closable&&!n,q=v.header,q&&(b=q.child("[type=close]"),b&&b.setVisible(v.closable),d.title||v.closable||d.iconCls?q.show():q.hide()),v.liveDrag=!d.proxyDrag,v.userCallback=Ext.Function.bindCallback(d.callback||d.fn||Ext.emptyFn,d.scope||Ext.global),v.setIcon(d.icon),c=v.msg,e?(c.setHtml(e),c.show(),v.ariaEl.dom.setAttribute("aria-describedby",c.id)):(c.hide(),v.ariaEl.dom.removeAttribute("aria-describedby")),t=v.textArea,j=v.textField,d.prompt||d.multiline?(v.multiline=d.multiline,d.multiline?(t.setValue(d.value),t.setHeight(d.defaultTextHeight||v.defaultTextHeight),t.show(),j.hide(),v.defaultFocus=t):(j.setValue(d.value),t.hide(),j.show(),v.defaultFocus=j),v.ariaEl.dom.removeAttribute("aria-describedby")):(t.hide(),j.hide()),m=v.progressBar,d.progress||n?(m.show(),v.updateProgress(0,d.progressText),v.defaultFocus=m,n&&m.wait(!0===n?d.waitConfig:n)):m.hide(),p=v.msgButtons;for(r=0;r<4;r++)s&Math.pow(2,r)?(v.defaultFocus||(v.defaultFocus=p[r]),p[r].show(),k=!1):p[r].hide();k?v.bottomTb.hide():v.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,a,d=this,c=d.buttonText,b=0;for(e in c)c.hasOwnProperty(e)&&(a=d.msgButtons[e])&&(d.cfg&&d.cfg.buttonText&&(b|=Math.pow(2,Ext.Array.indexOf(d.buttonIds,e))),a.text!==c[e]&&a.setText(c[e]));return b},show:function(a){var b,c=this;return a=a||{},Ext.Component.layoutSuspendCount?(Ext.on({resumelayouts:function(){c.show(a)},single:!0}),c):(c.reconfigure(a),a.cls&&c.addCls(a.cls),b=c.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),c.preventFocusOnActivate=!b.length,Ext.window.Window.prototype.show.call(this),c)},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments),this.center()},updateText:function(a){this.msg.setHtml(a)},setIcon:function(d,c,a){var e=this,g=e.iconComponent,b=e.messageIconCls;return b&&g.removeCls(b),d?(g.show(),(c||a)&&g.setSize(c||g.getWidth(),a||g.getHeight()),g.addCls("x-dlg-icon"),g.addCls(e.messageIconCls=d)):(g.removeCls("x-dlg-icon"),g.hide()),e},updateProgress:function(c,a,b){return this.progressBar.updateProgress(c,a),b&&this.updateText(b),this},onEsc:function(){!1!==this.closable&&Ext.window.Window.prototype.onEsc.apply(this,arguments)},confirm:function(a,d,c,b){return Ext.isString(a)&&(a={title:a,icon:this.QUESTION,message:d,buttons:this.YESNO,callback:c,scope:b}),this.show(a)},prompt:function(g,d,c,b,a,e){return Ext.isString(g)&&(g={prompt:!0,title:g,minWidth:this.minPromptWidth,message:d,buttons:this.OKCANCEL,callback:c,scope:b,multiline:a,value:e}),this.show(g)},wait:function(b,c,a){return Ext.isString(b)&&(b={title:c,message:b,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:a}),this.show(b)},alert:function(d,c,b,a){return Ext.isString(d)&&(d={title:d,message:c,buttons:this.OK,fn:b,scope:a,minWidth:this.minWidth}),this.show(d)},progress:function(c,b,a){return Ext.isString(c)&&(c={title:c,message:b,progress:!0,progressText:a}),this.show(c)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:!0,box:!0,container:!0,panel:!0,window:!0,messagebox:!0},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(a){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new a})}),Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(b,c){var a,d=this;d.owner=b,d.fieldMonitors={validitychange:d.checkValidityDelay,enable:d.checkValidityDelay,disable:d.checkValidityDelay,dirtychange:d.checkDirtyDelay,errorchange:d.checkErrorDelay,scope:d},d.checkValidityTask=new Ext.util.DelayedTask(d.checkValidity,d),d.checkDirtyTask=new Ext.util.DelayedTask(d.checkDirty,d),d.checkErrorTask=new Ext.util.DelayedTask(d.checkError,d),d.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:d,addHandler:d.onFieldAdd,removeHandler:d.onFieldRemove,invalidateHandler:d.onMonitorInvalidate}),d.monitor.bind(b),Ext.apply(d,c),Ext.isString(d.paramOrder)&&(d.paramOrder=d.paramOrder.split(/[\s,|]/)),a=d.reader,a&&!a.isReader&&("string"==typeof a&&(a={type:a}),d.reader=Ext.createByAlias("reader."+a.type,a)),a=d.errorReader,a&&!a.isReader&&("string"==typeof a&&(a={type:a}),d.errorReader=Ext.createByAlias("reader."+a.type,a)),Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var b=this,a=b.monitor;a&&(a.unbind(),b.monitor=null),b.clearListeners(),b.checkValidityTask.cancel(),b.checkDirtyTask.cancel(),b.checkErrorTask.cancel(),b.checkValidityTask=b.checkDirtyTask=b.checkErrorTask=null,Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(a){a.on(this.fieldMonitors),this.onMonitorInvalidate()},onFieldRemove:function(a){a.un(this.fieldMonitors),this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;return a&&0!==a.getCount()||(a=this._boundItems=new Ext.util.MixedCollection,a.addAll(this.owner.query("[formBind]"))),a},hasInvalidField:function(){return!!this.getFields().findBy(function(c){var b,a=c.preventMark;return c.preventMark=!0,b=c.isValid(),c.preventMark=a,!b})},isValid:function(){var b,a=this;return Ext.suspendLayouts(),b=a.getFields().filterBy(function(c){return!c.validate()}),Ext.resumeLayouts(!0),b.length<1},checkValidity:function(){var a,b=this;b.destroyed||(a=!b.hasInvalidField())!==b.wasValid&&(b.onValidityChange(a),b.fireEvent("validitychange",b,a),b.wasValid=a)},checkValidityDelay:function(){var a=this.taskDelay;a?this.checkValidityTask.delay(a):this.checkValidity()},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var a=this.taskDelay;a?this.checkErrorTask.delay(a):this.checkError()},onValidityChange:function(g){var b,c,a,e,d=this.getBoundItems();if(d)for(b=d.items,a=b.length,c=0;c<a;c++)e=b[c],e.disabled===g&&e.setDisabled(!g)},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){var a=this.taskDelay;a?this.checkDirtyTask.delay(a):this.checkDirty()},checkDirty:function(){var a;this.destroyed||(a=this.isDirty())!==this.wasDirty&&(this.fireEvent("dirtychange",this,a),this.wasDirty=a)},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(b,a){return Ext.isString(b)&&(b=Ext.ClassManager.instantiateByAlias("formaction."+b,Ext.apply({},a,{form:this}))),!1!==this.fireEvent("beforeaction",this,b)&&(this.beforeAction(b),Ext.defer(b.run,100,b)),this},submit:function(a){a=a||{};var c,b=this;return c=a.standardSubmit||b.standardSubmit?"standardsubmit":b.api?"directsubmit":"submit",b.doAction(c,a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(c){if(!(c=c||this._record))return this;for(var e,b=c.self.fields,d=this.getFieldValues(),h={},g=0,a=b.length;g<a;++g)e=b[g].name,d.hasOwnProperty(e)&&(h[e]=d[e]);return c.beginEdit(),c.set(h),c.endEdit(),this},loadRecord:function(a){return this._record=a,this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(c){var e,h,a,g=this,b=c.waitMsg,j="x-mask-loading",d=g.getFields().items,i=d.length;for(e=0;e<i;e++)h=d[e],h.isFormField&&h.syncValue&&h.syncValue();b&&(a=g.waitMsgTarget,!0===a?g.owner.el.mask(b,j):a?(a=g.waitMsgTarget=Ext.get(a),a.mask(b,j)):(g.floatingAncestor=g.owner.up("[floating]"),g.floatingAncestor&&(g.savePreventFocusOnActivate=g.floatingAncestor.preventFocusOnActivate,g.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(b,c.waitTitle||g.waitTitle)))},afterAction:function(c,e){var a=this;if(c.waitMsg){var b=Ext.MessageBox,d=a.waitMsgTarget;!0===d?a.owner.el.unmask():d?d.unmask():b.hide()}a.floatingAncestor&&(a.floatingAncestor.preventFocusOnActivate=a.savePreventFocusOnActivate),
e?(c.reset&&a.reset(),Ext.callback(c.success,c.scope||c,[a,c]),a.fireEvent("actioncomplete",a,c)):(Ext.callback(c.failure,c.scope||c,[a,c]),a.fireEvent("actionfailed",a,c))},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.name===a||b.dataIndex===a})},markInvalid:function(j){function i(e,l){var k=d.findField(e);k&&k.markInvalid(l)}var h,a,b,g,c,d=this;if(Ext.isArray(j))for(a=j.length,h=0;h<a;h++)b=j[h],i(b.id||b.field,b.msg||b.message);else if(j instanceof Ext.data.ErrorCollection)for(a=j.items.length,h=0;h<a;h++)b=j.items[h],i(b.field,b.message);else for(c in j)j.hasOwnProperty(c)&&(g=j[c],i(c,g));return this},setValues:function(b){function e(h,j){var i=d.findField(h);i&&(i.setValue(j),d.trackResetOnLoad&&i.resetOriginalValue())}var a,c,g,d=this;if(Ext.suspendLayouts(),Ext.isArray(b))for(c=b.length,a=0;a<c;a++)g=b[a],e(g.id,g.value);else Ext.iterate(b,e);return Ext.resumeLayouts(!0),this},getValues:function(j,k,o,m,c){var l,e,d,b,a,i,n={},h=this.getFields().items,p=h.length,g=Ext.isArray;for(i=0;i<p;i++)if(l=h[i],(!k||l.isDirty())&&(e=l[m?"getModelData":"getSubmitData"](o,c),Ext.isObject(e)))for(a in e)if(e.hasOwnProperty(a))if(d=e[a],o&&""===d&&(d=l.emptyText||""),l.isRadio)n[a]=n[a]||d;else{if(l.isCheckbox&&null===d)continue;n.hasOwnProperty(a)?(b=n[a],g(b)||(b=n[a]=[b]),g(d)?n[a]=b.concat(d):b.push(d)):n[a]=d}return j&&(n=Ext.Object.toQueryString(n)),n},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var c,b=this,a=b.getFields().items,d=a.length;for(c=0;c<d;c++)a[c].clearInvalid();return Ext.resumeLayouts(!0),b},reset:function(b){Ext.suspendLayouts();var d,c=this,a=c.getFields().items,e=a.length;for(d=0;d<e;d++)a[d].reset();return Ext.resumeLayouts(!0),!0===b&&delete c._record,c},applyToFields:function(c){var b,a=this.getFields().items,d=a.length;for(b=0;b<d;b++)Ext.apply(a[b],c);return this},applyIfToFields:function(c){var b,a=this.getFields().items,d=a.length;for(b=0;b<d;b++)Ext.applyIf(a[b],c);return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0),Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){var a=this;a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]:not([excludeForm])",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove}),a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(b){var a=b.fieldDefaults,c=this.fieldDefaults;c&&(b.fieldDefaults=a?Ext.apply(Ext.Object.chain(a),c):c)},onChildFieldAdd:function(b){var a=this;a.mon(b,"errorchange",a.handleFieldErrorChange,a),a.mon(b,"validitychange",a.handleFieldValidityChange,a)},onChildFieldRemove:function(b){var a=this;a.mun(b,"errorchange",a.handleFieldErrorChange,a),a.mun(b,"validitychange",a.handleFieldValidityChange,a)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(c,b){var a=this;c!==a&&(a.fireEvent("fieldvaliditychange",a,c,b),a.onFieldValidityChange(c,b))},handleFieldErrorChange:function(b,a){var c=this;b!==c&&(c.fireEvent("fielderrorchange",c,b,a),c.onFieldErrorChange(b,a))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0),Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(b){var a=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.call(this,b),b.hasRawContent=!0,a.setStyle("width",""),a.setStyle("height",""),b.containerElContext=b.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(c,b){return Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.call(this,c,b)+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(c,b){return Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.call(this,c,b)+this.getWidthAdjustment()},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.call(this,a):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.call(this,a):NaN},publishInnerHeight:function(b,a){a-=this.getHeightAdjustment(),b.containerElContext.setHeight(a)},publishInnerWidth:function(b,a){a-=this.getWidthAdjustment(),b.containerElContext.setWidth(a)},privates:{getHeightAdjustment:function(){var a=this.owner,b=0;return"top"===a.labelAlign&&a.hasVisibleLabel()&&(b+=a.labelEl.getHeight()),"under"===a.msgTarget&&a.hasActiveError()&&(b+=a.errorWrapEl.getHeight()),b+a.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var a=this.owner,b=0;return"top"!==a.labelAlign&&a.hasVisibleLabel()&&(b+=a.labelWidth+(a.labelPad||0)),"side"===a.msgTarget&&a.hasActiveError()&&(b+=a.errorWrapEl.getWidth()),b+a.bodyEl.getPadding("lr")}}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0),Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:!0,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var a=this;a.initLabelable(),a.initFieldAncestor(),Ext.container.Container.prototype.initComponent.call(this),a.initMonitor()},onAdd:function(a){var b=this;a.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&"absolute"===b.layout.type&&!b.hideLabel&&"top"!==b.labelAlign&&(a.x+=b.labelWidth+b.labelPad),Ext.container.Container.prototype.onAdd.apply(this,arguments),a.isLabelable&&b.combineLabels&&(a.oldHideLabel=a.hideLabel,a.hideLabel=!0),b.updateLabel()},onRemove:function(a,b){var c=this;Ext.container.Container.prototype.onRemove.apply(this,arguments),b||(a.isLabelable&&c.combineLabels&&(a.hideLabel=a.oldHideLabel),c.updateLabel())},initRenderData:function(){var a=this,b=Ext.container.Container.prototype.initRenderData.call(this);return b.containerElCls=a.containerElCls,b=Ext.applyIf(b,a.getLabelableRenderData()),"top"!==a.labelAlign&&"under"!==a.msgTarget||(b.extraFieldBodyCls+=" x-field-container-body-vertical"),b.tipAnchorTarget=a.id+"-containerEl",b},getFieldLabel:function(){var a=this.fieldLabel||"";return!a&&this.combineLabels&&(a=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)),a},getSubTplData:function(){var a=this.initRenderData();return Ext.apply(a,this.subTplData),a},getSubTplMarkup:function(b){var d=this,a=d.lookupTpl("fieldSubTpl");return a.renderContent||d.setupRenderTpl(a),a.apply(d.getSubTplData(b))},updateLabel:function(){var b=this;b.labelEl&&b.setFieldLabel(b.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var c=this,d=c.getActiveError(),b=Ext.Array.filter(c.query("[isFormField]"),function(e){return e.hasActiveError()}),a=c.getCombinedErrors(b);a?c.setActiveErrors(a):c.unsetActiveError(),d!==c.getActiveError()&&c.updateLayout()}},getCombinedErrors:function(e){var c,i,d,j,b,g,h,k=[],l=e.length;for(c=0;c<l;c++)for(i=e[c],d=i.getActiveErrors(),b=d.length,j=0;j<b;j++)g=d[j],h=i.getFieldLabel(),k.push((h?h+": ":"")+g);return k},privates:{applyTargetCls:function(b){var a=this.containerElCls;this.containerElCls=a?a+" "+b:b},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.lookupTpl("labelableRenderTpl")),Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:!0,box:!0,container:!0,fieldcontainer:!0},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0),Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:'<table id="{ownerId}-innerCt" data-ref="innerCt" class="x-table-plain" cellpadding="0"role="presentation" style="{tableStyle}"><tbody role="presentation"><tr role="presentation"><tpl for="columns"><td class="{parent.colCls}" valign="top" style="{style}" role="presentation">{% this.renderColumn(out,parent,xindex-1) %}</td></tpl></tr></tbody></table>',lastOwnerItemsGeneration:null,initLayout:function(){var b=this,a=b.owner;b.columnsArray=Ext.isArray(a.columns),b.autoColumns=!a.columns||"auto"===a.columns,b.autoColumns||(b.vertical=a.vertical||1===a.columns||1===a.columns.length),Ext.layout.container.Container.prototype.initLayout.call(this)},beginLayout:function(b){var e,d,h,a,j,k=this,g=0,m=0,l=k.autoFlex,c=k.innerCt.dom.style;if(Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments),e=k.rowNodes[0].children,b.innerCtContext=b.getEl("innerCt",k),b.widthModel.shrinkWrap)c.tableLayout="auto",c.width="";else{if(d=e.length,k.columnsArray){for(h=0;h<d;h++)(a=k.owner.columns[h])<1&&(g+=a,m++);for(h=0;h<d;h++)a=k.owner.columns[h],j=a<1?a/g*100+"%":a+"px",e[h].style.width=j}else for(h=0;h<d;h++)j=l?1/d*100+"%":"",e[h].style.width=j,m++;m?m<d?(c.tableLayout="fixed",c.width="100%"):(c.tableLayout="auto",c.width=l?"100%":""):(c.tableLayout="fixed",c.width="")}},cacheElements:function(){var a=this;Ext.layout.container.Container.prototype.cacheElements.call(this),a.rowNodes=a.innerCt.query("tr",!0),a.tBodyNode=a.rowNodes[0].parentNode},calculate:function(h){var c,b,a,i,d,g,e=this;h.getDomProp("containerChildrenSizeDone")?(c=h.innerCtContext,b=h.widthModel.shrinkWrap,a=h.heightModel.shrinkWrap,i=a||b,d=c.el.dom,g=i&&c.getPaddingInfo(),b&&h.setContentWidth(d.offsetWidth+g.width,!0),a&&h.setContentHeight(d.offsetHeight+g.height,!0)):e.done=!1},doRenderColumn:function(d,l,g){var m,a,j,k,n,i=l.$layout,c=i.owner,e=l.columnCount,h=c.items.items,b=h.length;for(c.vertical?(j=Math.ceil(b/e),a=g*j,b=Math.min(b,a+j),k=1):(a=g,k=e);a<b;a+=k)m=h[a],i.configureItem(m),n=m.getRenderTree(),Ext.DomHelper.generateMarkup(n,d)},getColumnCount:function(){var b=this,a=b.owner,c=a.columns;return b.columnsArray?c.length:Ext.isNumber(c)?c:a.items.length},getItemSizePolicy:function(a){return this.autoSizePolicy},getRenderData:function(){var h,a,c,j,k=this,g=Ext.layout.container.Container.prototype.getRenderData.call(this),b=k.owner,d=k.getColumnCount(),l=k.autoFlex,e=0,m=0;if(k.columnsArray)for(h=0;h<d;h++)(a=k.owner.columns[h])<1&&(e+=a,m++);for(g.colCls=b.groupCls,g.columnCount=d,g.columns=[],h=0;h<d;h++)c=g.columns[h]={},k.columnsArray?(a=k.owner.columns[h],j=a<1?a/e*100+"%":a+"px",c.style="width:"+j):(c.style="width:"+1/d*100+"%",m++);return g.tableStyle=m?m<d?"table-layout:fixed;width:100%":l?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",g},isValidParent:Ext.returnTrue,setupRenderTpl:function(a){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments),a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;a.lastOwnerItemsGeneration!==b&&(a.lastOwnerItemsGeneration=b,a.renderItems(a.getLayoutItems()))},renderItems:function(e){var k,j,c,h,d,b,g=this,a=e.length;if(a){for(Ext.suspendLayouts(),g.autoColumns?(c=a,j=1):(c=g.columnsArray?g.owner.columns.length:g.owner.columns,j=Math.ceil(a/c)),b=0;b<a;b++)k=e[b],h=g.getRenderRowIndex(b,j,c),d=g.getRenderColumnIndex(b,j,c),k.rendered?g.isItemAtPosition(k,h,d)||g.moveItem(k,h,d):g.renderItem(k,h,d);g.pruneRows(j,c),Ext.resumeLayouts(!0)}},isItemAtPosition:function(b,c,a){return b.el.dom===this.getItemNodeAt(c,a)},getRenderColumnIndex:function(b,a,c){return this.vertical?Math.floor(b/a):b%c},getRenderRowIndex:function(b,a,c){return this.vertical?b%a:Math.floor(b/c)},getItemNodeAt:function(c,b){var a=this.getColumnNodeAt(c,b);return this.vertical?a.children[c]:a.children[0]},getRowNodeAt:function(c){var b,a=this;return c=a.vertical?0:c,b=a.rowNodes[c],b||(b=a.rowNodes[c]=document.createElement("tr"),b.role="presentation",a.tBodyNode.appendChild(b)),b},getColumnNodeAt:function(d,b,c){var a;return c=c||this.getRowNodeAt(d),a=c.children[b],a||(a=Ext.fly(c).appendChild({tag:"td",cls:this.owner.groupCls,vAlign:"top",role:"presentation"},!0)),a},pruneRows:function(h,e){var b,k,a,d,c,g=this,l=g.tBodyNode.children;for(h=g.vertical?1:h;l.length>h;)k=l[l.length-1],k.parentNode.removeChild(k);for(d=h-1;d>=0;d--){for(k=l[d],b=k.children;b.length>e;)a=b[b.length-1],k.removeChild(a);if(d>0)for(c=b.length-1;c>=0&&(a=b[c],0===a.children.length);c--)k.removeChild(a)}},renderItem:function(e,g,c){var b,a,d=this;d.configureItem(e),a=d.vertical?g:0,b=Ext.get(d.getColumnNodeAt(g,c)),e.render(b,a)},moveItem:function(e,h,c){var b,a,g,d=this;a=d.vertical?h:0,b=d.getColumnNodeAt(h,c),g=b.children[a],b.insertBefore(e.el.dom,g||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0),Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name===a&&c.getFormId()===b})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0),Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:!1,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:!1,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:!1,ariaRole:"native",onRe:/^on$/i,inputCls:"x-form-cb",_checkboxCls:"x-form-cb-input",initComponent:function(){var a=this,b=a.value;void 0!==b&&(a.checked=a.isChecked(b,a.inputValue)),Ext.form.field.Base.prototype.initComponent.call(this),a.getManager().add(a)},initDefaultName:Ext.emptyFn,initValue:function(){var b=this,a=!!b.checked;b.originalValue=b.initialValue=b.lastValue=a,b.setValue(a)},getElConfig:function(){var a=this;return a.isChecked(a.rawValue,a.inputValue)&&a.addCls(a.checkedCls),a.fieldLabel||(a.skipLabelForAttribute=!0),Ext.form.field.Base.prototype.getElConfig.call(this)},getModelData:function(){var a=Ext.form.field.Base.prototype.getModelData.apply(this,arguments);return a&&(a[this.getName()]=this.getSubmitValue()),a},getSubTplData:function(b){var e,a,d=this,c=d.boxLabel,h=d.boxLabelAlign,g="before"===h;return e=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,b),{inputType:d.inputType,checkboxCls:d._checkboxCls,disabled:d.readOnly||d.disabled,checked:!!d.checked,wrapInnerCls:d.wrapInnerCls,boxLabel:c,boxLabelCls:d.boxLabelCls,boxLabelAlign:h,labelAlignedBefore:g,afterLabelCls:g?d.afterLabelCls:"",noBoxLabelCls:c?"":d.noBoxLabelCls,inputName:d.name||d.id}),a=e.inputElAriaAttributes,a&&delete a["aria-readonly"],e},initEvents:function(){var a=this;Ext.form.field.Base.prototype.initEvents.call(this),a.inputEl.on(a.changeEventName,a.onChangeEvent,a,{delegated:!1}),Ext.isIE?a.bodyEl.on("mousedown",a.onBodyElMousedown,a):Ext.isMac&&(Ext.isGecko||Ext.isSafari)&&(a.boxLabelEl.on("mousedown",a.onBoxLabelOrInputMousedown,a),a.inputEl.on("mousedown",a.onBoxLabelOrInputMousedown,a))},setBoxLabel:function(a){var b=this;b.boxLabel=a,b.rendered&&(b.boxLabelEl.setHtml(a),b.boxLabelEl[a?"removeCls":"addCls"](b.noBoxLabelCls),b.updateLayout())},onBodyElMousedown:function(a){a.target!==this.inputEl.dom&&a.preventDefault()},onBoxLabelOrInputMousedown:function(a){this.inputEl.focus(),a.preventDefault()},onChangeEvent:function(a){this.updateValueFromDom()},updateValueFromDom:function(){var a=this,b=a.inputEl&&a.inputEl.dom;b&&(a.checked=a.rawValue=a.value=b.checked,a.checkChange())},updateCheckedCls:function(b){var a=this;b=null!=b?b:a.getValue(),a[b?"addCls":"removeCls"](a.checkedCls)},getRawValue:function(){var a=this.inputEl&&this.inputEl.dom;return a?a.checked:this.checked},getValue:function(){var a=this.inputEl&&this.inputEl.dom;return a?a.checked:this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.getValue()?this.inputValue:b},isChecked:function(c,a){return!0===c||"true"===c||("on"===a||!a&&0!==a||!Ext.isString(c)&&!Ext.isNumber(c)?"1"===c||1===c||this.onRe.test(c):c==a)},setRawValue:function(c){var b=this,d=b.inputEl&&b.inputEl.dom,a=b.isChecked(c,b.inputValue);return d&&(b.duringSetRawValue=!0,d.checked=a,b.duringSetRawValue=!1,b.updateCheckedCls(a)),b.checked=b.rawValue=a,b.duringSetValue||(b.lastValue=a),a},setValue:function(g){var c,b,a,d,e=this;if(Ext.isArray(g))for(c=e.getManager().getByName(e.name,e.getFormId()).items,a=c.length,b=0;b<a;++b)d=c[b],d.setValue(Ext.Array.contains(g,d.inputValue));else e.duringSetValue=!0,Ext.form.field.Base.prototype.setValue.apply(this,arguments),delete e.duringSetValue;return e},valueToRaw:Ext.identityFn,onChange:function(b,a){var d=this,c=d.handler;d.updateCheckedCls(b),c&&Ext.callback(c,d.scope,[d,b],0,d),Ext.form.field.Base.prototype.onChange.apply(this,arguments),d.reference&&d.publishState&&d.publishState("checked",b)},resetOriginalValue:function(b){var d,a,c,g=this;if(!b)for(d=g.getManager().getByName(g.name,g.getFormId()).items,a=d.length,c=0;c<a;++c)d[c]!==g&&d[c].resetOriginalValue(!0);Ext.form.field.Base.prototype.resetOriginalValue.call(this)},doDestroy:function(){this.getManager().removeAtKey(this.id),Ext.form.field.Base.prototype.doDestroy.call(this)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl&&a.inputEl.dom;Ext.form.field.Base.prototype.onEnable.call(this),b&&(b.disabled=a.readOnly)},setReadOnly:function(c){var a=this,b=a.inputEl&&a.inputEl.dom;b&&(b.disabled=!!c||a.disabled),Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var a,b=this;return b.formId||(a=b.up("form"))&&(b.formId=a.id),b.formId},getFocusClsEl:function(){return this.displayEl}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:!0,box:!0,field:!0,checkboxfield:!0,checkbox:!0},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0),Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{isCheckboxGroup:!0,columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",defaultBindProperty:"value",groupCls:"x-form-check-group",extraFieldBodyCls:"x-form-checkboxgroup-body",layout:"checkboxgroup",componentCls:"x-form-checkboxgroup",ariaRole:"group",ariaEl:"containerEl",skipLabelForAttribute:!0,ariaRenderAttributes:{"aria-invalid":!1},initComponent:function(){var a=this;a.name=a.name||a.id,Ext.form.FieldContainer.prototype.initComponent.call(this),a.initField()},initRenderData:function(){var h,b,g=this;return h=Ext.form.FieldContainer.prototype.initRenderData.call(this),h.inputId=g.id+"-"+g.ariaEl,b=h.ariaAttributes,b&&(b["aria-labelledby"]||(b["aria-labelledby"]=g.id+"-labelTextEl")),h},initValue:function(){var b=this,a=b.value;b.originalValue=b.lastValue=a||b.getValue(),a&&b.setValue(a)},onAdd:function(e){var b,a,c,d=this;if(e.isCheckbox)null==e.name&&(e.name=d.name),d.mon(e,"change",d.checkChange,d);else if(e.isContainer)for(b=e.items.items,c=0,a=b.length;c<a;c++)d.onAdd(b[c]);Ext.form.FieldContainer.prototype.onAdd.apply(this,arguments)},onRemove:function(e){var b,a,c,d=this;if(e.isCheckbox)d.mun(e,"change",d.checkChange,d);else if(e.isContainer)for(b=e.items.items,c=0,a=b.length;c<a;c++)d.onRemove(b[c]);Ext.form.FieldContainer.prototype.onRemove.apply(this,arguments)},isEqual:function(b,a){var c=Ext.Object.toQueryString;return c(b)===c(a)},getErrors:function(){var a=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&a.push(this.blankText),a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(b,a){Ext.Array.forEach(this.getBoxes(),b,a||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var a,c=this.getBoxes(),d=c.length;for(a=0;a<d;a++)if(c[a].isDirty())return!0},setReadOnly:function(e){var a,c=this.getBoxes(),d=c.length;for(a=0;a<d;a++)c[a].setReadOnly(e);this.readOnly=e},reset:function(){var c=this,b=c.hasActiveError(),a=c.preventMark;c.preventMark=!0,c.batchChanges(function(){var d,e=c.getBoxes(),g=e.length;for(d=0;d<g;d++)e[d].reset()}),c.preventMark=a,c.unsetActiveError(),b&&c.updateLayout()},resetOriginalValue:function(){var a,d=this,c=d.getBoxes(),e=c.length;for(a=0;a<e;a++)c[a].resetOriginalValue();d.originalValue=d.getValue(),d.checkDirty()},setValue:function(h){var a,e,c,i,g=this,d=g.getBoxes(),j=d.length;return g.batchChanges(function(){for(Ext.suspendLayouts(),a=0;a<j;a++)e=d[a],c=e.getName(),i=!1,h&&(i=Ext.isArray(h[c])?Ext.Array.contains(h[c],e.inputValue):h[c]),e.setValue(i);Ext.resumeLayouts(!0)}),g},getValue:function(){var c,h,e,a,i,d={},g=this.getBoxes(),j=g.length;for(c=0;c<j;c++)h=g[c],e=h.getName(),a=h.inputValue,h.getValue()&&(d.hasOwnProperty(e)?(i=d[e],Ext.isArray(i)||(i=d[e]=[i]),i.push(a)):d[e]=a);return d},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var d,c,b,a=this;return a.disabled?c=!0:(d=a.getErrors(),c=Ext.isEmpty(d),b=a.wasValid,c?a.unsetActiveError():a.setActiveError(d)),c!==b&&(a.wasValid=c,a.fireEvent("validitychange",a,c),a.updateLayout()),c}},0,["checkboxgroup"],["component","box","container","fieldcontainer","checkboxgroup"],{component:!0,box:!0,container:!0,fieldcontainer:!0,checkboxgroup:!0},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:"x-fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:!1,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,initComponent:function(){var b=this,a=b.baseCls;b.ariaRole&&!b.ariaLabel&&(b.ariaLabel=Ext.String.formatEncode(b.descriptionText,b.title||"")),b.ariaRenderAttributes=b.ariaRenderAttributes||{},b.ariaRenderAttributes["aria-expanded"]=!b.collapsed,b.initFieldAncestor(),Ext.container.Container.prototype.initComponent.call(this),b.layout.managePadding=b.layout.manageOverflow=!1,b.collapsed&&(b.addCls(a+"-collapsed"),b.collapse()),(b.title||b.checkboxToggle||b.collapsible)&&(b.addTitleClasses(),b.legend=b.createLegendCt()),b.initMonitor()},initRenderData:function(){var a=this,b=Ext.container.Container.prototype.initRenderData.call(this);return b.bodyTargetCls=a.bodyTargetCls,a.protoBody.writeTo(b),delete a.protoBody,b},doDestroy:function(){var b=this,a=b.legend;a&&(delete a.ownerCt,a.destroy(),b.legend=null),Ext.container.Container.prototype.doDestroy.call(this)},getState:function(){var a=Ext.container.Container.prototype.getState.call(this);return a=this.addPropertyToState(a,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var c=this,a=[],d={baseCls:c.baseCls+"-header",layout:"container",ui:c.ui,id:c.id+"-legend",autoEl:"legend",ariaRole:null,items:a,ownerCt:c,shrinkWrap:!0,ownerLayout:c.componentLayout};return c.checkboxToggle?a.push(c.createCheckboxCmp()):c.collapsible&&a.push(c.createToggleCmp()),a.push(c.createTitleCmp()),new Ext.container.Container(d)},createTitleCmp:function(){var b=this,a={html:b.title,ui:b.ui,cls:b.baseCls+"-header-text",id:b.id+"-legendTitle",ariaRole:"presentation"};return b.collapsible&&b.toggleOnTitleClick&&(a.listeners={click:{element:"el",scope:b,fn:b.toggle}},a.cls+=" "+b.baseCls+"-header-text-collapsible"),b.titleCmp=new Ext.Component(a),b.titleCmp},createCheckboxCmp:function(){var c,b=this,d="-checkbox",a=b.baseCls+"-header"+d;return a+=" "+a+"-"+b.ui,b.checkboxCmp=c=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:!0,name:b.checkboxName||b.id+d,cls:a,id:b.id+"-legendChk",ui:b.checkboxUI,checked:!b.collapsed,msgTarget:"none",listeners:{change:b.onCheckChange,scope:b},ariaLabel:b.expandText},b.checkbox)),c},createToggleCmp:function(){var b,a=this;return a.toggleCmp=b=new Ext.panel.Tool({cacheHeight:!1,cls:a.baseCls+"-header-tool-"+a.ui,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a,ariaRole:"checkbox",ariaLabel:a.expandText,ariaRenderAttributes:{"aria-checked":!a.collapsed}}),b},doRenderLegend:function(b,e){var a,d=e.$comp,c=d.legend;c&&(c.ownerLayout.configureItem(c),d.setLegendCollapseImmunity(c),a=c.getRenderTree(),Ext.DomHelper.generateMarkup(a,b))},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(c){var b=this,a=b.legend;return b.title=c,b.ariaLabel=Ext.String.formatEncode(b.descriptionText,c||""),b.rendered?(a||(b.legend=a=b.createLegendCt(),b.addTitleClasses(),a.ownerLayout.configureItem(a),b.setLegendCollapseImmunity(a),a.render(b.el,0)),b.titleCmp.update(c),b.ariaEl.dom.setAttribute("aria-label",b.ariaLabel)):a?b.titleCmp.update(c):(b.addTitleClasses(),b.legend=b.createLegendCt()),b},addTitleClasses:function(){var b=this,c=b.title,a=b.baseCls;c&&b.addCls(a+"-with-title"),(c||b.checkboxToggle||b.collapsible)&&b.addCls(a+"-with-legend")},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setCollapsed:function(a){this.setExpanded(!a)},setExpanded:function(b){var c=this,d=c.checkboxCmp,e=c.toggleCmp,a=b?"expand":"collapse";return c.rendered&&!1===c.fireEvent("before"+a,c)||(b=!!b,d?d.setValue(b):e&&e.ariaEl.dom&&e.ariaEl.dom.setAttribute("aria-checked",b),b?c.removeCls(c.baseCls+"-collapsed"):c.addCls(c.baseCls+"-collapsed"),c.ariaEl.dom&&c.ariaEl.dom.setAttribute("aria-expanded",!!b),c.collapsed=!b,b?delete c.getInherited().collapsed:c.getInherited().collapsed=!0,c.rendered&&(c.updateLayout({isRoot:!1}),c.fireEvent(a,c))),c},getRefItems:function(a){var c=Ext.container.Container.prototype.getRefItems.apply(this,arguments),b=this.legend;return b&&(c.unshift(b),a&&c.unshift.apply(c,b.getRefItems(!0))),c},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(a){this.bodyTargetCls=a},finishRender:function(){var a=this.legend;Ext.container.Container.prototype.finishRender.call(this),a&&a.finishRender()},getProtoBody:function(){var b=this,a=b.protoBody;return a||(b.protoBody=a=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),a},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(e){var b,c=this,a=c.getProtoBody(),d=c.padding;void 0!==d&&(Ext.isIE8&&(d=c.parseBox(d),b=Ext.Element.parseBox(0),b.top=d.top,d.top=0,a.setStyle("padding",c.unitizeBox(b))),e.setStyle("padding",c.unitizeBox(d)))},onCheckChange:function(b,a){this.setExpanded(a)},setLegendCollapseImmunity:function(a){a.collapseImmune=!0,a.getInherited().collapseImmune=!0},setupRenderTpl:function(a){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments),a.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:!0,box:!0,container:!0,fieldset:!0},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0),Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:!1,getElConfig:function(){var a=this;return a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"",Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:a.forId||""})},setText:function(c,b){var a=this;return b=!1!==b,b?(a.text=c,delete a.html):(a.html=c,delete a.text),a.rendered&&(a.el.dom.innerHTML=!1!==b?Ext.util.Format.htmlEncode(c):c,a.updateLayout()),a}},0,["label"],["component","box","label"],{component:!0,box:!0,label:!0},["widget.label"],0,[Ext.form,"Label"],0),Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;a.frame&&(a.border=!1),a.initFieldAncestor(),Ext.panel.Panel.prototype.initComponent.call(this),a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),a.pollForChanges&&a.startPolling(a.pollInterval||500)},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments),this.form.initialize()},createForm:function(){for(var e,b={},d=this.basicFormConfigs,a=d.length,c=0;c<a;++c)e=d[c],b[e]=this[e];return new Ext.form.Basic(this,b)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(d,b,c,a){return this.getForm().getValues(d,b,c,a)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(a){
return this.form.reset(a)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling(),this.form.destroy(),Ext.panel.Panel.prototype.doDestroy.call(this)},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(b){this.stopPolling();var a=new Ext.util.TaskRunner(b);a.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=a},stopPolling:function(){var a=this.pollTask;a&&(a.stopAll(),delete this.pollTask)},checkChange:function(){var b,a=this.form.getFields().items,c=a.length;for(b=0;b<c;b++)a[b].checkChange()}},0,["form"],["component","box","container","panel","form"],{component:!0,box:!0,container:!0,panel:!0,form:!0},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0),Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name===a&&c.getFormId()===b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name===a&&d.inputValue==b&&d.getFormId()===c})},getChecked:function(a,b){return this.findBy(function(c){return c.name===a&&c.checked&&c.getFormId()===b})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0),Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:!0,inputType:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onRemoved:function(){Ext.form.field.Checkbox.prototype.onRemoved.apply(this,arguments),this.formId=null},setValue:function(b){var c,a=this;return Ext.isBoolean(b)?Ext.form.field.Checkbox.prototype.setValue.apply(this,arguments):(c=a.getManager().getWithValue(a.name,b,a.getFormId()).getAt(0))&&c.setValue(!0),a},getSubmitValue:function(){return this.checked?this.inputValue:null},onChange:function(c,a){var g,e,b,i,h=this,d=h.ownerCt;if(Ext.form.field.Checkbox.prototype.onChange.apply(this,arguments),c)for(i=h.getManager().getByName(h.name,h.getFormId()).items,e=i.length,g=0;g<e;g++)(b=i[g])!==h&&b.updateValueFromDom();d&&d.isRadioGroup&&d.simpleValue&&d.checkChange()},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["component","box","field","checkboxfield","checkbox","radiofield","radio"],{component:!0,box:!0,field:!0,checkboxfield:!0,checkbox:!0,radiofield:!0,radio:!0},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0),Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{isRadioGroup:!0,allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",local:!1,simpleValue:!1,defaultBindProperty:"value",groupCls:"x-form-radio-group",ariaRole:"radiogroup",initRenderData:function(){var c,a,b=this;return c=Ext.form.CheckboxGroup.prototype.initRenderData.call(this),a=c.ariaAttributes,a&&(a["aria-required"]=!b.allowBlank,a["aria-invalid"]=!1),c},lookupComponent:function(b){var a=Ext.form.CheckboxGroup.prototype.lookupComponent.call(this,b);return this.local&&(a.formId=this.getId()),a},getBoxes:function(b,a){return(a||this).query("[isRadio]"+(b||""))},checkChange:function(){var c,a,b=this;c=b.getValue(),a="object"==typeof c&&Ext.Object.getKeys(c)[0],(b.simpleValue||a&&!Ext.isArray(c[a]))&&Ext.form.CheckboxGroup.prototype.checkChange.apply(this,arguments)},isEqual:function(b,a){return this.simpleValue?b===a:Ext.form.CheckboxGroup.prototype.isEqual.call(this,b,a)},getValue:function(){var c,d,b,e=this,a=e.items.items;if(e.simpleValue){for(c=a.length;c-- >0;)if(d=a[c],d.checked){b=d.inputValue;break}}else b=Ext.form.CheckboxGroup.prototype.getValue.call(this);return b},setValue:function(j){var b,h,k,e,c,d,a,g=this.items;if(Ext.suspendLayouts(),this.simpleValue){for(c=0,d=g.length;c<d;++c)if(h=g.items[c],h.inputValue===j){h.setValue(!0);break}}else if(Ext.isObject(j)){h=g.first(),k=h?h.getFormId():null;for(a in j)for(b=j[a],e=Ext.form.RadioManager.getWithValue(a,b,k).items,d=e.length,c=0;c<d;++c)e[c].setValue(!0)}return Ext.resumeLayouts(!0),this},markInvalid:function(b){var a=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.markInvalid.call(this,b),a&&a.setAttribute("aria-invalid",!0)},clearInvalid:function(){var a=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.clearInvalid.call(this),a&&a.setAttribute("aria-invalid",!1)}},0,["radiogroup"],["component","box","container","fieldcontainer","checkboxgroup","radiogroup"],{component:!0,box:!0,container:!0,fieldcontainer:!0,checkboxgroup:!0,radiogroup:!0},["widget.radiogroup"],0,[Ext.form,"RadioGroup"],function(){Ext.isGecko&&this.override({onFocusEnter:function(d){var g,b,a,c=d.toComponent;if(c.isRadio)for(g=c.getManager().getByName(c.name,c.getFormId()).items,b=0,a=g.length;b<a;b++)g[b].disableTabbing()},onFocusLeave:function(d){var g,b,a,c=d.fromComponent;if(c.isRadio)for(g=c.getManager().getByName(c.name,c.getFormId()).items,b=0,a=g.length;b<a;b++)g[b].enableTabbing()}})}),Ext.cmd.derive("Ext.form.action.DirectAction",Ext.Mixin,{mixinConfig:{id:"directaction"},resolveMethod:function(c){var b,a,e=this,d=e.form;return b=Ext.direct.Manager.resolveApi(d.api,e),a=b[c],a||Ext.raise("Cannot resolve Ext Direct API method "+fnName+" for "+c+" action"),a}},0,0,0,0,0,0,[Ext.form.action,"DirectAction"],0),Ext.cmd.derive("Ext.form.action.DirectLoad",Ext.form.action.Load,{alternateClassName:"Ext.form.Action.DirectLoad",type:"directload",run:function(){var a,c,e=this,d=e.form,b=e.metadata||d.metadata,g=e.timeout||d.timeout;c=e.resolveMethod("load"),a=c.directCfg.method.getArgs({params:e.getParams(),paramOrder:d.paramOrder,paramsAsHash:d.paramsAsHash,options:null!=g?{timeout:1e3*g}:null,metadata:b,callback:e.onComplete,scope:e}),c.apply(window,a)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}},0,0,0,0,["formaction.directload"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectLoad",Ext.form.Action,"DirectLoad"],0),Ext.cmd.derive("Ext.form.action.DirectSubmit",Ext.form.action.Submit,{alternateClassName:"Ext.form.Action.DirectSubmit",type:"directsubmit",doSubmit:function(){var c,h,a,e=this,d=e.form,b=e.metadata||d.metadata,g=e.timeout||d.timeout;c=e.resolveMethod("submit"),h=e.buildForm(),a=c.directCfg.method.getArgs({params:h.formEl,options:null!=g?{timeout:1e3*g}:null,metadata:b,callback:e.onComplete,scope:e}),c.apply(window,a),e.cleanup(h)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}},0,0,0,0,["formaction.directsubmit"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectSubmit",Ext.form.Action,"DirectSubmit"],0),Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:!0}}},renderConfig:{editable:!0},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:!0,matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:!1,applyTriggers:function(b){var c=this,a=b.picker;return a.cls||(a.cls=c.triggerCls),Ext.form.field.Text.prototype.applyTriggers.call(this,b)},getSubTplData:function(b){var d,a,c=this;return d=Ext.form.field.Text.prototype.getSubTplData.call(this,b),c.ariaStaticRoles[c.ariaRole]||(a=d.ariaElAttributes)&&(a["aria-haspopup"]=!0,a["aria-expanded"]=!1),d},initEvents:function(){Ext.form.field.Text.prototype.initEvents.call(this),Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},updateEditable:function(a,c){var b=this;a?b.inputEl.un("click",b.onTriggerClick,b):b.inputEl.on("click",b.onTriggerClick,b),Ext.form.field.Text.prototype.updateEditable.call(this,a,c)},onEsc:function(a){Ext.isIE&&a.preventDefault(),this.isExpanded&&(this.collapse(),a.stopEvent())},onDownArrow:function(b){var a=this;b.time-a.lastDownArrow>150&&delete a.lastDownArrow,a.isExpanded?!b.stopped&&b.time-a.lastDownArrow<150&&delete a.lastDownArrow:(b.stopEvent(),a.onTriggerClick(b),a.lastDownArrow=b.time)},expand:function(){var a,b,d,c=this;!c.rendered||c.isExpanded||c.destroyed||(a=c.bodyEl,b=c.getPicker(),d=Ext.getDoc(),b.setMaxHeight(b.initialConfig.maxHeight),c.matchFieldWidth&&b.setWidth(c.bodyEl.getWidth()),b.show(),c.isExpanded=!0,c.alignPicker(),a.addCls(c.openCls),c.ariaStaticRoles[c.ariaRole]||(c.ariaEl.dom.hasAttribute("aria-owns")||c.ariaEl.dom.setAttribute("aria-owns",b.listEl?b.listEl.id:b.el.id),c.ariaEl.dom.setAttribute("aria-expanded",!0)),c.touchListeners=d.on({translate:!1,touchstart:c.collapseIf,scope:c,delegated:!1,destroyable:!0}),c.scrollListeners=Ext.on({scroll:c.onGlobalScroll,scope:c,destroyable:!0}),Ext.on("resize",c.alignPicker,c,{buffer:1}),c.fireEvent("expand",c),c.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var a,b=this;b.rendered&&!b.destroyed&&(a=b.getPicker(),a.isVisible()&&a.isFloating()&&b.doAlign())},doAlign:function(){var d,b,e=this,c=e.picker,a="-above";c.el.alignTo(e.triggerWrap,e.pickerAlign,e.pickerOffset),d=c.floatParent?c.getOffsetsTo(c.floatParent.getTargetEl()):c.getXY(),c.x=d[0],c.y=d[1],b=c.el.getY()<e.inputEl.getY(),e.bodyEl[b?"addCls":"removeCls"](e.openCls+a),c[b?"addCls":"removeCls"](c.baseCls+a)},collapse:function(){var d=this;if(d.isExpanded&&!d.destroyed&&!d.destroying){var c=d.openCls,b=d.picker,a="-above";b.hide(),d.isExpanded=!1,d.bodyEl.removeCls([c,c+a]),b.el.removeCls(b.baseCls+a),d.ariaStaticRoles[d.ariaRole]||d.ariaEl.dom.setAttribute("aria-expanded",!1),d.touchListeners.destroy(),d.scrollListeners.destroy(),Ext.un("resize",d.alignPicker,d),d.fireEvent("collapse",d),d.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(b){var a=this;a.destroyed||b.within(a.bodyEl,!1,!0)||a.owns(b.target)||Ext.fly(b.target).isFocusable()||a.collapse()},getPicker:function(){var b=this,a=b.picker;return a||(b.creatingPicker=!0,b.picker=a=b.createPicker(),a.ownerCmp=b,delete b.creatingPicker),b.picker},onFocusLeave:function(a){this.collapse(),Ext.form.field.Text.prototype.onFocusLeave.call(this,a)},getRefItems:function(){var a=[];return this.picker&&(a[0]=this.picker),a},createPicker:Ext.emptyFn,onTriggerClick:function(b){var a=this;a.readOnly||a.disabled||(a.isExpanded?a.collapse():a.expand())},doDestroy:function(){var b=this,a=b.picker;Ext.un("resize",b.alignPicker,b),Ext.destroy(b.keyNav,a),a&&(b.picker=a.pickerField=null),Ext.form.field.Text.prototype.doDestroy.call(this)},privates:{onGlobalScroll:function(a){this.picker.owns(a.getElement())||this.collapse()}}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0),Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:void 0,toggleOnClick:!0,ordered:!1,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(a){var b=this;b.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},Ext.mixin.Observable.prototype.constructor.call(this,a),b.setSelectionMode(b.mode),"SINGLE"!==b.selectionMode&&(b.allowDeselect=!0)},updateStore:function(a,b){this.bindStore(a,!b)},applySelected:function(a){return a.isBag||a.isCollection||(a=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},a))),a},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,remove:a.onStoreRemove,update:a.onStoreUpdate,idchanged:a.onIdChanged,load:a.onStoreLoad,refresh:a.onStoreRefresh,pageadd:a.onPageAdd,pageremove:a.onPageRemove}},onBindStore:function(a,c,b){b||this.updateSelectedInstances(this.selected)},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var c=this,b=c.store.getRange(),d=c.getSelection().length;c.suspendChanges(),c.doSelect(b,!0,a),c.destroyed||(c.resumeChanges(),a||c.maybeFireSelectionChange(c.getSelection().length!==d))},deselectAll:function(k){var e,c,d,g=this,b=g.getSelection(),h={},j=g.store,a=b.length;for(e=0,c=b.length;e<c;e++)d=b[e],h[d.id]=j.indexOf(d);b=Ext.Array.sort(b,function(m,i){return h[m.id]<h[i.id]?-1:1}),g.suspendChanges(),g.doDeselect(b,k),g.destroyed||(g.resumeChanges(),k||g.maybeFireSelectionChange(g.getSelection().length!==a))},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(a){this.selectionStart=a},selectWithEvent:function(b,g){var d=this,c=d.isSelected(b),a=g.shiftKey;switch(d.selectionMode){case"MULTI":d.selectWithEventMulti(b,g,c);break;case"SIMPLE":d.selectWithEventSimple(b,g,c);break;case"SINGLE":d.selectWithEventSingle(b,g,c)}d.destroyed||a||(d.isSelected(b)?d.selectionStart=b:d.selectionStart=null)},vetoSelection:function(a){return!!a.stopSelection||("keydown"===a.type||0===a.button?"mousedown"===a.type:!(!this.ignoreRightMouseSelection&&!this.isSelected(a.record))||void 0)},onNavigate:function(i){if(i.record&&!this.vetoSelection(i.keyEvent)){this.onBeforeNavigate(i);var k=this,j=i.keyEvent,b=j.ctrlKey||i.ctrlKey,g=i.recordIndex,h=i.record,o=i.previousRecord,c=k.isSelected(h),m=k.selectionStart&&k.isSelected(i.previousRecord)?k.selectionStart:k.selectionStart=i.previousRecord,a=i.previousRecordIndex,n=j.getCharCode(),p=n===j.SPACE,d=i.record!==i.previousRecord,l=n===j.UP||n===j.PAGE_UP||n===j.HOME||n===j.LEFT&&d?"up":n===j.DOWN||n===j.PAGE_DOWN||n===j.END||n===j.RIGHT&&d?"down":null;switch(k.selectionMode){case"MULTI":k.setSelectionStart(i.selectionStart),n===j.A&&b?(k.selected.beginUpdate(),k.selectRange(0,k.store.getCount()-1),k.selected.endUpdate()):p?j.shiftKey?k.selectRange(m,h,b):c?k.allowDeselect&&k.doDeselect(h):k.doSelect(h,b):j.shiftKey&&m?("up"===l&&a<=g?k.deselectRange(o,g+1):"down"===l&&a>=g?k.deselectRange(o,g-1):m!==h&&k.selectRange(m,h,b),k.lastSelected=h):n?b||k.doSelect(h,!1):k.selectWithEvent(h,j);break;case"SIMPLE":n===j.A&&b?(k.selected.beginUpdate(),k.selectRange(0,k.store.getCount()-1),k.selected.endUpdate()):c?k.doDeselect(h):k.doSelect(h,!0);break;case"SINGLE":b||(l?k.doSelect(h,!1):!p&&n||k.selectWithEvent(h,j))}j.shiftKey||k.destroyed||!k.isSelected(h)||(k.selectionStart=h,k.selectionStartIdx=g)}},selectRange:function(m,d,n){var o,g,h,e,a,k,b,j=this,l=j.store,c=j.selected.items;if(!j.isLocked()){for(o=j.normalizeRowRange(m,d),m=o[0],d=o[1],e=[],g=m;g<=d;g++)j.isSelected(l.getAt(g))||e.push(l.getAt(g));if(!n){for(a=[],j.suspendChanges(),g=0,h=c.length;g<h;++g)b=c[g],((k=l.indexOf(b))<m||k>d)&&a.push(b);for(g=0,h=a.length;g<h&&(j.doDeselect(a[g]),!j.destroyed);++g);j.destroyed||j.resumeChanges()}j.destroyed||(e.length?j.doMultiSelect(e,!0):a&&j.maybeFireSelectionChange(a.length>0))}},deselectRange:function(e,d){var a,h,g,b,j=this,c=j.store;if(!j.isLocked()){for(a=j.normalizeRowRange(e,d),e=a[0],d=a[1],g=[],h=e;h<=d;h++)b=c.getAt(h),j.isSelected(b)&&g.push(b);g.length&&j.doDeselect(g)}},normalizeRowRange:function(c,b){var d,a=this.store;return Ext.isNumber(c)||(c=a.indexOf(c)),c=Math.max(0,c),Ext.isNumber(b)||(b=a.indexOf(b)),b=Math.min(b,a.getCount()-1),c>b&&(d=b,b=c,c=d),[c,b]},select:function(b,c,a){!Ext.isDefined(b)||Ext.isArray(b)&&!b.length||this.doSelect(b,c,a)},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(c,e,b){var a,d=this;if(!d.locked&&null!=c){if("number"==typeof c){if(!(a=d.store.getAt(c)))return;c=[a]}"SINGLE"===d.selectionMode?(c.isModel&&(c=[c]),c.length&&d.doSingleSelect(c[0],b)):d.doMultiSelect(c,e,b)}},doMultiSelect:function(a,l,k){var m,d,g,e,c,h=this,b=h.selected,j=!1;if(!h.locked){if(a=Ext.isArray(a)?a:[a],g=a.length,!l&&b.getCount()>0){if(m=h.deselectDuringSelect(a,k),h.destroyed)return;if(m[0])return void h.maybeFireSelectionChange(m[1]>0&&!k);j=m[1]>0}for(c=function(){b.getCount()||(h.selectionStart=e),k||b.add(e),j=!0},d=0;d<g;d++)if(e=a[d],!h.isSelected(e)&&(h.onSelectChange(e,!0,k,c),h.destroyed))return;h.lastSelected=e,k&&b.add(a),h.maybeFireSelectionChange(j&&!k)}},deselectDuringSelect:function(d,j){var k,b,h=this,a=h.selected.getRange(),g=a.length,c=0,e=!1;for(h.suspendChanges(),h.deselectingDuringSelect=!0,b=0;b<g;++b)if(k=a[b],Ext.Array.contains(d,k)||(h.doDeselect(k,j)?++c:e=!0),h.destroyed){e=!0,c=0;break}return h.deselectingDuringSelect=!1,h.destroyed||h.resumeChanges(),[e,c]},doDeselect:function(a,k){var h,e,c,j=this,b=j.selected,d=0,l=0,g=0;if(j.locked||!j.store)return!1;if("number"==typeof a){if(!(e=j.store.getAt(a)))return!1;a=[e]}else Ext.isArray(a)||(a=[a]);for(c=function(){++g,k||b.remove(e),e===j.selectionStart&&(j.selectionStart=null)},h=a.length,j.suspendChanges();d<h;d++)if(e=a[d],j.isSelected(e)&&(j.lastSelected===e&&(j.lastSelected=b.last()),++l,j.onSelectChange(e,!1,k,c),j.destroyed))return!1;return j.resumeChanges(),k&&b.remove(a),j.maybeFireSelectionChange(g>0&&!k),g===l},doSingleSelect:function(a,b){var e,d=this,g=!1,c=d.selected;d.locked||d.isSelected(a)||(e=function(){if(c.getCount()){d.suspendChanges();var h=d.deselectDuringSelect([a],b);if(d.destroyed)return;if(d.resumeChanges(),h[0])return!1}d.lastSelected=a,c.getCount()||(d.selectionStart=a),c.add(a),g=!0},d.onSelectChange(a,!0,b,e),g&&!d.destroyed&&d.maybeFireSelectionChange(!b))},maybeFireSelectionChange:function(a){var b=this;a&&!b.suspendChange&&b.fireEvent("selectionchange",b,b.getSelection())},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE",this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(d,c){var e,a,g=this,b=g.store;for(a=g.normalizeRowRange(d,c),d=a[0],c=a[1],e=d;e<=c;e++)if(!g.isSelected(b.getAt(e)))return!1;return!0},isSelected:function(a){return a=Ext.isNumber(a)?this.store.getAt(a):a,!!this.selected&&this.selected.contains(a)},hasSelection:function(){var a=this.getSelected();return!(!a||!a.getCount())},refresh:function(){var n,k,a,o,b,e,m=this,p=m.store,h=[],l=[],g=m.getSelection(),j=g.length,c=m.getSelected();if(p&&(c.isCollection||c.isBag||c.isRows)&&c.getCount()){for(a=p.getData(),a.getSource&&(k=a.getSource())&&(a=k),m.refreshing=!0,c.beginUpdate(),m.suspendChanges(),e=0;e<j&&(o=g[e],b=a.get(o.getId()),b?h.push(b):m.pruneRemoved||l.push(o),"SINGLE"!==m.mode||!l.length);e++);c.getCount()!==h.length+l.length&&(n=!0),m.clearSelections(),h.length&&m.doSelect(h,!1,!0),l.length&&(c.add(l),m.lastSelected||(m.lastSelected=l[l.length-1])),m.resumeChanges(),n?c.endUpdate():c.updating--,m.refreshing=!1,m.maybeFireSelectionChange(n)}},clearSelections:function(){var a=this.getSelected();a&&a.clear(),this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.store.isLoading()&&!this.store.clearing||!this.hasSelection()||(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(k,b,e,l){var d,g,c,h,j=this,a=b;if(j.selectionStart&&Ext.Array.contains(b,j.selectionStart)&&(j.selectionStart=null),!l&&!j.locked&&j.pruneRemoved){if(h=k.isMoving(null,!0))for(a=null,d=0,g=b.length;d<g;++d)c=b[d],h[c.id]||(a||(a=[])).push(c);a&&j.deselect(a)}},onPageRemove:function(b,a,c){this.onStoreRemove(this.store,c)},onPageAdd:function(d,c,e){var g,b,a=e.length;for(g=0;g<a;g++)b=e[g],this.selected.get(b.id)&&this.selected.replace(b)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var a=this;a.clearSelections(),a.bindStore(null),a.selected=Ext.destroy(a.selected),Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(a,d,c,b){this.selected.updateKey(d,c)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(e){var j,b,g,n,d,h,k=this,m=k.getStore(),l=k.lastSelected,a=0,c=k.pruneRemovedOnRefresh();if(!m||!m.isBufferedStore){if(j=e.getRange(),b=j.length,l&&(k.lastSelected=m.getById(l.id),h=k.lastSelected!==l),k.refreshing=!0,m)for(g=0;g<b;++g)n=j[g],d=m.getById(n.id),d?d!==n&&e.add(d):c&&(e.remove(n),++a);else a=e.getCount(),e.removeAll();k.refreshing=!1,k.maybeFireSelectionChange(a>0),h&&k.fireEvent("lastselectedchanged",k,k.getSelection(),l)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(a,d,c,g){var e=this,b=d?"select":"deselect";!1!==(c||e.fireEvent("before"+b,e,a))&&!1!==g()&&(c||e.destroyed||e.fireEvent(b,e,a))},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){Ext.Array.include(this.views||(this.views=[]),a)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(c){var b,a=this.view;return a&&(b=a.resolveSatelliteListenerScope(this,c)),b||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,c)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(k,m,d){var b,j,o,n=this,g=m.shiftKey,a=m.ctrlKey,c=g?n.getSelectionStart():null,h=n.getSelection(),l=h.length;if(g&&c)n.selectRange(c,k,a);else if(a&&d)n.allowDeselect&&n.doDeselect(k,!1);else if(a)n.doSelect(k,!0,!1);else if(d&&!g&&!a&&l>1){if(n.allowDeselect){for(b=[],j=0;j<l;++j)(o=h[j])!==k&&b.push(o);n.doDeselect(b)}}else d||n.doSelect(k,!1)},selectWithEventSimple:function(a,c,b){b?this.doDeselect(a):this.doSelect(a,!0)},selectWithEventSingle:function(b,g,c){var d=this,a=d.allowDeselect;a&&!g.ctrlKey&&(a=d.toggleOnClick),a&&c?d.doDeselect(b):d.doSelect(b,!1)}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0),Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:!0,bindComponent:function(a){var b,c=this;c.view!==a&&(c.view&&(c.navigationModel=null,Ext.destroy(c.viewListeners,c.navigationListeners)),c.view=a,a&&(b=c.getViewListeners(),b.scope=c,b.destroyable=!0,c.navigationModel=a.getNavigationModel(),c.viewListeners=a.on(b),c.navigationListeners=c.navigationModel.on({navigate:c.onNavigate,scope:c,destroyable:!0})))},getViewListeners:function(){var a=this,b={};return b[a.view.triggerCtEvent]=a.onContainerClick,b},onUpdate:function(b){var a=this.view;a&&this.isSelected(b)&&a.onItemSelect(b)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(b,g,e,i){var h=this,a=h.view,d=g?"select":"deselect",c=h.store.indexOf(b);!1!==(e||h.fireEvent("before"+d,h,b,c))&&!1!==i()&&(a&&!a.destroyed&&(g?a.onItemSelect(b):a.onItemDeselect(b)),e||h.destroyed||h.fireEvent(d,h,b,c))},destroy:function(){this.bindComponent(),Ext.destroy(this.keyNav),Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0),Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{config:{store:null},focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(a){this.view!==a&&(this.view=a,this.bindView(a))},bindView:function(a){var b,c=this,d=a.dataSource;c.initKeyNav(a),d.isEmptyStore||c.setStore(d),b=c.getViewListeners(),b.destroyable=!0,c.viewListeners=c.viewListeners||[],c.viewListeners.push(a.on(b))},updateStore:function(a){this.mixins.storeholder.bindStore.apply(this,[a])},getViewListeners:function(){var a=this;return{containermousedown:a.onContainerMouseDown,itemmousedown:a.onItemMouseDown,itemclick:a.onItemClick,itemcontextmenu:a.onItemMouseDown,scope:a}},initKeyNav:function(a){var b=this;b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:b.processViewEvent,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,A:{ctrl:!0,handler:b.onSelectAllKeyPress},scope:b})},processViewEvent:function(b,a,e,c,d){return d},addKeyBindings:function(a){this.keyNav.addBindings(a)},enable:function(){this.keyNav.enable(),this.disabled=!1},disable:function(){this.keyNav.disable(),this.disabled=!0},onContainerMouseDown:function(a,b){Ext.getScrollbarSize().width&&(a.el.getClientRegion().contains(b.getPoint())||(b.preventDefault(),a.lastFocused="scrollbar"))},onItemMouseDown:function(b,a,e,d,c){"touch"!==c.pointerType&&this.setPosition(d)},onItemClick:function(c,b,e,d,a){this.record===b?this.fireNavigateEvent(a):this.setPosition(d,a)},setPosition:function(c,h,l,d,i){var g,b,j=this,k=j.view,e=k.getSelectionModel(),a=k.dataSource;if(null!=c&&k.all.getCount()?"number"==typeof c?(b=Math.max(Math.min(c,a.getCount()-1),0),g=a.getAt(c)):c.isEntity?(g=a.getById(c.id),-1===(b=a.indexOf(g))&&(g=a.getAt(0),b=0)):c.tagName?(g=k.getRecord(c),b=a.indexOf(g)):g=b=null:j.record=j.recordIndex=null,g===j.record)return j.recordIndex=b,j.focusPosition(b);j.item&&j.item.removeCls(j.focusCls),j.previousRecordIndex=j.recordIndex,j.previousRecord=j.record,j.previousItem=j.item,j.recordIndex=b,j.record=g,d=d||j.record===j.lastFocused,g?j.focusPosition(j.recordIndex):i||(j.item=null),l||e.fireEvent("focuschange",e,j.previousRecord,j.record),!d&&h&&j.fireNavigateEvent(h)},focusPosition:function(a){var b=this;null!=a&&-1!==a?(a.isEntity&&(a=b.view.dataSource.indexOf(a)),b.item=b.view.all.item(a),b.item?(b.lastFocused=b.record,b.lastFocusedIndex=b.recordIndex,b.focusItem(b.item)):b.record=null):b.item=null},focusItem:function(a){a.addCls(this.focusCls),a.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:this.lastFocused},onKeyUp:function(b){var a=this.recordIndex-1;a<0&&(a=this.view.all.getCount()-1),this.setPosition(a,b)},onKeyDown:function(b){var a=this.recordIndex+1;a>this.view.all.getCount()-1&&(a=0),this.setPosition(a,b)},onKeyRight:function(b){var a=this.recordIndex+1;a>this.view.all.getCount()-1&&(a=0),this.setPosition(a,b)},onKeyLeft:function(b){var a=this.recordIndex-1;a<0&&(a=this.view.all.getCount()-1),this.setPosition(a,b)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(a){this.setPosition(0,a)},onKeyEnd:function(a){this.setPosition(this.view.all.getCount()-1,a)},onKeySpace:function(a){this.fireNavigateEvent(a)},onKeyEnter:function(a){a.stopEvent(),a.view.fireEvent("itemclick",a.view,a.record,a.item,a.recordIndex,a)},onSelectAllKeyPress:function(a){this.fireNavigateEvent(a)},fireNavigateEvent:function(b){var a=this;a.fireEvent("navigate",{navigationModel:a,keyEvent:b,previousRecordIndex:a.previousRecordIndex,previousRecord:a.previousRecord,previousItem:a.previousItem,recordIndex:a.recordIndex,record:a.record,item:a.item})},destroy:function(){this.setStore(null),Ext.destroy(this.viewListeners,this.keyNav),this.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"NavigationModel"],0),Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{isDataView:!0,inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(n,p,h,b,c){var l,g,k,d,q,o,e,m=this,a=m.changeQueue||(m.changeQueue={}),j=h.internalId;if(l=a[j]||(a[j]={operation:b,record:h,data:{},views:[]}),g=l.data,Ext.Array.include(l.views,n),c&&(k=c.length)){for(d=0;d<k;d++)q=c[d],o=h.data[q],g.hasOwnProperty(q)?h.isEqual(g[q],o)&&(delete g[q],e=!0):g[q]=o;e&&!Ext.Object.getKeys(g).length&&delete a[j]}else Ext.apply(g,h.data);m.flushQueueTask||(m.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(m.onFlushTick,m):Ext.Function.bind(m.onFlushTick,m),interval:Ext.view.AbstractView.updateDelay,repeat:1})),m.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var g,a,j,d,h,c,b,e=this;if(Ext.isScrolling)return void e.flushQueueTask.start();j=e.changeQueue,this.changeQueue={};for(h in j)for(d=j[h],g=d.views,a=g.length,c=0;c<a;c++)b=g[c],b.destroyed||b.handleUpdate(b.dataSource,d.record,d.operation,Ext.Object.getKeys(d.data));Ext.AnimationQueue.stop(e.flushChangeQueue,e)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,preserveScrollOnReload:!1,autoDestroyBoundStore:!0,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(a){a&&a.selModel&&(a.selectionModel=a.selModel),Ext.Component.prototype.constructor.call(this,a)},initComponent:function(){var a,d=this,e=(Ext.isDefined,d.itemTpl),c={};e&&(Ext.isArray(e)?("string"!=typeof e[e.length-1]&&(e=e.slice(0),c=e.pop()),e=e.join("")):Ext.isObject(e)&&(c=Ext.apply(c,e.initialConfig),e=e.html),d.itemSelector||(d.itemSelector="."+d.itemCls),e=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',d.itemCls,e,d.itemAriaRole),d.tpl=new Ext.XTemplate(e,c)),Ext.Component.prototype.initComponent.call(this),d.tpl=d.lookupTpl("tpl"),d.overItemCls&&(d.trackOver=!0),d.addCmpEvents(),a=d.store=Ext.data.StoreManager.lookup(d.store||"ext-empty-store"),d.dataSource||(d.dataSource=a),d.bindStore(a,!0),d.getNavigationModel().bindComponent(this),d.all||(d.all=new Ext.CompositeElementLite),d.scrollState={top:0,left:0},d.savedTabIndexAttribute="data-savedtabindex-"+d.id},getElConfig:function(){var a=this.mixins.renderable.getElConfig.call(this);return this.focusable&&(a.tabIndex=0),a},onRender:function(b,a){var c=this.loadMask;Ext.Component.prototype.onRender.call(this,b,a),c&&this.createMask(c)},beforeLayout:function(){var a=this;Ext.Component.prototype.beforeLayout.call(this),a.refreshNeeded&&!a.pendingRefresh&&(a.refreshCounter?a.refreshView():a.doFirstRefresh(a.dataSource))},onMaskBeforeShow:function(){var b=this,a=b.loadingHeight;a&&a>b.getHeight()&&(b.hasLoadingHeight=!0,b.oldMinHeight=b.minHeight,b.minHeight=a,b.updateLayout())},onMaskHide:function(){var a=this;!a.destroying&&a.hasLoadingHeight&&(a.minHeight=a.oldMinHeight,a.updateLayout(),delete a.hasLoadingHeight)},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.call(this),this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var b=this.loadMask,a=[];return b&&b.isComponent&&a.push(b),a},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(a){var c,b=this;b.ignoreNextSelection||(b.ignoreNextSelection=!0,c=b.getSelectionModel(),a?c.select(a):c.deselectAll(),
b.ignoreNextSelection=!1)},updateBindSelection:function(a,c){var d=this,b=null;d.ignoreNextSelection||(d.ignoreNextSelection=!0,c.length&&(b=a.getLastSelected(),d.hasHadSelection=!0),d.hasHadSelection&&d.setSelection(b),d.ignoreNextSelection=!1)},applySelectionModel:function(b,g){var h,c,a,e=this,d=e.grid;return g?(g.destroyed||g.un({scope:e,selectionchange:e.updateBindSelection,lastselectedchanged:e.updateBindSelection}),Ext.destroy(e.selModelRelayer),b=Ext.Factory.selection(b)):b&&b.isSelectionModel?b.locked=e.disableSelection:(h=e.simpleSelect?"SIMPLE":e.multiSelect?"MULTI":"SINGLE","string"==typeof b&&(b={type:b}),b=Ext.Factory.selection(Ext.apply({allowDeselect:e.allowDeselect||e.multiSelect,mode:h,locked:e.disableSelection},b))),"SINGLE"!==b.mode&&(a=(d||e).ariaEl.dom,a?a.setAttribute("aria-multiselectable",!0):d||(c=e.ariaRenderAttributes||(e.ariaRenderAttributes={}),c["aria-multiselectable"]=!0)),e.selModelRelayer=e.relayEvents(b,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),b.on({scope:e,lastselectedchanged:e.updateBindSelection,selectionchange:e.updateBindSelection}),b},updateSelectionModel:function(a){this.selModel=a},applyNavigationModel:function(a){return Ext.Factory.viewNavigation(a)},onFocusEnter:function(d){var a,c=this,b=c.getNavigationModel();if("scrollbar"===a)return void d.relatedTarget.focus();c.toggleChildrenTabbability(!1),!c.itemFocused&&c.all.getCount()&&(a=d.event.getTarget()===c.tabGuardEl?c.all.getCount()-1:b.getLastFocused(),b.setPosition(a||0,d.event,null,!a),c.itemFocused=null!=b.getPosition()),c.itemFocused&&(c.el.dom.setAttribute("tabIndex",-1),c.tabGuardEl&&c.tabGuardEl.setAttribute("tabIndex",-1)),Ext.Component.prototype.onFocusEnter.call(this,d)},onFocusLeave:function(b){var a=this;a.itemFocused&&!a.refreshing&&(a.getNavigationModel().setPosition(null,b.event,null,!0),a.itemFocused=!1,a.el.dom.setAttribute("tabIndex",0),a.tabGuardEl&&a.tabGuardEl.setAttribute("tabIndex",0)),Ext.Component.prototype.onFocusLeave.call(this,b)},onRemoved:function(a){Ext.Component.prototype.onRemoved.call(this,a),a||this.onFocusLeave({})},refresh:function(){var l,b,e,a,j=this,i=j.all,m=i.getCount(),h=j.refreshCounter,g=j.getSelectionModel(),d=h&&i.getCount()&&j.preserveScrollOnRefresh&&j.getScrollable(),k=j.bufferedRenderer;j.rendered&&!j.destroyed&&(j.hasListeners.beforerefresh&&!1===j.fireEvent("beforerefresh",j)||(j.refreshing=!0,e=j.saveFocusState(),l=j.getTargetEl(),b=j.getViewRange(),l.dom,d&&(a=d.getPosition(),a.x||a.y||(a=null)),h?(j.clearViewEl(),j.refreshCounter++):j.refreshCounter=1,j.tpl.append(l,j.collectData(b,i.startIndex||0)),b.length<1?(j.addEmptyText(),i.clear()):(j.collectNodes(l.dom),j.updateIndexes(0)),e(),!1!==j.refreshSelmodelOnRefresh&&g.refresh(),j.refreshNeeded=!1,j.refreshSize(i.getCount()!==m),j.fireItemMutationEvent("refresh",j,b),d&&d.scrollTo(a),j.viewReady||(j.viewReady=!0,j.fireEvent("viewready",j)),j.refreshing=!1,k&&k.refreshSize(),j.cleanupData()),j.tabGuardEl||(j.tabGuardEl=j.el.createChild({cls:"x-tab-guard x-tab-guard-after",tabIndex:"0"},null,!0)))},addEmptyText:function(){var b=this,a=b.getStore();b.emptyText&&!a.isLoading()&&(!b.deferEmptyText||b.refreshCounter>1||a.isLoaded())&&(b.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",b.getTargetEl().dom,b.emptyText))},getEmptyText:function(){return this.emptyText},setEmptyText:function(a){var b=this;return b.emptyText!==a&&(b.emptyText=a,b.refresh()),b},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(d){var c=this,b=c.getSizeModel();c.getScrollable(),(b.height.shrinkWrap||b.width.shrinkWrap||d)&&c.updateLayout()},afterFirstLayout:function(c,b){var d=this,a=d.getScrollable();a&&a.on({scroll:d.onViewScroll,scrollend:d.onViewScrollEnd,scope:d,onFrame:!!Ext.global.requestAnimationFrame}),Ext.Component.prototype.afterFirstLayout.call(this,c,b)},clearViewEl:function(){var d,b,g,h=this,j=h.getTargetEl(),e=h.all,c=h.getStore(),a=h.getNodeContainer()===j;for(b=e.slice(),g=[],d=e.startIndex;d<=e.endIndex;d++)g.push(c.getByInternalId(e.item(d,!0).getAttribute("data-recordId")));h.fireItemMutationEvent("itemremove",g,e.startIndex||0,b,h),h.clearEmptyEl(),h.all.clear(!a),(j=a?j.dom:h.getNodeContainer())&&(j.innerHTML="")},clearEmptyEl:function(){var a=this.emptyEl;a&&Ext.removeNode(a),this.emptyEl=null},onViewScroll:function(b,a,c){this.fireEvent("scroll",this,a,c)},onViewScrollEnd:function(b,a,c){this.fireEvent("scrollend",this,a,c)},saveScrollState:function(){var a=this,b=a.scrollState;a.rendered&&(b.left=a.getScrollX(),b.top=a.getScrollY())},restoreScrollState:function(){var a=this,b=a.scrollState;a.rendered&&(a.setScrollX(b.left),a.setScrollY(b.top))},prepareData:function(e,d,c){var b,a,g;if(c){b=c.getAssociatedData();for(a in b)b.hasOwnProperty(a)&&(g||(e=Ext.Object.chain(e),g=!0),e[a]=b[a])}return e},collectData:function(c,g){for(var b,e=[],d=0,a=c.length;d<a;d++)b=c[d],e[d]=this.prepareData(b.data,g+d,b);return e},cleanupData:Ext.emptyFn,bufferRender:function(d,e){var c,a,g,h=this,j=h.renderBuffer,b=document.createDocumentFragment();for(h.tpl.overwrite(j,h.collectData(d,e)),c=Ext.fly(j).query(h.getItemSelector()),g=0,a=c.length;g<a;g++)b.appendChild(c[g]);return{fragment:b,children:c}},nodeContainerSelector:null,getNodeContainer:function(){var b=this.getTargetEl(),a=this.nodeContainerSelector;return a?b.down(a,!0):b},setItemsDraggable:function(b){var c=this,a="#"+c.id+" "+c.getItemSelector(),d=c.viewStyleSheet;b?(d||(d=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")),Ext.util.CSS.createRule(d,a,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")):d&&Ext.util.CSS.deleteRule(a)},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(d,b,c,h,e){var g=this;!(e&&e.filtered)&&g.getNode(b)&&(g.throttledUpdate?g.statics().queueRecordChange(g,d,b,c,h):g.handleUpdate(d,b,c,h,e))},handleUpdate:function(c,a){var d,e,g=this,b=g.getSelectionModel();if(g.viewReady&&!g.refreshNeeded&&(d=g.dataSource.indexOf(a))>-1&&g.getNode(a))return e=g.bufferRender([a],d).children[0],g.all.replaceElement(d,e,!0),g.updateIndexes(d,d),b.onUpdate(a),g.refreshSizePending=!0,b.isSelected(a)&&g.onItemSelect(a),g.hasListeners.itemupdate&&g.fireEvent("itemupdate",a,d,e,g),e},onReplace:function(k,m,b,c){var p,o,h,a,l,d,e,i=this,j=i.all,g=i.getSelectionModel(),n=m;i.rendered&&(p=i.bufferRender(c,m,!0),h=p.fragment,a=p.children,o=j.item(m),o?j.item(m).insertSibling(h,"before",!0):i.appendNodes(h),j.insert(m,a),b.length&&(e=i.saveFocusState()),m+=c.length,d=m+b.length-1,l=j.removeRange(m,d,!0),!1!==i.refreshSelmodelOnRefresh&&g.refresh(),i.updateIndexes(m),i.fireItemMutationEvent("itemremove",b,n,l,i),i.fireItemMutationEvent("itemadd",c,n,a,i),e(),i.refreshSize())},onAdd:function(d,c,e){var b,g=this,a=g.getSelectionModel();g.rendered&&!g.refreshNeeded&&(0===g.all.getCount()?(g.refresh(),b=g.all.slice()):(b=g.doAdd(c,e),!1!==g.refreshSelmodelOnRefresh&&a.refresh(),g.updateIndexes(e),g.refreshSizePending=!0),g.fireItemMutationEvent("itemadd",c,e,b,g))},appendNodes:function(a){var b=this.all,c=b.getCount();this.nodeContainerSelector?this.getNodeContainer().appendChild(a):b.item(c-1).insertSibling(a,"after")},doAdd:function(c,e){var h=this,k=h.bufferRender(c,e,!0),g=k.fragment,b=k.children,i=h.all,d=i.getCount(),j=i.startIndex||0,a=i.endIndex||d-1;return 0===d||e>a?h.appendNodes(g):e<=j?i.item(j).insertSibling(g,"before",!0):i.item(e).insertSibling(b,"before",!0),i.insert(e,b),b},onRemove:function(l,c,h){var k,d,e,a,b,g,j=this,m=j.all;if(j.rendered&&!j.refreshNeeded&&m.getCount()){if(0===j.dataSource.getCount())j.refresh();else{for(g=j.saveFocusState(),a=[],d=c.length-1;d>=0;--d)e=c[d],k=h+d,a&&(b=m.item(k),a[d]=b?b.dom:void 0),m.item(k)&&j.doRemove(e,k);j.fireItemMutationEvent("itemremove",c,h,a,j),g(),j.updateIndexes(h)}j.refreshSizePending=!0}},doRemove:function(a,b){this.all.removeElement(b,!0)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(a){var b=this;b.ownerGrid&&b.ownerGrid[b.eventLifecycleMap[a]].apply(b.ownerGrid,Ext.Array.slice(arguments,1)),b.fireEvent.apply(b,arguments)},saveFocusState:function(){var e=this,b=e.dataSource||e.store,c=e.getNavigationModel(),d=c.recordIndex,g=c.record,a=e.el.contains(Ext.Element.getActiveElement());return g?(a&&e.el.dom.focus(),function(){b.getCount()&&(d=Math.min(d,e.all.getCount()-1),c.setPosition(b.contains(g)?g:d,null,null,!0,!a))}):Ext.emptyFn},refreshNode:function(a){Ext.isNumber(a)&&(a=this.store.getAt(a)),this.onUpdate(this.dataSource,a)},updateIndexes:function(h,g){var e,d,b=this.all.elements,a=this.getViewRange(),c=this.id;for(h=h||0,g=g||(0===g?0:b.length-1),d=h;d<=g;d++)e=b[d],e.setAttribute("data-recordIndex",d),e.setAttribute("data-recordId",a[d].internalId),e.setAttribute("data-boundView",c)},bindStore:function(b,c){var e=this,a=e.getSelectionModel(),d=e.getNavigationModel();a&&!a.destroyed&&(a.bindStore(b,c),a.bindComponent(b?e:null)),e.mixins.storeholder.bindStore.apply(e,arguments),d&&!d.destroyed&&d.setStore(b),b&&e.componentLayoutCounter&&!e.blockRefresh&&e.doFirstRefresh(b,!c)},doFirstRefresh:function(a,c){var b=this;b.deferInitialRefresh&&!c?Ext.defer(b.doFirstRefresh,1,b,[a,!0]):a&&!b.deferRefreshForLoad(a)&&b.refresh()},onUnbindStore:function(a){this.setMaskBind(null),this.dataSource===a&&(this.dataSource=null)},onBindStore:function(a,c){var b=this;b.store.isBufferedStore&&(b.store.preserveScrollOnReload=b.preserveScrollOnReload),c&&c.isBufferedStore&&delete c.preserveScrollOnReload,b.setMaskBind(a),b.dataSource||(b.dataSource=a)},setMaskBind:function(b){var a=this.loadMask;this.rendered&&a&&b&&!a.bindStore&&(a=this.createMask()),a&&a.bindStore&&a.bindStore(b)},getStoreListeners:function(){var a=this;return{refresh:a.onDataRefresh,replace:a.onReplace,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.onDataRefresh,beginupdate:a.onBeginUpdate,endupdate:a.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter,Ext.suspendLayouts()},onEndUpdate:function(){var a=this;a.updateSuspendCounter&&--a.updateSuspendCounter,Ext.resumeLayouts(!0),a.refreshSizePending&&(a.refreshSize(!0),a.refreshSizePending=!1)},onDataRefresh:function(a){var c=this,b=c.preserveScrollOnRefresh;a.loadCount>c.lastRefreshLoadCount&&(c.preserveScrollOnRefresh=c.preserveScrollOnReload),c.refreshView(),c.preserveScrollOnRefresh=b,c.lastRefreshLoadCount=a.loadCount},refreshView:function(c){var b=this,a=b.blockRefresh||!b.rendered||b.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),d=b.bufferedRenderer;a?b.refreshNeeded=!0:d?d.refreshView(c):b.refresh()},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var b=[],a=this.getSelectionModel().getSelection(),d=a.length,c=0;c<d;c++)b.push(this.getNode(a[c]));return b},getRecords:function(c){for(var b=[],d=0,a=c.length,e=this.dataSource.data;d<a;d++)b[b.length]=e.getByKey(c[d].getAttribute("data-recordId"));return b},getRecord:function(a){return this.dataSource.getByInternalId(Ext.getDom(a).getAttribute("data-recordId"))},isSelected:function(b){var a=this.getRecord(b);return this.getSelectionModel().isSelected(a)},select:function(b,c,a){this.getSelectionModel().select(b,c,a)},deselect:function(b,a){this.getSelectionModel().deselect(b,a)},getNode:function(b){var a,c=this;return c.rendered&&(b||0===b)&&(Ext.isString(b)?a=document.getElementById(b):b.isModel?a=c.getNodeByRecord(b):Ext.isNumber(b)?a=c.all.elements[b]:(b.target&&b.target.nodeType&&(b=b.target),a=Ext.fly(b).findParent(c.itemSelector,c.getTargetEl()))),a||null},getNodeByRecord:function(a){var b=this.store.indexOf(a);return this.all.elements[b]||null},getNodes:function(c,a){var b=this.all;return void 0!==a&&a++,b.slice(c,a)},indexOf:function(a){return a=this.getNode(a),a||0===a?a.getAttribute("data-recordIndex")?Number(a.getAttribute("data-recordIndex")):this.all.indexOf(a):-1},doDestroy:function(){var c=this,b=c.updateSuspendCounter,a=c.tabGuardEl;for(c.all&&!c.all.destroyed&&c.all.clear(),a&&a.parentNode&&a.parentNode.removeChild(a),c.emptyEl=null,c.setItemsDraggable(!1),c.bindStore(null),c.selModelRelayer&&c.selModelRelayer.destroy(),Ext.destroy(c.navigationModel,c.selectionModel,c.loadMask);b--;)Ext.resumeLayouts(!0);Ext.Component.prototype.doDestroy.call(this)},onItemSelect:function(a){var b=this.getNode(a);return b&&(Ext.fly(b).addCls(this.selectedItemCls),b.setAttribute("aria-selected","true")),b},onItemDeselect:function(a){var b=this.getNode(a);return b&&(Ext.fly(b).removeCls(this.selectedItemCls),b.setAttribute("aria-selected","false")),b},getItemSelector:function(){return this.itemSelector},addItemCls:function(b,a){var c=this.getNode(b);c&&Ext.fly(c).addCls(a)},removeItemCls:function(b,a){var c=this.getNode(b);c&&Ext.fly(c).removeCls(a)},setStore:function(a){var b=this;b.store!==a&&(b.isConfiguring?b.store=a:b.bindStore(a,!1))},privates:{deferRefreshForLoad:function(a){return a.isLoading()},toggleChildrenTabbability:function(b){var a=this.getTargetEl();b?a.restoreTabbableState(!0):a.saveTabbableState({skipSelf:!0,includeSaved:!1})},collectNodes:function(c){var b=this.all,a={role:this.itemAriaRole};b.fill(Ext.fly(c).query(this.getItemSelector()),b.startIndex||0),this.focusable&&(a.tabindex="-1"),b.set(a)},createMask:function(b){var a,d=this,c=d.getStore();return!c||c.isEmptyStore||c.loadsSynchronously()||(a={target:d,msg:d.loadingText,useMsg:d.loadingUseMsg,store:c},d.loadingCls&&(a.msgCls=d.loadingCls),Ext.isObject(b)&&(a=Ext.apply(a,b)),d.loadMask=new Ext.LoadMask(a),d.loadMask.on({scope:d,beforeshow:d.onMaskBeforeShow,hide:d.onMaskHide})),d.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:!0,box:!0},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(a,b,d){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var c=this.getSelectionModel();return c.select.apply(c,arguments)},clearSelections:function(){return Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()"),this.getSelectionModel().deselectAll()}})})}),Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:!1,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var a=this;Ext.view.AbstractView.prototype.afterRender.call(this),a.mon(a.el,{scope:a,click:a.handleEvent,longpress:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,keyup:a.handleEvent,keypress:a.handleEvent,mouseover:a.handleMouseOver,mouseout:a.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(d){var c=this,a=c.getTargetSelector(),b=d.getTarget(a);c.destroyed||(b?c.mouseOverItem!==b&&c.el.contains(b)&&(c.mouseOverItem=d.item=b,d.newType="mouseenter",c.handleEvent(d)):c.handleEvent(d))},handleMouseOut:function(h){var a,d=this,b=d.getTargetSelector(),c=h.getTarget(b),g=h.getRelatedTarget(b);(c!==g||null===c&&null===g)&&(d.destroyed||(c&&(a=d.self.getBoundView(c))?(h.item=c,h.newType="mouseleave",a.handleEvent(h),a.mouseOverItem=null):d.handleEvent(h)))},handleEvent:function(c){var b=this,a=b.keyEventRe.test(c.type);c.isInputFieldEvent=Ext.fly(c.target).isInputField(),c.view=b,c.item=c.getTarget(b.itemSelector),c.item&&(c.record=b.getRecord(c.item)),!1===b.processUIEvent(c)||b.destroyed||b.processSpecialEvent(c),a&&!c.isInputFieldEvent&&(c.getKey()===c.SPACE||c.isNavKeyPress(!0))&&c.preventDefault(),c.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(g){if(Ext.getBody().isAncestor(g.target)){var d,j=this,k=g.item,l=j.self,a=l.EventMap,h=l.TouchEventMap,c=g.record,i=g.type,b=i;if(g.newType&&(b=g.newType),k){if(b=h[b]||b,d=g.recordIndex=j.indexInStore?j.indexInStore(c):j.indexOf(k),!c||!1===j.processItemEvent(c,k,d,g))return!1;if(!1===j["onBeforeItem"+a[b]](c,k,d,g)||!1===j.fireEvent("beforeitem"+b,j,c,k,d,g)||!1===j["onItem"+a[b]](c,k,d,g))return!1;j.fireEvent("item"+b,j,c,k,d,g)}else{if(i=h[i]||i,!1===j.processContainerEvent(g)||!1===j["onBeforeContainer"+a[i]](g)||!1===j.fireEvent("beforecontainer"+i,j,g)||!1===j["onContainer"+a[i]](g))return!1;j.fireEvent("container"+i,j,g)}return!0}},onItemMouseEnter:function(a,c,b,d){this.trackOver&&this.highlightItem(c)},onItemMouseLeave:function(a,c,b,d){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(c){var b=this,a=b.highlightedItem,d=b.overItemCls;a!==c&&(a&&(Ext.fly(a).removeCls(d),Ext.isIE8&&(b.repaintBorder(a),b.repaintBorder(a.nextSibling)),b.hasListeners.unhighlightitem&&b.fireEvent("unhighlightitem",b,a)),b.highlightedItem=c,c&&(Ext.fly(c).addCls(b.overItemCls),Ext.isIE8&&b.repaintBorder(c.nextSibling),b.hasListeners.highlightitem&&b.fireEvent("highlightitem",b,c)))},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(b,a){var e,c,d,g=this;g.viewReady&&(e=g.getNode(a),c=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments),(d=g.highlightedItem)&&d===e&&(delete g.highlightedItem,c&&g.highlightItem(c)))},refresh:function(){this.clearHighlight(),Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(i){var c,g=this,e=Ext.fly(g.getNode(i)),d=g.el,a=0,b=0,h=d.getRegion();h.bottom=h.top+d.dom.clientHeight,h.right=h.left+d.dom.clientWidth,e&&(c=e.getRegion(),c.top<h.top?a=c.top-h.top:c.bottom>h.bottom&&(a=c.bottom-h.bottom),c.left<h.left?b=c.left-h.left:c.right>h.right&&(b=c.right-h.right),(b||a)&&g.scrollBy(b,a,!1),e.set({tabIndex:-1}),e.focus())},privates:{repaintBorder:function(b){var a=this.getNode(b);a&&(a.className=a.className)}}},0,["dataview"],["component","box","dataview"],{component:!0,box:!0,dataview:!0},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0),Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.view.NavigationModel,{navigateOnSpace:!0,initKeyNav:function(a){var b=this,c=a.pickerField;if(b.keyNav||(Ext.view.NavigationModel.prototype.initKeyNav.call(this,a),b.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:b.onKeyEsc,scope:b})),c)return c.rendered?void(b.fieldKeyNav=new Ext.util.KeyNav({disabled:!0,target:c.inputEl,forceKeyDown:!0,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,tab:b.onKeyTab,space:b.onKeySpace,enter:b.onKeyEnter,A:{ctrl:!0,handler:b.onSelectAllKeyPress},priority:1001,scope:b})):void c.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:!0})},processViewEvent:function(b,a,e,c,d){return d.within(b.listWrap)?d:d.getKey()===d.ESC?(Ext.fly(d.target).isInputField()&&(d.target=d.target.parentNode),d):void 0},enable:function(){this.fieldKeyNav.enable(),Ext.view.NavigationModel.prototype.enable.call(this)},disable:function(){this.fieldKeyNav.disable(),Ext.view.NavigationModel.prototype.disable.call(this)},onItemMouseDown:function(b,a,e,c,d){Ext.view.NavigationModel.prototype.onItemMouseDown.call(this,b,a,e,c,d),"mouse"===d.pointerType&&d.preventDefault()},onKeyUp:function(i){var g=this,b=g.view,d=b.all,h=b.highlightedItem,c=h?b.indexOf(h):-1,a=c>0?c-1:d.getCount()-1;g.setPosition(a),i.preventDefault()},onKeyDown:function(i){var g=this,b=g.view,d=b.all,h=b.highlightedItem,c=h?b.indexOf(h):-1,a=c<d.getCount()-1?c+1:0;g.setPosition(a),i.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(c){var a=this.view,b=a.pickerField;return a.isVisible()&&(b.selectOnTab&&this.selectHighlighted(c),b.collapse&&b.collapse()),!0},onKeyEnter:function(g){var a=this.view,b=a.getSelectionModel(),d=a.pickerField,c=b.getCount();return g.stopEvent(),this.selectHighlighted(g),!d.multiSelect&&c===b.getCount()&&d.collapse&&d.collapse(),d.fireEvent("specialkey",d,g,{fromBoundList:!0}),!1},onKeySpace:function(){return this.navigateOnSpace&&Ext.view.NavigationModel.prototype.onKeySpace.apply(this,arguments),!0},onKeyEsc:function(){this.view.pickerField&&this.view.pickerField.collapse()},focusItem:function(c){var b=this,a=b.view;"number"==typeof c&&(c=a.all.item(c)),c&&(c=c.dom,a.highlightItem(c),a.getScrollable().scrollIntoView(c,!1))},selectHighlighted:function(h){var c,g=this,b=g.view,a=b.getSelectionModel(),d=g.recordIndex;b.all.getCount()&&(c=g.getRecord())&&(h.getKey()!==h.ENTER&&a.isSelected(c)||(a.selectWithEvent(c,h),b.store.data.contains(c)||g.setPosition(Math.min(d,b.store.getCount()-1))))},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav),Ext.view.NavigationModel.prototype.destroy.call(this)}},0,0,0,0,["view.navigation.boundlist"],0,[Ext.view,"BoundListKeyNav"],0),Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(d){var c=this,a=c.owner,b=a.pagingToolbar;c.scrollPos=a.listWrap.getScroll(),Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments),a.floating&&(d.savedXY=a.getXY(),a.setXY([0,-9999])),b&&(d.toolbarContext=d.context.getCmp(b)),d.listContext=d.getEl("listWrap")},beginLayoutCycle:function(b){var a=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments),b.heightModel.auto&&(a.el.setHeight("auto"),a.listWrap.setHeight("auto"))},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return!0},finishedLayout:function(d){var c=this,e=d.savedXY,a=c.owner,b=a.listWrap,g=c.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments),e&&c.owner.setXY(e),b.setScrollLeft(g.left),b.setScrollTop(g.top)},measureContentWidth:function(a){return this.owner.listWrap.getWidth()},measureContentHeight:function(a){return this.owner.listWrap.getHeight()},publishInnerHeight:function(c,a){var b=c.toolbarContext,d=0;b&&(d=b.getProp("height")),void 0===d?this.done=!1:c.listContext.setHeight(a-c.getFrameInfo().height-d)},calculateOwnerHeightFromContentHeight:function(c){var a=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),b=c.toolbarContext;return b&&(a+=b.getProp("height")),a}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0),Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:!0,box:!0,tbitem:!0},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0),Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var a=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this),a&&(this.html=a)},setText:function(a){this.update(a)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:!0,box:!0,tbitem:!0,tbtext:!0},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0),Ext.cmd.derive("Ext.form.trigger.Spinner",Ext.form.trigger.Trigger,{cls:"x-form-trigger-spinner",spinnerCls:"x-form-spinner",spinnerUpCls:"x-form-spinner-up",spinnerDownCls:"x-form-spinner-down",focusCls:"x-form-spinner-focus",overCls:"x-form-spinner-over",clickCls:"x-form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){var a=this;a.spinnerEl&&(a.spinnerEl.destroy(),a.spinnerEl=a.upEl=a.downEl=null),Ext.form.trigger.Trigger.prototype.destroy.call(this)},getBodyRenderData:function(){var a=this;return{vertical:a.vertical,upDisabledCls:a.upEnabled?"":a.spinnerUpCls+"-disabled",downDisabledCls:a.downEnabled?"":a.spinnerDownCls+"-disabled",spinnerCls:a.spinnerCls,spinnerUpCls:a.spinnerUpCls,spinnerDownCls:a.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var b=this,a=arguments,d=b.clickRepeater?a[1]:a[0],c=b.field;c.readOnly||c.disabled||(b.upEl.contains(d.target)?Ext.callback(b.upHandler,b.scope,[c,b,d],0,c):b.downEl.contains(d.target)&&Ext.callback(b.downHandler,b.scope,[c,b,d],0,c)),c.inputEl.focus()},onFieldRender:function(){var d,c,b=this,a=b.vertical;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this),d=b.spinnerEl=b.el.select("."+b.spinnerCls,!0),c=d.elements,b.upEl=a?c[0]:c[1],b.downEl=a?c[1]:c[0]},setUpEnabled:function(a){this.upEl[a?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(a){this.downEl[a?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}},0,0,0,0,["trigger.spinner"],0,[Ext.form.trigger,"Spinner"],0),Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Text,{alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",endHandler:"onSpinEnd",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(b){var c=this,a=b.spinner;return a.upEnabled=c.spinUpEnabled,a.downEnabled=c.spinDownEnabled,Ext.form.field.Text.prototype.applyTriggers.call(this,b)},onRender:function(){var b=this,a=b.getTrigger("spinner");(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this),b.keyNavEnabled&&(b.spinnerKeyNav=new Ext.util.KeyNav(b.inputEl,{scope:b,up:b.spinUp,down:b.spinDown}),b.inputEl.on({keyup:b.onInputElKeyUp,scope:b})),b.mouseWheelEnabled&&b.mon(b.bodyEl,"mousewheel",b.onMouseWheel,b),b.spinUpEl=a.upEl,b.spinDownEl=a.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var a=this;a.spinUpEnabled&&!a.disabled&&(a.fireEvent("spin",a,"up"),a.fireEvent("spinup",a),a.onSpinUp())},spinDown:function(){var a=this;a.spinDownEnabled&&!a.disabled&&(a.fireEvent("spin",a,"down"),a.fireEvent("spindown",a),a.onSpinDown())},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a,c!==a&&b.rendered&&b.getTrigger("spinner").setUpEnabled(a)},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a,c!==a&&b.rendered&&b.getTrigger("spinner").setDownEnabled(a)},onMouseWheel:function(b){var c,a=this;a.hasFocus&&(c=b.getWheelDelta(),c>0?a.spinUp():c<0&&a.spinDown(),b.stopEvent(),a.onSpinEnd())},onInputElKeyUp:function(a){a.keyCode!==a.UP&&a.keyCode!==a.DOWN||this.onSpinEnd()},doDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav"),Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["spinnerfield"],["component","box","field","textfield","spinnerfield"],{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],function(a){a.prototype.onSpinEnd=Ext.Function.createBuffered(function(){this.fireEvent("spinend",this)},100)}),Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var a=this;null===a.decimalSeparator&&(a.decimalSeparator=Ext.util.Format.decimalSeparator),Ext.form.field.Spinner.prototype.initComponent.call(this),a.setMinValue(a.minValue),a.setMaxValue(a.maxValue)},getSubTplData:function(c){var h,b,g,e=this,d=e.minValue,a=e.maxValue;return h=Ext.form.field.Spinner.prototype.getSubTplData.call(this,c),b=h.inputElAriaAttributes,b&&(d>Number.NEGATIVE_INFINITY&&(b["aria-valuemin"]=d),a<Number.MAX_VALUE&&(b["aria-valuemax"]=a),null!=(g=e.getValue())&&g>=d&&g<=a&&(b["aria-valuenow"]=g)),h},setValue:function(c){var d,a,b=this;return b.hasFocus&&(d=b.getBind(),(a=d&&d.value)&&a.syncing&&c===b.value)?b:Ext.form.field.Spinner.prototype.setValue.call(this,c)},getErrors:function(c){c=arguments.length>0?c:this.processRawValue(this.getRawValue());var a,b=this,e=Ext.form.field.Spinner.prototype.getErrors.call(this,c),d=Ext.String.format;return c.length<1?e:(c=String(c).replace(b.decimalSeparator,"."),isNaN(c)&&e.push(d(b.nanText,c)),a=b.parseValue(c),0===b.minValue&&a<0?e.push(this.negativeText):a<b.minValue&&e.push(d(b.minText,b.minValue)),a>b.maxValue&&e.push(d(b.maxText,b.maxValue)),e)},rawToValue:function(b){var a=this.fixPrecision(this.parseValue(b));return null===a&&(a=b||null),a},valueToRaw:function(c){var b=this,a=b.decimalSeparator;return c=b.parseValue(c),c=b.fixPrecision(c),
c=Ext.isNumber(c)?c:parseFloat(String(c).replace(a,".")),c=isNaN(c)?"":String(c).replace(".",a)},getSubmitValue:function(){var a=this,b=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);return a.submitLocaleSeparator||(b=b.replace(a.decimalSeparator,".")),b},onChange:function(b){var a=this.ariaEl.dom;this.toggleSpinners(),Ext.form.field.Spinner.prototype.onChange.apply(this,arguments),a&&(Ext.isNumber(b)&&isFinite(b)?a.setAttribute("aria-valuenow",b):a.removeAttribute("aria-valuenow"))},toggleSpinners:function(){var a,c=this,d=c.getValue(),b=null===d;(c.spinUpEnabled||c.spinUpDisabledByToggle)&&(a=b||d<c.maxValue,c.setSpinUpEnabled(a,!0)),(c.spinDownEnabled||c.spinDownDisabledByToggle)&&(a=b||d>c.minValue,c.setSpinDownEnabled(a,!0))},setMinValue:function(d){var c,e,a,b=this,a=b.ariaEl.dom;b.minValue=c=Ext.Number.from(d,Number.NEGATIVE_INFINITY),b.toggleSpinners(),a&&(c>Number.NEGATIVE_INFINITY?a.setAttribute("aria-valuemin",c):a.removeAttribute("aria-valuemin")),!0!==b.disableKeyFilter&&(e=b.baseChars+"",b.allowExponential?e+=b.decimalSeparator+"e+-":(b.allowDecimals&&(e+=b.decimalSeparator),b.minValue<0&&(e+="-")),e=Ext.String.escapeRegex(e),b.maskRe=new RegExp("["+e+"]"),b.autoStripChars&&(b.stripCharsRe=new RegExp("[^"+e+"]","gi")))},setMaxValue:function(b){var c,a=this.ariaEl.dom;this.maxValue=c=Ext.Number.from(b,Number.MAX_VALUE),a&&(c<Number.MAX_VALUE?a.setAttribute("aria-valuemax",c):a.removeAttribute("aria-valuemax")),this.toggleSpinners()},parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?null:a},fixPrecision:function(d){var c=this,b=isNaN(d),a=c.decimalPrecision;return b||!d?b?"":d:((!c.allowDecimals||a<=0)&&(a=0),parseFloat(Ext.Number.toFixed(parseFloat(d),a)))},onBlur:function(c){var b=this,a=b.rawToValue(b.getRawValue());Ext.isEmpty(a)||b.setValue(a),Ext.form.field.Spinner.prototype.onBlur.call(this,c)},setSpinUpEnabled:function(b,a){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments),a?this.spinUpDisabledByToggle=!b:delete this.spinUpDisabledByToggle},onSpinUp:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))},setSpinDownEnabled:function(b,a){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments),a?this.spinDownDisabledByToggle=!b:delete this.spinDownDisabledByToggle},onSpinDown:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))},setSpinValue:function(b){var a=this;a.enforceMaxLength&&a.fixPrecision(b).toString().length>a.maxLength||a.setValue(b)}},0,["numberfield"],["component","box","field","textfield","spinnerfield","numberfield"],{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0,numberfield:!0},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0),Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var b=this,a={scope:b,blur:b.onPagingBlur};return a[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=b.onPagingKeyDown,[{itemId:"first",tooltip:b.firstText,overflowText:b.firstText,iconCls:"x-tbar-page-first",disabled:!0,handler:b.moveFirst,scope:b},{itemId:"prev",tooltip:b.prevText,overflowText:b.prevText,iconCls:"x-tbar-page-prev",disabled:!0,handler:b.movePrevious,scope:b},"-",b.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:"x-tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:b.inputItemWidth,margin:"-1 2 3 2",listeners:a},{xtype:"tbtext",itemId:"afterTextItem",html:Ext.String.format(b.afterPageText,1)},"-",{itemId:"next",tooltip:b.nextText,overflowText:b.nextText,iconCls:"x-tbar-page-next",disabled:!0,handler:b.moveNext,scope:b},{itemId:"last",tooltip:b.lastText,overflowText:b.lastText,iconCls:"x-tbar-page-last",disabled:!0,handler:b.moveLast,scope:b},"-",{itemId:"refresh",tooltip:b.refreshText,overflowText:b.refreshText,iconCls:"x-tbar-loading",disabled:b.store.isLoading(),handler:b.doRefresh,scope:b}]},initComponent:function(){var c,b=this,a=b.items||b.buttons||[];b.bindStore(b.store||"ext-empty-store",!0),c=b.getPagingItems(),b.prependButtons?b.items=a.concat(c):b.items=c.concat(a),delete b.buttons,b.displayInfo&&(b.items.push("->"),b.items.push({xtype:"tbtext",itemId:"displayItem"})),Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments),this.updateBarInfo()},onAdded:function(a){var e,b,d=this,g=d.store,c=d._autoStore;void 0===c&&(d._autoStore=c=!(g&&!g.isEmptyStore)),c&&(e=d._storeChangeListener,e&&(e.destroy(),e=null),b=a&&a.store,b&&(e=a.on({destroyable:!0,scope:d,storechange:"onOwnerStoreChange"})),d._storeChangeListener=e,d.onOwnerStoreChange(a,b)),Ext.toolbar.Toolbar.prototype.onAdded.apply(this,arguments)},onOwnerStoreChange:function(a,b){this.setStore(b||Ext.getStore("ext-empty-store"))},updateBarInfo:function(){var a=this;a.store.isLoading()||(a.calledInternal=!0,a.onLoad(),a.calledInternal=!1)},updateInfo:function(){var d,g,e=this,c=e.child("#displayItem"),a=e.store,b=e.getPageData();c&&(d=a.getCount(),g=0===d?e.emptyMsg:Ext.String.format(e.displayMsg,b.fromRecord,b.toRecord,b.total),c.setText(g))},onLoad:function(){var d,b,c,a,g,i,e,h=this;if(g=h.store.getCount(),i=0===g)b=0,c=0,a=Ext.String.format(h.afterPageText,0);else{if(d=h.getPageData(),b=d.currentPage,c=d.pageCount,b>c)return void(c>0?h.store.loadPage(c):h.getInputItem().reset());a=Ext.String.format(h.afterPageText,isNaN(c)?1:c)}Ext.suspendLayouts(),e=h.child("#afterTextItem"),e&&e.update(a),e=h.getInputItem(),e&&e.setDisabled(i).setValue(b),h.setChildDisabled("#first",1===b||i),h.setChildDisabled("#prev",1===b||i),h.setChildDisabled("#next",b===c||i),h.setChildDisabled("#last",b===c||i),h.setChildDisabled("#refresh",!1),h.updateInfo(),Ext.resumeLayouts(!0),h.calledInternal||h.fireEvent("change",h,d||h.emptyPageData)},setChildDisabled:function(a,b){var c=this.child(a);c&&c.setDisabled(b)},getPageData:function(){var b=this.store,a=b.getTotalCount(),c=Math.ceil(a/b.pageSize),d=Math.min(b.currentPage*b.pageSize,a);return{total:a,currentPage:b.currentPage,pageCount:Ext.Number.isFinite(c)?c:1,fromRecord:(b.currentPage-1)*b.pageSize+1,toRecord:d||a}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(b){var a,c=this.getInputItem(),d=!1;return c&&(a=c.getValue(),d=parseInt(a,10),!a||isNaN(d))?(c.setValue(b.currentPage),!1):d},onPagingBlur:function(c){var a,b=this.getInputItem();b&&(a=this.getPageData().currentPage,b.setValue(a))},onPagingKeyDown:function(b,a){this.processKeyEvent(b,a)},processKeyEvent:function(i,h){var g,d=this,c=h.getKey(),b=d.getPageData(),a=h.shiftKey?10:1;c===h.RETURN?(h.stopEvent(),!1!==(g=d.readPageFromInput(b))&&(g=Math.min(Math.max(1,g),b.pageCount))!==b.currentPage&&!1!==d.fireEvent("beforechange",d,g)&&d.store.loadPage(g)):c===h.HOME||c===h.END?(h.stopEvent(),g=c===h.HOME?1:b.pageCount,i.setValue(g)):c!==h.UP&&c!==h.PAGE_UP&&c!==h.DOWN&&c!==h.PAGE_DOWN||(h.stopEvent(),(g=d.readPageFromInput(b))&&(c!==h.DOWN&&c!==h.PAGE_DOWN||(a*=-1),(g+=a)>=1&&g<=b.pageCount&&i.setValue(g)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return!1!==this.fireEvent("beforechange",this,1)&&(this.store.loadPage(1),!0)},movePrevious:function(){var c=this,a=c.store,b=a.currentPage-1;return b>0&&!1!==c.fireEvent("beforechange",c,b)&&(a.previousPage(),!0)},moveNext:function(){var d=this,a=d.store,c=d.getPageData().pageCount,b=a.currentPage+1;return b<=c&&!1!==d.fireEvent("beforechange",d,b)&&(a.nextPage(),!0)},moveLast:function(){var b=this,a=b.getPageData().pageCount;return!1!==b.fireEvent("beforechange",b,a)&&(b.store.loadPage(a),!0)},doRefresh:function(){var b=this,a=b.store,c=a.currentPage;return!1!==b.fireEvent("beforechange",b,c)&&(a.loadPage(c),!0)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){this.rendered&&this.updateBarInfo()},doDestroy:function(){var a=this,b=a._storeChangeListener;b&&(b.destroy(),a._storeChangeListener=null),a.bindStore(null),Ext.toolbar.Toolbar.prototype.doDestroy.call(this)}},0,["pagingtoolbar"],["component","box","container","toolbar","pagingtoolbar"],{component:!0,box:!0,container:!0,toolbar:!0,pagingtoolbar:!0},["widget.pagingtoolbar"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0),Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:"x-boundlist",itemCls:"x-boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,refreshSelmodelOnRefresh:!0,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:!0,ariaEl:"listEl",tabIndex:-1,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',"x-",'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],focusOnToFront:!1,alignOnScroll:!1,initComponent:function(){var b=this,a=b.baseCls,c=b.itemCls;b.selectedItemCls=a+"-selected",b.trackOver&&(b.overItemCls=a+"-item-over"),b.itemSelector="."+c,b.floating&&b.addCls(a+"-floating"),b.tpl?b.tpl.isTemplate||(b.tpl=new Ext.XTemplate(b.tpl)):b.generateTpl(),b.pageSize&&(b.pagingToolbar=b.createPagingToolbar()),Ext.view.View.prototype.initComponent.call(this)},generateTpl:function(){var a=this;a.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+a.itemCls+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl>")},setDisplayField:function(a){this.displayField=a,this.generateTpl()},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var a=Ext.view.View.prototype.getRefItems.call(this),b=this.pagingToolbar;return b&&a.push(b),a},createPagingToolbar:function(){var a=this;return new Ext.toolbar.Paging({id:a.id+"-paging-toolbar",pageSize:a.pageSize,store:a.dataSource,border:!1,ownerCt:a,ownerLayout:a.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var b=this,a=b.tpl;a.field=b.pickerField,a.store=b.store,Ext.view.View.prototype.refresh.call(this),a.field=a.store=null,b.ariaStaticRoles[b.ariaRole]||b.refreshAriaAttributes()},refreshAriaAttributes:function(){var b,m,a,c,e,j,d,h,k=this,l=k.store,g=k.getSelectionModel();for(m=l.isFiltered()?l.getCount():l.getTotalCount()||l.getCount(),a=k.getNodes(),b=k.pickerField&&k.pickerField.multiSelect,d=0,h=a.length;d<h;d++)c=a[d],e=null,m!==h&&(e=k.getRecord(c),j=l.indexOf(e),c.setAttribute("aria-setsize",m),c.setAttribute("aria-posinset",j)),b&&(e=e||k.getRecord(c),c.setAttribute("aria-selected",g.isSelected(e)))},bindStore:function(a,b){var c=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,arguments),c&&c.bindStore(a,b)},getInnerTpl:function(a){return"{"+a+"}"},onShow:function(){var a=this.pickerField;Ext.view.View.prototype.onShow.call(this),a&&a.rendered&&!a.hasFocus&&a.focus()},afterComponentLayout:function(c,a,b,e){var d=this.pickerField;Ext.view.View.prototype.afterComponentLayout.call(this,c,a,b,e),d&&d.alignPicker&&d.alignPicker()},onItemSelect:function(a){var b,c=this;return b=Ext.view.View.prototype.onItemSelect.call(this,a),b&&(c.ariaSelectable?b.setAttribute("aria-selected","true"):b.removeAttribute("aria-selected")),b},onItemDeselect:function(a){var b,c=this;return b=Ext.view.View.prototype.onItemDeselect.call(this,a),b&&c.ariaSelectable&&(c.pickerField&&c.pickerField.multiSelect?b.setAttribute("aria-selected","false"):b.removeAttribute("aria-selected")),b},onItemClick:function(a){var b,c,d=this,e=d.pickerField;e&&(b=e.valueField,c=d.getSelectionModel().getSelection(),!e.multiSelect&&c.length&&(c=c[0])&&e.isEqual(a.get(b),c.get(b))&&e.collapse&&e.collapse())},onContainerClick:function(b){var c,a=this.pagingToolbar;return!(a&&a.rendered&&b.within(a.el))&&!((Ext.isIE10||Ext.isIE11)&&(c=this.listWrap.getClientRegion(),!b.getPoint().isContainedBy(c)))&&void 0},doDestroy:function(){this.pagingToolbar=Ext.destroy(this.pagingToolbar),Ext.view.View.prototype.doDestroy.call(this)},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var a=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments),a&&a.finishRender()}}},0,["boundlist"],["component","box","dataview","boundlist"],{component:!0,box:!0,dataview:!0,boundlist:!0},["widget.boundlist"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0),Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:null,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:"x-form-arrow-trigger",hiddenName:"",collapseOnSelect:!1,hiddenDataCls:"x-hidden-display x-form-data-hidden",ariaRole:"combobox",autoDestroyBoundStore:!0,childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){var a=this;Ext.form.field.Picker.prototype.afterRender.apply(this,arguments),a.setHiddenValue(a.value)},multiSelect:!1,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,autoSelectLast:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,clearValueOnEmpty:!0,newlineRe:/\r?\n/g,getGrowWidth:function(){var e,h,j,c,b,k,a,d=this,g=d.inputEl.dom.value;if(d.growToLongestValue)for(e=d.displayField,h=d.store,j=h.data.length,c=0,b=0;b<j;b++)k=h.getAt(b).data[e],(a=k.length)>c&&(c=a,g=k);return g},initComponent:function(){var a,g,e=this,c=Ext.isDefined,b=e.store,d=e.transform;"pinList"in e&&(e.collapseOnSelect=!e.pinList),d&&(a=Ext.getDom(d))&&(e.store||(b=Ext.Array.map(Ext.Array.from(a.options),function(h){return[h.value,h.text]})),e.name||(e.name=a.name),"value"in e||(e.value=a.value)),e.displayTpl||e.setDisplayTpl(!1),e.bindStore(b||"ext-empty-store",!0,!0),g="local"===e.queryMode,c(e.queryDelay)||(e.queryDelay=g?10:500),c(e.minChars)||(e.minChars=g?0:4),Ext.form.field.Picker.prototype.initComponent.call(this),e.doQueryTask=new Ext.util.DelayedTask(e.doRawQuery,e),a&&(e.transformInPlace&&(e.render(a.parentNode,a),delete e.renderTo),Ext.removeNode(a))},initEvents:function(){var a=this;Ext.form.field.Picker.prototype.initEvents.call(this),a.altArrowKeyNav=new Ext.util.KeyNav({target:a.inputEl,forceKeyDown:!0,priority:1002,scope:a,down:{alt:!0,handler:a.onAltDownArrow},up:{alt:!0,handler:a.onAltUpArrow}})},getSubTplData:function(b){var d,a,c=this,e=c.id;return d=Ext.form.field.Picker.prototype.getSubTplData.call(this,b),c.ariaStaticRoles[c.ariaRole]||(a=d.ariaElAttributes)&&(a["aria-owns"]=e+"-inputEl "+e+"-picker-listEl",a["aria-autocomplete"]="list"),d},getSubTplMarkup:function(c){var d=this,a="",b=Ext.form.field.Picker.prototype.getSubTplMarkup.apply(this,arguments);return d.hiddenName&&(a='<div id="'+c.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+d.hiddenDataCls+'" role="presentation"></div>'),a+b},applyDisplayTpl:function(b){var a=this;return b?b.isTemplate||(b=new Ext.XTemplate(b)):(b=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+a.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+a.getDelimiter()+"</tpl></tpl>"),b.auto=!0),b},applyFilters:function(b,c){var a=this;return null===b||b.isFilterCollection?b:(b&&(c||(c=this.getFilters()),c.beginUpdate(),c.splice(0,c.length,b),c.each(function(d){d.ownerId=a.id}),c.endUpdate()),c)},applyValueNotFoundText:function(a){var b=this,c=b.valueNotFoundRecord||(b.valueNotFoundRecord=new Ext.data.Model);return c.set(b.displayField,a),b.valueField&&b.displayField!==b.valueField&&c.set(b.valueField,a),a},getFilters:function(b){var a=this.filters;return a||!1===b||(a=new Ext.util.FilterCollection,this.setFilters(a)),a},updateFilters:function(a,b){var c=this;b&&b.un("endupdate","onEndUpdateFilters",c),a&&a.on("endupdate","onEndUpdateFilters",c),c.onEndUpdateFilters(a)},onEndUpdateFilters:function(e){var a,b,d=this,g=d.filtered,c=!!e&&e.length>0;(g||c)&&(d.filtered=c,a=[],b=d.store.getFilters(),b.each(function(h){h.ownerId!==d.id||e.contains(h)||a.push(h)}),b.splice(0,a,e.items))},clearLocalFilter:function(){var b=this,a=b.queryFilter;a&&(b.queryFilter=null,b.changingFilters=!0,b.store.removeFilter(a,!0),b.changingFilters=!1)},completeEdit:function(b){var a=this;Ext.form.field.Picker.prototype.completeEdit.call(this,b),a.doQueryTask.cancel(),a.assertValue(),a.queryFilter&&"local"===a.queryMode&&a.clearFilterOnBlur&&a.clearLocalFilter()},onFocus:function(b){var a=this;Ext.form.field.Picker.prototype.onFocus.call(this,b),"all"!==a.triggerAction&&a.queryFilter&&"local"===a.queryMode&&a.clearFilterOnBlur&&(delete a.lastQuery,a.doRawQuery())},onAltDownArrow:function(a){return a.stopEvent(),this.isExpanded||this.onDownArrow(a),!1},onAltUpArrow:function(a){return a.stopEvent(),this.isExpanded&&this.onEsc(a),!1},assertValue:function(){var d,h,c=this,e=c.getRawValue(),b=c.getDisplayValue(),g=c.lastSelectedRecords,a=!1;c.forceSelection?c.multiSelect?e!==b&&c.setRawValue(b):(h=c.findRecordByDisplay(e),h?c.getDisplayValue([c.getRecordDisplayData(h)])===b&&(h=null,a=!0):!g||c.allowBlank&&!c.rawValue?c.displayTplData&&c.displayTplData.length&&(h=c.findRecordByValue(c.displayTplData[0][c.valueField])):h=g[0],h?(c.select(h,!0),c.fireEvent("select",c,h)):a||(g&&delete c.lastSelectedRecords,c.setRawValue(""))):(d=c.getValue())&&d==e&&(!(h=c.findRecordByDisplay(d))||h===(g&&g[0])&&c.displayField===c.valueField||(c.select(h,!0),c.fireEvent("select",c,h))),c.collapse()},onTypeAhead:function(){var e,a,g,d=this,c=d.displayField,b=d.store.findRecord(c,d.getRawValue());b&&(e=b.get(c),a=e.length,0!==(g=d.getRawValue().length)&&g!==a&&(d.lastMutatedValue=e,d.setRawValue(e),d.selectText(g,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){Ext.form.field.Picker.prototype.beforeReset.call(this),this.clearLocalFilter()},onUnbindStore:function(){var b=this,a=b.picker;b.queryFilter&&!b.store.destroyed&&b.clearLocalFilter(),a&&a.bindStore(null),b.pickerSelectionModel.destroy()},onBindStore:function(a,c){var d,g,e=this,b=e.picker;a&&(a.autoCreated&&(e.queryMode="local",e.valueField=e.displayField="field1",a.expanded||(e.displayField="field2"),e.getDisplayTpl().auto&&e.setDisplayTpl(null)),Ext.isDefined(e.valueField)||(e.valueField=e.displayField),d={byValue:{rootProperty:"data",unique:!1}},d.byValue.property=e.valueField,a.setExtraKeys(d),e.displayField===e.valueField?a.byText=a.byValue:(d.byText={rootProperty:"data",unique:!1},d.byText.property=e.displayField,a.setExtraKeys(d)),g={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:e.valueField,rootProperty:"data"}},listeners:{beginupdate:e.onValueCollectionBeginUpdate,endupdate:e.onValueCollectionEndUpdate,scope:e}},e.valueCollection=new Ext.util.Collection(g),e.pickerSelectionModel=new Ext.selection.DataViewModel({mode:e.multiSelect?"SIMPLE":"SINGLE",ordered:!0,deselectOnContainerClick:!1,enableInitialSelection:!1,pruneRemoved:!1,selected:e.valueCollection,store:a,listeners:{scope:e,lastselectedchanged:e.updateBindSelection}}),c||e.resetToDefault(),b&&(e.pickerSelectionModel.on({scope:e,beforeselect:e.onBeforeSelect,beforedeselect:e.onBeforeDeselect}),b.setSelectionModel(e.pickerSelectionModel),b.getStore()!==a&&b.bindStore(a)))},bindStore:function(a,e,b){var d=this,c=d.queryFilter;d.mixins.storeholder.bindStore.call(d,a,b),a=d.getStore(),a&&c&&!e&&a.getFilters().add(c),b||!a||a.isEmptyStore||d.setValueOnData()},getStoreListeners:function(b){if(!b.isEmptyStore){var c=this,a={datachanged:c.onDataChanged,load:c.onLoad,exception:c.onException,update:c.onStoreUpdate,remove:c.checkValueOnChange};return b.getRemoteFilter()||(a.filterchange=c.checkValueOnChange),a}},onDataChanged:function(){this.grow&&this.growToLongestValue&&this.autoSize()},checkValueOnChange:function(){var a=this;if(!a.destroying&&a.getStore().isLoaded())if(a.multiSelect);else if(a.forceSelection&&!a.changingFilters&&!a.findRecordByValue(a.value)){if("local"!=a.queryMode&&a.hasFocus)return;a.setValue(null)}},onStoreUpdate:function(b,a){this.updateValue()},onException:function(){this.collapse()},onLoad:function(c,b,e){var d=this,a=!d.valueCollection.byValue.get(d.value);!e||!a||c.lastOptions&&"rawQuery"in c.lastOptions||d.setValueOnData(),d.checkValueOnChange()},setValueOnData:function(){var a=this;a.setValue(a.value),a.isExpanded&&a.getStore().getCount()&&a.doAutoSelect()},doRawQuery:function(){var a=this,b=a.inputEl.dom.value;a.multiSelect&&(b=b.split(a.delimiter).pop()),a.doQuery(b,!1,!0)},doQuery:function(i,c,h){var g,e=this,a=e.getStore(),d=a.getFilters(),b=e.beforeQuery({lastQuery:e.lastQuery||"",query:i||"",rawQuery:h,forceAll:c,combo:e,cancel:!1});return!1===b||b.cancel?(e.startCheckChangeTask(),!1):(g=!!i&&(!e.queryFilter||e.queryFilter&&d.indexOf(e.queryFilter)<0),e.queryCaching&&!g&&b.query===e.lastQuery?(e.getPicker().refresh(),e.expand(),e.afterQuery(b)):(e.lastQuery=b.query,"local"===e.queryMode?e.doLocalQuery(b):e.doRemoteQuery(b)),!0)},beforeQuery:function(a){var b=this;return!1===b.fireEvent("beforequery",a)?a.cancel=!0:a.cancel||a.query.length<b.minChars&&!a.forceAll&&(a.cancel=!0),a},doLocalQuery:function(b){var c,d=this,i=b.query,a=d.getStore(),g=i;if(d.clearLocalFilter(),i){if(d.enableRegEx)try{g=new RegExp(g)}catch(h){g=null}null!==g&&(d.changingFilters=!0,c=d.queryFilter=new Ext.util.Filter({id:d.id+"-filter",anyMatch:d.anyMatch,caseSensitive:d.caseSensitive,root:"data",property:d.displayField,value:g}),a.addFilter(c,!0),d.changingFilters=!1)}d.store.getCount()||d.getPicker().emptyText?(d.getPicker().refresh(),d.expand()):d.collapse(),d.afterQuery(b)},doRemoteQuery:function(b){var c=this,a=function(){c.destroyed||c.afterQuery(b)};c.expand(),c.pageSize?c.loadPage(1,{rawQuery:b.rawQuery,callback:a}):c.store.load({params:c.getParams(b.query),rawQuery:b.rawQuery,callback:a})},afterQuery:function(a){var b=this;b.store.getCount()&&(b.typeAhead&&b.doTypeAhead(a),a.rawQuery?b.picker&&!b.picker.getSelectionModel().hasSelection()&&b.doAutoSelect():b.doAutoSelect()),b.startCheckChangeTask()},loadPage:function(b,a){this.store.loadPage(b,Ext.apply({params:this.getParams(this.lastQuery)},a))},onPageChange:function(b,a){return this.loadPage(a),!1},getParams:function(c){var b={},a=this.queryParam;return a&&(b[a]=c),b},doAutoSelect:function(){var a,e,d=this,b=d.store,c=d.picker,g=0;c&&d.autoSelect&&b.getCount()>0&&(d.autoSelectLast&&(a=c.getSelectionModel(),(e=a.lastSelected)&&a.selected.length&&b.indexOf(e)>-1&&(g=e)),c.getNavigationModel().setPosition(g))},doTypeAhead:function(a){var b=this;b.typeAheadTask||(b.typeAheadTask=new Ext.util.DelayedTask(b.onTypeAhead,b)),(a.query.length>a.lastQuery.length||!Ext.String.startsWith(a.lastQuery,a.query))&&b.typeAheadTask.delay(b.typeAheadDelay)},onTriggerClick:function(c){var a,b=this;b.readOnly||b.disabled||(b.isExpanded?b.collapse():c&&"keydown"===c.type&&c.altKey?(a=b.autoSelect,b.autoSelect=!1,b.expand(),b.autoSelect=a):"all"===b.triggerAction?b.doQuery(b.allQuery,!0):"last"===b.triggerAction?b.doQuery(b.lastQuery,!0):b.doQuery(b.getRawValue(),!1,!0))},onFieldMutation:function(h){var d=this,b=h.getKey(),c=b===h.BACKSPACE||b===h.DELETE,g=d.inputEl.dom.value,a=g.length;d.readOnly||g===d.lastMutatedValue&&!c||b===h.TAB||(d.lastMutatedValue=g,d.refreshEmptyText(),!a||"keyup"===h.type&&h.isSpecialKey()&&!c?(a||b&&!c||(++d.suspendCheckChange,d.multiSelect||(d.value=null,d.displayTplData=void 0),d.clearValueOnEmpty&&(d.valueCollection.beginUpdate(),d.pickerSelectionModel.deselectAll(),d.valueCollection.removeAll(),d.valueCollection.endUpdate()),d.collapse(),d.queryFilter&&d.clearLocalFilter(),d.lastQuery=null,--d.suspendCheckChange),Ext.form.field.Picker.prototype.onFieldMutation.call(this,h)):d.doQueryTask.delay(d.queryDelay))},doDestroy:function(){var a=this;a.doQueryTask.cancel(),a.typeAheadTask&&(a.typeAheadTask.cancel(),a.typeAheadTask=null),a.bindStore(null),Ext.destroy(a.altArrowKeyNav,a.valueCollection),Ext.form.field.Picker.prototype.doDestroy.call(this)},onAdded:function(){var a=this;Ext.form.field.Picker.prototype.onAdded.apply(this,arguments),a.picker&&(a.picker.ownerCt=a.up("[floating]"),a.picker.registerWithOwnerCt())},createPicker:function(){var b,c=this,a=Ext.apply({xtype:"boundlist",id:c.id+"-picker",pickerField:c,selectionModel:c.pickerSelectionModel,floating:!0,hidden:!0,store:c.getPickerStore(),displayField:c.displayField,preserveScrollOnRefresh:!0,pageSize:c.pageSize,tpl:c.tpl,ariaSelectable:c.ariaSelectable},c.listConfig,c.defaultListConfig);return b=c.picker=Ext.widget(a),c.pageSize&&b.pagingToolbar.on("beforechange",c.onPageChange,c),b.initialConfig.maxHeight||b.on({beforeshow:c.onBeforePickerShow,scope:c}),b.getSelectionModel().on({beforeselect:c.onBeforeSelect,beforedeselect:c.onBeforeDeselect,focuschange:c.onFocusChange,scope:c}),b.getNavigationModel().navigateOnSpace=!1,b},getPickerStore:function(){return this.store},onBeforePickerShow:function(a){var b=this,d=b.getPosition()[1]-Ext.getBody().getScroll().top,c=Ext.Element.getViewportHeight()-d-b.getHeight();a.maxHeight=Math.max(d,c)-5},onBeforeSelect:function(c,a,b){return this.fireEvent("beforeselect",this,a,b)},onBeforeDeselect:function(c,a,b){return this.fireEvent("beforedeselect",this,a,b)},onFocusChange:function(c,a,b){var e,d=this.picker,g=this.inputEl;b&&(e=Ext.get(d.getNodeByRecord(b)),e?g.dom.setAttribute("aria-activedescendant",e.id):g.dom.removeAttribute("aria-activedescendant"))},getSelection:function(){var a=this.getPicker().getSelectionModel();return a.getSelection().length?a.getLastSelected():null},updateSelection:function(a){var c,b=this;b.ignoreNextSelection||(b.ignoreNextSelection=!0,c=b.getPicker().getSelectionModel(),a?(c.select(a),b.hasHadSelection=!0):c.deselectAll(),b.ignoreNextSelection=!1)},updateBindSelection:function(a,c){var d=this,b=null;d.ignoreNextSelection||(d.ignoreNextSelection=!0,c.length&&(b=a.getLastSelected(),d.hasHadSelection=!0),d.hasHadSelection&&d.setSelection(b),d.ignoreNextSelection=!1)},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var d=this,c=d.store,e=d.valueCollection.getRange(),b=e[0],a=e.length;d.updateBindSelection(d.pickerSelectionModel,e),d.isSelectionUpdating()||(Ext.suspendLayouts(),d.lastSelection=e,a&&(d.lastSelectedRecords=e),d.updateValue(),a&&(!d.multiSelect&&c.contains(b)||d.collapseOnSelect||!c.getCount())&&(d.updatingValue=!0,d.collapse(),d.updatingValue=!1),Ext.resumeLayouts(!0),d.suspendCheckChange||(d.multiSelect||(e=b),d.fireEvent("select",d,e)))},isSelectionUpdating:function(){var a=this.pickerSelectionModel;return a.deselectingDuringSelect||a.refreshing},onExpand:function(){var c,d=this,b=d.getPicker(),a=b.getNavigationModel();a&&a.enable(),d.doAutoSelect(),(c=Ext.get(b.highlightedItem))&&d.inputEl.dom.setAttribute("aria-activedescendant",c.id)},onCollapse:function(){var b=this,a=b.getPicker().getNavigationModel();a&&a.disable(),b.updatingValue&&b.doQueryTask.cancel(),b.inputEl.dom.removeAttribute("aria-activedescendant")},select:function(d,a){var e,c=this,b=c.picker;d&&d.isModel&&!0===a&&b&&(e=!b.getSelectionModel().isSelected(d)),e||c.suspendEvent("select"),c.setValue(d),c.resumeEvent("select")},findRecord:function(d,c){var b=this.store,a=b.findExact(d,c);return-1!==a&&b.getAt(a)},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(c){var a=this.store.byValue.get(c),b=!1;return a&&(b=a[0]||a),b},findRecordByDisplay:function(c){var a=this.store.byText.get(c),b=!1;return a&&(b=a[0]||a),b},addValue:function(a){if(null!=a)return this.doSetValue(a,!0)},setValue:function(c){var d,a,b=this;if(b.hasFocus){if(d=b.getBind(),(a=d&&d.value)&&a.syncing){if(Ext.isEmpty(c)&&Ext.isEmpty(b.value)||c===b.value)return b;if(Ext.isArray(c)&&Ext.isArray(b.value)&&Ext.Array.equals(c,b.value))return b}}else b.lastSelectedRecords=null;return null!=c?b.doSetValue(c):(b.suspendEvent("select"),b.valueCollection.beginUpdate(),b.pickerSelectionModel.deselectAll(),b.valueCollection.endUpdate(),b.resumeEvent("select")),b},setRawValue:function(a){Ext.form.field.Picker.prototype.setRawValue.call(this,a),this.lastMutatedValue=a},doSetValue:function(q,m){var u,v,c,r,d,x,w=this,h=w.getStore(),j=h.getModel(),t=[],g=[],s=w.autoLoadOnValue,e=h.getCount()>0||h.isLoaded(),a=h.hasPendingLoad(),n=s&&!e&&!a,l=w.forceSelection,p=w.pickerSelectionModel,b=w.displayField===w.valueField,o=h.isEmptyStore,k=w.lastSelection;if((a||n||!e||o)&&(q.isModel||(w.value=m?Ext.Array.from(w.value).concat(q):q,w.setHiddenValue(w.value),w.setRawValue(b?q:""),b&&!Ext.isEmpty(q)&&w.inputEl&&w.emptyText&&w.inputEl.removeCls(w.emptyUICls)),n&&!o&&h.load(),!q.isModel||o))return w;for(q=m?Ext.Array.from(w.value).concat(q):Ext.Array.from(q),u=0,v=q.length;u<v;u++)c=q[u],c&&c.isModel||(c=w.findRecordByValue(x=c))||(c=w.valueCollection.find(w.valueField,x)),c||(l?w.valueNotFoundRecord&&(c=w.valueNotFoundRecord):!c&&q[u]&&(r={},r[w.displayField]=q[u],w.valueField&&w.displayField!==w.valueField&&(r[w.valueField]=q[u]),c=new j(r))),c&&(t.push(c),g.push(c.get(w.valueField)));if(k)if((v=k.length)===t.length)for(u=0;!d&&u<v;u++)-1===Ext.Array.indexOf(w.lastSelection,t[u])&&(d=!0);else d=!0;else d=t.length;return d?(w.suspendEvent("select"),w.valueCollection.beginUpdate(),t.length?p.select(t,!1):p.deselectAll(),w.valueCollection.endUpdate(),w.resumeEvent("select")):w.updateValue(),w},updateValue:function(){var b,c,g,h=this,d=h.valueCollection.getRange(),e=d.length,j=[],a=h.displayTplData||(h.displayTplData=[]),k=h.inputEl;for(a.length=0,b=0;b<e;b++)c=d[b],a.push(h.getRecordDisplayData(c)),c!==h.valueNotFoundRecord&&j.push(c.get(h.valueField));h.setHiddenValue(j),h.value=h.multiSelect?j:j[0],Ext.isDefined(h.value)||(h.value=void 0),h.displayTplData=a,g=h.getDisplayValue(),h.setRawValue(g),h.refreshEmptyText(),h.checkChange(),k&&h.typeAhead&&h.hasFocus&&h.selectText(g.length)},setHiddenValue:function(j){var d,b,k,h,g,c,e=this,a=e.hiddenName;if(e.hiddenDataEl&&a){for(j=Ext.Array.from(j),b=e.hiddenDataEl.dom,k=b.childNodes,h=k[0],g=j.length,c=k.length,!h&&g>0&&(e.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a})),c=1,h=b.firstChild);c>g;)b.removeChild(k[0]),--c;for(;c<g;)b.appendChild(h.cloneNode(!0)),++c;for(d=0;d<g;d++)k[d].value=j[d]}},getDisplayValue:function(a){return a=a||this.displayTplData,(this.getDisplayTpl().apply(a)||"").replace(this.newlineRe,"")},getRecordDisplayData:function(a){return a.data},getValue:function(){var c=this,a=c.getStore(),b=c.picker,e=c.getRawValue(),d=c.value;return a.isEmptyStore||c.getDisplayValue()===e||(c.displayTplData=void 0,
b&&(c.valueCollection.suspendEvents(),b.getSelectionModel().deselectAll(),c.valueCollection.resumeEvents(),c.lastSelection=null),d=a.isLoaded()&&(c.multiSelect||c.forceSelection)?c.value=void 0:c.value=e),c.value=null==d?null:d,c.value},getSubmitValue:function(){var a=this.getValue();return Ext.isEmpty(a)&&(a=""),a},isEqual:function(e,d){var c,a,b=Ext.Array.from;if(e=b(e),d=b(d),(a=e.length)!==d.length)return!1;for(c=0;c<a;c++)if(d[c]!==e[c])return!1;return!0},clearValue:function(){this.setValue(null)}},0,["combo","combobox"],["component","box","field","textfield","pickerfield","combobox","combo"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0},["widget.combo","widget.combobox"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0),Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:!0,focusable:!0,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:!0,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:!1,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected",a.small&&a.addCls(a.smallCls),a.setValue(a.value),a.activeYear=a.getYear((new Date).getFullYear()-4,-4),a.showButtons&&(a.okBtn=new Ext.button.Button({ui:a.footerButtonUI,text:a.okText,handler:a.onOkClick,scope:a}),a.cancelBtn=new Ext.button.Button({ui:a.footerButtonUI,text:a.cancelText,handler:a.onCancelClick,scope:a})),Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var g=this,c=0,b=[],a=Ext.Date.getShortMonthName,e=g.monthOffset,h=g.monthMargin,d="";for(g.padding&&!g.width&&g.cacheWidth(),Ext.Component.prototype.beforeRender.call(this);c<e;++c)b.push(a(c),a(c+e));Ext.isDefined(h)&&(d="margin: 0 "+h+"px;"),Ext.apply(g.renderData,{months:b,years:g.getYears(),showButtons:g.showButtons,monthStyle:d})},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+" "+a.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});a.self.prototype.width=c.getWidth()+b.left+b.right,c.destroy()},afterRender:function(){var b=this,a=b.bodyEl;Ext.Component.prototype.afterRender.call(this),b.up("[floating=true]")&&b.el.on("mousedown",b.onElClick,b,{translate:!1}),a.on({scope:b,click:"onBodyClick",dblclick:"onBodyClick"}),b.years=a.select("."+b.baseCls+"-year a"),b.months=a.select("."+b.baseCls+"-month a"),b.backRepeater=new Ext.util.ClickRepeater(b.prevEl,{handler:Ext.Function.bind(b.adjustYear,b,[-b.totalYears])}),b.prevEl.addClsOnOver(b.baseCls+"-yearnav-prev-over"),b.nextRepeater=new Ext.util.ClickRepeater(b.nextEl,{handler:Ext.Function.bind(b.adjustYear,b,[b.totalYears])}),b.nextEl.addClsOnOver(b.baseCls+"-yearnav-next-over"),b.updateBody(),Ext.isDefined(b.monthMargin)||(Ext.picker.Month.prototype.monthMargin=b.calculateMonthMargin())},calculateMonthMargin:function(){for(var c=this,a=c.months,d=a.first(),b=d.getMargin("l");b&&c.getLargest()>c.measureMaxHeight;)--b,a.setStyle("margin","0 "+b+"px");return b},getLargest:function(a){var b=0;return this.months.each(function(d){var c=d.getHeight();c>b&&(b=c)}),b},setValue:function(c){var a,b=this,d=b.activeYear;return c?Ext.isDate(c)?b.value=[c.getMonth(),c.getFullYear()]:b.value=[c[0],c[1]]:b.value=[null,null],b.rendered&&(a=b.value[1],null!==a&&(a<d||a>d+b.yearOffset)&&(b.activeYear=a-b.yearOffset+1),b.updateBody()),b},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return null!==a[0]&&null!==a[1]},getYears:function(){for(var d=this,e=d.yearOffset,g=d.activeYear,a=g+e,c=g,b=[];c<a;++c)b.push(c,c+e);return b},updateBody:function(){var h,d,j,a,c,i=this,e=i.years,b=i.months,m=i.getYears(),n=i.selectedCls,k=i.getYear(null),g=i.value[0],l=i.monthOffset;if(i.rendered){for(e.removeCls(n),b.removeCls(n),d=e.elements,a=d.length,j=0;j<a;j++)c=Ext.fly(d[j]),h=m[j],c.dom.innerHTML=h,h===k&&c.addCls(n);null!==g&&(g<l?g*=2:g=2*(g-l)+1,b.item(g).addCls(n))}},getYear:function(a,c){var b=this.value[1];return c=c||0,null===b?a:b+c},onElClick:function(a){a.stopEvent()},onBodyClick:function(d,b){var c=this,a="dblclick"===d.type;d.getTarget("."+c.baseCls+"-month")?(d.stopEvent(),c.onMonthClick(b,a)):d.getTarget("."+c.baseCls+"-year")&&(d.stopEvent(),c.onYearClick(b,a))},adjustYear:function(a){"number"!=typeof a&&(a=this.totalYears),this.activeYear+=a,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(c,a){var b=this;b.value[0]=b.resolveOffset(b.months.indexOf(c),b.monthOffset),b.updateBody(),b.fireEvent("month"+(a?"dbl":"")+"click",b,b.value),b.fireEvent("select",b,b.value)},onYearClick:function(c,a){var b=this;b.value[1]=b.activeYear+b.resolveOffset(b.years.indexOf(c),b.yearOffset),b.updateBody(),b.fireEvent("year"+(a?"dbl":"")+"click",b,b.value),b.fireEvent("select",b,b.value)},resolveOffset:function(a,b){return a%2==0?a/2:b+Math.floor(a/2)},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn),Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var a=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments),this.showButtons&&(a.okBtn.finishRender(),a.cancelBtn.finishRender())}}},0,["monthpicker"],["component","box","monthpicker"],{component:!0,box:!0,monthpicker:!0},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0),Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:"x-datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:!0,alignOnScroll:!1,ariaRole:"region",focusable:!0,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="x-hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="x-hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="x-hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="x-hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="x-hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(b){return b--,b%7==0&&0!==b?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],initHour:12,numDays:42,initComponent:function(){var b=this,a=Ext.Date.clearTime;b.selectedCls=b.baseCls+"-selected",b.disabledCellCls=b.baseCls+"-disabled",b.prevCls=b.baseCls+"-prevday",b.activeCls=b.baseCls+"-active",b.cellCls=b.baseCls+"-cell",b.nextCls=b.baseCls+"-prevday",b.todayCls=b.baseCls+"-today",b.format||(b.format=Ext.Date.defaultFormat),b.dayNames||(b.dayNames=Ext.Date.dayNames),b.dayNames=b.dayNames.slice(b.startDay).concat(b.dayNames.slice(0,b.startDay)),Ext.Component.prototype.initComponent.call(this),b.value=b.value?a(b.value,!0):a(new Date),b.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var a=[],c=this.monthBtn,b=this.todayBtn;return c&&a.push(c),b&&a.push(b),a},beforeRender:function(){var c=this,b=Ext.String.htmlEncode,d=new Array(c.numDays),a=Ext.Date.format(new Date,c.format);c.padding&&!c.width&&c.cacheWidth(),c.monthBtn=new Ext.button.Split({ownerCt:c,ownerLayout:c.getComponentLayout(),text:"",tooltip:c.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:c.doShowMonthPicker,arrowclick:c.doShowMonthPicker,scope:c}}),c.showToday&&(c.todayBtn=new Ext.button.Button({ui:c.footerButtonUI,ownerCt:c,ownerLayout:c.getComponentLayout(),text:Ext.String.format(c.todayText,a),tooltip:Ext.String.format(c.todayTip,a),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:c.selectToday,scope:c})),Ext.Component.prototype.beforeRender.call(this),Ext.applyIf(c,{renderData:{}}),Ext.apply(c.renderData,{dayNames:c.dayNames,showToday:c.showToday,prevText:b(c.prevText),nextText:b(c.nextText),todayText:b(c.todayText),ariaMinText:b(c.ariaMinText),ariaMaxText:b(c.ariaMaxText),ariaDisabledDaysText:b(c.ariaDisabledDaysText),ariaDisabledDatesText:b(c.ariaDisabledDatesText),days:d}),c.protoEl.unselectable()},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+" "+a.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});a.self.prototype.width=c.getWidth()+b.left+b.right,c.destroy()},onRender:function(b,a){var c=this,d="div."+c.baseCls+"-date";Ext.Component.prototype.onRender.apply(this,arguments),c.cells=c.eventEl.select("tbody td"),c.textNodes=c.eventEl.query(d),c.eventEl.set({"aria-labelledby":c.monthBtn.id}),c.mon(c.eventEl,{scope:c,mousewheel:c.handleMouseWheel,click:{fn:c.handleDateClick,delegate:d}})},initEvents:function(){var a=this;Ext.Component.prototype.initEvents.call(this),a.pickerField&&a.el.on("mousedown",a.onMouseDown,a),a.monthBtn.el.on("mousedown",a.onMouseDown,a),a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,mousedownStopEvent:!0}),a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,mousedownStopEvent:!0}),a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(b){b.ctrlKey?this.showPrevMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1)),b.preventDefault()},right:function(b){b.ctrlKey?this.showNextMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1)),b.preventDefault()},up:function(b){b.ctrlKey?this.showNextYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7)),b.preventDefault()},down:function(b){b.ctrlKey?this.showPrevYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7)),b.preventDefault()},pageUp:function(b){b.ctrlKey?this.showPrevYear():this.showPrevMonth(),b.preventDefault()},pageDown:function(b){b.ctrlKey?this.showNextYear():this.showNextMonth(),b.preventDefault()},home:function(b){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate)),b.preventDefault()},end:function(b){this.update(Ext.Date.getLastDateOfMonth(this.activeDate)),b.preventDefault()},tab:function(b){return this.handleTabKey(b),!0},enter:function(b){this.handleDateClick(b,this.activeCell.firstChild)},space:function(g){var b,d,h,c=this,i=c.pickerField;c.setValue(new Date(c.activeCell.firstChild.dateValue)),i&&(b=c.startValue,d=c.value,h=i.getValue(),h&&b&&h.getTime()===d.getTime()?i.setValue(b):i.setValue(d)),g.preventDefault()}},a.keyNavConfig)),a.disabled&&a.syncDisabled(!0,!0),a.update(a.value)},onMouseDown:function(a){a.preventDefault()},handleTabKey:function(d){var c=this,a=c.getSelectedDate(c.activeDate),b=c.handler;c.disabled||!a.dateValue||Ext.fly(a.parentNode).hasCls(c.disabledCellCls)?c.fireEventArgs("tabout",[c]):(c.setValue(new Date(a.dateValue)),c.fireEvent("select",c,c.value),b&&Ext.callback(b,c.scope,[c,c.value],null,c,c),c.onSelect())},getSelectedDate:function(a){var h,b,d=this,i=a.getTime(),j=d.cells,k=d.selectedCls,g=j.elements,e=g.length;for(j.removeCls(k),b=0;b<e;b++)if(h=g[b].firstChild,h.dateValue===i)return h;return null},initDisabledDays:function(){var a,i,c,e,h=this,b=h.disabledDates,g="(?:";if(!h.disabledDatesRE&&b){for(a=b.length-1,c=b.length,i=0;i<c;i++)e=b[i],g+=Ext.isDate(e)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(e,h.format))+"$":e,i!==a&&(g+="|");h.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(a){var b=this;return Ext.isArray(a)?(b.disabledDates=a,b.disabledDatesRE=null):b.disabledDatesRE=a,b.initDisabledDays(),b.update(b.value,!0),b},setDisabledDays:function(a){return this.disabledDays=a,this.update(this.value,!0)},setMinDate:function(a){return this.minDate=a,this.update(this.value,!0)},setMaxDate:function(a){return this.maxDate=a,this.update(this.value,!0)},setValue:function(a){return this.value=Ext.Date.clearTime(a||new Date,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},onEnable:function(){var a=this;Ext.Component.prototype.onEnable.call(this),a.syncDisabled(!1,!0),a.update(a.activeDate)},onShow:function(){var a=this;Ext.Component.prototype.onShow.call(this),a.syncDisabled(!1),a.pickerField&&(a.startValue=a.pickerField.getValue())},onHide:function(){Ext.Component.prototype.onHide.call(this),this.syncDisabled(!0)},onDisable:function(){Ext.Component.prototype.onDisable.call(this),this.syncDisabled(!0,!0)},getActive:function(){return this.activeDate||this.value},runAnimation:function(c){var b=this.monthPicker,a={duration:200,callback:function(){b.setVisible(!c)}};c?b.el.slideOut("t",a):b.el.slideIn("t",a)},hideMonthPicker:function(a){var c=this,b=c.monthPicker;return b&&b.isVisible()&&(c.shouldAnimate(a)?c.runAnimation(!0):b.hide()),c},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(a){var b,d=this,c=d.el;return d.rendered&&!d.disabled&&(b=d.createMonthPicker(),b.isVisible()||(b.setValue(d.getActive()),b.setSize(c.getSize()),b.floatParent=null,b.setPosition(-c.getBorderWidth("l"),-c.getBorderWidth("t")),d.shouldAnimate(a)?d.runAnimation(!1):b.show())),d},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var b=this,a=b.monthPicker;return a||(b.monthPicker=a=new Ext.picker.Month({renderTo:b.el,ownerCmp:b,floating:!0,padding:b.padding,shadow:!1,small:!1===b.showToday,footerButtonUI:b.footerButtonUI,listeners:{scope:b,cancelclick:b.onCancelClick,okclick:b.onOkClick,yeardblclick:b.onOkClick,monthdblclick:b.onOkClick}}),b.disableAnim||a.el.setStyle("display","none"),a.hide(),b.on("beforehide",b.doHideMonthPicker,b)),a},onOkClick:function(b,e){var d=this,g=e[0],c=e[1],a=new Date(c,g,d.getActive().getDate());a.getMonth()!==g&&(a=Ext.Date.getLastDateOfMonth(new Date(c,g,1))),d.setValue(a),d.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){var b;a.stopEvent(),this.disabled||(b=a.getWheelDelta(),b>0?this.showPrevMonth():b<0&&this.showNextMonth())},handleDateClick:function(d,a){var c=this,b=c.handler;d.stopEvent(),c.disabled||!a.dateValue||Ext.fly(a.parentNode).hasCls(c.disabledCellCls)||(c.setValue(new Date(a.dateValue)),c.fireEvent("select",c,c.value),b&&Ext.callback(b,c.scope,[c,c.value],null,c,c),c.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var c=this,a=c.todayBtn,b=c.handler;return a&&!a.disabled&&(c.setValue(Ext.Date.clearTime(new Date)),c.fireEvent("select",c,c.value),b&&Ext.callback(b,c.scope,[c,c.value],null,c,c),c.onSelect()),c},selectedUpdate:function(e){var j,a,h=this,g=e.getTime(),d=h.cells,b=h.selectedCls,i=d.getCount();for(h.eventEl.dom.setAttribute("aria-busy","true"),a=h.activeCell,a&&(Ext.fly(a).removeCls(b),a.setAttribute("aria-selected",!1)),j=0;j<i;j++)if(a=d.item(j),h.textNodes[j].dateValue===g){h.activeCell=a.dom,h.eventEl.dom.setAttribute("aria-activedescendant",a.dom.id),a.dom.setAttribute("aria-selected",!0),a.addCls(b),h.fireEvent("highlightitem",h,a);break}h.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(z){var h,q,a,E,l,n,b,g,r,D=this,d=D.cells.elements,c=D.textNodes,F=D.disabledCellCls,m=Ext.Date,v=0,C=0,k=+m.clearTime(z,!0),y=+m.clearTime(new Date),t=D.minDate?m.clearTime(D.minDate,!0):Number.NEGATIVE_INFINITY,u=D.maxDate?m.clearTime(D.maxDate,!0):Number.POSITIVE_INFINITY,B=D.disabledDatesRE,s=D.disabledDatesText,G=!!D.disabledDays&&D.disabledDays.join(""),A=D.disabledDaysText,w=D.format,j=m.getDaysInMonth(z),p=m.getFirstDateOfMonth(z),e=p.getDay()-D.startDay,x=m.add(z,m.MONTH,-1),o=D.ariaTitleDateFormat;for(e<0&&(e+=7),j+=e,h=m.getDaysInMonth(x)-e,q=new Date(x.getFullYear(),x.getMonth(),h,D.initHour),D.showToday&&(E=m.clearTime(new Date),a=E<t||E>u||B&&w&&B.test(m.dateFormat(E,w))||G&&-1!==G.indexOf(E.getDay()),D.todayDisabled=a,D.disabled||D.todayBtn.setDisabled(a)),l=function(I,H){var i=d[I],J=[];i.hasAttribute("id")||i.setAttribute("id",D.id+"-cell-"+I),r=+m.clearTime(q,!0),i.firstChild.dateValue=r,i.setAttribute("aria-label",m.format(q,o)),i.removeAttribute("aria-describedby"),i.removeAttribute("data-qtip"),r===y&&(H+=" "+D.todayCls,J.push(D.id+"-todayText")),r===k?(D.activeCell=i,D.eventEl.dom.setAttribute("aria-activedescendant",i.id),i.setAttribute("aria-selected",!0),H+=" "+D.selectedCls,D.fireEvent("highlightitem",D,i)):i.setAttribute("aria-selected",!1),r<t?(H+=" "+F,J.push(D.id+"-ariaMinText"),i.setAttribute("data-qtip",D.minText)):r>u?(H+=" "+F,J.push(D.id+"-ariaMaxText"),i.setAttribute("data-qtip",D.maxText)):G&&-1!==G.indexOf(q.getDay())?(i.setAttribute("data-qtip",A),J.push(D.id+"-ariaDisabledDaysText"),H+=" "+F):B&&w&&(g=m.dateFormat(q,w),B.test(g)&&(i.setAttribute("data-qtip",s.replace("%0",g)),J.push(D.id+"-ariaDisabledDatesText"),H+=" "+F)),J.length&&i.setAttribute("aria-describedby",J.join(" ")),i.className=H+" "+D.cellCls},D.eventEl.dom.setAttribute("aria-busy","true");v<D.numDays;++v)v<e?(n=++h,b=D.prevCls):v>=j?(n=++C,b=D.nextCls):(n=v-e+1,b=D.activeCls),c[v].innerHTML=n,q.setDate(q.getDate()+1),l(v,b);D.eventEl.dom.removeAttribute("aria-busy"),D.monthBtn.setText(Ext.Date.format(z,D.monthYearFormat))},update:function(a,d){var b=this,c=b.activeDate;return b.rendered&&(b.activeDate=a,!d&&c&&b.el&&c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear()?b.selectedUpdate(a,c):b.fullUpdate(a,c)),b},doDestroy:function(){var a=this;a.rendered&&Ext.destroy(a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn,a.todayElSpan),Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var a=this;Ext.Component.prototype.finishRenderChildren.call(this),a.monthBtn.finishRender(),a.showToday&&a.todayBtn.finishRender()},getFocusEl:function(){return this.eventEl},syncDisabled:function(c,b){var e=this,a=e.keyNav,d=e.todayBtn;a&&(a.setDisabled(c),e.prevRepeater.setDisabled(c),e.nextRepeater.setDisabled(c)),b&&d&&d.setDisabled(e.todayDisabled||c)}}},0,["datepicker"],["component","box","datepicker"],{component:!0,box:!0,datepicker:!0},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0),Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:"x-form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,valuePublishEvent:["select","blur"],componentCls:"x-form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var c,a,d=this,b=Ext.isString;c=d.minValue,a=d.maxValue,b(c)&&(d.minValue=d.parseDate(c)),b(a)&&(d.maxValue=d.parseDate(a)),d.disabledDatesRE=null,d.initDisabledDays(),Ext.form.field.Picker.prototype.initComponent.call(this)},getSubTplData:function(b){var d,a,c=this;return d=Ext.form.field.Picker.prototype.getSubTplData.call(this,b),c.ariaStaticRoles[c.ariaRole]||(a=d.ariaElAttributes)&&(a["aria-owns"]=c.id+"-inputEl "+c.id+"-picker-eventEl",a["aria-autocomplete"]="none"),d},initValue:function(){var a=this,b=a.value;Ext.isString(b)?(a.value=a.rawToValue(b),a.rawDate=a.value,a.rawDateText=a.parseDate(a.value)):(a.value=b||null,a.rawDate=a.value,a.rawDateText=a.value?a.parseDate(a.value):""),Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var h,c,b=this.disabledDates,a=b.length-1,g="(?:",e=b.length;for(h=0;h<e;h++)c=b[h],g+=Ext.isDate(c)?"^"+Ext.String.escapeRegex(c.dateFormat(this.format))+"$":c,h!==a&&(g+="|");this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(c){var b=this,a=b.picker;b.disabledDates=c,b.initDisabledDays(),a&&a.setDisabledDates(b.disabledDatesRE)},setDisabledDays:function(b){var a=this.picker;this.disabledDays=b,a&&a.setDisabledDays(b)},setMinValue:function(d){var b=this,a=b.picker,c=Ext.isString(d)?b.parseDate(d):d;b.minValue=c,a&&(a.minText=Ext.String.format(b.minText,b.formatDate(b.minValue)),a.setMinDate(c))},setMaxValue:function(c){var b=this,a=b.picker,d=Ext.isString(c)?b.parseDate(c):c;b.maxValue=d,a&&(a.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue)),a.setMaxDate(d))},getErrors:function(q){q=arguments.length>0?q:this.formatDate(this.processRawValue(this.getRawValue()));var a,b,l,c,j=this,p=Ext.String.format,k=Ext.Date.clearTime,o=Ext.form.field.Picker.prototype.getErrors.call(this,q),n=j.disabledDays,d=j.disabledDatesRE,m=j.minValue,h=j.maxValue,g=n?n.length:0,e=0;if(null===q||q.length<1)return o;if(a=q,!(q=j.parseDate(q)))return o.push(p(j.invalidText,a,Ext.Date.unescapeFormat(j.format))),o;if(c=q.getTime(),m&&c<k(m).getTime()&&o.push(p(j.minText,j.formatDate(m))),h&&c>k(h).getTime()&&o.push(p(j.maxText,j.formatDate(h))),n)for(l=q.getDay();e<g;e++)if(l===n[e]){o.push(j.disabledDaysText);break}return b=j.formatDate(q),d&&d.test(b)&&o.push(p(j.disabledDatesText,b)),o},rawToValue:function(b){var a=this;return b===a.rawDateText?a.rawDate:a.parseDate(b)||b||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},setValue:function(a){var b=this;b.lastValue=b.rawDateText,b.lastDate=b.rawDate,Ext.isDate(a)?(b.rawDate=a,b.rawDateText=b.formatDate(a)):(b.rawDate=b.rawToValue(a),b.rawDateText=b.formatDate(a),b.rawDate===a&&(b.rawDate=null,b.rawDateText="")),Ext.form.field.Picker.prototype.setValue.apply(this,arguments)},checkChange:function(){var c,a,b,d=this;d.suspendCheckChange||(c=d.getRawValue(),a=d.lastValue,b=d.lastDate,!d.destroyed&&d.didValueChange(c,a)&&(d.rawDate=d.rawToValue(c),d.rawDateText=d.formatDate(c),d.lastValue=c,d.lastDate=d.rawDate,d.fireEvent("change",d,d.getValue(),b),d.onChange(c,a)))},safeParse:function(g,h){var d,e=this,c=Ext.Date,a=null,b=e.useStrict;return c.formatContainsHourInfo(h)?a=c.parse(g,h,b):(d=c.parse(g+" "+e.initTime,h+" "+e.initTimeFormat,b))&&(a=c.clearTime(d)),a},getSubmitValue:function(){var b=this.submitFormat||this.format,a=this.rawDate;return a?Ext.Date.format(a,b):""},getValue:function(){return this.rawDate||null},setRawValue:function(b){var a=this;Ext.form.field.Picker.prototype.setRawValue.call(this,b),a.rawDate=Ext.isDate(b)?b:a.rawToValue(b),a.rawDateText=this.formatDate(b)},parseDate:function(e){if(!e||Ext.isDate(e))return e;var a,d=this,h=d.safeParse(e,d.format),b=d.altFormats,g=d.altFormatsArray,c=0;if(!h&&b)for(g=g||b.split("|"),a=g.length;c<a&&!h;++c)h=d.safeParse(e,g[c]);return h},formatDate:function(a,b){return Ext.isDate(a)?Ext.Date.dateFormat(a,b||this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({id:a.id+"-picker",pickerField:a,floating:!0,preventRefocus:!0,hidden:!0,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,ariaDisabledDatesText:a.ariaDisabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,ariaDisabledDaysText:a.ariaDisabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),ariaMinText:b(a.ariaMinText,a.formatDate(a.minValue,a.ariaFormat)),maxText:b(a.maxText,a.formatDate(a.maxValue)),ariaMaxText:b(a.ariaMaxText,a.formatDate(a.maxValue,a.ariaFormat)),listeners:{scope:a,select:a.onSelect,tabout:a.onTabOut},keyNavConfig:{esc:function(){a.inputEl.focus(),a.collapse()}}})},onSelect:function(a,c){var b=this;b.setValue(c),b.rawDate=c,b.fireEvent("select",b,c),b.onTabOut(a)},onTabOut:function(a){this.inputEl.focus(),this.collapse()},onExpand:function(){var a=this.rawDate;this.picker.setValue(Ext.isDate(a)?a:new Date)},onBlur:function(c){var b=this,a=b.rawToValue(b.getRawValue());(""===a||Ext.isDate(a))&&b.setValue(a),Ext.form.field.Picker.prototype.onBlur.call(this,c)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,datefield:!0},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0),Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" role="textbox" aria-readonly="true"',' aria-labelledby="{cmpId}-labelEl" {inputAttrTpl}',' tabindex="<tpl if="tabIdx != null">{tabIdx}<tpl else>-1</tpl>"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:!0,disableFormats:!0}],ariaRole:void 0,focusable:!1,skipLabelForAttribute:!0,readOnly:!0,fieldCls:"x-form-display-field",fieldBodyCls:"x-form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,getValue:function(){return this.value},valueToRaw:function(a){return a||0===a||!1===a?a:""},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;return b=Ext.valueFrom(b,""),a.rawValue=b,a.rendered&&(a.inputEl.dom.innerHTML=a.getDisplayValue(),a.updateLayout()),b},getDisplayValue:function(){var a=this,b=this.getRawValue();return a.renderer?a.renderer.call(a.scope||a,b,a):a.htmlEncode?Ext.util.Format.htmlEncode(b):b},getSubTplData:function(b){var a=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);return a.value=this.getDisplayValue(),a}},0,["displayfield"],["component","box","field","displayfield"],{component:!0,box:!0,field:!0,displayfield:!0},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0),Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["fileInputEl"],inputCls:"x-form-file-input",cls:"x-form-file-btn",preventDefault:!1,tabIndex:void 0,useTabGuards:Ext.isIE||Ext.isEdge,promptCalled:!1,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" unselectable="on" ','<tpl if="accept != null">accept="{accept}"</tpl>','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],keyMap:null,ariaEl:"fileInputEl",getAfterMarkup:function(a){return this.lookupTpl("afterTpl").apply(a)},getTemplateArgs:function(){var a,b=this;return a=Ext.button.Button.prototype.getTemplateArgs.call(this),a.inputCls=b.inputCls,a.inputName=b.inputName||b.id,a.tabIndex=null!=b.tabIndex?b.tabIndex:null,a.accept=b.accept||null,a.role=b.ariaRole,a},afterRender:function(){var b,a,c=this;Ext.button.Button.prototype.afterRender.apply(this,arguments),b={scope:c,mousedown:c.handlePrompt,keydown:c.handlePrompt,change:c.fireChange,focus:c.onFileFocus,blur:c.onFileBlur},c.useTabGuards&&(a={tag:"span",role:"button","aria-hidden":"true","data-tabguard":"true",style:{height:0,width:0}},a.tabIndex=null!=c.tabIndex?c.tabIndex:0,c.beforeInputGuard=c.el.createChild(a,c.fileInputEl),c.afterInputGuard=c.el.createChild(a),c.afterInputGuard.insertAfter(c.fileInputEl),c.beforeInputGuard.on("focus",c.onInputGuardFocus,c),c.afterInputGuard.on("focus",c.onInputGuardFocus,c),b.keydown=c.onFileInputKeydown),c.fileInputEl.on(b)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(c){var a,b,d=this;a=d.fileInputEl=d.el.createChild({name:d.inputName||d.id,id:c?void 0:d.id+"-fileInputEl",
cls:d.inputCls+(d.getInherited().rtl?" x-rtl":""),tag:"input",type:"file",size:1,unselectable:"on"},d.afterInputGuard),a.dom.setAttribute("data-componentid",d.id),null!=d.tabIndex&&d.setTabIndex(d.tabIndex),d.accept&&a.dom.setAttribute("accept",d.accept),b={scope:d,change:d.fireChange,mousedown:d.handlePrompt,keydown:d.handlePrompt,focus:d.onFileFocus,blur:d.onFileBlur},d.useTabGuards&&(b.keydown=d.onFileInputKeydown),a.on(b)},handlePrompt:function(b){var a;"keydown"==b.type?(a=b.getKey(),this.promptCalled=!Ext.isIE&&a===b.ENTER||a===b.SPACE):this.promptCalled=!0},onFileFocus:function(b){var a=this.ownerCt;this.hasFocus||this.onFocus(b),a&&!a.hasFocus&&a.onFocus(b)},onFileBlur:function(b){var a=this.ownerCt;if(this.promptCalled)return this.promptCalled=!1,void b.preventDefault();this.hasFocus&&this.onBlur(b),a&&a.hasFocus&&a.onBlur(b)},onInputGuardFocus:function(a){this.fileInputEl.focus()},onFileInputKeydown:function(c){var b,a=c.getKey();return a===c.TAB?(b=c.shiftKey?this.beforeInputGuard:this.afterInputGuard)&&(b.suspendEvent("focus"),b.focus(),setTimeout(function(){b.resumeEvent("focus")},0)):a!==c.ENTER&&a!==c.SPACE||this.handlePrompt(c),!0},reset:function(a){var b=this;a&&b.fileInputEl.destroy(),b.createFileInput(!a),a&&(b.ariaEl=b.fileInputEl)},restoreInput:function(a){var b=this;b.fileInputEl.destroy(),a=Ext.get(a),b.useTabGuards?a.insertBefore(b.afterInputGuard):b.el.appendChild(a),b.fileInputEl=a},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this),this.fileInputEl.dom.disabled=!0},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this),this.fileInputEl.dom.disabled=!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el},setTabIndex:function(a){var b=this;b.focusable&&(b.tabIndex=a,!b.rendered||b.destroying||b.destroyed||(b.useTabGuards?(b.fileInputEl.dom.setAttribute("tabIndex",-1),b.beforeInputGuard.dom.setAttribute("tabIndex",a),b.afterInputGuard.dom.setAttribute("tabIndex",a)):b.fileInputEl.dom.setAttribute("tabIndex",a)))}}},0,["filebutton"],["component","box","button","filebutton"],{component:!0,box:!0,button:!0,filebutton:!0},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0),Ext.cmd.derive("Ext.form.trigger.Component",Ext.form.trigger.Trigger,{cls:"x-form-trigger-cmp",onFieldRender:function(){var b=this,a=b.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this),a.isComponent||a.isWidget||(a=Ext.widget(a)),b.component=a,a.render(b.el)},destroy:function(){var a=this.component;(a.isComponent||a.isWidget)&&a.destroy(),this.component=null,Ext.form.trigger.Trigger.prototype.destroy.call(this)}},0,0,0,0,["trigger.component"],0,[Ext.form.trigger,"Component"],0),Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Text,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],emptyText:void 0,needArrowKeys:!1,triggers:{filebutton:{type:"component",hideOnReadOnly:!1,preventMouseDown:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:"x-form-file-wrap",inputCls:"x-form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(a){var b=this,c=(a||{}).filebutton;if(c)return c.component=Ext.apply({xtype:"filebutton",ownerCt:b,id:b.id+"-button",ui:b.ui,disabled:b.disabled,tabIndex:b.tabIndex,text:b.buttonText,style:b.buttonOnly?"":b.getButtonMarginProp()+b.buttonMargin+"px",accept:b.accept,inputName:b.getName(),listeners:{scope:b,change:b.onFileChange}},b.buttonConfig),Ext.form.field.Text.prototype.applyTriggers.call(this,a)},getSubTplData:function(a){var b=Ext.form.field.Text.prototype.getSubTplData.call(this,a);return b.tabIdx=-1,b},onRender:function(){var e,c,a,b,d=this;(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments),e=d.inputEl,e.dom.name="",e.on("focus",d.onInputFocus,d),e.on("mousedown",d.onInputMouseDown,d),b=d.getTrigger("filebutton"),c=d.button=b.component,d.fileInputEl=c.fileInputEl,a=c.el,d.buttonOnly&&(d.inputWrap.setDisplayed(!1),d.shrinkWrap=3),b.el.setWidth(a.getWidth()+a.getMargin("lr")),Ext.isIE&&d.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(a,c,b){this.duringFileSelect=!0,Ext.form.field.File.superclass.setValue.call(this,b),delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var b=this,a=b.clearOnSubmit;b.rendered&&(b.button.reset(a),b.fileInputEl=b.button.fileInputEl,a&&(b.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null))),Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this),this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this),this.button.disable()},onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this),this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var a,b=this;return b.rendered?(a=b.button.fileInputEl.dom,b.reset()):(a=document.createElement("input"),a.type="file",a.className="x-hidden-display",a.name=b.getName()),a},restoreInput:function(b){if(this.rendered){var a=this.button;a.restoreInput(b),this.fileInputEl=a.fileInputEl}},doDestroy:function(){this.fileInputEl=this.button=null,Ext.form.field.Text.prototype.doDestroy.call(this)},getButtonMarginProp:function(){return this.getInherited().rtl?"margin-right:":"margin-left:"},onInputFocus:function(b){var a=this;a.selectOnFocus&&document.activeElement===a.inputEl.dom&&a.inputEl.dom.select(),a.focus(),Ext.isIE9m&&(a.fileInputEl.addCls("x-position-relative"),a.fileInputEl.removeCls("x-position-relative"))},onInputMouseDown:function(a){a.preventDefault(),this.focus()},privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}},0,["fileuploadfield","filefield"],["component","box","field","textfield","filefield","fileuploadfield"],{component:!0,box:!0,field:!0,textfield:!0,filefield:!0,fileuploadfield:!0},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0),Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",focusable:!1,inputType:"hidden",isTextInput:!1,hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden",Ext.form.field.Base.prototype.initComponent.call(this)},isEqual:function(b,a){return this.isEqualAsString(b,a)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hiddenfield","hidden"],["component","box","field","hiddenfield","hidden"],{component:!0,box:!0,field:!0,hiddenfield:!0,hidden:!0},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0),Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:"x-tip",focusOnToFront:!1,maskOnDisable:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow},a.self.prototype.floating),Ext.panel.Panel.prototype.initComponent.apply(this,arguments),a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;a.calledFromShowAt=!0,Ext.panel.Panel.prototype.showAt.apply(this,arguments),a.isVisible()&&a.doAlignment(a.getRegion().alignTo({target:new Ext.util.Point(b[0],b[1]),inside:a.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:!0})),a.calledFromShowAt=0},doAlignment:function(d){var b=this,c=b.anchorEl,a=d.anchor;b.setPagePosition([d.x,d.y]),c&&(c.removeCls(b.anchorCls),a?(b.anchorCls="x-tip-anchor-"+a.position,c.addCls(b.anchorCls),c.show(),1&a.align?(c.setTop(d.anchor.y-d.y),c.dom.style.left=""):(c.setLeft(d.anchor.x-d.x),c.dom.style.top="")):c.hide())},privates:{initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(a)}},ghost:void 0,unghost:void 0},0,["tip"],["component","box","container","panel","tip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0),Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,mouseOffset:[15,18],trackMouse:!1,anchorToTarget:!0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:!0,initComponent:function(){var a=this;Ext.tip.Tip.prototype.initComponent.call(this),a.setTarget(a.target),a.currentTarget=new Ext.dom.Fly},onRender:function(b,a){var c=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments),c.anchorEl=c.el.createChild({role:"presentation",cls:"x-tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target)return this.showBy(this.target);Ext.tip.Tip.prototype.show.call(this)},setTarget:function(c){var a,b=this;b.targetListeners&&b.targetListeners.destroy(),c?(b.target=c=Ext.get(c.el||c),a={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:b,destroyable:!0},b.targetListeners=c.on(a)):b.target=null},onMouseMove:function(c){var b=this,a=b.dismissDelay;b.pointerEvent=c,b.isVisible()&&b.currentTarget.contains(c.target)&&(a&&!1!==b.autoHide&&(b.clearTimer("dismiss"),b.dismissTimer=Ext.defer(b.hide,a,b)),b.trackMouse&&b.doAlignment(b.getAlignRegion()))},getAlignRegion:function(){var a,g,d,b=this,e=b.anchorEl,h=b.getAnchorAlign(),c=b.mouseOffset;return b.anchorSize||(e.addCls("x-tip-anchor-top"),e.show(),b.anchorSize=new Ext.util.Offset(e.getWidth(),e.getHeight()),e.removeCls("x-tip-anchor-top"),e.hide()),(b.anchor||b.align)&&b.anchorToTarget&&!b.trackMouse?d=b.currentTarget.getRegion():(d=b.pointerEvent?b.pointerEvent.getPoint().adjust(-c[1],c[0],c[1],-c[0]):new Ext.util.Point,b.anchor||(a=!0,h=c[0]>0?c[1]>0?"tl-br":"bl-tr":c[1]>0?"tr-bl":"br-tl")),g={align:b.convertPositionSpec(h),axisLock:b.axisLock,target:d,overlap:a,offset:b.targetOffset,inside:b.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null},b.anchor&&(g.anchorSize=b.anchorSize),b.getRegion().alignTo(g)},fadeOut:function(){var a=this;a.el.fadeOut({duration:a.fadeOutDuration,callback:function(){a.hide(),a.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(a){this.showOnTap&&"mouse"!==a.pointerType&&this.onTargetOver(a)},onTargetOver:function(g){var h,c=this,b=c.delegate,d=c.currentTarget,i=g.relatedTarget||g.fromElement,a=c.hasListeners;if(!c.disabled){if(b){if(d.contains(g.target))return;if((h=g.getTarget(b))&&Ext.fly(h).contains(g.fromElement))return}else{if(c.target.contains(i))return;h=c.target.dom}h?((a.beforeshow||a.show)&&c.isVisible()&&c.hide(),c.triggerElement=h,c.pointerEvent=g,d.attach(h),c.handleTargetOver(h,g)):d.dom&&c.handleTargetOut()}},handleTargetOver:function(b,a){"mouse"!==a.pointerType?this.showFromDelay():this.delayShow()},delayShow:function(){var a=this;a.clearTimer("hide"),a.hidden&&!a.showTimer?a.delegate&&Ext.Date.getElapsed(a.lastHidden)<a.quickShowInterval?a.showFromDelay():a.showTimer=Ext.defer(a.showFromDelay,"mouse"!==a.pointerEvent.pointerType?0:a.showDelay,a):a.hidden||!1===a.autoHide||a.showFromDelay()},showFromDelay:function(){var a=this;a.disabled||(a.fireEvent("hovertarget",a,a.currentTarget,a.currentTarget.dom),a.isVisible()?a.handleAfterShow():(a.triggerElement=a.currentTarget.dom,a.fromDelayShow=!0,a.show(),a.fromDelayShow=!1))},onTargetOut:function(a){this.currentTarget.dom&&!this.currentTarget.contains(a.relatedTarget)&&this.handleTargetOut()},handleTargetOut:function(){var a=this;a.showTimer&&a.clearTimer("show"),a.isVisible()&&a.autoHide&&a.delayHide()},delayHide:function(){var a=this;a.hidden||a.hideTimer||(a.clearTimer("dismiss"),a.hideTimer=Ext.defer(a[a.hideAction],a.hideDelay,a))},hide:function(){var a=this;a.currentTarget.detach(),a.clearTimer("dismiss"),a.lastHidden=new Date,a.anchorEl&&a.anchorEl.hide(),Ext.tip.Tip.prototype.hide.apply(this,arguments),a.triggerElement=null},afterShow:function(){Ext.tip.Tip.prototype.afterShow.call(this),this.handleAfterShow()},handleAfterShow:function(){var a=this;a.clearTimers(),a.calledFromShowAt||a.doAlignment(a.getAlignRegion()),a.dismissDelay&&!1!==a.autoHide&&(a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a))},showBy:function(a){this.align=this.defaultAlign,this.currentTarget.attach(Ext.getDom(a.el||a)),this.triggerElement=this.currentTarget.dom,this.show()},_timerNames:{},clearTimer:function(a){var b=this,d=b._timerNames,c=d[a]||(d[a]=a+"Timer"),e=b[c];e&&(clearTimeout(e),b[c]=null,"show"===a&&b.isHidden()&&b.currentTarget.detach())},clearTimers:function(){var a=this;a.clearTimer("show"),a.clearTimer("dismiss"),a.clearTimer("hide")},onShow:function(){var a=this;Ext.tip.Tip.prototype.onShow.call(this),a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;Ext.tip.Tip.prototype.onHide.call(this),a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;a.closable||b.within(a.el.dom)||(a.disable(),Ext.defer(a.doEnable,100,a))},doEnable:function(){this.destroyed||this.enable()},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this),this.clearTimers(),this.hide()},doDestroy:function(){var a=this;a.clearTimers(),Ext.getDoc().un("mousedown",a.onDocMouseDown,a),Ext.destroy(a.anchorEl),Ext.tip.Tip.prototype.doDestroy.call(this)},privates:{clipTo:function(b,c){var a;a=b.isRegion?b:(b.isComponent?b.el:Ext.fly(b)).getConstrainRegion(),Ext.tip.Tip.prototype.clipTo.call(this,a,c),this.anchorEl.clipTo(a,c)}}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0),Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:!0,shrinkWrapDock:!0,initComponent:function(){var c=this,b=c.tagConfig;b.attr||(b.attr=b.namespace+b.attribute),c.delegate=Ext.Function.bind(c.delegate,c),c.target=c.target||Ext.getDoc(),c.targets=c.targets||{},Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(a){this.tagConfig=Ext.apply({},a),delete this.tagConfig.attr},text:null,register:function(c){for(var g,b,e,h=Ext.isArray(c)?c:arguments,d=0,a=h.length;d<a;d++)if(c=h[d],g=c.target)if(Ext.isArray(g))for(b=0,e=g.length;b<e;b++)this.targets[Ext.id(g[b])]=c;else this.targets[Ext.id(g)]=c},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.currentTarget;a=Ext.getDom(a),b.isVisible()?c.dom===a&&b.hide():c.dom===a&&b.clearTimer("show")},delegate:function(d){var c=this,b=c.tagConfig,a=b.attr||(b.attr=b.namespace+b.attribute);return!!(d.getAttribute(a)||c.interceptTitles&&d.title)},getTipText:function(d){var c=d.title,b=this.tagConfig,a=b.attr||(b.attr=b.namespace+b.attribute);return this.interceptTitles&&c?(d.setAttribute(a,c),d.removeAttribute("title"),c):d.getAttribute(a)},onTargetOver:function(d){var a,h,b,c=this,g=c.currentTarget,e=d.target;if(e&&1===e.nodeType&&e!==document.documentElement&&e!==document.body){c.pointerEvent=d,a=c.targets;for(b in a)if(a.hasOwnProperty(b)&&(h=a[b],h.target&&Ext.fly(h.target).contains(e)&&!Ext.fly(h.target).contains(d.relatedTarget)))return e=Ext.getDom(h.target),g.attach(e),c.activeTarget=h,h.el=g,c.anchor=h.anchor,void c.activateTarget();Ext.tip.ToolTip.prototype.onTargetOver.call(this,d)}},handleTargetOver:function(i,g){var a,e=this,h=e.currentTarget,c=e.tagConfig,d=c.namespace,b=e.getTipText(i,g);b&&(a=h.getAttribute(d+c.hide),e.activeTarget={el:h,text:b,width:+h.getAttribute(d+c.width)||null,autoHide:"user"!==a&&"false"!==a,title:h.getAttribute(d+c.title),cls:h.getAttribute(d+c.cls),align:h.getAttribute(d+c.align),showDelay:h.getAttribute(d+c.showDelay),hideAction:h.getAttribute(d+c.hideAction),alignTarget:h.getAttribute(d+c.anchorTarget)},e.initialConfig.hasOwnProperty("anchor")||(e.anchor=h.getAttribute(d+c.anchor)),e.anchor&&!e.initialConfig.hasOwnProperty("anchorTarget")&&(e.alignTarget=e.activeTarget.alignTarget||i),e.activateTarget())},activateTarget:function(){var c=this,d=c.activeTarget,b=d.showDelay,a=d.hideAction;c.isVisible()?(c.updateContent(),c.handleAfterShow()):(d.showDelay&&(b=c.showDelay,c.showDelay=parseInt(d.showDelay,10)),c.delayShow(),d.showDelay&&(c.showDelay=b),(a=d.hideAction)?c.hideAction=a:delete c.hideAction)},getAnchorAlign:function(){var a=this.activeTarget;return a&&a.align||Ext.tip.ToolTip.prototype.getAnchorAlign.call(this)},getAlignRegion:function(){var a,c=this,d=c.activeTarget,b=c.currentTarget.dom;return d&&d.alignTarget&&c.anchor&&!c.initialConfig.hasOwnProperty("anchorTarget")&&c.currentTarget.attach(Ext.getDom(d.alignTarget)),c.anchorToTarget=!(!d.align&&!c.anchor),a=Ext.tip.ToolTip.prototype.getAlignRegion.call(this),c.currentTarget.attach(b),a},handleTargetOut:function(g){var c=this,d=c.activeTarget,a=c.autoHide,b=c.hideDelay;d&&!1!==a&&(c.autoHide=!0,d.hideDelay&&(c.hideDelay=parseInt(d.hideDelay,10)),Ext.tip.ToolTip.prototype.handleTargetOut.call(this,g),c.autoHide=a,c.hideDelay=b)},targetTextEmpty:function(){var b,c=this,d=c.activeTarget,a=c.tagConfig;return!(!d||!(b=d.el)||b.getAttribute(a.namespace+a.attribute)||c.targets[Ext.id(d.el.dom)])},show:function(){var b=this;if(b.fromDelayShow&&b.targetTextEmpty())return b.activeTarget=null,void b.currentTarget.detach();Ext.tip.ToolTip.prototype.show.apply(this,arguments)},beforeShow:function(){this.updateContent(),Ext.tip.ToolTip.prototype.beforeShow.apply(this,arguments)},updateContent:function(){var b,a,c=this,d=c.activeTarget,e=c.header;d&&(c.suspendLayouts(),d.title?(c.setTitle(d.title),e.show()):e&&e.hide(),c.update(d.text),c.autoHide=d.autoHide,b=d.dismissDelay,c.dismissDelay=Ext.isNumber(b)?b:c.dismissDelay,a=c.lastCls,a&&(c.removeCls(a),delete c.lastCls),a=d.cls,a&&(c.addCls(a),c.lastCls=a),c.setWidth(d.width),c.align=d.align,c.resumeLayouts(!0))},hide:function(){this.activeTarget=null,Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0,quicktip:!0},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0),Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,b){var d=this;if(!d.tip){if(!Ext.isReady)return Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(e,b)}),!1;var a=Ext.apply({disabled:d.disabled,id:"ext-quicktips-tip"},b),c=a.className,g=a.xtype;c?delete a.className:g&&(c="widget."+g,delete a.xtype),!1!==e&&(a.renderTo=document.body),d.tip=Ext.create(c||"Ext.tip.QuickTip",a),d.tip.destroy=Ext.emptyFn,Ext.quickTipsActive=!0}},destroy:function(){var a=this.tip;a&&(delete a.destroy,a.destroy(),this.tip=null),Ext.quickTipsActive=!1},ddDisable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.disable()},ddEnable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.enable()},enable:function(){var a=this,b=a.tip;b&&b.enable(),a.disabled=!1},disable:function(){var a=this,b=a.tip;b&&b.disable(),a.disabled=!0},isEnabled:function(){var a=this.tip;return void 0!==a&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0),Ext.cmd.derive("Ext.picker.Color",Ext.Component,{alternateClassName:"Ext.ColorPalette",focusable:!0,componentCls:"x-color-picker",selectedCls:"x-color-picker-selected",itemCls:"x-color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;Ext.Component.prototype.initComponent.apply(this,arguments),a.handler&&a.on("select",a.handler,a.scope,!0)},initRenderData:function(){var a=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var b=this,a=b.clickEvent;Ext.Component.prototype.onRender.apply(this,arguments),b.mon(b.el,a,b.handleClick,b,{delegate:"a"}),"click"!==a&&b.mon(b.el,"click",Ext.emptyFn,b,{delegate:"a",stopEvent:!0})},afterRender:function(){var b,a=this;Ext.Component.prototype.afterRender.apply(this,arguments),a.value&&(b=a.value,a.value=null,a.select(b,!0))},handleClick:function(c){var a,b=this;c.stopEvent(),b.disabled||(a=c.currentTarget.className.match(b.colorRe)[1],b.select(a.toUpperCase()))},select:function(b,a){var c,d,e=this,h=e.selectedCls,g=e.value;if(b=b.replace("#",""),!e.rendered)return void(e.value=b);(b!==g||e.allowReselect)&&(c=e.el,e.value&&(d=c.down("a.color-"+g,!0),Ext.fly(d).removeCls(h)),d=c.down("a.color-"+b,!0),Ext.fly(d).addCls(h),e.value=b,!0!==a&&e.fireEvent("select",e,b))},clear:function(){var a,b=this,c=b.value;c&&b.rendered&&(a=b.el.down("a.color-"+c,!0),Ext.fly(a).removeCls(b.selectedCls)),b.value=null},getValue:function(){return this.value||null}},0,["colorpicker"],["component","box","colorpicker"],{component:!0,box:!0,colorpicker:!0},["widget.colorpicker"],0,[Ext.picker,"Color",Ext,"ColorPalette"],0),Ext.cmd.derive("Ext.layout.component.field.HtmlEditor",Ext.layout.component.field.FieldContainer,{type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(b){var c,a=this.owner;Ext.isGecko&&(c=a.textareaEl.dom,this.lastValue=c.value,c.value=""),Ext.layout.component.field.FieldContainer.prototype.beginLayout.apply(this,arguments),b.toolbarContext=b.context.getCmp(a.toolbar),b.inputCmpContext=b.context.getCmp(a.inputCmp),b.bodyCellContext=b.getEl("bodyEl"),b.textAreaContext=b.getEl("textareaEl"),b.iframeContext=b.getEl("iframeEl")},beginLayoutCycle:function(i){var h=this,d=i.widthModel,c=i.heightModel,b=h.owner,g=b.iframeEl,e=b.textareaEl,a=c.natural||c.shrinkWrap?h.naturalHeight:"";Ext.layout.component.field.FieldContainer.prototype.beginLayoutCycle.apply(this,arguments),d.shrinkWrap?(g.setStyle("width",""),e.setStyle("width","")):d.natural&&i.bodyCellContext.setWidth(h.naturalWidth),g.setStyle("height",a),e.setStyle("height",a)},finishedLayout:function(){var a=this.owner;Ext.layout.component.field.FieldContainer.prototype.finishedLayout.apply(this,arguments),Ext.isGecko&&(a.textareaEl.dom.value=this.lastValue)}},0,0,0,0,["layout.htmleditor"],0,[Ext.layout.component.field,"HtmlEditor"],0),Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:!0,box:!0,tbitem:!0,tbseparator:!0},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0),Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="x-toolbar-no-items" role="menuitem">(None)</div>',menuCls:"x-box-menu",constructor:function(a){var b=this;Ext.layout.container.boxOverflow.None.prototype.constructor.call(this,a),b.menuItems=[]},beginLayout:function(a){Ext.layout.container.boxOverflow.None.prototype.beginLayout.call(this,a),this.clearOverflow(a)},beginLayoutCycle:function(b,a){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.call(this,b,a),a||(this.clearOverflow(b),this.layout.cacheChildItems(b))},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},clearItem:function(a){var b=a.menu;a.isButton&&b&&a.setMenu(b,!1)},getSuffixConfig:function(){var d=this,c=d.layout,a=c.owner,b=a.id;return d.menu=new Ext.menu.Menu({listeners:{scope:d,beforeshow:d.beforeMenuShow}}),d.menuTrigger=new Ext.button.Button({id:b+"-menu-trigger",cls:d.menuCls+"-after x-toolbar-item",plain:a.usePlainButtons,ownerCt:a,ownerLayout:c,iconCls:"x-"+d.getOwnerType(a)+"-more-icon",ui:a.defaultButtonUI||"default",menu:d.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),d.menuTrigger.getRenderTree()},getOverflowCls:function(a){return this.menuCls+"-body-"+a},handleOverflow:function(c){var b=this,a=b.layout;return b.showTrigger(c),"vertical"!==a.direction&&b.menuTrigger.setLocalY((c.state.boxPlan.maxSize-b.menuTrigger[a.names.getHeight]())/2),{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,c=a.menuTrigger,b=a.layout.names;c.rendering&&(c.finishRender(),a.triggerTotalWidth=c[b.getWidth]()+c.el.getMargin(b.parallelMargins))},clearOverflow:function(h){var d,c,g=this,b=g.menuItems,e=b.length,a=g.layout.owner,j=a._asLayoutRoot;for(a.suspendLayouts(),g.captureChildElements(),g.hideTrigger(),a.resumeLayouts(),c=0;c<e;c++)d=b[c],d.suspendLayouts(),d.show(),g.clearItem(d),d.resumeLayouts(j);b.length=0},showTrigger:function(d){var r,k,e,n,m,p=this,l=p.layout,b=l.owner,o=l.names,s=o.x,g=o.width,q=d.state.boxPlan,c=q.targetSize[g],j=d.childItems,h=p.menuTrigger,a=p.menuItems;for(h.suspendLayouts(),h.show(),h.resumeLayouts(p._asLayoutRoot),c-=p.triggerTotalWidth,b.suspendLayouts(),e=0,m=a.length;e<m;++e)p.clearItem(a[e]);for(a.length=0,e=0,m=j.length;e<m;e++)r=j[e],n=r.props,n[s]+n[g]>c&&(k=r.target,p.menuItems.push(k),k.hide());b.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(j){var g,e,h=this,b=h.menuItems,d=0,a=b.length,c=function(k,i){return k.isXType("buttongroup")&&!(i instanceof Ext.toolbar.Separator)};for(j.suspendLayouts(),j.removeAll(!1);d<a;d++)g=b[d],!d&&g instanceof Ext.toolbar.Separator||(e&&(c(g,e)||c(e,g))&&j.add("-"),h.addComponentToMenu(j,g),e=g);j.items.length<1&&j.add(h.noItemsMenuText),j.resumeLayouts()},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;return Ext.copy(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.applyIf(b,{hideOnClick:a,destroyMenu:!1,listeners:null}),b.text=c.overflowText||c.text,b.masterComponent=c,c.isFormField?(b.value=c.getValue(),c instanceof Ext.form.field.Checkbox&&(b={xtype:"menucheckitem",group:c.isRadio?c.name+"_clone":void 0,text:c.boxLabel||c.fieldLabel,name:c.name,masterComponent:c,checked:c.getValue(),hideOnClick:!1,checkChangeDisabled:!0}),b.listeners={change:function(h,g,e){h.masterComponent.setValue(g)}},c.on("change",function(h,g,e){h.overflowClone.setValue(g)})):(d||c.enableToggle)&&Ext.apply(b,{hideOnClick:!1,group:d,checked:c.pressed,handler:function(g,h){g.masterComponent.onClick(h)}}),c.isButton&&!c.changeListenersAdded&&(c.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),c.changeListenersAdded=!0),c.on({enable:this.onComponentStatusChange,disable:this.onComponentStatusChange}),delete b.margin,delete b.ownerCt,delete b.xtype,delete b.id,delete b.itemId,b},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts(),b.setText(a.text),b.setIcon(a.icon),b.setIconCls(a.iconCls),b.resumeLayouts(!0)},onButtonToggle:function(a,b){a.overflowClone.checked!==b&&a.overflowClone.setChecked(b)},onComponentStatusChange:function(a){var b=a.overflowClone;b&&b.setDisabled(a.disabled)},addComponentToMenu:function(g,c){var d,b,a,e=this;if(!(c instanceof Ext.toolbar.Fill))if(c instanceof Ext.toolbar.Separator)g.add("-");else if(c.overflowClone)g.add(c.overflowClone);else if(c.isComponent)if(c.isXType("splitbutton"))c.overflowClone=g.add(e.createMenuConfig(c,!0));else if(c.isXType("button"))c.overflowClone=g.add(e.createMenuConfig(c,!c.menu));else if(c.isXType("buttongroup"))for(b=c.items.items,a=b.length,d=0;d<a;d++)e.addComponentToMenu(g,b[d]);else c instanceof Ext.form.field.Checkbox?(c.overflowClone=g.add(e.createMenuConfig(c)),Ext.apply(c.overflowClone,{getValue:function(){return c.overflowClone.checked},setValue:function(){c.overflowClone.setChecked(c.getValue())}}),c.overflowClone.on("click",function(h){h.setChecked(!0),h.fireEvent("change",h,h.checked)})):c.overflowClone=g.add(Ext.create(Ext.getClassName(c),e.createMenuConfig(c)))},destroy:function(){Ext.destroy(this.menu,this.menuTrigger),this.callParent()}},1,0,0,0,["box.overflow.Menu","box.overflow.menu"],0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0),Ext.cmd.derive("Ext.form.field.HtmlEditor",Ext.form.FieldContainer,{alternateClassName:"Ext.form.HtmlEditor",focusable:!0,componentLayout:"htmleditor",textareaCls:"x-htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:"x-html-editor-wrap",defaultButtonUI:"default-toolbar",buttonDefaults:null,initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:"x-html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){var a=this;a.items=[a.createToolbar(),a.createInputCmp()],a.layout={type:"vbox",align:"stretch"},null==a.value&&(a.value=""),Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments),a.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var a=this,c=a.id+"-inputCmp",b={id:c,name:a.name,textareaCls:a.textareaCls+" x-hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:"x-htmleditor-iframe"};return a.getInsertionRenderData(b,a.subTplInsertions),{flex:1,xtype:"component",tpl:a.lookupTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:c,cls:"x-html-editor-input",data:b}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){
function c(l,i,k){return Ext.merge({itemId:l,cls:d+"btn-icon",iconCls:d+"edit-"+l,enableToggle:!1!==i,scope:h,handler:k||h.relayBtnCmd,clickEvent:"mousedown",tooltip:a?h.buttonTips[l]:g,overflowText:h.buttonTips[l].title||g,tabIndex:-1},h.buttonDefaults)}var e,j,g,h=this,b=[],a=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),d="x-";for(h.enableFont&&!Ext.isSafari2&&(j=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+d+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){h.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var i=this.selectEl;i&&(i.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var i=this.selectEl;i&&(i.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){h.win.focus(),h.relayCmd("fontName",h.fontSelect.dom.value),h.deferFocus()},element:"selectEl"}}),b.push(j,"-")),h.enableFormat&&b.push(c("bold"),c("italic"),c("underline")),h.enableFontSize&&b.push("-",c("increasefontsize",!1,h.adjustFont),c("decreasefontsize",!1,h.adjustFont)),h.enableColors&&b.push("-",Ext.merge({itemId:"forecolor",cls:d+"btn-icon",iconCls:d+"edit-forecolor",overflowText:h.buttonTips.forecolor.title,tooltip:a?h.buttonTips.forecolor||g:g,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(k,i){h.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+i:i),this.up("menu").hide()}}]})},h.buttonDefaults),Ext.merge({itemId:"backcolor",cls:d+"btn-icon",iconCls:d+"edit-backcolor",overflowText:h.buttonTips.backcolor.title,tooltip:a?h.buttonTips.backcolor||g:g,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(k,i){Ext.isGecko?(h.execCmd("useCSS",!1),h.execCmd("hilitecolor","#"+i),h.execCmd("useCSS",!0),h.deferFocus()):h.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+i:i),this.up("menu").hide()}}]})},h.buttonDefaults)),h.enableAlignments&&b.push("-",c("justifyleft"),c("justifycenter"),c("justifyright")),Ext.isSafari2||(h.enableLinks&&b.push("-",c("createlink",!1,h.createLink)),h.enableLists&&b.push("-",c("insertorderedlist"),c("insertunorderedlist")),h.enableSourceEdit&&b.push("-",c("sourceedit",!0,function(){h.toggleSourceEdit(!h.sourceEditMode)}))),e=0;e<b.length;e++)"sourceedit"!==b[e].itemId&&(b[e].disabled=!0);return{xtype:"toolbar",defaultButtonUI:h.defaultButtonUI,cls:"x-html-editor-tb",enableOverflow:!0,items:b,listeners:{click:function(i){i.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var a,d=this,c=d.textareaEl,b=d.iframeEl;d.readOnly=e,c&&(c.dom.readOnly=e),d.initialized&&(a=d.getEditorBody(),Ext.isIE?(b.setDisplayed(!1),a.contentEditable=!e,b.setDisplayed(!0)):d.setDesignMode(!e),a&&(a.style.cursor=e?"default":"text"),d.disableItems(e))},getDocMarkup:function(){var b=this,a=b.iframeEl.getHeight()-2*b.iframePad;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera||Ext.isIE?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(b.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",b.iframePad,a,b.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var j,b,k,e,d,g,c,h=this,a=0;if(!h.defaultFont){for(b=h.textareaEl.getStyle("font-family"),b=Ext.String.capitalize(b.split(",")[0]),j=Ext.Array.clone(h.fontFamilies),Ext.Array.include(j,b),j.sort(),h.defaultFont=b,k=h.down("#fontSelect").selectEl.dom,d=0,g=j.length;d<g;++d)b=j[d],c=b.toLowerCase(),e=new Option(b,c),b===h.defaultFont&&(a=d),e.style.fontFamily=c,Ext.isIE?k.add(e):k.options.add(e);k.options[a].selected=!0}},isEqual:function(b,a){return this.isEqualAsString(b,a)},afterRender:function(){var b=this,a=b.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments),b.iframeEl=a.iframeEl,b.textareaEl=a.textareaEl,b.inputEl=b.iframeEl,b.enableFont&&b.initDefaultFont(),b.monitorTask=Ext.TaskManager.start({run:b.checkDesignMode,scope:b,interval:100})},initFrameDoc:function(){var c,a,b=this;Ext.TaskManager.stop(b.monitorTask),c=b.getDoc(),b.win=b.getWin(),c.open(),c.write(b.getDocMarkup()),c.close(),a={run:function(){var d=b.getDoc();(d.body||"complete"===d.readyState)&&(Ext.TaskManager.stop(a),b.setDesignMode(!0),Ext.defer(b.initEditor,10,b))},interval:10,duration:1e4,scope:b},Ext.TaskManager.start(a)},checkDesignMode:function(){var a=this,b=a.getDoc();!b||b.editorInitialized&&"on"===a.getDesignMode()||a.initFrameDoc()},setDesignMode:function(c){var a=this,b=a.getDoc();b&&(a.readOnly&&(c=!1),b.designMode=/on|true/i.test(String(c).toLowerCase())?"on":"off")},getDesignMode:function(){var a=this.getDoc();return a?String(a.designMode).toLowerCase():""},disableItems:function(d){var c,e,b=this.getToolbar().items.items,a=b.length;for(c=0;c<a;c++)e=b[c],"sourceedit"!==e.getItemId()&&e.setDisabled(d)},toggleSourceEdit:function(b){var g=this,d=g.iframeEl,a=g.textareaEl,e="x-hidden",c=g.getToolbar().getComponent("sourceedit");Ext.isBoolean(b)||(b=!g.sourceEditMode),g.sourceEditMode=b,c.pressed!==b&&c.toggle(b),b?(g.disableItems(!0),g.syncValue(),d.addCls(e),a.removeCls(e),a.dom.removeAttribute("tabIndex"),a.focus(),g.inputEl=a):(g.initialized&&g.disableItems(g.readOnly),g.pushValue(),d.removeCls(e),a.addCls(e),a.dom.setAttribute("tabIndex",-1),g.deferFocus(),g.inputEl=d),g.fireEvent("editmodechange",g,b),g.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!==a&&this.relayCmd("createlink",a)},clearInvalid:Ext.emptyFn,setValue:function(c){var b=this,a=b.textareaEl;return null!==c&&void 0!==c||(c=""),b.value!==c&&(a&&(a.dom.value=c),b.pushValue(),!b.rendered&&b.inputCmp&&(b.inputCmp.data.value=c),b.mixins.field.setValue.call(b,c)),b},cleanHtml:function(a){return a=String(a),Ext.isWebKit&&(a=a.replace(this.safariNonsenseRE,"")),a.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)&&(a=a.substring(1)),a},syncValue:function(){var b,h,d,a,c,e,g=this;g.initialized&&(b=g.getEditorBody(),d=b.innerHTML,e=g.textareaEl.dom,Ext.isWebKit&&(a=b.getAttribute("style"),(c=a.match(g.textAlignRE))&&c[1]&&(d='<div style="'+c[0]+'">'+d+"</div>")),d=g.cleanHtml(d),!1!==g.fireEvent("beforesync",g,d)&&(Ext.isGecko&&""===e.value&&"<br>"===d&&(d=""),e.value!==d&&(e.value=d,h=!0),g.fireEvent("sync",g,d),h&&g.checkChange()))},getValue:function(){var b,a=this;return a.sourceEditMode||a.syncValue(),b=a.rendered?a.textareaEl.dom.value:a.value,a.value=b,b},pushValue:function(){var a,b=this;b.initialized&&(a=b.textareaEl.dom.value||"",!b.activated&&a.length<1&&(a=b.defaultValue),!1!==b.fireEvent("beforepush",b,a)&&(b.getEditorBody().innerHTML=a,Ext.isGecko&&(b.setDesignMode(!1),b.setDesignMode(!0)),b.fireEvent("push",b,a)))},focus:function(d,b){var e,a,c=this;return b?(c.focusTask||(c.focusTask=new Ext.util.DelayedTask(c.focus)),c.focusTask.delay(Ext.isNumber(b)?b:10,null,c,[d,!1])):(d&&(c.textareaEl&&c.textareaEl.dom&&(e=c.textareaEl.dom.value),e&&e.length&&c.execCmd("selectall",!0)),(a=c.getFocusEl())&&a.focus&&a.focus()),c},initEditor:function(){var c,a,h,i,b,d=this;if(!d.destroying&&!d.destroyed){if(!(c=d.getEditorBody()))return void setTimeout(function(){d.initEditor()},10);if(a=d.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]),a["background-attachment"]="fixed",c.bgProperties="fixed",Ext.DomHelper.applyStyles(c,a),h=d.getDoc(),i=Ext.get(h)){try{i.clearListeners()}catch(g){}b=d.onEditorEvent.bind(d),i.on({mousedown:b,dblclick:b,click:b,keyup:b,delegated:!1,buffer:100}),b=d.onRelayedEvent,i.on({mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,delegated:!1,scope:d}),Ext.isGecko&&i.on("keypress",d.applyCommand,d),d.fixKeys&&i.on("keydown",d.fixKeys,d,{delegated:!1}),d.fixKeysAfter&&i.on("keyup",d.fixKeysAfter,d,{delegated:!1}),Ext.isIE9&&Ext.get(h.documentElement).on("focus",d.focus,d),Ext.isIE8&&(i.on("focusout",function(){d.savedSelection="None"!==h.selection.type?h.selection.createRange():null},d),i.on("focusin",function(){d.savedSelection&&d.savedSelection.select()},d)),Ext.getWin().on("unload",d.destroyEditor,d),h.editorInitialized=!0,d.initialized=!0,d.pushValue(),d.setReadOnly(d.readOnly),d.fireEvent("initialize",d)}}},destroyEditor:function(){var c,g,a=this,d=a.monitorTask;if(d&&Ext.TaskManager.stop(d),a.rendered){if(Ext.getWin().un("unload",a.destroyEditor,a),(c=a.getDoc())&&(Ext.get(c).destroy(),c.hasOwnProperty))for(g in c)try{c.hasOwnProperty(g)&&delete c[g]}catch(b){}delete a.iframeEl,delete a.textareaEl,delete a.toolbar,delete a.inputCmp}},doDestroy:function(){this.destroyEditor(),Ext.form.FieldContainer.prototype.doDestroy.call(this)},onRelayedEvent:function(c){var b=this.iframeEl,d=Ext.fly(b).getTrueXY(),e=c.getXY(),a=c.getXY();c.xy=[d[0]+a[0],d[1]+a[1]],c.injectEvent(b),c.xy=e},onFirstFocus:function(){var b,a,c=this;if(c.activated=!0,c.disableItems(c.readOnly),Ext.isGecko){c.win.focus(),b=c.win.getSelection(),b.focusNode&&!c.getValue().length&&(a=b.getRangeAt(0),a.selectNodeContents(c.getEditorBody()),a.collapse(!0),c.deferFocus());try{c.execCmd("useCSS",!0),c.execCmd("styleWithCSS",!1)}catch(d){}}c.fireEvent("activate",c)},adjustFont:function(d){var b,e="increasefontsize"===d.getItemId()?1:-1,c=this.getDoc().queryCommandValue("FontSize")||"2",a=Ext.isString(c)&&-1!==c.indexOf("px");c=parseInt(c,10),a?(c=c<=10?1+e:c<=13?2+e:c<=16?3+e:c<=18?4+e:c<=24?5+e:6+e,c=Ext.Number.constrain(c,1,6)):(b=Ext.isSafari,b&&(e*=2),c=Math.max(1,c+e)+(b?"px":0)),this.relayCmd("FontSize",c)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function m(){var i;for(e=0,c=arguments.length,b;e<c;e++){b=arguments[e];try{i=k.queryCommandState(b)}catch(l){i=!1}d[b].toggle(i)}}var e,c,d,k,b,g,a,h,j=this;if(!j.readOnly){if(!j.activated)return void j.onFirstFocus();for(d=j.getToolbar().items.map,k=j.getDoc(),j.enableFont&&!Ext.isSafari2&&(g=k.queryCommandValue("fontName"),b=(g?g.split(",")[0].replace(j.reStripQuotes,""):j.defaultFont).toLowerCase(),a=j.fontSelect.dom,b===a.value&&b===g||(a.value=b)),j.enableFormat&&m("bold","italic","underline"),j.enableAlignments&&m("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&j.enableLists&&m("insertorderedlist","insertunorderedlist"),h=j.toolbar.query("menu"),e=0;e<h.length;e++)h[e].hide();j.syncValue()}},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){Ext.defer(function(){var c=this;this.destroyed||(c.win.focus(),c.execCmd(b,a),c.updateToolbar())},10,this)},execCmd:function(c,b){var a=this;a.getDoc().execCommand(c,!1,void 0===b?null:b),a.syncValue()},applyCommand:function(d){if(d.ctrlKey){var b,a=this,g=d.getCharCode();if(g>0){switch(g=String.fromCharCode(g)){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline"}b&&(a.win.focus(),a.execCmd(b),a.deferFocus(),d.preventDefault())}}},insertAtCursor:function(k){var c,g,d,l,e,b,i=this,h=i.getWin(),j=i.getDoc();if(i.activated){if(h.focus(),h.getSelection){if(c=h.getSelection(),c.getRangeAt&&c.rangeCount){for(g=c.getRangeAt(0),g.deleteContents(),d=j.createElement("div"),d.innerHTML=k,l=j.createDocumentFragment();e=d.firstChild;)b=l.appendChild(e);l.firstChild,g.insertNode(l),b&&(g=g.cloneRange(),g.setStartAfter(b),g.collapse(!0),c.removeAllRanges(),c.addRange(g))}}else j.selection&&"Control"!==c.type&&(c=j.selection,g=c.createRange(),g.collapse(!0),c.createRange().pasteHTML(k));i.deferFocus()}},fixKeys:function(){return Ext.isIE10m?function(i){var b,d=this,c=i.getKey(),h=d.getDoc(),j=d.readOnly;c===i.TAB&&(i.stopEvent(),j||(b=h.selection.createRange())&&(b.collapse&&(b.collapse(!0),b.pasteHTML("&#160;&#160;&#160;&#160;")),d.deferFocus()))}:Ext.isOpera?function(d){var c=this,b=d.getKey(),g=c.readOnly;b===d.TAB&&(d.stopEvent(),g||(c.win.focus(),c.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),c.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(d){var g,b=this,a=d.getKey(),c=b.getDoc();b.readOnly||a!==d.BACKSPACE&&a!==d.DELETE||"<p>&nbsp;</p>"!==(g=c.body.innerHTML)&&"<P>&nbsp;</P>"!==g||(c.body.innerHTML="")}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}},0,["htmleditor"],["component","box","container","fieldcontainer","htmleditor"],{component:!0,box:!0,container:!0,fieldcontainer:!0,htmleditor:!0},["widget.htmleditor"],[["field",Ext.form.field.Field]],[Ext.form.field,"HtmlEditor",Ext.form,"HtmlEditor"],0),Ext.cmd.derive("Ext.view.TagKeyNav",Ext.view.BoundListKeyNav,{onKeySpace:function(c){var a=this,b=a.view.pickerField;return!b.isExpanded||""!==b.inputEl.dom.value||(b.preventKeyUpEvent=!0,a.navigateOnSpace=!0,Ext.view.BoundListKeyNav.prototype.onKeySpace.call(this,c),c.stopEvent(),!1)}},0,0,0,0,["view.navigation.tagfield"],0,[Ext.view,"TagKeyNav"],0),Ext.cmd.derive("Ext.form.field.Tag",Ext.form.field.ComboBox,{noWrap:!1,multiSelect:!0,delimiter:",",tipTpl:void 0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,filterPickList:!1,clearOnBackspace:!0,grow:!0,growMin:!1,growMax:!1,simulatePlaceholder:!0,selectOnFocus:!0,ariaHelpText:"Use Up and Down arrows to view available values, Enter to select. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaHelpTextEditable:"Use Up and Down arrows to view available values, Enter to select. Type and press Enter to create a new value. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaSelectedText:"Selected {0}.",ariaDeselectedText:"{0} removed from selection.",ariaNoneSelectedText:"No value selected.",ariaSelectedListLabel:"Selected values",ariaAvailableListLabel:"Available values",fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper"'+(Ext.isGecko?' tabindex="-1"':""),'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',' class="x-tagfield {fieldCls} {typeCls} {typeCls}-{ui}"<tpl if="wrapperStyle"> style="{wrapperStyle}"</tpl>>','<span id="{cmpId}-selectedText" data-ref="selectedText" aria-hidden="true" class="x-hidden-clip"></span>','<ul id="{cmpId}-itemList" data-ref="itemList" role="presentation" class="x-tagfield-list{itemListCls}">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" role="presentation" class="x-tagfield-input">','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>','class="x-tagfield-input-field {inputElCls} {emptyCls}" autocomplete="off">',"</li>","</ul>",'<ul id="{cmpId}-ariaList" data-ref="ariaList" role="listbox"','<tpl if="ariaSelectedListLabel"> aria-label="{ariaSelectedListLabel}"</tpl>','<tpl if="multiSelect"> aria-multiselectable="true"</tpl>',' class="x-tagfield-arialist">',"</ul>","</div>",{disableFormats:!0}],postSubTpl:['<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{cmpId}-inputEl" class="{placeholderCoverCls} {placeholderCoverCls}-{ui} {emptyCls}">{emptyText}</label>',"</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],extraFieldBodyCls:"x-tagfield-body",childEls:["listWrapper","itemList","inputEl","inputElCt","selectedText","ariaList"],clearValueOnEmpty:!1,ariaSelectable:!0,ariaEl:"listWrapper",tagItemCls:"x-tagfield-item",tagItemTextCls:"x-tagfield-item-text",tagItemCloseCls:"x-tagfield-item-close",tagItemSelector:".x-tagfield-item",tagItemCloseSelector:".x-tagfield-item-close",tagSelectedCls:"x-tagfield-item-selected",initComponent:function(){var c=this,b=c.typeAhead,a=c.delimiter;(c.createNewOnEnter||c.createNewOnBlur)&&(c.forceSelection=!1),c.typeAhead=!1,null==c.value&&(c.value=[]),c.selectionModel=new Ext.selection.Model({mode:"MULTI",onSelectChange:function(d,g,e,h){h()},listeners:{scope:c,selectionchange:c.onSelectionChange,focuschange:c.onFocusChange}}),c.ariaHelp||(c.ariaHelp=c.createNewOnEnter?c.ariaHelpTextEditable:c.ariaHelpText),Ext.form.field.ComboBox.prototype.initComponent.call(this),c.typeAhead=b,a&&c.multiSelect&&(c.delimiterRegexp=new RegExp(Ext.String.escapeRegex(a)))},initEvents:function(){var a=this,b=a.inputEl;Ext.form.field.ComboBox.prototype.initEvents.apply(this,arguments),a.enableKeyEvents||(b.on("keydown",a.onKeyDown,a),b.on("keyup",a.onKeyUp,a)),a.listWrapper.on({scope:a,click:a.onItemListClick,mousedown:a.onItemMouseDown})},createPicker:function(){var a,b=this;return a=Ext.apply({navigationModel:"tagfield"},b.defaultListConfig),b.ariaAvailableListLabel&&(a.ariaRenderAttributes={"aria-label":Ext.String.htmlEncode(b.ariaAvailableListLabel)}),b.defaultListConfig=a,Ext.form.field.ComboBox.prototype.createPicker.call(this)},isValid:function(){var b=this,a=b.disabled;return b.forceValidation||!a?b.validateValue(b.getValue()):a},onBindStore:function(a){var b=this;Ext.form.field.ComboBox.prototype.onBindStore.call(this,a),a&&(b.valueStore=new Ext.data.Store({model:a.getModel(),proxy:"memory",useModelWarning:!1}),b.selectionModel.bindStore(b.valueStore),b.filterPickList&&(b.listFilter=new Ext.util.Filter({scope:b,filterFn:b.filterPicked}),b.changingFilters=!0,a.filter(b.listFilter),b.changingFilters=!1))},filterPicked:function(a){return!this.valueCollection.contains(a)},onUnbindStore:function(a){var c=this,d=c.valueStore,b=c.picker;b&&b.bindStore(null),d&&(d.destroy(),c.valueStore=null),c.filterPickList&&!a.destroyed&&(c.changingFilters=!0,a.removeFilter(c.listFilter),c.changingFilters=!1),Ext.form.field.ComboBox.prototype.onUnbindStore.apply(this,arguments)},clearInput:function(){var b,c=this,d=c.getValueRecords(),a=c.inputEl&&c.inputEl.dom.value;if(d.length&&a){if(b=d[d.length-1].get(c.displayField),!Ext.String.startsWith(b,a,!0))return;c.inputEl.dom.value="","local"==c.queryMode&&(c.clearLocalFilter(),c.getPicker().refresh())}},onValueCollectionEndUpdate:function(){var a=this,c=a.valueCollection.items,b=a.valueStore;a.isSelectionUpdating()||(a.filterPickList&&(a.changingFilters=!0,a.store.filter(a.listFilter),a.changingFilters=!1),Ext.form.field.ComboBox.prototype.onValueCollectionEndUpdate.call(this),Ext.suspendLayouts(),b&&(b.suspendEvents(),b.loadRecords(c),b.resumeEvents()),a.refreshEmptyText(),a.clearInput(),Ext.resumeLayouts(!0),a.alignPicker())},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(a,e){var b,c=this,d=c.inputEl;c.applyMultiselectItemMarkup(),c.applyAriaListMarkup(),c.applyAriaSelectedText(),d&&(0===e.length?d.dom.removeAttribute("aria-activedescendant"):(b=c.getAriaListNode(e[0]))&&d.dom.setAttribute("aria-activedescendant",b.id)),c.fireEvent("valueselectionchange",c,e)},onFocusChange:function(a,d,b){var c=this;Ext.form.field.ComboBox.prototype.onFocusChange.call(this,a,d,b),c.fireEvent("valuefocuschange",c,d,b)},getAriaListNode:function(a){var b,c=this.ariaList;return c&&a&&(b=c.selectNode('[data-recordid="'+a.internalId+'"]')),b},doDestroy:function(){Ext.destroy(this.selectionModel),Ext.form.field.ComboBox.prototype.doDestroy.call(this)},getSubTplData:function(d){var i,j=this,b=j.id,h=Ext.form.field.ComboBox.prototype.getSubTplData.apply(this,arguments),e=j.emptyText,g=e&&h.value.length<1,k=j.growMin,a=j.growMax,c="";return h.value="",h.emptyText=g?e:"",h.itemListCls="",h.emptyCls=g?j.emptyUICls:"",j.grow?(Ext.isNumber(k)&&k>0&&(c+="min-height:"+k+"px;"),Ext.isNumber(a)&&a>0&&(c+="max-height:"+a+"px;")):c+="max-height: 1px;",h.wrapperStyle=c,!0===j.stacked&&(h.itemListCls+=" x-tagfield-stacked"),j.multiSelect||(h.itemListCls+=" x-tagfield-singleselect"),j.ariaStaticRoles[j.ariaRole]||(h.multiSelect=j.multiSelect,h.ariaSelectedListLabel=Ext.String.htmlEncode(j.ariaSelectedListLabel),i=h.ariaElAttributes,i&&(i["aria-owns"]=b+"-inputEl "+b+"-picker "+b+"-ariaList"),(i=h.inputElAriaAttributes)&&(i.role="textbox",i["aria-describedby"]=b+"-selectedText "+(i["aria-describedby"]||""))),h},afterRender:function(){var b=this,c=b.inputEl;b.emptyText&&Ext.supports.Placeholder&&c&&c.dom.removeAttribute("placeholder"),b.applyMultiselectItemMarkup(),b.applyAriaListMarkup(),b.applyAriaSelectedText(),Ext.form.field.ComboBox.prototype.afterRender.apply(this,arguments),b.emptyClsElements.push(b.listWrapper,b.placeholderLabel)},findRecord:function(c,b){var a=this.getStore().queryRecords(c,b);return!!a.length&&a[0]},getCursorPosition:function(){var a;return document.selection?(a=document.selection.createRange(),a.collapse(!0),a.moveStart("character",-this.inputEl.dom.value.length),a=a.text.length):a=this.inputEl.dom.selectionStart,a},hasSelectedText:function(){var b,a,c=this.inputEl.dom;return document.selection?(b=document.selection,a=b.createRange(),a.parentElement()===c):c.selectionStart!==c.selectionEnd},onKeyDown:function(k){var m,n,b,q,g,j,l=this,p=k.getKey(),o=l.inputEl,d=o&&o.dom.value,a=l.valueCollection,h=l.selectionModel,c=!1;if(!(l.destroyed||l.readOnly||l.disabled)&&l.editable){if((m=a.getCount())>0&&""===d)if(n=h.getCount()>0?a.indexOf(h.getLastSelected()):-1,p===k.BACKSPACE&&l.clearOnBackspace||p===k.DELETE&&n>-1){if(n>-1){for(h.getCount()>1&&(n=-1),b=h.getSelection(),q=[],g=0,j=b.length;g<j;g++)q.push(b[g].get(l.displayField));q=q.join(", ")}else b=a.last(),q=b.get(l.displayField);a.remove(b),q&&(l.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(l.ariaDeselectedText,q)),h.clearSelections(),n===m-1?h.select(a.last()):n>-1?h.select(n):a.getCount()&&h.select(a.last()),c=!0}else p===k.RIGHT||p===k.LEFT?-1===n&&p===k.LEFT?(h.select(a.last()),c=!0):n>-1&&(p===k.RIGHT?n<m-1?(h.select(n+1,k.shiftKey),c=!0):k.shiftKey||(h.deselectAll(),c=!0):p===k.LEFT&&n>0&&(h.select(n-1,k.shiftKey),c=!0)):p===k.A&&k.ctrlKey&&(h.selectAll(),c=k.A);if(c)return l.preventKeyUpEvent=c,void k.stopEvent();l.isExpanded&&p===k.ENTER&&l.picker.highlightedItem&&(l.preventKeyUpEvent=!0),l.enableKeyEvents&&Ext.form.field.ComboBox.prototype.onKeyDown.apply(this,arguments),k.isSpecialKey()||k.hasModifier()||h.deselectAll()}},onKeyUp:function(h,b){var c=this,g=c.inputEl,d=g.dom.value,a=c.preventKeyUpEvent;if(c.preventKeyUpEvent)return h.stopEvent(),void(!0!==a&&h.getKey()!==a||delete c.preventKeyUpEvent);(c.multiSelect&&c.delimiterRegexp&&c.delimiterRegexp.test(d)||c.createNewOnEnter&&h.getKey()===h.ENTER)&&(c.createNewOnEnter&&d&&(c.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(c.ariaSelectedText,d)),d=Ext.Array.clean(d.split(c.delimiterRegexp)),g.dom.value="",c.setValue(c.valueStore.getRange().concat(d)),g.focus()),Ext.form.field.ComboBox.prototype.onKeyUp.call(this,h,b)},onEsc:function(c){var b=this,a=b.selectionModel,d=b.isExpanded;Ext.form.field.ComboBox.prototype.onEsc.call(this,c),!d&&a.getCount()>0&&a.deselectAll(),c.stopEvent()},onTypeAhead:function(){var g,a,h,e=this,d=e.displayField,c=e.inputEl.dom,b=e.getStore().findRecord(d,c.value);b&&(g=b.get(d),a=g.length,0!==(h=c.value.length)&&h!==a&&(e.lastMutatedValue=g,c.value=g,e.selectText(h,g.length)))},onItemListClick:function(d){var c=this,a=c.selectionModel,b=d.getTarget(c.tagItemSelector),g=!!b&&d.getTarget(c.tagItemCloseSelector);c.readOnly||c.disabled||(d.stopPropagation(),b?(g?(c.removeByListItemNode(b),c.valueStore.getCount()>0&&c.fireEvent("select",c,c.valueStore.getRange())):c.toggleSelectionByListItemNode(b,d.shiftKey),Ext.supports.TouchEvents||c.inputEl.focus()):(a.getCount()>0&&a.deselectAll(),c.inputEl.focus(),c.triggerOnClick&&c.onTriggerClick()))},onItemMouseDown:function(a){a.preventDefault()},getMultiSelectItemMarkup:function(){var b=this,a=b._getChildElCls&&b._getChildElCls()||"";return b.multiSelectItemTpl||(b.labelTpl||(b.labelTpl="{"+b.displayField+"}"),b.labelTpl=b.lookupTpl("labelTpl"),b.tipTpl&&(b.tipTpl=b.lookupTpl("tipTpl")),b.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li data-selectionIndex="{[xindex - 1]}" data-recordId="{internalId}" role="presentation" class="'+b.tagItemCls+a,'<tpl if="this.isSelected(values)">'," "+b.tagSelectedCls,"</tpl>","{%","values = values.data;","%}",b.tipTpl?'" data-qtip="{[this.getTip(values)]}">':'">','<div role="presentation" class="'+b.tagItemTextCls+'">{[this.getItemLabel(values)]}</div>','<div role="presentation" class="'+b.tagItemCloseCls+a+'"></div>',"</li>","</tpl>",{isSelected:function(c){return b.selectionModel.isSelected(c)},getItemLabel:function(c){return Ext.String.htmlEncode(b.labelTpl.apply(c))},getTip:function(c){return Ext.String.htmlEncode(b.tipTpl.apply(c))},strict:!0}])),b.multiSelectItemTpl.isTemplate||(b.multiSelectItemTpl=this.lookupTpl("multiSelectItemTpl")),b.multiSelectItemTpl.apply(b.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var b=this,a=b.itemList;a&&(a.select(".x-tagfield-item").destroy(),b.inputElCt.insertHtml("beforeBegin",b.getMultiSelectItemMarkup()),b.autoSize())},getAriaListMarkup:function(){var a,c=this;return c.ariaListItemTpl||(c.ariaListItemTpl=new Ext.XTemplate(['<tpl for=".">','<li id="'+c.id+'-{internalId}" role="option"',' class="x-tagfield-arialist-item"',' aria-selected="{[this.isPicked(values)]}"','  data-recordId="{internalId}"',">","{[this.getItemLabel(values.data)]}","</li>","</tpl>",{isPicked:function(d){return c.filterPicked(d)?"false":"true"},isSelected:function(d){return c.selectionModel.isSelected(d)?"true":"false"},getItemLabel:function(d){return Ext.String.htmlEncode(c.labelTpl.apply(d))},strict:!0}])),c.ariaListItemTpl.isTemplate||(c.ariaListtemTpl=c.lookupTpl("ariaListItemTpl")),a=c.valueCollection.getRange(),c.ariaListItemTpl.apply(a)},applyAriaListMarkup:function(){var a=this,b=a.ariaList;b&&(b.select("*").destroy(),b.insertHtml("afterBegin",a.getAriaListMarkup()))},getAriaSelectedText:function(a){var b=this;return b.ariaSelectedItemTpl||(b.ariaSelectedItemTpl=new Ext.XTemplate(['<tpl for="." between=", ">',"{[this.getItemLabel(values.data)]}","</tpl>",{getItemLabel:function(c){return Ext.String.htmlEncode(b.labelTpl.apply(c))},strict:!0}])),b.ariaSelectedItemTpl.isTemplate||(b.ariaSelectedItemTpl=b.lookupTpl("ariaSelectedItemTpl")),Ext.String.format(b.ariaSelectedText,b.ariaSelectedItemTpl.apply(a))},applyAriaSelectedText:function(){var a,c,b=this,d=b.selectedText;d&&(a=b.valueCollection.getRange(),c=a.length?b.getAriaSelectedText(a):b.ariaNoneSelectedText,d.dom.innerHTML=Ext.String.htmlEncode(c))},getRecordByListItemNode:function(a){return this.valueCollection.items[Number(a.getAttribute("data-selectionIndex"))]},toggleSelectionByListItemNode:function(b,d){var c=this,e=c.getRecordByListItemNode(b),a=c.selectionModel;e&&(a.isSelected(e)?a.deselect(e):a.select(e,d))},removeByListItemNode:function(a){var b=this,c=b.getRecordByListItemNode(a);c&&b.pickerSelectionModel.deselect(c)},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){var d,a,e=this,c=e.getValueRecords(),b=[];for(d=0,a=c.length;d<a;d++)b.push(c[d].data[e.displayField]);return b.join(",")},setRawValue:function(a){},removeValue:function(h){var a,c,e,g=this,b=g.valueCollection,d=[];if(h){for(h=Ext.Array.from(h),c=0,a=h.length;c<a;++c)e=h[c],e.isModel||(e=b.byValue.get(e)),e&&d.push(e);g.valueCollection.beginUpdate(),g.pickerSelectionModel.deselect(d),g.valueCollection.endUpdate()}},setValue:function(o,l,d){var e,s,r,p,c,t,n,u=this,h=u.valueStore,a=u.valueField,k=[],j=u.store,q=u.autoLoadOnValue,g=j.getCount()>0||j.isLoaded(),b=j.hasPendingLoad(),m=q&&!g&&!b;if(Ext.isEmpty(o)?(o=null,n=!0):o=Ext.isString(o)&&u.multiSelect?o.split(u.delimiter):Ext.Array.from(o,!0),!n&&"remote"===u.queryMode&&!j.isEmptyStore&&!0!==d&&m){for(r=0,s=o.length;r<s;r++)(e=o[r])&&e.isModel||(p=h.findExact(a,e),p>-1?o[r]=h.getAt(p):(p=u.findRecord(a,e),p||(u.forceSelection?k.push(e):(p={},p[u.valueField]=e,p[u.displayField]=e,c=u.valueStore.getModel(),p=new c(p))),p&&(o[r]=p)));if(k.length)return t={},t[u.valueParam||u.valueField]=k.join(u.delimiter),j.load({params:t,callback:function(){u.setValue(o,l,!0),u.autoSize(),u.lastQuery=!1}}),!1}if(!n&&!u.multiSelect&&o.length>0){for(r=o.length-1;r>=0;r--)if(o[r].isModel){o=o[r];break}Ext.isArray(o)&&(o=o[o.length-1])}return Ext.form.field.ComboBox.prototype.setValue.call(this,o,l)},updateValue:function(){var b,d=this,c=d.valueCollection.getRange(),a=c.length;for(b=0;b<a;b++)c[b]=c[b].get(d.valueField);d.setHiddenValue(c),d.value=d.multiSelect?c:c[0],Ext.isDefined(d.value)||(d.value=void 0),d.applyMultiselectItemMarkup(),d.applyAriaListMarkup(),d.applyAriaSelectedText(),d.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var a=this,b=Ext.form.field.ComboBox.prototype.getSubmitData.apply(this,arguments);return a.multiSelect&&a.encodeSubmitValue&&b&&b[a.name]&&(b[a.name]=Ext.encode(b[a.name])),b},assertValue:function(){var a=this,c=a.inputEl.dom.value,d=!Ext.isEmpty(c)&&a.findRecordByDisplay(c),b=!1;d||a.forceSelection||!a.createNewOnBlur||Ext.isEmpty(c)?d&&(b=d):b=c,b&&a.addValue(b),a.inputEl.dom.value="",a.collapse(),a.refreshEmptyText()},isEqual:function(j,h){var d,a,g,e,b=Ext.Array.from,c=this.valueField;if(j=b(j),h=b(h),(a=j.length)!==h.length)return!1;for(d=0;d<a;d++)if(g=j[d].isModel?j[d].get(c):j[d],e=h[d].isModel?h[d].get(c):h[d],g!==e)return!1;return!0},onFocus:function(){var c=this,b=c.focusCls,a=c.itemList;b&&a&&a.addCls(b),Ext.form.field.ComboBox.prototype.onFocus.apply(this,arguments)},onBlur:function(){var c=this,b=c.focusCls,a=c.itemList;b&&a&&a.removeCls(b),Ext.form.field.ComboBox.prototype.onBlur.apply(this,arguments)},renderActiveError:function(){var d=this,c=d.invalidCls,b=d.itemList,a=d.hasActiveError();c&&b&&b[a?"addCls":"removeCls"](d.invalidCls+"-field"),Ext.form.field.ComboBox.prototype.renderActiveError.apply(this,arguments)},autoSize:function(){var a=this
;return a.grow&&a.rendered&&(a.autoSizing=!0,a.updateLayout()),a},afterComponentLayout:function(){var a,b=this;b.autoSizing&&(a=b.getHeight())!==b.lastInputHeight&&(b.isExpanded&&b.alignPicker(),b.fireEvent("autosize",b,a),b.lastInputHeight=a,b.autoSizing=!1)}},0,["tagfield"],["component","box","field","textfield","pickerfield","combobox","combo","tagfield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0,tagfield:!0},["widget.tagfield"],0,[Ext.form.field,"Tag"],0),Ext.cmd.derive("Ext.picker.Time",Ext.view.BoundList,{config:{store:!0},statics:{createStore:function(h,c){for(var b=Ext.Date,d=b.clearTime,g=this.prototype.initDate,i=[],e=d(new Date(g[0],g[1],g[2])),a=b.add(d(new Date(g[0],g[1],g[2])),"mi",1439);e<=a;)i.push({disp:b.dateFormat(e,h),date:e}),e=b.add(e,"mi",c);return new Ext.data.Store({model:Ext.picker.Time.prototype.modelType,data:i})}},increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:"x-timepicker",alignOnScroll:!1,loadMask:!1,initComponent:function(){var c=this,a=Ext.Date,b=a.clearTime,d=c.initDate;c.absMin=b(new Date(d[0],d[1],d[2])),c.absMax=a.add(b(new Date(d[0],d[1],d[2])),"mi",1439),c.updateList(),Ext.view.BoundList.prototype.initComponent.call(this)},setStore:function(a){this.store=!0===a?Ext.picker.Time.createStore(this.format,this.increment):a},setMinValue:function(a){this.minValue=a,this.updateList()},setMaxValue:function(a){this.maxValue=a,this.updateList()},normalizeDate:function(a){var b=this.initDate;return a.setFullYear(b[0],b[1],b[2]),a},updateList:function(){var e=this,b=e.normalizeDate(e.minValue||e.absMin),a=e.normalizeDate(e.maxValue||e.absMax),d=e.getStore().getFilters(),c=e.rangeFilter;d.beginUpdate(),c&&d.remove(c),c=e.rangeFilter=new Ext.util.Filter({filterFn:function(g){var h=g.get("date");return h>=b&&h<=a}}),d.add(c),d.endUpdate()}},0,["timepicker"],["component","box","dataview","boundlist","timepicker"],{component:!0,box:!0,dataview:!0,boundlist:!0,timepicker:!0},["widget.timepicker"],0,[Ext.picker,"Time"],function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})}),Ext.cmd.derive("Ext.form.field.Time",Ext.form.field.ComboBox,{alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:"x-form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",formatText:"Expected time format HH:MM space AM or PM",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var c=this,b=c.minValue,a=c.maxValue;b&&c.setMinValue(b),a&&c.setMaxValue(a),c.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+c.displayField+'"])]}<tpl if="xindex < xcount">'+c.delimiter+"</tpl></tpl>",{formatDate:c.formatDate.bind(c)}),c.store=Ext.picker.Time.createStore(c.format,c.increment),Ext.form.field.ComboBox.prototype.initComponent.call(this),c.getPicker()},afterQuery:function(a){var b=this;Ext.form.field.ComboBox.prototype.afterQuery.call(this,a),null===b.value&&b.getRawValue()&&b.validateOnChange&&b.validate()},isEqual:function(g,e){var c,a,b=Ext.Array.from,d=Ext.Date.isEqual;if(g=b(g),e=b(e),(a=g.length)!==e.length)return!1;for(c=0;c<a;c++)if(!(e[c]instanceof Date&&g[c]instanceof Date&&d(e[c],g[c])))return!1;return!0},setMinValue:function(c){var b=this,a=b.picker;b.setLimit(c,!0),a&&a.setMinValue(b.minValue)},setMaxValue:function(c){var b=this,a=b.picker;b.setLimit(c,!1),a&&a.setMaxValue(b.maxValue)},setLimit:function(b,g){var e,c,a=this;Ext.isString(b)?e=a.parseDate(b):Ext.isDate(b)&&(e=b),e?(c=a.getInitDate(),c.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):c=null,a[g?"minValue":"maxValue"]=c},getInitDate:function(a,b,d){var c=this.initDateParts;return new Date(c[0],c[1],c[2],a||0,b||0,d||0,0)},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(l){l=arguments.length>0?l:this.getRawValue();var b,d,a,n,g=this,k=Ext.String.format,j=Ext.form.field.ComboBox.prototype.getErrors.call(this,l),h=g.minValue,e=g.maxValue,c=g.displayTplData,m=g.getRawValue();if(c&&c.length>0)for(b=0,d=c.length;b<d;b++)n=c[b],n=n.date||n.disp,(a=g.parseDate(n))||j.push(k(g.invalidText,n,Ext.Date.unescapeFormat(g.format)));else m.length&&((a=g.parseDate(m))||j.push(k(g.invalidText,m,Ext.Date.unescapeFormat(g.format))));return j.length||(h&&a<h&&j.push(k(g.minText,g.formatDate(h))),e&&a>e&&j.push(k(g.maxText,g.formatDate(e)))),j},formatDate:function(b){var c,a,d=[];for(b=Ext.Array.from(b),c=0,a=b.length;c<a;c++)d.push(Ext.form.field.Date.prototype.formatDate.call(this,b[c]));return d.join(this.delimiter)},parseDate:function(e){var a,d=this,h=e,b=d.altFormats,g=d.altFormatsArray,c=0;if(e&&!Ext.isDate(e)&&!(h=d.safeParse(e,d.format))&&b)for(g=g||b.split("|"),a=g.length;c<a&&!h;++c)h=d.safeParse(e,g[c]);return h&&d.snapToIncrement&&(h=new Date(Ext.Number.snap(h.getTime(),60*d.increment*1e3))),h},safeParse:function(e,g){var c,d=this,b=Ext.Date,a=null;return b.formatContainsDateInfo(g)?a=b.parse(e,g):(c=b.parse(d.initDate+" "+e,d.initDateFormat+" "+g))&&(a=c),a},getSubmitValue:function(){var a=this,c=a.submitFormat||a.format,b=a.getValue();return b?Ext.Date.format(b,c):null},createPicker:function(){var a=this;return a.listConfig=Ext.apply({xtype:"timepicker",pickerField:a,cls:void 0,minValue:a.minValue,maxValue:a.maxValue,increment:a.increment,format:a.format,maxHeight:a.pickerMaxHeight},a.listConfig),Ext.form.field.ComboBox.prototype.createPicker.call(this)},completeEdit:function(){var a=this,b=a.getValue();Ext.form.field.ComboBox.prototype.completeEdit.apply(this,arguments),a.validateValue(b)&&a.setValue(b)},findRecordByValue:function(a){return"string"==typeof a&&(a=this.parseDate(a)),Ext.form.field.ComboBox.prototype.findRecordByValue.call(this,a)},rawToValue:function(g){var c,b,d,a,e=this;if(e.multiSelect){for(b=[],c=Ext.Array.from(g),d=0,a=c.length;d<a;d++)b.push(e.parseDate(c[d]));return b}return e.parseDate(g)},setValue:function(a){var b=this;if(!b.creatingPicker)return b.getPicker(),Ext.isDate(a)&&(a=b.getInitDate(a.getHours(),a.getMinutes(),a.getSeconds())),Ext.form.field.ComboBox.prototype.setValue.call(this,a)},getValue:function(){return this.rawToValue(Ext.form.field.ComboBox.prototype.getValue.apply(this,arguments))}},0,["timefield"],["component","box","field","textfield","pickerfield","combobox","combo","timefield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0,timefield:!0},["widget.timefield"],0,[Ext.form.field,"Time",Ext.form,"TimeField",Ext.form,"Time"],0),Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:"x-form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){}},onClassExtended:function(){this.warnDeprecated()},constructor:function(a){this.self.warnDeprecated(),Ext.form.field.Text.prototype.constructor.call(this,a)}},1,["triggerfield","trigger"],["component","box","field","textfield","triggerfield","trigger"],{component:!0,box:!0,field:!0,textfield:!0,triggerfield:!0,trigger:!0},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0),Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:!0,generation:0,constructor:function(a){this.view=a},setPosition:function(c,a){var b=this;if(1===arguments.length)if(c.length)a=c[0],c=c[1];else{if(c.isCellContext)return b.setAll(c.view,c.rowIdx,c.colIdx,c.record,c.column);c.view&&(b.view=c.view),a=c.column,c=c.row}return b.setRow(c),b.setColumn(a),b},setAll:function(b,c,d,a,g){var e=this;return e.view=b,e.rowIdx=c,e.colIdx=d,e.record=a,e.column=g,e.generation++,e},setRow:function(e){var b,c=this,d=c.view.dataSource,a=c.record;return void 0!==e&&("number"==typeof e?(b=d.getCount(),e=e<0?Math.max(b+e,0):Math.max(Math.min(e,b-1),0),c.rowIdx=e,c.record=d.getAt(e)):e.isModel?(c.record=e,c.rowIdx=d.indexOf(e)):(e.tagName||e.isElement)&&(c.record=c.view.getRecord(e),c.rowIdx=d.indexOf(c.record))),c.record!==a&&c.generation++,c},setColumn:function(a){var d=this,c=d.view.getVisibleColumnManager(),b=d.column;return void 0!==a&&("number"==typeof a?(d.colIdx=a,d.column=c.getHeaderAtIndex(a)):a.isHeader&&(d.column=a,d.colIdx=c.indexOf(a))),d.column!==b&&d.generation++,d},getCell:function(a){return this.view.getCellByPosition(this,a)},getRow:function(b){var a=this.view.getRow(this.record);return b?a:Ext.get(a)},getNode:function(b){var a=this.view.getNode(this.record);return b?a:Ext.get(a)},isEqual:function(a){return a&&a.isCellContext&&a.record===this.record&&a.column===this.column},clone:function(){var b=this,a=new b.self(b.view);return a.rowIdx=b.rowIdx,a.colIdx=b.colIdx,a.record=b.record,a.column=b.column,a},privates:{isFirstColumn:function(){var a=this.getCell(!0);if(a)return!a.previousSibling},isLastColumn:function(){var a=this.getCell(!0);if(a)return!a.nextSibling},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var a=this.getRow(!0);return a?a.lastChild.cellIndex:-1},refresh:function(){var b=this,c=b.view.dataSource.indexOf(b.record),a=b.view.getVisibleColumnManager().indexOf(b.column);b.setRow(-1===c?b.rowIdx:b.record),b.setColumn(-1===a?b.colIdx:b.column)},navigate:function(c){var b=this,a=b.view.getVisibleColumnManager().getColumns();switch(c){case-1:do{b.colIdx?b.colIdx--:b.colIdx=a.length-1,b.setColumn(b.colIdx)}while(!b.getCell(!0));break;case 1:do{b.colIdx>=a.length?b.colIdx=0:b.colIdx++,b.setColumn(b.colIdx)}while(!b.getCell(!0))}}},statics:{compare:function(b,a){return b.rowIdx-a.rowIdx||b.colIdx-a.colIdx}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0),Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{isCellEditor:!0,alignment:"l-l!",hideEl:!1,cls:"x-small-editor x-grid-editor x-grid-cell-editor",treeNodeSelector:".x-tree-node-text",shim:!1,shadow:!1,floating:!0,alignOnScroll:!1,useBoundValue:!1,focusLeaveAction:"completeEdit",setGrid:function(a){this.grid=a},startEdit:function(b,c,a){this.context=this.editingPlugin.context,Ext.Editor.prototype.startEdit.call(this,b,c,a)},onShow:function(){var a=this,b=a.boundEl.down(a.context.view.innerSelector);b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.hide()),Ext.Editor.prototype.onShow.apply(this,arguments)},onFocusEnter:function(){var c=this,b=c.context,a=b.view;b.node=a.getNode(b.record),b.row=a.getRow(b.record),b.cell=b.getCell(!0),b.rowIdx=a.indexOf(b.row),c.realign(!0),Ext.Editor.prototype.onFocusEnter.apply(this,arguments),c.focusEnterEvent=null},onFocusLeave:function(d){var b=this,a=b.context.view,c=Ext.fly(d.relatedTarget);if(!1===b[b.focusLeaveAction]())return void d.event.stopEvent();delete b.focusLeaveAction,a.destroyed||!a.el.contains(c)||c.isAncestor(d.target)&&c!==a.el||c.up(a.getCellSelector(),a.el)||b.context.grid.setActionableMode(!1,a.actionPosition),b.cacheElement(),Ext.container.Container.prototype.onFocusLeave.apply(b,arguments)},completeEdit:function(a){var c=this,b=c.context;if(c.editing&&(b.value=c.field.value,!1===c.editingPlugin.validateEdit(b)))return b.cancel&&(b.value=c.originalValue,c.editingPlugin.cancelEdit()),!!b.cancel;Ext.Editor.prototype.completeEdit.call(this,a)},onEditComplete:function(b,a){var c,e=this,d=Ext.Element.getActiveElement();e.editing=!1,c=e.boundEl=e.context.getCell(),c&&(e.restoreCell(),c.contains(d)&&c.dom!==d&&c.focus()),Ext.Editor.prototype.onEditComplete.apply(this,arguments),a?e.editingPlugin.cancelEdit(e):e.editingPlugin.onEditComplete(e,e.getValue(),e.startValue)},cacheElement:function(){this.editing||this.destroyed||Ext.getDetachedBody().dom.appendChild(this.el.dom)},onHide:function(){Ext.Editor.superclass.onHide.apply(this,arguments)},onSpecialKey:function(i,h,d){var g=this,c=h.getKey(),b=g.completeOnEnter&&c===h.ENTER&&(!d||!d.fromBoundList),e=g.cancelOnEsc&&c===h.ESC,a=g.editingPlugin.view;(b||e)&&(h.stopEvent(),e&&(g.focusLeaveAction="cancelEdit"),a.ownerGrid.setActionableMode(!1))},getRefOwner:function(){return this.column&&this.column.getView()},restoreCell:function(){var a=this,b=a.boundEl.down(a.context.view.innerSelector);b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.show())},afterRender:function(){var a=this,b=a.field;Ext.Editor.prototype.afterRender.apply(this,arguments),b.isCheckbox&&b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(d){var i,j=this,g=j.boundEl,h=g.down(j.context.view.innerSelector),l=h.dom.firstChild,b=g.getWidth(),c=Ext.Array.clone(j.offsets),a=j.grid,k="",e=!l||3===l.nodeType&&!Ext.String.trim(k=l.data).length;j.isForTree&&(i=j.getTreeNodeOffset(h),b-=Math.abs(i),c[0]+=i),a.columnLines&&(b-=g.getBorderWidth("rl")),!0===d&&j.field.setWidth(b),e&&(h.dom.innerHTML="X"),j.alignTo(g,j.alignment,c),e&&(h.dom.firstChild.data=k)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]}},0,0,["component","box","container","editor"],{component:!0,box:!0,container:!0,editor:!0},0,0,[Ext.grid,"CellEditor"],0),Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:!0,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(a){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments),a.titleContext=a.getEl("titleEl")},beginLayoutCycle:function(c){var b=this,a=b.owner,d=c.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments),d&&a.el.setWidth(""),a.textContainerEl[d&&!a.isGroupHeader?"addCls":"removeCls"](b.columnAutoCls),a.titleEl.setStyle(b._paddingReset)},publishInnerHeight:function(d,c){var e,b=this,a=b.owner;if(a.getRootHeaderCt().hiddenHeaders)return void d.setProp("innerHeight",0);if(!d.hasRawContent){if(a.headerWrap&&!d.hasDomProp("width"))return void(b.done=!1);e=c-d.getBorderInfo().height,d.setProp("innerHeight",e-a.titleEl.getHeight(),!1)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(d,c){var b=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),a=this.owner;return d.hasRawContent?b:!a.headerWrap||d.hasDomProp("width")?c+a.titleEl.getHeight()+d.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(g,b){var a=this.owner,e=g.getPaddingInfo().width,d=this.getTriggerOffset(a,g);return(a.isGroupHeader?b:Math.max(b,a.textEl.getWidth()+g.titleContext.getPaddingInfo().width))+e+d},getTriggerOffset:function(a,c){var b=0;return c.widthModel.shrinkWrap&&!a.menuDisabled&&0===a.query(">:not([hidden])").length&&(b=a.getTriggerElWidth()),b}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0),Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:!0,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(b,c){var a=c||this.owner.getSizeModel(),d=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(k,g){var s,b,p,r,e,a,j,n,q,d,t=this,u=t.lastHeightModel&&t.lastHeightModel.calculated,h=t.lastWidthModel&&t.lastWidthModel.calculated,o=h||u,l=0,m=0;for(Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments),o&&"TD"!==k.targetContext.el.dom.tagName.toUpperCase()&&(o=h=u=!1),b=k.childItems,e=b.length,p=0;p<e;++p)r=b[p],g&&(s=r.target,j=s.minHeight,((n=s.minWidth)||j)&&(a=r.marginInfo||r.getMarginInfo(),j+=a.height,n+=a.height,l<j&&(l=j),m<n&&(m=n))),o&&(q=r.el.dom.style,u&&(q.height=""),h&&(q.width=""));g&&(k.maxChildMinHeight=l,k.maxChildMinWidth=m),s=k.target,k.overflowX=!k.widthModel.shrinkWrap&&k.maxChildMinWidth&&s.scrollFlags.x||d,k.overflowY=!k.heightModel.shrinkWrap&&k.maxChildMinHeight&&s.scrollFlags.y||d},calculate:function(g){var n,b,p,j,a,q,o=this,l=g.childItems,d=l.length,c=o.getContainerSize(g),e={length:d,ownerContext:g,targetSize:c},r=g.widthModel.shrinkWrap,m=g.heightModel.shrinkWrap,k=g.overflowX,h=g.overflowY;if(g.state.info=e,(k||h)&&(n=o.getScrollbarsNeeded(k&&c.width,h&&c.height,g.maxChildMinWidth,g.maxChildMinHeight))&&(b=Ext.getScrollbarSize(),1&n&&(c.height-=b.height),2&n&&(c.width-=b.width)),d>0)for(j=0;j<d;++j)e.index=j,o.fitItem(l[j],e);else e.contentWidth=e.contentHeight=0;(m||r)&&(p=g.targetContext.getPaddingInfo(),r&&(h&&!c.gotHeight?o.done=!1:(a=e.contentWidth+p.width,2&n&&(a+=b.width),g.setContentWidth(a)||(o.done=!1))),m&&(k&&!c.gotWidth?o.done=!1:(q=e.contentHeight+p.height,1&n&&(q+=b.height),g.setContentHeight(q)||(o.done=!1))))},fitItem:function(b,c){var a=this;if(b.invalid)return void(a.done=!1);c.margins=b.getMarginInfo(),c.needed=c.got=0,a.fitItemWidth(b,c),a.fitItemHeight(b,c),c.got!==c.needed&&(a.done=!1)},fitItemWidth:function(c,d){var a,b;if(d.ownerContext.widthModel.shrinkWrap)b=c.getProp("width")+d.margins.width,a=d.contentWidth,d.contentWidth=void 0===a?b:Math.max(a,b);else if(c.widthModel.calculated){if(++d.needed,!d.targetSize.gotWidth)return;++d.got,this.setItemWidth(c,d)}this.positionItemX(c,d)},fitItemHeight:function(c,d){var b,a;if(d.ownerContext.heightModel.shrinkWrap)a=c.getProp("height")+d.margins.height,b=d.contentHeight,d.contentHeight=void 0===b?a:Math.max(b,a);else if(c.heightModel.calculated){if(++d.needed,!d.targetSize.gotHeight)return;++d.got,this.setItemHeight(c,d)}this.positionItemY(c,d)},positionItemX:function(a,c){var b=c.margins;(c.index||b.left)&&a.setProp("x",b.left),b.width&&c.ownerContext.widthModel.shrinkWrap&&a.setProp("margin-right",b.width)},positionItemY:function(a,c){var b=c.margins;(c.index||b.top)&&a.setProp("y",b.top),b.height&&c.ownerContext.heightModel.shrinkWrap&&a.setProp("margin-bottom",b.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0),Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",actionableModeCls:"x-grid-actionable",noHeaderBordersCls:"x-no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:!1,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:!0,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:!0,constructor:function(c){var b,d=this,a=c&&c.ownerGrid;d.ownerGrid=a||d,d.actionables=a?a.actionables:[],Ext.panel.Panel.prototype.constructor.call(this,c),b=d.store,b.trackStateChanges=!0,d.autoLoad&&(b.isEmptyStore||b.load())},registerActionable:function(a){Ext.Array.include(this.actionables,a)},initComponent:function(){var l,k,e,h,m,d,b,j=this,g=j.columns||j.colModel||[];if(l=j.store=Ext.data.StoreManager.lookup(j.store||"ext-empty-store"),j.enableLocking=j.enableLocking||j.hasLockedColumns(g),j.plugins&&(j.plugins=j.constructPlugins()),j.columnLines&&j.addBodyCls(j.colLinesCls),j.addBodyCls(j.rowLines?j.rowLinesCls:j.noRowLinesCls),j.addBodyCls(j.extraBodyCls),j.enableLocking?(j.self.mixin("lockable",Ext.grid.locking.Lockable),j.injectLockable(),b=j.headerCt):(g.isRootHeader?(j.headerCt=b=g,b.grid=j,b.forceFit=!!j.forceFit,b.$initParent=j,j.columnManager=b.columnManager,j.visibleColumnManager=b.visibleColumnManager):(Ext.isArray(g)&&(g={items:g}),j.headerCt=b=new Ext.grid.header.Container(Ext.apply(g,{grid:j,$initParent:j,forceFit:j.forceFit,sortable:j.sortableColumns,enableColumnMove:j.enableColumnMove,enableColumnResize:j.enableColumnResize,columnLines:j.columnLines,sealed:j.sealedColumns}))),Ext.isDefined(j.enableColumnHide)&&(b.enableColumnHide=j.enableColumnHide)),j.columns=d=b.getGridColumns(),j.scrollTask=new Ext.util.DelayedTask(j.syncHorizontalScroll,j),j.cls=(j.cls||"")+" "+j.extraBaseCls,delete j.autoScroll,m=j.plugins&&Ext.Array.findBy(j.plugins,function(i){return i.isBufferedRenderer}),m&&(j.bufferedRenderer=m),!j.hasView){if(l.isBufferedStore&&!l.getRemoteSort())for(e=0,h=d.length;e<h;e++)d[e].sortable=!1;j.relayHeaderCtEvents(b),j.features=j.features||[],Ext.isArray(j.features)||(j.features=[j.features]),j.dockedItems=[].concat(j.dockedItems||[]),j.dockedItems.unshift(b),j.viewConfig=j.viewConfig||{},k=j.getView(),j.items=[k],j.hasView=!0,j.bindStore(l,!0),j.mon(k,{viewready:j.onViewReady,refresh:j.onRestoreHorzScroll,scope:j}),j.syncHeaderVisibility()}j.selModel=j.view.getSelectionModel(),j.selModel.on({scope:j,lastselectedchanged:j.updateBindSelection,selectionchange:j.updateBindSelection}),j.relayEvents(j.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]),j.selModel.isSpreadsheetModel||j.relayEvents(j.view,["selectionchange"]),Ext.panel.Panel.prototype.initComponent.call(this),j.enableLocking?j.afterInjectLockable():delete b.$initParent,j.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var c,j,e,a,k=this,b=k.headerCt,d=b.items.items,h=d.length,g=0===b.height,l=!!h;if(null!=k.hideHeaders)l=k.hideHeaders;else for(e=0;l&&e<h;e++)c=d[e],((j=c.text)&&" "!==j||c.columns||c.isGroupHeader&&c.items.items.length)&&(l=!1);b.rendered&&l===g||(b.setHeight(l?0:null),b.hiddenHeaders=l,k.headerCt.toggleCls(k.hiddenHeaderCtCls,l),k.toggleCls(k.hiddenHeaderCls,l),l||(b.setScrollable({x:!1,y:!1}),(a=k.view.getScrollable())&&b.getScrollable().addPartner(a,"x")))},updateHideHeaders:function(a){this.isConfiguring||this.syncHeaderVisibility()},beforeRender:function(){var a,b=this,c=b.bufferedRenderer;b.lockable?b.getProtoBody().addCls(b.lockingBodyCls):(c&&b.getSizeModel().height.auto&&(b.bufferedRenderer=c=!1),c&&!c.isBufferedRenderer&&(c={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copy(c,b,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",!0),b.bufferedRenderer=b.addPlugin(c)),a=b.ariaRenderAttributes||(b.ariaRenderAttributes={}),a["aria-readonly"]=!b.isEditable,a["aria-multiselectable"]="SINGLE"!==b.selModel.selectionMode),Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},beforeLayout:function(){var a=this.mixins.lockable;a&&a.beforeLayout.call(this),Ext.panel.Panel.prototype.beforeLayout.call(this)},afterLayout:function(b){var a=this.mixins.lockable;a&&a.syncLockableLayout.call(this,b),Ext.panel.Panel.prototype.afterLayout.call(this,b)},onHide:function(c,a,b){this.getView().onOwnerGridHide(),Ext.panel.Panel.prototype.onHide.call(this,c,a,b)},onShow:function(){Ext.panel.Panel.prototype.onShow.call(this),this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(c){var b,a,d;for(c.isRootHeader?c=c.items.items:Ext.isObject(c)&&(c=c.items),b=0,a=c.length;b<a;b++)if(d=c[b],!d.processed&&d.locked)return!0},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var b=this,c=Ext.panel.Panel.prototype.getState.call(this),a=b.store.getState();return c=b.addPropertyToState(c,"columns",b.headerCt.getColumnsState()),a&&(c.storeState=a),c},applyState:function(e){var d=this,g=e.sort,a=e.storeState,b=d.store,c=e.columns=d.buildColumnHash(e.columns);Ext.panel.Panel.prototype.applyState.apply(this,arguments),c&&d.headerCt.applyColumnsState(c,a),g?b.getRemoteSort()?b.sort({property:g.property,direction:g.direction,root:g.root},null,!1):b.sort(g.property,g.direction):a&&b.applyState(a)},buildColumnHash:function(d){var e,c,a,b=d.length;if(d){for(a={},c=0,b=d.length;c<b;c++)e=d[c],e.index=c,e.columns&&(e.columns=this.buildColumnHash(e.columns)),a[e.id]=e;return a}},getStore:function(){return this.store},onViewRefresh:function(a,b){this.onItemAdd(b,0)},onItemAdd:function(c,h,a,l){var b,d,e,k=this,m=c.length,g=k.freeRowContexts,j=k.liveRowContexts||(k.liveRowContexts={});for(d=0;d<m;d++)e=c[d],j[e.internalId]||(b=g&&g.shift(),b||(b=new Ext.grid.RowContext({ownerGrid:k})),k.liveRowContexts[e.internalId]=b,b.setRecord(e,h++))},onItemRemove:function(d,h,a,m){var e,c,b,l=this,g=l.freeRowContexts||(l.freeRowContexts=[]),k=l.liveRowContexts,j=a.length;for(e=0;e<j;e++)c=a[e].getAttribute("data-recordId"),(b=k[c])&&(b.free(),g.push(b),delete k[c])},createManagedWidget:function(a,c,b){return this.liveRowContexts[b.internalId].getWidget(a,c)},destroyManagedWidgets:function(c){var e,d,h,g=this,j=g.liveRowContexts,b=g.freeRowContexts,a=b&&b.length;for(d in j)(h=j[d].widgets)&&(Ext.destroy(h[c]),delete h[c]);for(e=0;e<a;e++)(h=b[e].widgets)&&(Ext.destroy(h[c]),delete h[c])},getManagedWidgets:function(b){var c,d=this,e=d.liveRowContexts,a=[];for(c in e)a.push(e[c].widgets[b]);return a},getView:function(){var a,d,b,c=this;return c.view||(b=c.viewConfig,a=b.scroll||c.scroll,d=c.scrollable,null==d&&null==b.scrollable&&null!==a&&(!0===a||"both"===a?d=!0:!1===a||"none"===a?d=!1:"vertical"===a?d={x:!1,y:!0}:"horizontal"===a&&(d={x:!0,y:!1})),b=Ext.apply({grid:c,ownerGrid:c.ownerGrid,deferInitialRefresh:c.deferRowRender,variableRowHeight:c.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:!1!==c.trackMouseOver,throttledUpdate:!0===c.throttledUpdate,xtype:c.viewType,store:c.store,headerCt:c.headerCt,columnLines:c.columnLines,rowLines:c.rowLines,navigationModel:"grid",features:c.features,panel:c,emptyText:c.emptyText||""},c.viewConfig),"scrollable"in b||"scroll"in b||"autoScroll"in b||null==d||(b.scrollable=d),Ext.create(b),c.view.emptyText&&(c.view.emptyText='<div class="'+c.emptyCls+'">'+c.view.emptyText+"</div>"),c.view.getComponentLayout().headerCt=c.headerCt,c.mon(c.view,{uievent:c.processEvent,scope:c}),c.headerCt.view=c.view,c.hasListeners.viewcreated&&c.fireEvent("viewcreated",c,c.view)),c.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(a){return this.emptyText=a,this.view.setEmptyText('<div class="'+this.emptyCls+'">'+a+"</div>"),this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(b){var a=this.view;return a=a&&(a.normalView||a),a&&a.setScrollable(b),b},processEvent:function(g,i,j,a,h,d,c,k){var b=d.position.column;if(b)return b.processEvent.apply(b,arguments)},ensureVisible:function(a,b){this.doEnsureVisible(a,b)},scrollByDeltaY:function(b,a){this.getView().scrollBy(null,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,null,a)},afterCollapse:function(){this.saveScrollPos(),Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(e,g,a,b,d){var c=this;!1===c.optimizedColumnMove?c.view.refreshView():c.view.moveColumn(b,d,a),c.delayScroll()},onHeaderHide:function(b,c){var a=this.view;!b.childHideCount&&a.refreshCounter&&a.refreshView()},onHeaderShow:function(b,c){var a=this.view;a.refreshCounter&&a.refreshView()},onHeadersChanged:function(b,c){var a=this;a.rendered&&!a.reconfiguring&&(a.view.refreshView(),a.delayScroll())},delayScroll:function(){var a=this.view;a&&this.scrollTask.delay(10,null,null,[a])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var b=this;b.scrollXPos&&b.syncHorizontalScroll(b,!0)},getScrollerOwner:function(){var a=this;return this.scrollerOwner||(a=this.up("[scrollerOwner]")),a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{role:"presentation",cls:a.resizeMarkerCls},!0))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{role:"presentation",cls:a.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(a){var c,b=this;b.ignoreNextSelection||(b.ignoreNextSelection=!0,c=b.getSelectionModel(),a?c.select(a):c.deselectAll(),b.ignoreNextSelection=!1)},updateBindSelection:function(a,c){var d=this,b=null;d.ignoreNextSelection||(d.ignoreNextSelection=!0,c.length&&(b=a.getLastSelected(),d.hasHadSelection=!0),d.hasHadSelection&&d.setSelection(b),d.ignoreNextSelection=!1)},updateFocused:function(a){this.getNavigationModel().setPosition(a)},updateHeaderBorders:function(a){this[a?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var a=this.getScrollerOwner().query("tableview");return a[a.length-1]},syncHorizontalScroll:function(e,c){var b,d=this,a=d.view.getScrollX();c=!0===c,
d.rendered&&(c||a!==d.scrollXPos)&&(c&&(b=d.getScrollTarget(),b.setScrollX(a)),d.headerCt.setScrollX(a),d.scrollXPos=a)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(b,c){var d=this,a=d.getView(),e=d.getStore();b?(d.store=b,a.store!==b&&a.bindStore(b,!1),d.mon(b,{load:d.onStoreLoad,scope:d}),d.storeRelayers=d.relayEvents(b,["filterchange","groupchange"]),!d.reconfiguring&&d.hasListeners.storechange&&b!==e&&d.fireEvent("storechange",d,b,e)):d.unbindStore()},unbindStore:function(){var a,c=this,b=c.store;b&&(b.trackStateChanges=!1,c.store=null,c.mun(b,{load:c.onStoreLoad,scope:c}),Ext.destroy(c.storeRelayers),a=c.view,a.store&&a.bindStore(null),!c.reconfiguring&&c.hasListeners.storechange&&c.fireEvent("storechange",c,null,b))},setColumns:function(a){(a.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,a)},setStore:function(a){var b=this;b.reconfigure(a,void 0,!0),b.isVisible(!0)?!a||!b.autoLoad||a.isEmptyStore||a.loading||a.isLoaded()||a.load():b.globalShowListener||(b.globalShowListener=Ext.GlobalEvents.on({show:b.onGlobalShow,scope:b,destroyable:!0}))},onGlobalShow:function(b){var c=this,a=c.store;(b===c||b.isAncestor(c)&&c.isVisible(!0))&&(!a||!c.autoLoad||a.isEmptyStore||a.loading||a.isLoaded()||a.load(),Ext.destroy(c.globalShowListener))},reconfigure:function(o,d,i){var e,k,b,h,j,l=this,a=l.store,c=l.headerCt,n=l.lockable,g=c?c.items.getRange():l.columns,m=l.getView();1===arguments.length&&Ext.isArray(o)&&(d=o,o=null),d&&(d=Ext.Array.slice(d)),l.reconfiguring=!0,o?(o=Ext.StoreManager.lookup(o),b=o&&o!==a):i&&(o=Ext.StoreManager.lookup("ext-empty-store"),b=o!==a),l.fireEvent("beforereconfigure",l,o,d,a,g),Ext.suspendLayouts(),n?l.reconfigureLockable(o,d,i):(e=m.blockRefresh,m.blockRefresh=!0,j=m.saveFocusState(),b&&(l.unbindStore(),l.bindStore(o)),d&&(delete l.scrollXPos,c.removeAll(),c.add(d),h=!0),c.onOwnerGridReconfigure(b,h),k=m.refreshCounter),Ext.resumeLayouts(!0),l.reconfiguring=!1,n?l.afterReconfigureLockable():(m.blockRefresh=e,m.refreshCounter===k&&(m.refreshView(),j())),l.fireEvent("reconfigure",l,o,d,a,g),delete l.reconfiguring,b&&l.fireEvent("storechange",l,o,a)},doDestroy:function(){var b=this,a=b.scrollTask;b.lockable&&b.destroyLockable(),a&&a.cancel(),Ext.destroy(b.plugins,b.focusEnterLeaveListeners,b.freeRowContexts,Ext.Object.getValues(b.liveRowContexts)),Ext.panel.Panel.prototype.doDestroy.call(this),b.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(e,o){if(this.lockable)return this.ensureLockedVisible(e,o);"number"==typeof e||e.isEntity||(e=this.store.getById(e));var l,m,a,b,j,n,h,c,k,g=this,i=g.getView(),d=i.getNode(e);if(o&&(l=o.callback,m=o.scope,a=o.animate,b=o.highlight,j=o.select,n=o.focus,c=o.column),g.deferredEnsureVisible&&g.deferredEnsureVisible.destroy(),!i.componentLayoutCounter)return void(g.deferredEnsureVisible=i.on({resize:g.doEnsureVisible,args:Ext.Array.slice(arguments),scope:g,single:!0,destroyable:!0}));"number"==typeof c&&(c=g.ownerGrid.getVisibleColumnManager().getColumns()[c]),d?(h=i.getScrollable(),c&&(k=Ext.fly(d).selectNode(c.getCellSelector())),h&&h.scrollIntoView(k||d,!!c,a,b),e.isEntity||(e=i.getRecord(d)),j&&i.getSelectionModel().select(e),n&&i.getNavigationModel().setPosition(e,0),Ext.callback(l,m||g,[!0,e,d])):i.bufferedRenderer?i.bufferedRenderer.scrollTo(e,{animate:a,highlight:b,select:j,focus:n,column:c,callback:function(r,p,q){Ext.callback(l,m||g,[!0,p,q])}}):Ext.callback(l,m||g,[!1,null])},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(b,a){var c=this.ownerGrid;if(!c.destroying&&!1!==c.view.setActionableMode(b,a))return c.fireEvent("actionablemodechange",b),c[b?"addCls":"removeCls"](c.actionableModeCls),!0},getOverflowStyle:function(){return this.scrollFlags=this._scrollFlags.false.false,{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0},["widget.tablepanel"],0,[Ext.panel,"Table"],0),Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this),void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width)},beginLayout:function(c){var e,k,j=this,a=j.owner,d=j.firstHeaderCls,l=j.lastHeaderCls,b=[d,l],h=j.getVisibleItems(),g=h.length;for(Ext.layout.container.HBox.prototype.beginLayout.call(this,c),e=0;e<g;e++)k=h[e],1===g?k.addCls(b):0===e?(k.addCls(d),k.removeCls(l)):e===g-1?(k.removeCls(d),k.addCls(l)):k.removeCls(b);j.scrollbarWidth=0,a.isRootHeader&&!a.grid.isLocked&&j.determineScrollbarWidth(c),j.scrollbarWidth||(c.manageScrollbar=!1)},moveItemBefore:function(b,d){var a=b.ownerCt,c=d&&d.nextSibling();return b!==d&&a&&(a.remove(b,{destroy:!1,detach:!1}),d&&d.destroyed&&(d=c)),Ext.layout.container.HBox.prototype.moveItemBefore.call(this,b,d)},determineScrollbarWidth:function(h){var e=this,a=e.owner,d=a.grid,b=d.reserveScrollbar,g=d.view.getScrollable(),c=!b&&g&&g.getY();h.manageScrollbar=c,d.ownerGrid.collapsed||!b&&!c||delete e.scrollbarWidth},calculate:function(e){var l,n,j,p,o,h,g,q=this,d=q.owner,a=d.grid,m=e.viewContext,b=e.state,c=e.context;if(Ext.layout.container.HBox.prototype.calculate.call(this,e),a&&d.isRootHeader&&b.parallelDone){if(l=m.lockingPartnerContext,a.forceFit&&!b.reflexed&&q.convertWidthsToFlexes(e))return q.cacheFlexes(e),q.done=!1,void e.invalidate({state:{reflexed:!0,scrollbarAdjustment:q.getScrollbarAdjustment(e)}});if(void 0===(n=b.columnsChanged)){for(j=e.target.getVisibleGridColumns(),n=!1,o=0,p=j.length;o<p;o++)h=c.getCmp(j[o]),h.lastBox&&h.props.width===h.lastBox.width||((n||(n=[]))[o]=h);b.columnsChanged=n,e.setProp("columnsChanged",n)}if(e.manageScrollbar&&q.getScrollbarAdjustment(e)){if(void 0===(g=m.getProp("viewOverflowY")))return void(q.done=!1);g||(l&&(l.invalidate(),l.headerContext.invalidate()),m.invalidate(),e.invalidate({state:{scrollbarAdjustment:0}}))}}},finishedLayout:function(a){Ext.layout.container.HBox.prototype.finishedLayout.call(this,a),"rowgroup"===this.owner.ariaRole&&this.innerCt.dom.setAttribute("role","row"),a.props.columnsChanged=null},convertWidthsToFlexes:function(a){var c,e,b,k,j,g=this,d=0,h=g.sizeModels.calculated;for(c=a.childItems,e=c.length,b=0;b<e;b++)k=c[b],j=k.target,d+=k.props.width,j.fixed||!1===j.resizable||(j.flex=a.childItems[b].flex=k.props.width,j.width=null,k.widthModel=h);return d!==a.props.width},getScrollbarAdjustment:function(d){var b=this,c=d.state,a=b.owner.grid,e=c.scrollbarAdjustment;return void 0===e&&(e=0,(a.reserveScrollbar||d.manageScrollbar&&!a.ownerGrid.getSizeModel().height.shrinkWrap)&&(e=b.scrollbarWidth),c.scrollbarAdjustment=e),e},getContainerSize:function(b){var g,i,h,c,d,a,j,k,e=this;return e.owner.isRootHeader?(k=Ext.layout.container.HBox.prototype.getContainerSize.call(this,b),k.gotWidth&&(k.width-=e.getScrollbarAdjustment(b)),k):(h=b.paddingContext.getPaddingInfo(),g=i=0,b.widthModel.shrinkWrap||(++i,a=b.getProp("innerWidth"),(c="number"==typeof a)&&(++g,(a-=h.width)<0&&(a=0))),b.heightModel.shrinkWrap||(++i,j=b.getProp("innerHeight"),(d="number"==typeof j)&&(++g,(j-=h.height)<0&&(j=0))),{width:a,height:j,needed:i,got:g,gotAll:g===i,gotWidth:c,gotHeight:d})},publishInnerCtSize:function(e){var d=this,a=d.owner,b=e.peek("contentWidth"),c=0;return null!=b&&a.isRootHeader&&(c=-e.state.scrollbarAdjustment),Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,e,c)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0),Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(b,c,a){this.headerCt=c,a&&(this.secondHeaderCt=a),this.visibleOnly=!!b},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},hasVariableRowHeight:function(){var b,d=this,c=d.getColumns(),a=c.length;if(null==d.variableRowHeight)for(d.variableRowHeight=!1,b=0;!d.variableRowHeight&&b<a;b++)d.variableRowHeight=!!c[b].variableRowHeight;return d.variableRowHeight},getHeaderIndex:function(a){return a.isGroupHeader&&(a=this.getHeaderColumns(a)[0]),Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(b){return this.getColumns()[b]||null},getPreviousSibling:function(c){var b=this.getHeaderIndex(c),a=null;return b>0&&(a=this.getColumns()[b-1]),a},getNextSibling:function(c){var a,b=this.getHeaderIndex(c);return-1!==b&&(a=this.getColumns()[b+1]),a||null},getFirst:function(){var a=this.getColumns();return a.length>0?a[0]:null},getLast:function(){var b=this.getColumns(),a=b.length;return a>0?b[a-1]:null},getHeaderByDataIndex:function(d){var b,e,c=this.getColumns(),a=c.length;if(Ext.isEmpty(d))return null;for(b=0;b<a;++b)if(e=c[b],e.dataIndex===d)return e;return null},getHeaderById:function(e){var b,d,c=this.getColumns(),a=c.length;for(b=0;b<a;++b)if(d=c[b],d.getItemId()===e)return d;return null},getVisibleHeaderClosestToIndex:function(b){var a=this.getHeaderAtIndex(b);return a&&a.hidden&&(a=a.next(":not([hidden])")||a.prev(":not([hidden])")),a},cacheColumns:function(){var b=this.getHeaderColumns(this.headerCt),a=this.secondHeaderCt;a&&(b=b.concat(this.getHeaderColumns(a))),this.columns=b},getHeaderColumns:function(b){var a=this.visibleOnly?b.getVisibleGridColumns():b.getGridColumns();return Ext.Array.clone(a)},invalidate:function(){var a=this.rootColumns;this.columns=this.variableRowHeight=null,a&&a.invalidate()},destroy:function(){this.columns=this.rootColumns=null,this.callParent()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var a=this;return{focusmove:{element:"el",fn:a.onFocusMove},containermousedown:a.onContainerMouseDown,cellmousedown:a.onCellMouseDown,cellclick:a.onCellClick,itemmousedown:a.onItemMouseDown,itemclick:a.onItemClick,itemcontextmenu:a.onItemClick,scope:a}},initKeyNav:function(a){var c,b=this;b.keyNav||(b.keyNav=[],b.position=new Ext.grid.CellContext(a)),c=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:b.processViewEvent,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,esc:b.onKeyEsc,113:b.onKeyF2,tab:b.onKeyTab,A:{ctrl:!0,handler:b.onSelectAllKeyPress},scope:b}),b.keyNav.push(c),b.onKeyNavCreate(c)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(c){var b,a=this.keyNav.length;for(b=0;b<a;b++)this.keyNav[b].addBindings(c)},enable:function(){var b,a=this.keyNav.length;for(b=0;b<a;b++)this.keyNav[b].enable();this.disabled=!1},disable:function(){var b,a=this.keyNav.length;for(b=0;b<a;b++)this.keyNav[b].disable();this.disabled=!0},processViewEvent:function(b,a,g,c,e){var d=e.getKey();return b.actionableMode?(this.map.ignoreInputFields=!1,d===e.TAB||d===e.ESC||d===e.F2?e:void 0):(this.map.ignoreInputFields=!0,d===e.TAB?null:e)},onCellMouseDown:function(h,i,g,d,l,c,b){var k,a=Ext.Component.fromElement(b.target,i),j=b.getTarget(null,null,!0),e=j.isFocusable()&&!j.is(h.getCellSelector());if(h.actionableMode)return e||(e=(k=Ext.ComponentManager.getActiveComponent())&&k!==h&&k.owns(b)),void(e?h.setActionableMode(!0,b.position):h.setActionableMode(!1,b.position));"touch"!==b.pointerType&&(!1!==b.position.column.cellFocusable?(e?(h.containsFocus||(h.containsFocus=!0,h.toggleChildrenTabbability(!1)),h.setActionableMode(!0,b.position)):i.focus(),2===b.button&&this.fireNavigateEvent(b)):b.preventDefault(!0),a&&a.isFocusable&&a.isFocusable()&&(h.setActionableMode(!0,b.position),a.focus()))},onCellClick:function(g,h,e,c,k,b,i){var d=this,a=Ext.Component.fromElement(i.target,h),j=a&&a.isFocusable&&a.isFocusable();if(Ext.isIE10m||g.el.contains(Ext.Element.getActiveElement())||"touch"===i.pointerType)if(g.actionableMode)i.position.isEqual(g.actionPosition)||j||g.setActionableMode(!1,i.position),d.fireEvent("navigate",{view:g,navigationModel:d,keyEvent:i,previousPosition:d.previousPosition,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,previousCell:d.previousCell,previousColumnIndex:d.previousColumnIndex,previousColumn:d.previousColumn,position:i.position,recordIndex:i.position.rowIdx,record:i.position.record,selectionStart:d.selectionStart,item:i.item,cell:i.position.cellElement,columnIndex:i.position.colIdx,column:i.position.column});else if(d.position.isEqual(i.position)||j){if(Ext.isIE10m&&!d.record)return;d.fireNavigateEvent(i)}else!1!==i.position.column.cellFocusable?d.setPosition(i.position,null,i):i.preventDefault()},onFocusMove:function(i){var b,h,g,d=Ext.Component.fromElement(i.delegatedTarget,null,"tableview"),a=i.target,c=Ext.fly(a).is(d.cellSelector);d&&(!d.actionableMode&&c?(b=d.getRecord(a),h=d.getHeaderByCell(a),b&&h&&(g=new Ext.grid.CellContext(d).setPosition(b,h),g.isEqual(this.position)||this.setPosition(g))):(d.actionableMode||d.activating)&&!c&&d.el.contains(i.target)&&d.el.dom!==i.target&&d.ownerGrid.fireEvent("cellactivate",d.ownerGrid,d.actionPosition))},onItemMouseDown:function(b,a,g,d,c){var e=this;c.position.cellElement||"touch"===c.pointerType||(c.preventDefault(),e.getClosestCell(c),e.position.isEqual(c.position)||e.setPosition(c.position,null,c),b.getScrollable().restoreState())},onItemClick:function(c,b,e,d,a){a.position.cellElement||(this.getClosestCell(a),"touch"===a.pointerType&&this.setPosition(a.position,null,a),this.fireNavigateEvent(a))},getClosestCell:function(a){var l,e,j,g,k,h=a.position;if(!h.cellElement)for(l=a.getX(),e=h.view.getVisibleColumnManager().getColumns(),j=e.length,g=0;g<j;g++)if(e[g],k=e[g].getBox(),l>=k.left&&l<k.right)return h.setColumn(e[g]),h.rowElement=h.getRow(!0),void(h.cellElement=h.getCell(!0))},deferSetPosition:function(c,b,d,g,a,h){var e=this.view.getFocusTask();return e.delay(c,this.setPosition,this,[b,d,g,a,h]),e},setPosition:function(c,q,n,d,l){var j,o,k,p,e,i,b,g,h,a,r=this,s=null==c&&null==q,m=null==r.record&&null==r.recordIndex&&null==r.item;if(j=c&&c.isCellContext?c.view:n&&n.view?n.view:r.lastFocused?r.lastFocused.view:r.view,j.getFocusTask().cancel(),!(j.destroyed||!j.refreshCounter||!j.ownerCt||s&&m)&&j.all.getCount()){if(k=j.getSelectionModel(),p=j.dataSource,e=j.getVisibleColumnManager(),a=e.getColumns(),c&&c.isCellContext)g=c.record,i=c.rowIdx,b=Math.min(c.colIdx,a.length-1),h=a[b],-1===p.indexOf(g)&&(o=j.getScrollable(),r.recordIndex=-1,o&&o.getPosition().y>=o.getMaxPosition().y-j.all.last(!0).offsetHeight&&c.rowIdx--,i=Math.min(c.rowIdx,p.getCount()-1),g=p.getAt(i));else{if(s)g=i=null;else if(null==q&&(q=r.lastFocused?r.lastFocused.column:0),"number"==typeof c)i=Math.max(Math.min(c,p.getCount()-1),0),g=p.getAt(c);else if(c.isEntity)g=c,i=p.indexOf(g);else if(c.tagName)g=j.getRecord(c),-1===(i=p.indexOf(g))&&(g=null);else{if(m)return;s=!0,g=i=null}g?(-1===i&&(r.recordIndex=-1,g=p.getAt(0),i=0,q=null),null==q?(h=r.column)||(b=0,h=a[0]):"number"==typeof q?(h=a[q],b=q):(h=q,b=e.indexOf(q))):(s=!0,h=b=null)}if(h&&-1===e.indexOf(h)&&(b=-1===b?0:Math.min(b,a.length-1),h=a[b]),j.actionableMode&&!s)return j.ownerGrid.setActionableMode(!1,new Ext.grid.CellContext(j).setPosition(g,h));if(i===r.recordIndex&&b===r.columnIndex&&j===r.position.view)return r.focusPosition(r.position);r.cell&&r.cell.removeCls(r.focusCls),r.previousRecordIndex=r.recordIndex,r.previousRecord=r.record,r.previousItem=r.item,r.previousCell=r.cell,r.previousColumn=r.column,r.previousColumnIndex=r.columnIndex,r.previousPosition=r.position.clone(),r.selectionStart=k.selectionStart,r.position.setAll(j,r.recordIndex=i,r.columnIndex=b,r.record=g,r.column=h),s?r.item=r.cell=null:r.focusPosition(r.position,l),d||(k.fireEvent("focuschange",k,r.previousRecord,r.record),j.fireEvent("rowfocus",r.record,r.item,r.recordIndex),j.fireEvent("cellfocus",r.record,r.cell,r.position)),n&&!l&&r.cell!==r.previousCell&&r.fireNavigateEvent(n)}},focusPosition:function(b){var c,e,a,d=this;d.item=d.cell=null,b&&b.record&&b.column&&(c=b.view,e=b.rowElement?d.item=b.rowElement:c.getRowByRecord(b.record),e?(d.cell=b.cellElement||Ext.fly(e).down(b.column.getCellSelector(),!0),d.cell?(d.cell=new Ext.dom.Fly(d.cell),c.lastFocused=d.lastFocused=d.position.clone(),a=c.getScrollable(),a&&a.scrollIntoView(d.cell),d.focusItem(d.cell),c.focusEl=d.cell):(d.position.setAll(),d.record=d.column=d.recordIndex=d.columnIndex=null)):(e=c.dataSource.indexOf(b.record),d.position.setAll(),d.record=d.column=d.recordIndex=d.columnIndex=null,-1!==e&&c.bufferedRenderer&&(d.lastKeyEvent=null,c.bufferedRenderer.scrollTo(e,!1,d.afterBufferedScrollTo,d))))},focusItem:function(a){a.addCls(this.focusCls),a.focus()},getCell:function(){return this.cell},getPosition:function(c){var d,b,g,e=this,a=e.position;if(a.record&&a.column){if(c)return a;if(b=a.view,g=b.dataSource,d=g.indexOf(a.record),-1===d&&(d=a.rowIdx,(a.record=g.getAt(d))||(d=-1)),-1!==d&&-1!==b.getVisibleColumnManager().indexOf(a.column))return a;a.setAll(),e.record=e.column=e.recordIndex=e.columnIndex=null}return null},getLastFocused:function(){var a,c=this,b=c.lastFocused;if(b&&b.record&&b.column&&(a=b.view,-1!==a.dataSource.indexOf(b.record)&&-1!==a.getVisibleColumnManager().indexOf(b.column)))return b},onKeyTab:function(g){var d,b,a,e=!g.shiftKey,c=g.position.view;d=c.findFocusPosition(g.target,g.position,e,g),b=d.target,a=d.position,b?(this.actionPosition=a.view.actionPosition=a,Ext.fly(b).focus()):c.onRowExit(g,g.item,g.item[e?"nextSibling":"previousSibling"],e),g.preventDefault()},onKeyUp:function(b){var a=b.view.walkRecs(b.record,-1),c=this.getPosition();a&&(c.setRow(a),c.getCell(!0)||c.navigate(-1),this.setPosition(c,null,b))},onKeyDown:function(b){var a=b.record.isExpandingOrCollapsing?null:b.view.walkRecs(b.record,1),c=this.getPosition();a&&(c.setRow(a),c.getCell(!0)||c.navigate(-1),this.setPosition(c,null,b))},onKeyRight:function(b){var a=this.move("right",b);a&&this.setPosition(a,null,b)},onKeyLeft:function(b){var a=this.move("left",b);a&&this.setPosition(a,null,b)},onKeyEnter:function(b){var a=["cellclick",b.view,b.position.cellElement,b.position.colIdx,b.record,b.position.rowElement,b.recordIndex,b],c=b.position.getCell();c&&(c.query('[tabIndex="-1"]').length||(b.stopEvent(),b.view.fireEvent.apply(b.view,a),a[0]="celldblclick",b.view.fireEvent.apply(b.view,a)),this.view.actionableMode||this.view.ownerGrid.setActionableMode(!0,this.getPosition()))},onKeyF2:function(b){var a=this.view.ownerGrid,c=a.actionableMode;a.setActionableMode(!c,c?null:this.getPosition())},onKeyEsc:function(b){var a=this.view.ownerGrid;if(!a.actionableMode)return!0;a.setActionableMode(!1)},move:function(c,e){var d=this,b=d.getPosition(),a=b;if(b&&b.record)for(;a;)if((a=b.view.walkCells(a,c,!e.shiftKey||"right"!==c&&"left"!==c?null:d.vetoRowChange,d))&&!1!==a.column.cellFocusable)return a},vetoRowChange:function(a){return this.getPosition().record===a.record},onKeyPageDown:function(e){var c,b,d=this,a=e.view,g=d.getRowsVisible();g&&(a.bufferedRenderer?(c=Math.min(e.recordIndex+g,a.dataSource.getCount()-1),d.lastKeyEvent=e,a.bufferedRenderer.scrollTo(c,!1,d.afterBufferedScrollTo,d)):(b=a.walkRecs(e.record,g),d.setPosition(b,null,e)))},onKeyPageUp:function(e){var c,b,d=this,a=e.view,g=d.getRowsVisible();g&&(a.bufferedRenderer?(c=Math.max(e.recordIndex-g,0),d.lastKeyEvent=e,a.bufferedRenderer.scrollTo(c,!1,d.afterBufferedScrollTo,d)):(b=a.walkRecs(e.record,-g),d.setPosition(b,null,e)))},onKeyHome:function(c){var b=this,a=c.view;c.altKey?a.bufferedRenderer?(b.lastKeyEvent=c,a.bufferedRenderer.scrollTo(0,!1,b.afterBufferedScrollTo,b)):b.setPosition(a.walkRecs(c.record,-a.dataSource.indexOf(c.record)),null,c):b.setPosition(c.record,0,c)},afterBufferedScrollTo:function(b,a){this.setPosition(a,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(c){var b=this,a=c.view;c.altKey?a.bufferedRenderer?(b.lastKeyEvent=c,a.bufferedRenderer.scrollTo(a.store.getCount()-1,!1,b.afterBufferedScrollTo,b)):b.setPosition(a.walkRecs(c.record,a.dataSource.getCount()-1-a.dataSource.indexOf(c.record)),null,c):b.setPosition(c.record,c.view.getVisibleColumnManager().getColumns().length-1,c)},getRowsVisible:function(){var b,c,e=!1,a=this.view,d=a.all.first();return d&&(b=d.getHeight(),c=a.el.getHeight(),e=Math.floor(c/b)),e},fireNavigateEvent:function(b){var a=this;a.fireEvent("navigate",{view:a.position.view,navigationModel:a,keyEvent:b||new Ext.event.Event({}),previousPosition:a.previousPosition,previousRecordIndex:a.previousRecordIndex,previousRecord:a.previousRecord,previousItem:a.previousItem,previousCell:a.previousCell,previousColumnIndex:a.previousColumnIndex,previousColumn:a.previousColumn,position:a.position,recordIndex:a.recordIndex,record:a.record,selectionStart:a.selectionStart,item:a.item,cell:a.cell,columnIndex:a.columnIndex,column:a.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0),Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(h){var e=this,a=e.owner,g=a.ownerGrid,d=a.lockingPartner,c=h.lockingPartnerContext,i=d&&d.grid.isVisible()&&!d.grid.collapsed,b=h.context;h.doSyncRowHeights=i&&(g.syncRowHeight||g.syncRowHeightOnNextLayout),e.columnFlusherId||(e.columnFlusherId=e.id+"-columns",e.rowHeightFlusherId=e.id+"-rows"),Ext.layout.component.Auto.prototype.beginLayout.call(this,h),i&&(!c&&d.componentLayout.isRunning()&&((c=h.lockingPartnerContext=b.getCmp(d)).lockingPartnerContext=h,c.lockingPartnerContext||(c.lockingPartnerContext=h)),h.doSyncRowHeights&&(c&&!c.rowHeightSynchronizer&&(c.rowHeightSynchronizer=c.target.syncRowHeightBegin()),h.rowHeightSynchronizer=e.owner.syncRowHeightBegin())),(h.headerContext=b.getCmp(e.headerCt)).viewContext=h},beginLayoutCycle:function(b,a){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,b,a),b.syncRowHeights&&(b.target.syncRowHeightClear(b.rowHeightSynchronizer),b.syncRowHeights=!1)},calculate:function(e){var o,g,q,p,r,m,i,n=this,b=e.context,h=e.lockingPartnerContext,d=e.headerContext,k=e.ownerCtContext,c=n.owner,j=d.getProp("columnsChanged"),a=e.state,l=c.body.dom;if(!(c.all.getCount()||l&&c.body.child("table")))return e.setProp("viewOverflowY",!1),void Ext.layout.component.Auto.prototype.calculate.call(this,e);if(1===n.calcCount&&n.owner.bufferedRenderer&&n.owner.bufferedRenderer.beforeTableLayout(e),void 0===j)return void(n.done=!1);if(j&&((o=a.columnFlusher)||b.queueFlush(a.columnFlusher=o={ownerContext:e,columnsChanged:j,layout:n,id:n.columnFlusherId,flush:n.flushColumnWidths},!0),!o.flushed))return void(n.done=!1);if(e.doSyncRowHeights){if(!(p=a.rowHeightFlusher)){if((q=a.rowHeights)||(a.rowHeights=q=e.rowHeightSynchronizer,n.owner.syncRowHeightMeasure(q),e.setProp("rowHeights",q)),!(g=h.getProp("rowHeights")))return void(n.done=!1);b.queueFlush(a.rowHeightFlusher=p={ownerContext:e,synchronizer:q,otherSynchronizer:g,layout:n,id:n.rowHeightFlusherId,flush:n.flushRowHeights},!0)}if(!p.flushed)return void(n.done=!1)}if(Ext.layout.component.Auto.prototype.calculate.call(this,e),!e.heightModel.shrinkWrap){if(i=!1,!k.heightModel.shrinkWrap){if(m=k.target.layout.getContainerSize(k),!m.gotHeight)return void(n.done=!1);r=l.offsetHeight,i=r>m.height}e.setProp("viewOverflowY",i)}n.done&&Ext.getScrollbarSize().height&&(c.lockingPartner||e.setProp("overflowX",!!e.headerContext.state.boxPlan.tooNarrow))},measureContentHeight:function(d){var a=this.owner,c=a.body.dom,b=a.emptyEl,e=0;return b&&(e+=b.offsetHeight),c&&(e+=c.offsetHeight),d.headerContext.state.boxPlan.tooNarrow&&(e+=Ext.getScrollbarSize().height),e},flushColumnWidths:function(){var c,g,e,h,l=this,k=l.layout,b=l.ownerContext,d=l.columnsChanged,a=b.target,j=d.length;if(b.state.columnFlusher===l){for(g=0;g<j;g++)(c=d[g])&&(e=c.props.width,a.body.select(a.getColumnSizerSelector(c.target)).setWidth(e),c.target.onCellsResized&&c.target.onCellsResized(e),(h=c.lastBox)&&(h.width=e));l.flushed=!0,k.pending||b.context.queueLayout(k)}},flushRowHeights:function(){var a=this,b=a.layout,c=a.ownerContext;c.state.rowHeightFlusher===a&&(c.target.syncRowHeightFinish(a.synchronizer,a.otherSynchronizer),a.flushed=!0,c.syncRowHeights=!0,b.pending||c.context.queueLayout(b))},finishedLayout:function(c){var a=this,b=a.owner.ownerGrid,d=Ext.fly(a.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,c),d&&d.setWidth(c.headerContext.props.contentWidth),a.owner.bufferedRenderer&&a.owner.bufferedRenderer.afterTableLayout(c),b&&(b.syncRowHeightOnNextLayout=!1)},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return!0}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0),Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(a,b){var d,c=this;for(c.view=a,c.rowEl=b,c.els={},c.add("data",a.rowSelector),d=a.rowTpl;d;d=d.nextTpl)d.beginRowSync&&d.beginRowSync(c)},add:function(b,a){var c=Ext.fly(this.rowEl).down(a,!0);c&&(this.els[b]={el:c})},finish:function(g){var e,k,a,d,h=this,c=h.els,j=g.els,i=0,b=0;for(a in c)e=j[a],d=e?e.height:0,k=d-c[a].height,k>0?(i+=k,Ext.fly(c[a].el).setHeight(d)):b-=k;d=g.rowHeight+b,Ext.isIE9&&h.view.ownerGrid.rowLines&&d--,h.rowHeight+i<d&&Ext.fly(h.rowEl).setHeight(d)},measure:function(){var a,c=this,b=c.els;c.rowHeight=c.rowEl.offsetHeight;for(a in b)b[a].height=b[a].el.offsetHeight},reset:function(){var a,b=this.els;this.rowEl.style.height="";for(a in b)b[a].el.style.height=""}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0),Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(a){this.view=a,this.clear(),this.el=new Ext.dom.Fly},destroy:function(){var a=this;a.destroyed||(a.el.destroy(),a.el=a.view=null,a.destroyed=!0),a.callParent()},clear:function(e){var b,c=this,d=c.elements,a=c.statics().range;if(c.count&&e)if(a&&Ext.getBody().contains(d[0]))a.setStartBefore(d[c.startIndex]),a.setEndAfter(d[c.endIndex]),a.deleteContents();else for(b in d)Ext.removeNode(d[b]);c.elements={},c.count=c.startIndex=0,c.endIndex=-1},fill:function(b,h,g){g=g||0;var c,d=this,e=d.elements={},a=b.length-g;for(h||(h=0),c=0;c<a;c++)e[h+c]=b[c+g];return d.startIndex=h,d.endIndex=h+a-1,d.count=a,this},insert:function(g,b){var c,d=this,e=d.elements,a=b.length;if(d.count){if(g<d.count)for(c=d.endIndex+a;c>=g+a;c--)e[c]=e[c-a],e[c].setAttribute("data-recordIndex",c);d.endIndex=d.endIndex+a}else d.startIndex=g,d.endIndex=g+a-1;for(c=0;c<a;c++,g++)e[g]=b[c],e[g].setAttribute("data-recordIndex",g);d.count+=a},invoke:function(d,a){var c,b,e=this;for(d=Ext.dom.Element.prototype[d],b=e.startIndex;b<=e.endIndex;b++)(c=e.item(b))&&d.apply(c,a);return e},item:function(c,b){var d=this.elements[c],a=null;return d&&(a=b?this.elements[c]:this.el.attach(this.elements[c])),a},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},moveBlock:function(a){var e,b,d,c,g=this,h=g.elements;if(a){a<0?(c=g.startIndex-1,b=g.endIndex,d=1):(c=g.endIndex+1,b=g.startIndex,d=-1),g.startIndex+=a,g.endIndex+=a;do{c+=d,e=h[c+a]=h[c],e.setAttribute("data-recordIndex",c+a),(c<g.startIndex||c>g.endIndex)&&delete h[c]}while(c!==b);delete h[c]}},getCount:function(){return this.count},slice:function(e,b){var c,d=this.elements,a=[];for(b=b?Math.min(this.endIndex,b-1):this.endIndex,c=e||this.startIndex;c<=b;c++)a.push(d[c]);return a},replaceElement:function(d,c,a){var e=this.elements,b="number"==typeof d?d:this.indexOf(d);return b>-1&&(c=Ext.getDom(c),a&&(d=e[b],d.parentNode.insertBefore(c,d),Ext.removeNode(d),c.setAttribute("data-recordIndex",b)),this.elements[b]=c),this},indexOf:function(b){var a,c=this.elements;for(b=Ext.getDom(b),a=this.startIndex;a<=this.endIndex;a++)if(c[a]===b)return a;return-1},clip:function(d,c){var b,g,e,h,k=this,a=k.elements,j=[];for(1===d?(b=k.startIndex,k.startIndex+=c):(k.endIndex-=c,b=k.endIndex+1),h=b,g=b+c-1;h<=g;h++)e=a[h],j.push(e),Ext.removeNode(e),delete a[h];k.count-=c,k.view.fireItemMutationEvent("itemremove",k.view.dataSource.getRange(b,g),b,j,k.view)},removeRange:function(c,g,d){var e,h,b,l,k=this,a=k.elements,j=[];for(g=null==g?k.endIndex+1:Math.min(k.endIndex+1,g+1),null==c&&(c=k.startIndex),b=g-c,h=c,l=g;h<=k.endIndex;h++,l++)e=a[h],h<g&&(j.push(e),d&&Ext.removeNode(e)),l<=k.endIndex?(e=a[h]=a[l],e.setAttribute("data-recordIndex",h)):delete a[h];return k.count-=b,k.endIndex-=b,j},removeElement:function(l,c){var k,j,d,e,g,i,h=this,a=h.elements,b=0;if(Ext.isArray(l)){for(k=l,l=[],e=k.length,b=0;b<e;b++)j=k[b],"number"!=typeof j&&(j=h.indexOf(j)),j>=h.startIndex&&j<=h.endIndex&&(l[l.length]=j);Ext.Array.sort(l),e=l.length}else{if(l<h.startIndex||l>h.endIndex)return;e=1,l=[l]}for(g=i=l[0],b=0;g<=h.endIndex;g++,i++)b<e&&g===l[b]&&(i++,b++,c&&Ext.removeNode(a[g])),i<=h.endIndex&&i>=h.startIndex?(d=a[g]=a[i],d.setAttribute("data-recordIndex",g)):delete a[g];h.endIndex-=e,h.count-=e},scroll:function(q,s,h){var p,b,c,d,j,e,n,u,t=this,k=t.view,r=k.lookupViewModel(),g=k.store,l=t.elements,a=q.length,o=k.getNodeContainer(),m=t.statics().range;if(q.length||h){if(-1===s){if(h){if(n=[],u=[],e=t.endIndex-h+1,m)for(m.setStartBefore(l[e]),m.setEndAfter(l[t.endIndex]),m.deleteContents(),p=e;p<=t.endIndex;p++)b=l[p],delete l[p],n.push(g.getByInternalId(b.getAttribute("data-recordId"))),u.push(b);else for(p=e;p<=t.endIndex;p++)b=l[p],delete l[p],Ext.removeNode(b),n.push(g.getByInternalId(b.getAttribute("data-recordId"))),u.push(b);k.fireItemMutationEvent("itemremove",n,e,u,k),t.endIndex-=h}if(q.length){for(j=k.bufferRender(q,t.startIndex-=a),d=j.children,p=0;p<a;p++)l[t.startIndex+p]=d[p];o.insertBefore(j.fragment,o.firstChild),k.fireItemMutationEvent("itemadd",q,t.startIndex,d,k)}}else{if(h){if(n=[],u=[],c=t.startIndex+h,m)for(m.setStartBefore(l[t.startIndex]),m.setEndAfter(l[c-1]),m.deleteContents(),p=t.startIndex;p<c;p++)b=l[p],delete l[p],n.push(g.getByInternalId(b.getAttribute("data-recordId"))),u.push(b);else for(p=t.startIndex;p<c;p++)b=l[p],delete l[p],Ext.removeNode(b),n.push(g.getByInternalId(b.getAttribute("data-recordId"))),u.push(b);k.fireItemMutationEvent("itemremove",n,t.startIndex,u,k),t.startIndex=c}for(j=k.bufferRender(q,t.endIndex+1),d=j.children,p=0;p<a;p++)l[t.endIndex+=1]=d[p];o.appendChild(j.fragment),k.fireItemMutationEvent("itemadd",q,t.endIndex+1,d,k)}return t.count=t.endIndex-t.startIndex+1,r&&r.notify(),d}},sumHeights:function(){var b,a=0,c=this.elements;for(b=this.startIndex;b<=this.endIndex;b++)a+=c[b].offsetHeight;return a}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}),Ext.cmd.derive("Ext.scroll.TableScroller",Ext.scroll.Scroller,{config:{lockingScroller:null},private:{doScrollTo:function(a,d,c){var b;null!=d&&(b=this.getLockingScroller())&&(b.doScrollTo(null,d,c),d=null),this.callParent([a,d,c])}}},0,0,0,0,["scroller.table"],0,[Ext.scroll,"TableScroller"],0),Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:!0,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],
events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:!0,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,actionableMode:!1,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:!1,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(a){a.grid.isTree&&(a.baseCls="x-tree-view"),Ext.view.View.prototype.constructor.call(this,a)},hasVariableRowHeight:function(a){var b=this;return b.variableRowHeight||b.store.isGrouped()||b.getVisibleColumnManager().hasVariableRowHeight()||!a&&b.lockingPartner&&b.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){var a=this;a.columnLines&&a.addCls(a.grid.colLinesCls),a.rowLines&&a.addCls(a.grid.rowLinesCls),a.body=new Ext.dom.Fly,a.body.id=a.id+"gridBody",a.trackOver||(a.overItemCls=null),a.headerCt.view=a,a.grid.view=a,a.initFeatures(a.grid),a.itemSelector=a.getItemSelector(),a.all=new Ext.view.NodeCache(a),Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(b,e){var d=this,c=d.ownerGrid,g=b.type,a=d.disableSelection||c.disableSelection;return e||b&&b.isSelectionModel||(b=c.selModel||b),b&&(b.isSelectionModel?(b.allowDeselect=c.allowDeselect||"SINGLE"!==b.selectionMode,b.locked=a):("string"==typeof b?b={type:b}:b.type=c.selType||b.selType||b.type||g,b.mode||(c.simpleSelect?b.mode="SIMPLE":c.multiSelect&&(b.mode="MULTI")),b=Ext.Factory.selection(Ext.apply({allowDeselect:c.allowDeselect,locked:a},b)))),b},updateSelectionModel:function(a,c){var b=this;c&&(c.un({scope:b,lastselectedchanged:b.updateBindSelection,selectionchange:b.updateBindSelection}),Ext.destroy(b.selModelRelayer)),b.selModelRelayer=b.relayEvents(a,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),a.on({scope:b,lastselectedchanged:b.updateBindSelection,selectionchange:b.updateBindSelection}),b.selModel=a},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(a,u,k){var p,o,h,q,c,d,g,t=this,r=k>1,m=r&&document.createRange?document.createRange():null,b=r&&!m?document.createDocumentFragment():null,l=u,n=t.getGridColumns().length,s=n-1,e=(t.firstCls||t.lastCls)&&(0===u||u===n||0===a||a===s);if(t.rendered&&u!==a){for(h=t.el.query(t.rowSelector),p=0,q=h.length;p<q;p++){if(c=h[p],d=c.childNodes,e){if(1===d.length){Ext.fly(d[0]).addCls(t.firstCls),Ext.fly(d[0]).addCls(t.lastCls);continue}0===a?(Ext.fly(d[0]).removeCls(t.firstCls),Ext.fly(d[1]).addCls(t.firstCls)):a===s&&(Ext.fly(d[s]).removeCls(t.lastCls),Ext.fly(d[s-1]).addCls(t.lastCls)),0===u?(Ext.fly(d[0]).removeCls(t.firstCls),Ext.fly(d[a]).addCls(t.firstCls)):u===n&&(Ext.fly(d[s]).removeCls(t.lastCls),Ext.fly(d[a]).addCls(t.lastCls))}if(r){if(m)m.setStartBefore(d[a]),m.setEndAfter(d[a+k-1]),b=m.extractContents();else for(o=0;o<k;o++)b.appendChild(d[a]);c.insertBefore(b,d[l]||null)}else c.insertBefore(d[a],d[l]||null)}for(g=t.el.query("colgroup"),p=0,q=g.length;p<q;p++)if(c=g[p],r){if(m)m.setStartBefore(c.childNodes[a]),m.setEndAfter(c.childNodes[a+k-1]),b=m.extractContents();else for(o=0;o<k;o++)b.appendChild(c.childNodes[a]);c.insertBefore(b,c.childNodes[l]||null)}else c.insertBefore(c.childNodes[a],c.childNodes[l]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(a,c,b){this.mon(this,a,c,b,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getRow(a);if(c)return"number"==typeof b&&(b=this.getHeaderAtIndex(b)),Ext.fly(c).down(b.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a)return a.get(b)},findFeature:function(a){if(this.features)return Ext.Array.findBy(this.features,function(b){if(b.ftype===a)return!0})},initFeatures:function(d){var c,e,b,a,g=this;for(g.tpl=this.lookupTpl("tpl"),g.rowTpl=g.lookupTpl("rowTpl"),g.addRowTpl(g.lookupTpl("outerRowTpl")),g.cellTpl=g.lookupTpl("cellTpl"),g.featuresMC=new Ext.util.MixedCollection,e=g.features=g.constructFeatures(),a=e?e.length:0,c=0;c<a;c++)b=e[c],b.view=g,b.grid=d,g.featuresMC.add(b),b.init(d)},renderTHead:function(b,c,e){var a,d,g=b.view.headerFns;if(g)for(d=0,a=g.length;d<a;++d)g[d].call(this,b,c,e)},addHeaderFn:function(a){var b=this.headerFns;b||(b=this.headerFns=[]),b.push(a)},renderTFoot:function(b,c,e){var a,d,g=b.view.footerFns;if(g)for(d=0,a=g.length;d<a;++d)g[d].call(this,b,c,e)},addFooterFn:function(a){var b=this.footerFns;b||(b=this.footerFns=[]),b.push(a)},addTpl:function(a){return this.insertTpl("tpl",a)},addRowTpl:function(a){return this.insertTpl("rowTpl",a)},addCellTpl:function(a){return this.insertTpl("cellTpl",a)},insertTpl:function(e,d){var a,b,c=this;for(d=d.isTemplate?Ext.Object.chain(d):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",d),a=c[e];d.priority<a.priority;a=a.nextTpl)b=a;return b?b.nextTpl=d:c[e]=d,d.nextTpl=a,d},tplApplyOut:function(a,b,c){this.before&&!1===this.before(a,b,c)||(this.nextTpl.applyOut(a,b,c),this.after&&this.after(a,b,c))},constructFeatures:function(){var d,b,a,g=this,e=g.features,c=0;if(e)for(b=[],a=e.length;c<a;c++)d=e[c],d.isFeature||(d=Ext.create("feature."+d.ftype,d)),b[c]=d;return b},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this),this.enableTextSelection||this.protoEl.unselectable()},getElConfig:function(){var a=Ext.view.View.prototype.getElConfig.call(this);return delete a["aria-hidden"],delete a["aria-disabled"],a},onBindStore:function(a){var b=this,c=b.bufferedRenderer;c&&c.store!==a&&c.bindStore(a),b.all&&b.all.getCount()&&!b.grid.reconfiguring&&b.clearViewEl(),Ext.view.View.prototype.onBindStore.apply(this,arguments)},onOwnerGridHide:function(){var a=this.getScrollable(),b=this.bufferedRederer;a&&a.suspendPartnerSync(),b&&b.disable()},onOwnerGridShow:function(){var a=this.getScrollable(),b=this.bufferedRederer;a&&a.resumePartnerSync(),b&&b.enable()},getStoreListeners:function(b){var c=this,a=Ext.view.View.prototype.getStoreListeners.call(this,b),d=c.dataSource;return d&&d.isFeatureStore&&(delete a.add,delete a.remove),c.bufferedRenderer&&delete a.clear,a.beforepageremove=c.beforePageRemove,a},beforePageRemove:function(c,b){var d=this.all,a=c.getPageSize();if(d.startIndex>=(b-1)*a&&d.endIndex<=b*a-1)return c.get(b),!1},onViewScroll:function(b,a,c){this.ignoreScroll||Ext.view.View.prototype.onViewScroll.call(this,b,a,c)},createRowElement:function(b,c,d){var e=this,g=e.renderBuffer,a=e.collectData([b],c);return a.columns=d,e.tpl.overwrite(g,a),e.cleanupData(),Ext.fly(g).down(e.getNodeContainerSelector(),!0).firstChild},bufferRender:function(c,d){var a,e=this,g=e.renderBuffer,b=document.createRange?document.createRange():null;if(e.tpl.overwrite(g,e.collectData(c,d)),e.cleanupData(),Ext.fly(g).saveTabbableState({skipSelf:!0,includeHidden:!0}),g=Ext.fly(g).down(e.getNodeContainerSelector(),!0),b)b.selectNodeContents(g),a=b.extractContents();else for(a=document.createDocumentFragment();g.firstChild;)a.appendChild(g.firstChild);return{fragment:a,children:Ext.Array.toArray(a.childNodes)}},collectData:function(a,d){var c=this,b=c.tableValues;return c.rowValues.view=c,b.view=c,b.rows=a,b.columns=null,b.viewStartIndex=d,b.tableStyle="width:"+c.headerCt.getTableWidth()+"px",b},cleanupData:function(){var a=this.tableValues;a.view=a.columns=a.rows=this.rowValues.view=null},refreshSize:function(e){var c=this,a=c.getBodySelector(),b=c.lockingPartner,d=c.saveFocusState();a&&c.body.attach(c.el.down(a,!0)),c.hasLoadingHeight||(Ext.suspendLayouts(),Ext.view.View.prototype.refreshSize.apply(this,arguments),(e||c.hasVariableRowHeight()&&c.dataSource.getCount())&&c.grid.updateLayout(),Ext.resumeLayouts(!b||!b.grid.isVisible()||b.all.getCount()===c.all.getCount()),d())},isLayoutRoot:function(){return!1},clearViewEl:function(c){var b,a=this;a.rendered&&(Ext.view.View.prototype.clearViewEl.call(this),c||(b=Ext.get(a.getNodeContainer()))&&b.dom!==a.getTargetEl().dom&&b.destroy())},getRefItems:function(j){var c,b,h,d,a,g=this,e=g.ownerGrid.liveRowContexts,k=Ext.view.View.prototype.getRefItems.apply(this,arguments);for(a in e)for(h=e[a].getWidgets(),c=h.length,b=0;b<c;b++)d=h[b],g.isAncestor(d)&&(k[k.length]=d,j&&d.getRefItems&&k.push.apply(k,d.getRefItems(!0)));return k},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){if(!this.store.destroyed)return a.isModel?a:(a=this.getNode(a),a?this.dataSource.getByInternalId(a.getAttribute("data-recordId")):void 0)},indexOf:function(a){return a=this.getNode(a),a||0===a?this.all.indexOf(a):-1},indexInStore:function(a){return a?this.dataSource.indexOf(this.getRecord(a)):-1},indexOfRow:function(b){var c=this.dataSource;return b.isCollapsedPlaceholder?c.indexOfPlaceholder(b):c.indexOf(b)},renderRows:function(h,e,d,b){var c,g=this,j=g.rowValues,a=h.length;for(j.view=g,j.columns=e,j.rowRole=g.rowAriaRole,g.cellValues.cellRole=g.cellAriaRole,c=0;c<a;c++,d++)j.itemClasses.length=j.rowClasses.length=0,g.renderRow(h[c],d,b);j.view=j.columns=j.record=null},renderColumnSizer:function(b,c){var d,h,g,e=b.columns||this.getGridColumns(),a=e.length;for(c.push('<colgroup role="presentation">'),d=0;d<a;d++)h=e[d],g=h.cellWidth?h.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,c.push('<col role="presentation" class="',"x-","grid-cell-",e[d].getItemId(),'" style="width:'+g+'px">');c.push("</colgroup>")},renderRow:function(h,a,g){var l,j=this,e=-1===a,i=j.selectionModel,m=j.rowValues,d=m.itemClasses,c=m.rowClasses,b=j.itemCls,k=j.rowTpl;if(m.rowAttr={},m.record=h,m.recordId=h.internalId,m.recordIndex=j.store.indexOf(h),m.rowIndex=a,m.rowId=j.getRowId(h),m.itemCls=m.rowCls="",m.columns||(m.columns=j.ownerCt.getVisibleColumnManager().getColumns()),d.length=c.length=0,e||(d[0]=b,!j.ownerCt.disableSelection&&i.isRowSelected&&i.isRowSelected(h)&&d.push(j.selectedItemCls),j.stripeRows&&a%2!=0&&d.push(j.altRowCls),j.getRowClass&&(l=j.getRowClass(h,a,null,j.dataSource))&&c.push(l)),!g)return k.apply(m,j.tableValues);k.applyOut(m,g,j.tableValues)},renderCell:function(e,i,h,o,k,g){var c,q,n,m=this,j=m.selectionModel,l=m.cellValues,d=l.classes,a=i.data[e.dataIndex],p=m.cellTpl,b=e.enableTextSelection,r=m.navigationModel.getPosition();null==b&&(b=m.enableTextSelection),l.record=i,l.column=e,l.recordIndex=h,l.rowIndex=o,l.columnIndex=l.cellIndex=k,l.align=e.textAlign,l.innerCls=e.innerCls,l.tdCls=l.tdStyle=l.tdAttr=l.style="",l.unselectableAttr=b?"":'unselectable="on"',d[1]=e.getCellId(),n=2,e.renderer&&e.renderer.call?(c=m.ownerCt.columnManager.getHeaderIndex(e),q=e.renderer.call(e.usingDefaultRenderer?e:e.scope||m.ownerCt,a,l,i,h,c,m.dataSource,m),l.css&&(i.cssWarning=!0,l.tdCls+=" "+l.css,l.css=null),l.tdCls&&(d[n++]=l.tdCls)):q=a,l.value=null==q||0===q.length?e.emptyCellText:q,e.tdCls&&(d[n++]=e.tdCls),m.markDirty&&i.dirty&&i.isModified(e.dataIndex)&&(d[n++]=m.dirtyCls,e.dirtyTextElementId&&(l.tdAttr=(l.tdAttr?l.tdAttr+" ":"")+'aria-describedby="'+e.dirtyTextElementId+'"')),e.isFirstVisible&&(d[n++]=m.firstCls),e.isLastVisible&&(d[n++]=m.lastCls),b||(d[n++]=m.unselectableCls),j&&(j.isCellModel||j.isSpreadsheetModel)&&j.isCellSelected(m,h,e)&&(d[n++]=m.selectedCellCls),r&&r.record.id===i.id&&r.column===e&&(d[n++]=m.focusedItemCls),d.length=n,l.tdCls=d.join(" "),p.applyOut(l,g),l.column=l.record=null},getRow:function(a){var b;return!a&&0!==a||!this.rendered?null:(a.target&&(a=a.target),Ext.isString(a)?Ext.fly(a).down(this.rowSelector,!0):Ext.isNumber(a)?(b=this.all.item(a))&&b.down(this.rowSelector,!0):a.isModel?this.getRowByRecord(a):(b=Ext.fly(a),b.is(this.itemSelector)?this.getRowFromItem(b):b.findParent(this.rowSelector,this.getTargetEl())))},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a){return a=this.constructRowId(a),this.retrieveNode(a,!1)},getRowById:function(a){return a=this.constructRowId(a),this.retrieveNode(a,!0)},getNodeByRecord:function(a){return this.retrieveNode(this.getRowId(a),!1)},getRowByRecord:function(a){return this.retrieveNode(this.getRowId(a),!0)},getRowFromItem:function(c){var b,d=Ext.getDom(c).tBodies[0].childNodes,a=d.length;for(b=0;b<a;b++)if(Ext.fly(d[b]).is(this.rowSelector))return d[b]},retrieveNode:function(c,b){var a=this.el.getById(c,!0);return b&&a?Ext.fly(a).down(this.rowSelector,!0):a},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(b){var a=this.sizerSelector+"-"+b.getItemId();return"td"+a+",col"+a},getItemSelector:function(){return this.itemSelector},getCellSelector:function(a){return a?a.getCellSelector():this.cellSelector},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(b,a){var c=this.getRow(b);c&&Ext.fly(c).addCls(a)},removeRowCls:function(b,a){var c=this.getRow(b);c&&Ext.fly(c).removeCls(a)},onRowSelect:function(c){var a,b=this;b.addItemCls(c,b.selectedItemCls),a=b.getRow(c),a&&a.setAttribute("aria-selected",!0),Ext.isIE8&&b.repaintBorder(c+1)},onRowDeselect:function(c){var a,b=this;b.removeItemCls(c,b.selectedItemCls),a=b.getRow(c),a&&a.removeAttribute("aria-selected"),Ext.isIE8&&b.repaintBorder(c+1)},onCellSelect:function(b){var a=this.getCellByPosition(b);a&&(a.addCls(this.selectedCellCls),a.dom.setAttribute("aria-selected",!0))},onCellDeselect:function(b){var a=this.getCellByPosition(b,!0);a&&(Ext.fly(a).removeCls(this.selectedCellCls),a.removeAttribute("aria-selected"))},getCellInclusive:function(a,b){if(a){var c=this.getRow(a.row),d=this.ownerCt.getColumnManager().getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return!1},getColumnByPosition:function(a){var b,c;return!!a&&(c=a.column,c&&!c.destroyed&&c.isColumn?c:(b=a.view||this,c="number"==typeof c?c:a.colIdx,b.getVisibleColumnManager().getHeaderAtIndex(c)))},getCellByPosition:function(a,c){if(a){var e,b=a.view||this,d=b.getRow(a.record||a.row);if((e=b.getColumnByPosition(a))&&d)return Ext.fly(d).down(b.getCellSelector(e),c)}return!1},onFocusEnter:function(i){var d,b,a,h=this,c=i.fromComponent,g=h.getNavigationModel();if(h.containsFocus)return Ext.Component.prototype.onFocusEnter.call(h,i);if(h.actionableMode){if(h.actionPosition)return h.el.dom.setAttribute("tabIndex","-1"),void(h.cellFocused=!0);h.ownerGrid.setActionableMode(!1)}if(i=i.event,!h.cellFocused&&h.all.getCount()&&h.dataSource.getCount())if((a=i.getTarget())===h.el.dom){if("scrollbar"===h.lastFocused)return void i.relatedTarget.focus();if(!(d=h.getDefaultFocusPosition(c)))return i.stopEvent(),void h.el.focus();a=null}else a===h.tabGuardEl?(d=new Ext.grid.CellContext(h).setPosition(h.all.endIndex,h.getVisibleColumnManager().getColumns().length-1),a=null):(b=i.getTarget(h.getCellSelector()))&&(a===b?(d=new Ext.grid.CellContext(h).setPosition(h.getRecord(a),h.getHeaderByCell(b)),a=null):a&&Ext.fly(a).isFocusable()&&h.el.contains(a)&&(d=new Ext.grid.CellContext(h).setPosition(h.getRecord(a),h.getHeaderByCell(b))));d&&(h.toggleChildrenTabbability(!1),a&&h.ownerGrid.setActionableMode(!0,d)&&(d=null,Ext.fly(a).focus()),d&&g.setPosition(d,null,i,null,!0),h.cellFocused=h.el.contains(Ext.Element.getActiveElement()),h.cellFocused&&h.el.dom.setAttribute("tabIndex","-1")),Ext.Component.prototype.onFocusEnter.call(h,i)},onFocusLeave:function(c){var b=this,a=!b.lockingPartner||!c.toComponent||c.toComponent!==b.lockingPartner&&!b.lockingPartner.isAncestor(c.toComponent);b.refreshing||(b.cellFocused&&(a&&b.getNavigationModel().setPosition(null,null,c.event,null,!0),b.cellFocused=!1,b.focusEl=b.el,b.focusEl.dom.setAttribute("tabIndex",0)),a?b.ownerGrid.actionableMode&&(b.lastFocused=b.actionPosition,b.ownerGrid.setActionableMode(!1)):b.actionPosition=null,Ext.Component.prototype.onFocusLeave.call(b,c))},onRowFocus:function(d,b,a){var c=this;b?(c.addItemCls(d,c.focusedItemCls),a||c.focusRow(d)):c.removeItemCls(d,c.focusedItemCls),Ext.isIE8&&c.repaintBorder(d+1)},focusRow:function(d,a){var c=this,b=c.getFocusTask();if(a)return void b.delay(Ext.isNumber(a)?a:10,c.focusRow,c,[d,!1]);b.cancel(),c.isVisible(!0)&&c.getNavigationModel().setPosition(c.getRecord(d))},focusNode:function(b,a){this.focusRow(b,a)},scrollRowIntoView:function(b,a){(b=this.getRow(b))&&this.scrollElIntoView(b,!1,a)},focusCell:function(b,c){var e=this,d=e.getFocusTask();if(c)return void d.delay(Ext.isNumber(c)?c:10,e.focusCell,e,[b,!1]);d.cancel(),e.isVisible(!0)&&e.getCellByPosition(b)&&e.getNavigationModel().setPosition(b)},findFocusPosition:function(l,a,d,g){var c,k,j,b,h=this,n=a.cellElement,m=h.ownerGrid.actionables,e=m.length;for(c=a.clone(),k=Ext.fly(n).findTabbableElements(),j=k[Ext.Array.indexOf(k,l)+(d?1:-1)];!j&&(n=n[d?"nextSibling":"previousSibling"]);){for(c.setColumn(h.getHeaderByCell(n)),b=0;b<e;b++)m[b].activateCell(c);(n=c.getCell(!0))&&(k=Ext.fly(n).findTabbableElements()).length&&(j=k[d?0:k.length-1])}return{target:j,position:c}},getDefaultFocusPosition:function(b){var c,a,h=this,d=h.dataSource,g=h.lastFocused,e=new Ext.grid.CellContext(h.isNormalView&&h.lockingPartner.grid.isVisible()&&!h.lockingPartner.grid.collapsed?h.lockingPartner:h).setPosition(0,0);return b&&(b.isColumn&&!1!==b.cellFocusable&&b.getView()===h?(g||(g=e),g.setColumn(b)):b.isTableView&&(g=new Ext.grid.CellContext(h).setPosition(b.lastFocused.record,0))),g?(a=h.getScrollable(),(!d.contains(g.record)||a&&!a.isInView(g.getRow()).y)&&g.setRow(d.getAt(Math.min(g.rowIdx,d.getCount()-1)))):(g=e,c=h.ownerGrid.view.el.down(h.getCellSelector()+'[tabIndex="-1"]'),c?g.setPosition(h.getRecord(c),h.getHeaderByCell(c)):g=null),g},getLastFocused:function(){var b=this,a=b.lastFocused;if(a&&a.record&&a.column&&-1!==b.dataSource.indexOf(a.record)&&-1!==b.getVisibleColumnManager().indexOf(a.column)&&b.getNode(a.record))return a},scrollCellIntoView:function(a,b){a.isCellContext&&(a=this.getCellByPosition(a)),a&&this.scrollElIntoView(a,null,b)},scrollElIntoView:function(c,d,b){var a=this.getScrollable();a&&a.scrollIntoView(c,d,b)},syncRowHeightBegin:function(){var b,a,d,g=this,k=g.all,e=k.count,c=[],h=Ext.grid.locking.RowSynchronizer;for(b=0,a=k.startIndex;b<e;b++,a++)c[b]=d=new h(g,k.elements[a]),d.reset();return c},syncRowHeightClear:function(b){var a,d=this,e=d.all,c=e.count;for(a=0;a<c;a++)b[a].reset()},syncRowHeightMeasure:function(b){var a,c=b.length;for(a=0;a<c;a++)b[a].measure()},syncRowHeightFinish:function(b,d){var a,c=b.length,e=this.bufferedRenderer;for(a=0;a<c;a++)b[a].finish(d[a]);e&&e.syncRowHeightsFinish()},refreshNode:function(a){Ext.isNumber(a)&&(a=this.store.getAt(a)),this.handleUpdate(this.dataSource,a,null,null,null,!0)},handleUpdate:function(c,B,w,s,M,G){w=w||Ext.data.Model.EDIT;var F,e,d,g,a,q,K,H,h,E,l,I,p,t,n,D,x,z,k,m,j=this,L=j.store.indexOf(B),J=j.rowTpl,y=j.markDirty,u=j.dirtyCls,A=w!==Ext.data.Model.EDIT,v=[],o=j.variableRowHeight,b=0,C=j.ownerCt,r=j.cellFly||(j.self.prototype.cellFly=new Ext.dom.Fly);if(j.viewReady){if(j.updatingRows=!0,F=j.getNodeByRecord(B)){if(B.isCollapsedPlaceholder)return void Ext.fly(F).syncContent(j.createRowElement(B,j.indexOfRow(B)));if(H=j.overItemCls,h=j.ownerCt.getVisibleColumnManager().getColumns(),G)v=h,b=1;else for(I=0,l=h.length;I<l;I++)E=h[I],E.preventUpdate?(t=Ext.fly(F).down(E.getCellSelector(),!0))&&!A&&y&&(r.attach(t),B.isModified(E.dataIndex)?(r.addCls(u),E.dirtyTextElementId&&t.setAttribute("aria-describedby",E.dirtyTextElementId)):(r.removeCls(u),t.removeAttribute("aria-describedby"))):(p=j.shouldUpdateCell(B,E,s))&&(b|=p,v[v.length]=E,o=o||E.variableRowHeight);if(j.fireEvent("beforeitemupdate",B,L,F,v),j.getRowClass||!j.getRowFromItem(F)||1&b||F.tBodies[0].childNodes.length>1){if(k=F._extData,d=j.createRowElement(B,j.indexOfRow(B),v),Ext.fly(F,"_internal").hasCls(H)&&Ext.fly(d).addCls(H),Ext.isIE9m&&F.mergeAttributes)F.mergeAttributes(d,!0);else for(g=d.attributes,a=g.length,K=0;K<a;K++)"id"!==(q=g[K].name)&&F.setAttribute(q,g[K].value);for(k&&(k.isSynchronized=!1),h.length&&(e=j.getRow(F))&&j.updateColumns(e,Ext.fly(d).down(j.rowSelector,!0),v);J&&(!J.syncContent||!1!==J.syncContent(F,d,s?v:null));)J=J.nextTpl}else for(I=0,l=v.length;I<l;I++)E=v[I],n=E.dataIndex,D=B.get(n),t=Ext.fly(F).down(E.getCellSelector(),!0),r.attach(t),!A&&y&&(B.isModified(E.dataIndex)?(r.addCls(u),E.dirtyTextElementId&&t.setAttribute("aria-describedby",E.dirtyTextElementId)):(r.removeCls(u),t.removeAttribute("aria-describedby"))),x=E.usingDefaultRenderer,z=x?E:E.scope,E.updater?Ext.callback(E.updater,z,[t,D,B,j,j.dataSource],0,E,C):(E.renderer&&(D=Ext.callback(E.renderer,z,[D,null,B,0,0,j.dataSource,j],0,E,C)),m=null==D||0===D.length,D=m?E.emptyCellText:D,E.producesHTML||m?r.down(j.innerSelector,!0).innerHTML=D:r.down(j.innerSelector,!0).childNodes[0].data=D),j.highlightClass&&(Ext.fly(t).addCls(j.highlightClass),j.changedCells||(j.self.prototype.changedCells=[],j.prototype.clearChangedTask=new Ext.util.DelayedTask(j.clearChangedCells,j.prototype),j.clearChangedTask.delay(j.unhighlightDelay)),j.changedCells.push({cell:t,cls:j.highlightClass,expires:Ext.Date.now()+1e3}));A&&y&&!B.dirty&&Ext.fly(F,"_internal").select("."+u).removeCls(u).set({"aria-describedby":void 0}),o&&Ext.suspendLayouts(),j.fireEvent("itemupdate",B,L,F,j),o&&(j.ownerGrid.updateLayout(),Ext.resumeLayouts(!0))}j.updatingRows=!1}},clearChangedCells:function(){for(var e,d=this,b=Ext.Date.now(),a=d.changedCells.length;0<a&&(e=d.changedCells[0],e.expires<=b);)Ext.fly(e.cell).removeCls(e.highlightClass),Ext.Array.erase(d.changedCells,0,1),a--;a&&d.clearChangedTask.delay(d.unhighlightDelay)},updateColumns:function(j,p,l){var b,a,i,c,m,d,o,h,e,k=this,n=l.length,g=k.getCellSelector();if(j.mergeAttributes)j.mergeAttributes(p,!0);else for(b=p.attributes,a=b.length,c=0;c<a;c++)"id"!==(i=b[c].name)&&j.setAttribute(i,b[c].value);for(e=j._extData,e&&(e.isSynchronized=!1),j=Ext.get(j),p=Ext.get(p),m=0;m<n;m++){for(d=l[m],g=k.getCellSelector(d),o=j.selectNode(g),h=p.selectNode(g),b=h.attributes,a=b.length,c=0;c<a;c++)"id"!==(i=b[c].name)&&o.setAttribute(i,b[c].value);e=o._extData,e&&(e.isSynchronized=!1),o=Ext.fly(o).selectNode(k.innerSelector),h=Ext.fly(h).selectNode(k.innerSelector),Ext.fly(o).syncContent(h)}},shouldUpdateCell:function(a,c,b){return c.shouldUpdateCell(a,b)},refresh:function(){var b=this;b.destroying||(b.getVisibleColumnManager().getColumns().length?(Ext.view.View.prototype.refresh.apply(this,arguments),b.headerCt.setSortState()):b.refreshCounter&&b.clearViewEl(!0))},processContainerEvent:function(b){var a=Ext.Component.fromElement(b.target.parentNode);if(a&&a.up(this.ownerCt))return!1},processItemEvent:function(b,r,l,q){var o,k,m,g,c,j,a,u=this,n=u.self,t=n.EventMap,d=q.type,h=u.features,p=h.length,s=q.position=u.eventPosition||(u.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&"mouseup"===d&&!q.within(u.el))return!1;if(-1!==u.indexInStore(r)){if(j=s.rowElement=Ext.fly(r).down(u.rowSelector,!0),a=q.getTarget(u.getCellSelector(),j),d=n.TouchEventMap[d]||d,a){if(!a.parentNode)return!1;c=u.getHeaderByCell(a),c?k=u.ownerCt.getColumnManager().getHeaderIndex(c):(c=a=null,k=-1)}else k=-1;if(s.setAll(u,l,c?u.getVisibleColumnManager().getHeaderIndex(c):-1,b,c),s.cellElement=a,!1===(m=u.fireEvent("uievent",d,u,a,l,k,q,b,j))||!1===Ext.view.View.prototype.processItemEvent.apply(this,arguments))return!1;for(o=0;o<p;++o)if(g=h[o],g.wrapsItem&&!1===g.vetoEvent(b,j,l,q))return u.processSpecialEvent(q),!1;return a&&"mouseover"!==d&&"mouseout"!==d&&(m=!(!1===u["onBeforeCell"+t[d]](a,k,b,j,l,q)||!1===u.fireEvent("beforecell"+d,u,a,k,b,j,l,q)||!1===u["onCell"+t[d]](a,k,b,j,l,q)||!1===u.fireEvent("cell"+d,u,a,k,b,j,l,q))),!1!==m&&(m=u.fireEvent("row"+d,u,b,j,l,q)),m}return u.processSpecialEvent(q),"mouse"===q.pointerType&&q.preventDefault(),!1},processSpecialEvent:function(j){var d,o,g,h,b,k,m=this,c=m.features,l=c.length,n=j.type,a=m.ownerCt;if(Ext.view.View.prototype.processSpecialEvent.apply(this,arguments),"mouseover"!==n&&"mouseout"!==n){for(n=m.self.TouchEventMap[n]||n,d=0;d<l;d++)if(o=c[d],o.hasFeatureEvent&&(h=j.getTarget(o.eventSelector,m.getTargetEl()))&&(g=o.eventPrefix,b=o.getFireEventArgs("before"+g+n,m,h,j),k=o.getFireEventArgs(g+n,m,h,j),!1===m.fireEvent.apply(m,b)||!1===a.fireEvent.apply(a,b)||!1===m.fireEvent.apply(m,k)||!1===a.fireEvent.apply(a,k)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)&&(a=this.getGridColumns()[a]),a){if(a.isGroupHeader)return void a.autoSize();delete a.flex,a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(d){var k,g=this,l=g.el.query(d.getCellInnerSelector()),b=d.getWidth(),c=0,e=l.length,a=g.body.select(g.getColumnSizerSelector(d)),j=Math.max,h=0;for(e>0&&(Ext.supports.ScrollWidthInlinePaddingBug&&(h+=g.getCellPaddingAfter(l[0])),g.columnLines&&(h+=Ext.fly(l[0].parentNode).getBorderWidth("lr"))),a.setWidth(1),d.textEl.setStyle({"text-overflow":"clip",display:"table-cell"}),k=d.textEl.dom.offsetWidth+d.titleEl.getPadding("lr"),d.textEl.setStyle({"text-overflow":"",display:""});c<e;c++)k=j(k,l[c].scrollWidth);return k+=h,k=j(k+1,40),a.setWidth(b),k},getPositionByEvent:function(g){var d=this,b=g.getTarget(d.cellSelector),c=g.getTarget(d.itemSelector),a=d.getRecord(c),h=d.getHeaderByCell(b);return d.getPosition(a,h)},getHeaderByCell:function(a){return!!a&&this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(a).getAttribute("data-columnId"))},walkCells:function(h,i,c,j){var g=this,k=h.clone(),e=g.lockingPartner&&g.lockingPartner.grid.isVisible()?g.lockingPartner:null,b=h.rowIdx,a=g.dataSource.getCount()-1,d=g.ownerCt.getVisibleColumnManager().getColumns();switch(i.toLowerCase()){case"right":if(h.isLastColumn()){if((b=e&&g.isLockedView?b:b+1)>a)return!1;e&&(k.view=e),k.setPosition(b,0)}else k.navigate(1);break;case"left":if(h.isFirstColumn()){if((b=e&&g.isNormalView?b:b-1)<0)return!1;e&&(k.view=e,d=e.getVisibleColumnManager().getColumns()),k.setPosition(b,d[d.length-1])}else k.navigate(-1);break;case"up":if(0===b)return!1;k.setRow(b-1);break;case"down":if(b===a)return!1;k.setRow(b+1)}return(!c||!0===c.call(j||g,k))&&k},walkRows:function(i,a){var b,d=this,h=d.dataSource,e=0,k=i,c=a<0?0:h.getCount()-1,g=c?1:-1,j=i;do{if(c?j>=c:j<=c)return k||c;j+=g,(b=Ext.fly(d.getRow(j)))&&b.isVisible(!0)&&(e+=g,k=j)}while(e!==a);return j},walkRecs:function(b,a){var c,d,h=this,k=h.dataSource,i=0,l=b,e=a<0?0:(k.isBufferedStore?k.getTotalCount():k.getCount())-1,j=e?1:-1,g=k.indexOf(b);do{if(e?g>=e:g<=e)return l;g+=j,d=k.getAt(g),!d.isCollapsedPlaceholder&&(c=Ext.fly(h.getNodeByRecord(d)))&&c.isVisible(!0)&&(i+=j,l=d)}while(i!==a);return l},getFirstVisibleRowIndex:function(){var c=this,b=c.dataSource.isBufferedStore?c.dataSource.getTotalCount():c.dataSource.getCount(),a=c.indexOf(c.all.first())-1;do{if((a+=1)===b)return}while(!Ext.fly(c.getRow(a)).isVisible(!0));return a},getLastVisibleRowIndex:function(){var b=this,a=b.indexOf(b.all.last());do{
if(-1==(a-=1))return}while(!Ext.fly(b.getRow(a)).isVisible(!0));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return new Ext.grid.CellContext(this).setPosition(a,b)},doDestroy:function(){var c,b,a,e=this,d=e.featuresMC;if(e.bindStore(null),d)for(b=0,a=d.getCount();b<a;++b)(c=d.getAt(b))&&!c.destroyed&&c.destroy();e.all.destroy(),e.body.destroy(),Ext.view.View.prototype.doDestroy.call(this)},onReplace:function(b,g,a,e){var d,c=this,h=c.bufferedRenderer;c.rendered&&h?(d=c.saveFocusState(),h.onReplace(b,g,a,e),d()):Ext.view.View.prototype.onReplace.apply(this,arguments),c.setPendingStripe(g)},onResize:function(c,a,b,g){var d=this,e=d.bufferedRenderer;e&&e.onViewResize(d,c,a,b,g),Ext.view.View.prototype.onResize.call(this,c,a,b,g)},onAdd:function(b,a,c){var d=this,e=d.bufferedRenderer;d.addingRows=!0,d.rendered&&e&&(e.bodyTop||d.dataSource.getCount()+a.length>=e.viewSize)?e.onReplace(b,c,[],a):Ext.view.View.prototype.onAdd.apply(this,arguments),d.setPendingStripe(c),d.addingRows=!1},onRemove:function(b,a,c){var e,d=this,g=d.bufferedRenderer;d.rendered&&g&&d.dataSource.getCount()+a.length>=g.viewSize?(e=d.saveFocusState(),g.onReplace(b,c,a,[]),e()):Ext.view.View.prototype.onRemove.apply(this,arguments),d.actionPosition&&-1!==Ext.Array.indexOf(a,d.actionPosition.record)&&(d.actionPosition=null),d.setPendingStripe(c)},saveFocusState:function(){var e,i,g=this,h=g.dataSource,a=g.actionableMode,c=g.getNavigationModel(),d=a?g.actionPosition:c.getPosition(!0),b=Ext.Element.getActiveElement(!0),j=d&&d.view===g&&d.getCell();return j&&j.contains(b)?(d=d.clone(),b.suspendFocusEvents(),a&&j!==b?g.suspendActionableMode():(a=!1,c.setPosition()),b.resumeFocusEvents(),function(){h=g.dataSource,h.getCount()?(e=Math.min(d.rowIdx,g.all.getCount()-1),i=Math.min(d.colIdx,g.getVisibleColumnManager().getColumns().length-1),d=new Ext.grid.CellContext(g).setPosition(h.contains(d.record)?d.record:e,i),a?g.resumeActionableMode(d):c.setPosition(d,null,null,null,!0)):d.column.focus()}):Ext.emptyFn},onDataRefresh:function(b){var c=this,a=c.ownerCt;if(a&&2===a.isCollapsingOrExpanding)return void a.on("expand",c.onDataRefresh,c,{single:!0});Ext.view.View.prototype.onDataRefresh.call(this,b)},getViewRange:function(){var a=this;return a.bufferedRenderer?a.bufferedRenderer.getViewRange():Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(a){var b=this.stripeOnUpdate;b=null===b?a:Math.min(b,a),this.stripeOnUpdate=b},onEndUpdate:function(){var a=this,c=a.stripeOnUpdate,b=a.all.startIndex;a.rendered&&(c||0===c)&&(c<b&&(c=b),a.doStripeRows(c),a.stripeOnUpdate=null),Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(b,a){var e,h,c,g,d=this;if(d.rendered&&d.stripeRows)for(e=d.getNodes(b,a),c=0,h=e.length;c<h;c++)g=e[c],g.className=g.className.replace(d.rowClsRe," "),++b%2==0&&(g.className+=" "+d.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")},privates:{collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(j,g){var c,d,e,b,k,m,l=this,a=l.getNavigationModel(),n=l.grid.actionables,h=n.length,o=!1;if(l.actionableMode===j&&(!j||g.isEqual(l.actionPosition)))return!1;if(j)return g&&(g.view===l||g.view===(k=l.lockingPartner)&&k.actionableMode)&&(o=l.activateCell(g)),o;for(c=Ext.fly(Ext.Element.getActiveElement()),l.el.contains(c)&&!Ext.fly(c).is(l.getCellSelector())&&(e=l.actionPosition&&l.actionPosition.record||l.getRecord(c),b=l.getHeaderByCell(c.findParent(l.getCellSelector())),m=g&&g.getCell(),g&&m||(g=new Ext.grid.CellContext(l).setPosition(e||0,b||0),m=g.getCell()),m.focus(),c=Ext.fly(Ext.Element.getActiveElement()),l.el.contains(c)&&c.is(l.getCellSelector())||(g=null)),d=0;d<h;d++)n[d].deactivate&&n[d].deactivate();if(l.actionRow&&l.actionRow.saveTabbableState({skipSelf:!0,includeSaved:!1}),l.destroyed)return!1;l.actionableMode=l.ownerGrid.actionableMode=!1,l.actionPosition=a.actionPosition=l.actionRow=null,g&&a.setPosition(g)},activateCell:function(g){var e,a,c,o,d,n,l,k=this,j=g.view!==k?k.lockingPartner:null,m=k.grid.actionables,h=m.length,b=k.getNavigationModel();if(g=g.clone(),e=g.record,g.view.grid.ensureVisible(e,{column:g.column}),c=k.all.item(g.rowIdx),k.actionPosition&&(a=Ext.get(k.all.item(k.actionPosition.rowIdx,!0)))&&c!==a&&a.saveTabbableState({skipSelf:!0,includeSaved:!1}),k.activating=!0,!j)for(o=g.getCell(),k.actionPosition=g,d=0;d<h;d++)n=n||m[d].activateCell(g,null,!0);if(j||o&&o.restoreTabbableState(!0).length|(l=o.findTabbableElements()).length||n){for(d=0;d<h;d++)m[d].activateRow&&m[d].activateRow(c);if(j||l.length){if(c.restoreTabbableState(!0),j)return k.actionableMode=!0,k.actionPosition=null,k.activating=!1,!0;if(l)return k.actionRow=c,k.actionableMode=k.ownerGrid.actionableMode=!0,b.setPosition(),b.actionPosition=k.actionPosition=g,Ext.fly(l[0]).focus(),k.activating=!1,!0}}k.activating=!1},suspendActionableMode:function(){var c,d=this,b=d.grid.actionables,a=b.length;for(c=0;c<a;c++)b[c].suspend()},resumeActionableMode:function(c){var e,a,g=this,d=g.grid.actionables,b=d.length;for(g.toggleChildrenTabbability(!1),e=0;e<b;e++)a=a||d[e].resume(c);a||g.activateCell(c)},onRowExit:function(g,c,k,e,d){var b,i=this,j=e?"nextSibling":"previousSibling",h=i.lockingPartner;if(h&&h.grid.isVisible()&&(b=i.all.indexOf(c),e?i.isNormalView&&b++:(h.getVisibleColumnManager().getColumns().length,i.isLockedView&&b--),i.actionPosition=null,i=h,k=i.all.item(b,!0)),i.hasListeners.beforerowexit&&!1===i.fireEvent("beforerowexit",i,g,c,k,e))return!1;i.findFirstActionableElement(g,k,j,e,d)},findFirstActionableElement:function(q,d,s,l,h){var o,b,p,n,c,m,r,e,u=this,a=u.getVisibleColumnManager().getColumns(),t=a.length,k=u.grid.actionables,g=k.length,v=new Ext.grid.CellContext(u);if(d){for(v.setRow(d),p=0;p<g;p++)k[p].activateRow&&k[p].activateRow(d);for(p=l?0:t-1;(l?p<t:p>-1)&&!b;p+=l?1:-1){for(c=a[p],v.setColumn(c),o=Ext.fly(d).down(v.column.getCellSelector()),n=0;n<g;n++)m=m||k[n].activateCell(v);(o=v.getCell())&&(d=v.getNode(!0),o.restoreTabbableState(!0),((r=o.findTabbableElements()).length||m)&&(e=u.actionRow,u.actionRow=Ext.get(d),u.actionRow.restoreTabbableState(!0),b=r[l?0:r.length-1]))}b?(u.actionPosition=u.getNavigationModel().actionPosition=v,Ext.fly(b).focus(Ext.asyncFocus?1:0),e&&d!==e.dom&&e.saveTabbableState({skipSelf:!0,includeSaved:!1})):u.onRowExit(q,d,u.all.item(v.rowIdx+(l?1:-1)),l,h)}else h?u.ownerGrid.setActionableMode(!1):u.grid.ensureVisible(l?0:u.dataSource.getCount()-1,{callback:function(w,i,j){w?u.findFirstActionableElement(q,j,s,l,!0):u.ownerGrid.setActionableMode(!1)}})},stretchHeight:function(b){var e,d=this,a=d.getScrollable(),c=d.stretchers;b&&d.tabGuardEl&&(c&&(c[0].style.marginTop=c[1].style.marginTop=d.el.dom.style.height=0),d.el.dom.style.height=a.constrainScrollRange(b)+"px",(e=b-d.el.dom.offsetHeight)>0&&(d.el.dom.style.height="",c=d.getStretchers(),(e=b-d.el.dom.offsetHeight)>0&&(c[0].style.marginTop=a.constrainScrollRange(e)+"px",(e=b-d.el.dom.offsetHeight)>0&&(c[1].style.marginTop=Math.min(e,a.maxSpacerMargin||0)+"px"))))},getStretchers:function(){var b,c=this,a=c.stretchers;return a?c.el.appendChild(a):(b={cls:"x-scroller-spacer",style:"position:relative"},a=c.stretchers=c.el.appendChild([b,b],!0)),a}}},1,["tableview","gridview"],["component","box","dataview","tableview","gridview"],{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0},["widget.gridview","widget.tableview"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"Table",Ext.grid,"View"],0),Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:!1,rowLines:!0},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0),Ext.cmd.derive("Ext.grid.RowContext",Ext.Base,{constructor:function(a){Ext.apply(this,a),this.widgets={}},setRecord:function(a,b){var c=this.viewModel;this.record=a,this.recordIndex=b,c&&(c.set("record",a),c.set("recordIndex",b))},free:function(){var d,g,a,e=this,c=e.widgets,b=e.viewModel;e.record=null,b&&(b.set("record"),b.set("recordIndex"));for(d in c)g=c[d],a=g.getFocusEl(),a&&(a.isTabbable(!0)&&a.saveTabbableState({includeHidden:!0}),a.blur()),g.detachFromBody(),g.hidden=!0},getWidget:function(b,e){var a,d=this,c=d.widgets||(d.widgets={});return e.bind&&!d.viewModel&&(d.viewModel=Ext.Factory.viewModel({parent:d.ownerGrid.lookupViewModel(),data:{record:d.record,recordIndex:d.recordIndex}},d.ownerGrid.rowViewModel)),(a=c[b])?a.hidden=!1:(a=c[b]=Ext.widget(Ext.apply({viewModel:d.viewModel,_rowContext:d},e)),a.isWidget&&a.initBindable()),a},getWidgets:function(){var c,b=this.widgets,a=[];for(c in b)a.push(b[c]);return a},destroy:function(){var b,d,c=this,a=c.widgets;for(b in a)d=a[b],d._rowContext=null,d.destroy();Ext.destroy(c.viewModel),c.callParent()}},1,0,0,0,0,0,[Ext.grid,"RowContext"],0);Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:!0,shrinkWrap:!0,position:"bottom",ariaRole:"toolbar",constructor:function(b){var d=this,a=b.rowEditor,c=a.editingPlugin;b=Ext.apply({baseCls:"x-grid-row-editor-buttons",defaults:{xtype:"button",ui:a.buttonUI,scope:c,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:"x-row-editor-update-button",itemId:"update",handler:c.completeEdit,text:a.saveBtnText,disabled:a.updateButtonDisabled,listeners:{element:"el",keydown:d.onUpdateKeyDown,scope:d}},{cls:"x-row-editor-cancel-button",itemId:"cancel",handler:c.cancelEdit,text:a.cancelBtnText,listeners:{element:"el",keydown:d.onCancelKeyDown,scope:d}}]},b),Ext.container.Container.prototype.constructor.call(this,b),d.addClsWithUI(d.position)},onUpdateKeyDown:function(a){a.shiftKey&&a.getKey()===a.TAB&&(a.stopEvent(),this.rowEditor.child(":focusable:not([isButton]):last").focus(!1,!0))},onCancelKeyDown:function(a){a.shiftKey||a.getKey()!==a.TAB||(a.stopEvent(),this.rowEditor.child(":focusable").focus(!1,!0))},setButtonPosition:function(b){var e=this,a=this.rowEditor,h=a.getHeight(),d=a.body,c="",g="";e.removeClsWithUI(e.position),e.position=b,e.addClsWithUI(b),"top"===b?c=h-d.getBorderWidth("t")+"px":g=h-d.getBorderWidth("b")+"px",e.el.setStyle({top:g,bottom:c})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=Ext.container.Container.prototype.getFrameInfo.call(this);return a.top=!0,a}}},1,["roweditorbuttons"],["component","box","container","roweditorbuttons"],{component:!0,box:!0,container:!0,roweditorbuttons:!0},["widget.roweditorbuttons"],0,[Ext.grid,"RowEditorButtons"],0),Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,tabGuard:!0,_wrapCls:"x-grid-row-editor-wrap",errorCls:"x-grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",_cachedNode:!1,initComponent:function(){var c,e,g,d=this,b=d.editingPlugin.grid,a=Ext.container.Container;d.cls="x-grid-editor x-grid-row-editor",d.layout={type:"hbox",align:"middle"},d.lockable=b.lockable,d.lockable?(d.items=[g=d.lockedColumnContainer=new a({id:b.id+"-locked-editor-cells",scrollable:{x:!1,y:!1},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),e=d.normalColumnContainer=new a({scrollable:{x:!1,y:!1},flex:1,id:b.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})],g.getScrollable().addPartner(b.lockedGrid.view.getScrollable(),"x"),e.getScrollable().addPartner(b.normalGrid.view.getScrollable(),"x"),b.lockedGrid.on({collapse:d.onGridResize,expand:d.onGridResize,beginfloat:d.onBeginFloat,scope:d})):(d.setScrollable({x:!1,y:!1}),d.getScrollable().addPartner(b.view.getScrollable(),"x"),d.lockedColumnContainer=d.normalColumnContainer=d),Ext.form.Panel.prototype.initComponent.call(this),d.fields&&(d.addFieldsForColumn(d.fields,!0),d.insertColumnEditor(d.fields),delete d.fields),d.mon(Ext.GlobalEvents,{scope:d,show:d.repositionIfVisible}),c=d.getForm(),c.trackResetOnLoad=!0,c.on("validitychange",d.onValidityChange,d),c.on("errorchange",d.onErrorChange,d)},onGridResize:function(){if(this.rendered){var c=this,e=c.getClientWidth(),a=c.editingPlugin.grid,d=a.body,b=c.getFloatingButtons();c.wrapEl.setLocalX(d.getOffsetsTo(a)[0]+d.getBorderWidth("l")-a.el.getBorderWidth("l")),c.setWidth(e),b.setLocalX((e-b.getWidth())/2),c.lockable&&c.lockedColumnContainer.setWidth(a.normalGrid.el.getLeft(!0))}},onBeginFloat:function(a){if(a.isSliding&&this.isVisible())return!1},syncAllFieldWidths:function(){var c,b,e=this,d=e.query("[isEditorComponent]"),a=d.length;for(e.preventReposition=!0,b=0;b<a;++b)c=d[b].column,c.isVisible()&&e.onColumnShow(c);e.preventReposition=!1},syncFieldWidth:function(b){var a,c=b.getEditor();c._marginWidth=c._marginWidth||c.el.getMargin("lr"),a=b.getWidth()-c._marginWidth,c.setWidth(a),"displayfield"===c.xtype&&(c.inputWidth=a)},onValidityChange:function(b,a){this.updateButton(a)},onErrorChange:function(){var a,b=this;b.errorSummary&&b.isVisible()&&(a=b.getForm().isValid(),b[a?"hideToolTip":"showToolTip"]())},updateButton:function(b){var a=this.floatingButtons;a?a.child("#update").setDisabled(!b):this.updateButtonDisabled=!b},afterRender:function(){var c=this,b=c.editingPlugin,a=b.grid;c.scroller=a.getScrollable(),Ext.form.Panel.prototype.afterRender.apply(this,arguments),c.scrollingView=a.lockable?a.normalGrid.view:a.view,c.scrollingViewEl=c.scrollingView.el,c.scroller.on("scroll",c.onViewScroll,c),c.mon(c.el,{click:Ext.emptyFn,stopPropagation:!0}),c.mon(a,"resize",c.onGridResize,c),c.lockable&&a.lockedGrid.view.on("resize","onGridResize",c),c.el.swallowEvent(["keypress","keydown"]),c.initKeyNav(),c.mon(b.view,{beforerefresh:c.onBeforeViewRefresh,refresh:c.onViewRefresh,itemremove:c.onViewItemRemove,scope:c}),c.syncAllFieldWidths(),c.floatingButtons&&c.body.dom.setAttribute("aria-owns",c.floatingButtons.id)},initKeyNav:function(){var b=this,a=b.editingPlugin;b.keyNav=new Ext.util.KeyNav(b.el,{tab:{fn:b.onFieldTab,scope:b},enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onBeforeViewRefresh:function(b){var c=this,a=b.el.dom;c.el.dom.parentNode===a&&a.removeChild(c.el.dom)},onViewRefresh:function(a){var d,c=this,b=c.context;c.completing||(b&&(d=a.getRow(b.record))?(b.row=d,c.reposition(),c.tooltip&&c.tooltip.isVisible()&&c.tooltip.setTarget(b.row)):c.editingPlugin.cancelEdit())},onViewItemRemove:function(d,g,h,j){var b,k,a,e,i=this,c=i.context;!j.refreshing&&c&&(e=i.editingPlugin,b=e.grid,k=b.getStore(),a=i.editingPlugin.view,k.getById(i.getRecord().getId())&&!i._cachedNode?e.editing&&(i._cachedNode=!0,i.mon(a,{itemadd:i.onViewItemAdd,scope:i})):i._cachedNode||(i.activeField=null,i.editingPlugin.cancelEdit()))},onViewItemAdd:function(b,e,g,i){var a,j,c,h=this,d=h.editingPlugin;h._cachedNode&&h.context&&(a=d.view,-1!==(j=Ext.Array.indexOf(b,h.context.record))&&(c=b[j],h.context.node=c,h.context.row=a.getRow(c),h.context.cell=a.getCellByPosition(h.context,!0),h.clearCache()))},onViewScroll:function(){var e,c=this,b=c.editingPlugin.view.el,h=c.scrollingView,d=c.scroller.getPosition().y,g=h.getScrollX(),a=d!==c.lastScrollTop;c.lastScrollTop=d,c.lastScrollLeft=g,c.isVisible()&&(e=Ext.getDom(c.context.row),e&&b.contains(e)?(c.getLocalY()&&c.setLocalY(0),a&&(c.context.row=e,c.reposition(null,!0),c.tooltip&&c.tooltip.isVisible()&&c.repositionTip())):(c.setLocalY(-400),c.floatingButtons.hide()))},onColumnResize:function(b,a){var c=this;c.rendered&&!c.editingPlugin.reconfiguring&&(c.onGridResize(),c.onViewScroll(),c.lockable?(c.lockedColumnContainer.getScrollable().syncWithPartners(),c.normalColumnContainer.getScrollable().syncWithPartners()):c.getScrollable().syncWithPartners(),b.isGroupHeader||(c.syncFieldWidth(b),c.repositionIfVisible()))},onColumnHide:function(a){this.editingPlugin.reconfiguring||a.isGroupHeader||(a.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(a){var b=this;b.rendered&&!b.editingPlugin.reconfiguring&&!a.isGroupHeader&&a.getEditor&&(a.getEditor().show(),b.syncFieldWidth(a),b.preventReposition||b.repositionIfVisible())},onColumnMove:function(c,a,m){var d,g,k,b,e,l=this,h=c.isLocked(),j=h?l.lockedColumnContainer:l.normalColumnContainer;if(c.isGroupHeader){for(Ext.suspendLayouts(),b=m>a,e=b?1:0,d=c.getGridColumns(),g=0,k=d.length;g<k;++g)c=d[g],m=c.getIndex(),b&&++e,l.setColumnEditor(c,m+e,j);Ext.resumeLayouts(!0)}else l.setColumnEditor(c,c.getIndex(),j)},setColumnEditor:function(b,a,c){this.addFieldsForColumn(b),c.insert(a,b.getEditor())},onColumnAdd:function(a){a.isGroupHeader&&(a=a.getGridColumns()),this.addFieldsForColumn(a),this.insertColumnEditor(a),this.preventReposition=!1},insertColumnEditor:function(c){var e,g,a,b,d=this;if(Ext.isArray(c))for(b=0,a=c.length;b<a;b++)d.insertColumnEditor(c[b]);else c.getEditor&&(g=c.isLocked()?d.lockedColumnContainer:d.normalColumnContainer,g.insert(c.getIndex(),e=c.getEditor()),e.on("focus",d.onFieldFocus,d),d.needsSyncFieldWidths=!0)},onFieldFocus:function(a){(Ext.isIE||Ext.isEdge)&&a.selectText&&a.selectText(a.inputEl.dom.value.length),this.activeField=a,this.context.setColumn(a.column),this.skipFocusScroll?this.skipFocusScroll=null:a.column.getView().getScrollable().scrollIntoView(a.el)},onFieldTab:function(i){var b,g=this,a=g.activeField,d=g.context.rowIdx,c=!i.shiftKey,h=a[c?"nextNode":"previousNode"](":focusable");i.stopEvent(),h&&h.isDescendant(g)?h.focus():g.isDirty()&&!g.autoUpdate?g.floatingButtons.child("#update").focus():(b=g.view.dataSource.getCount(),d+=c?1:-1,d<0?d=b-1:d>=b&&(d=0),c?(h=g.down(":focusable:not([isButton]):first"),a.column.getView().getScrollable().scrollIntoView(a.ownerCt.child(":focusable").el)):h=g.down(":focusable:not([isButton]):last"),g.tabGuardBeforeEl.focus(),g.editingPlugin.startEdit(d,h.column))},destroyColumnEditor:function(a){var b;a.hasEditor()&&(b=a.getEditor())&&b.destroy()},getFloatingButtons:function(){var b=this,a=b.floatingButtons;return a||b.destroying||b.destroyed||(b.floatingButtons=a=new Ext.grid.RowEditorButtons({ownerCmp:b,rowEditor:b})),a},repositionIfVisible:function(d){var b=this,a=b.view;(!d||d!==b&&d.el.isAncestor(a.el))&&b.isVisible()&&a.isVisible(!0)&&b.reposition()},isLayoutChild:function(a){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(b){var a,c,d=this;return d.lockable?(a=[d.lockedColumnContainer],a.push.apply(a,d.lockedColumnContainer.getRefItems(b)),a.push(d.normalColumnContainer),a.push.apply(a,d.normalColumnContainer.getRefItems(b))):a=Ext.form.Panel.prototype.getRefItems.apply(this,arguments),c=d.getFloatingButtons(),c&&a.push.apply(a,c.getRefItems(b)),a},reposition:function(i,e){var a,c,d,h,g=this,b=g.context,k=b&&b.row,j=g.wrapEl;k&&Ext.isElement(k)&&(d=g.syncButtonPosition(b),a=g.calculateLocalRowTop(k),c=g.calculateEditorTop(a),h=function(){g.syncEditorClip(),g.wrapAnim=null,e||(d&&g.scroller.scrollBy(0,d,!0),g.focusColumnField(b.column))},i?g.wrapAnim=j.addAnimation(Ext.applyIf({to:{top:c},duration:i.duration||125,callback:h},i)):(j.setLocalY(c),h()))},getScrollDelta:function(){var d,g,a,i=this,h=i.scroller.getElement().dom,e=i.context,c=i.body,b=0;if(e)if((b=Ext.fly(e.row).getOffsetsTo(h)[1])<0)b-=c.getBorderPadding().beforeY;else if(b>0){if(d=h.clientHeight,g=h.scrollHeight,a=i.getHeight()+i.floatingButtons.getHeight(),d===g&&a>d)return 0;(b=Math.max(b+a-d-c.getBorderWidth("b"),0))>0&&(b-=c.getBorderPadding().afterY)}return b},calculateLocalRowTop:function(b){var a=this.editingPlugin.grid;return Ext.fly(b).getOffsetsTo(a)[1]-a.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(b){var a=b-this.lastScrollTop;return this._buttonsOnTop?a-=this.body.dom.offsetHeight-this.context.row.offsetHeight-this.body.getBorderPadding().afterY:a-=this.body.getBorderPadding().beforeY,a},getClientWidth:function(){var b,a,d=this,c=d.editingPlugin.grid;return d.lockable?(b=c.lockedGrid.collapsed&&c.lockedGrid.placeholder||c.lockedGrid,a=b.getRegion().union(c.scrollBody.el.getClientRegion()).width):a=c.view.el.dom.clientWidth,a},getEditor:function(a){var b=this;return Ext.isNumber(a)?b.query("[isEditorComponent]")[a]:a.isHeader&&!a.isGroupHeader?a.getEditor():void 0},addFieldsForColumn:function(e,b){var c,a,h,d,g=this;if(Ext.isArray(e))for(c=0,a=e.length;c<a;c++)g.addFieldsForColumn(e[c],b);else e.getEditor&&(h=e.getEditor(null,g.getDefaultFieldCfg()),"right"===e.align&&(d=h.fieldStyle,d?(d=Ext.isObject(d)?Ext.apply({},d):Ext.dom.Element.parseStyles(d),d.textAlign||d["text-align"]||(d.textAlign="right")):d="text-align:right",h.fieldStyle=d),"actioncolumn"===e.xtype&&(h.fieldCls+=" x-form-action-col-field"),g.isVisible()&&g.context&&(h.is("displayfield")?g.renderColumnData(h,g.context.record,e):(h.suspendEvents(),h.setValue(g.context.record.get(e.dataIndex)),h.resumeEvents())),e.hidden?g.onColumnHide(e):e.rendered&&!b&&g.onColumnShow(e))},getDefaultFieldCfg:function(){return{xtype:"displayfield",skipLabelForAttribute:!0,getModelData:function(){return null}}},loadRecord:function(d){var c,g,l,k,j=this,a=j.getForm(),e=a.getFields(),h=e.items,b=h.length;for(c=0;c<b;c++)k=h[c],k.suspendEvents(),k.resetToInitialValue();for(a.loadRecord(d),c=0;c<b;c++)h[c].resumeEvents();for(a.hasInvalidField()===a.wasValid&&delete a.wasValid,l=a.isValid(),j.errorSummary&&(l?j.hideToolTip():j.showToolTip()),j.updateButton(l),g=j.query(">displayfield"),b=g.length,c=0;c<b;c++)j.renderColumnData(g[c],d)},renderColumnData:function(m,i,c){var b,d,h,k=this,a=k.editingPlugin.grid,e=a.headerCt,l=k.scrollingView,o=l.dataSource,g=c||m.column,n=i.get(g.dataIndex),j=g.editRenderer||g.renderer,p=g.usingDefaultRenderer&&!g.scope?g:g.scope;j&&(b={tdCls:"",style:""},d=o.indexOf(i),h=e.getHeaderIndex(g),n=j.call(p||e.ownerCt,n,b,i,d,h,o,l)),m.setRawValue(n)},beforeEdit:function(){var b,a=this;if(a.lockable&&a.editingPlugin.grid.lockedGrid.floatedFromCollapse)return!1;if(a.isVisible()&&(a.isDirty()||a.context.record.phantom))if(a.autoUpdate)a.editingPlugin.completeEdit();else if(a.autoCancel)a.editingPlugin.cancelEdit();else if(a.errorSummary)return b=a.getScrollDelta(),b&&a.scrollingViewEl.scrollBy(0,b,!0),a.showToolTip(),!1},startEdit:function(e,c){var j,h=this,i=h.editingPlugin,a=i.grid,b=h.context=i.context,d=h.isVisible(),k=h.wrapEl,g=h.rendered;h._cachedNode&&h.clearCache(),Ext.suspendLayouts(),g||(h.width=h.getClientWidth(),h.render(a.el,a.el.dom.firstChild),k=h.wrapEl=h.el.wrap(),k.setVisibilityMode(3),k.addCls(h._wrapCls),h.getFloatingButtons().render(k),h.onViewScroll()),h.setLocalY(0),b.grid.getSelectionModel().selectByPosition({row:e,column:c}),h.rendered&&h.formAriaLabel&&(j=Ext.String.formatEncode(h.formAriaLabel,h.formAriaLabelRowBase+b.rowIdx),h.body.dom.setAttribute("aria-label",j)),h.onGridResize(),Ext.resumeLayouts(d),d?h.reposition(!0):(h.skipFocusScroll=!0,h.show()),h.loadRecord(e),g||(h.lockable?(h.lockedColumnContainer.getScrollable().syncWithPartners(),h.normalColumnContainer.getScrollable().syncWithPartners()):h.getScrollable().syncWithPartners())},syncButtonPosition:function(b){var d=this,e=d.getScrollDelta(),a=d.getFloatingButtons(),c=(d.scrollingView,Math.max(0,d.scroller.getSize().y-d.scroller.getClientSize().y)),g=e-(c-d.scroller.getPosition().y);return a.show(),g>0||b.rowIdx>0&&b.isLastRenderedRow()?(d._buttonsOnTop||(a.setButtonPosition("top"),d._buttonsOnTop=!0,d.layout.setAlign("bottom"),d.updateLayout()),e=0):!1!==d._buttonsOnTop?(a.setButtonPosition("bottom"),d._buttonsOnTop=!1,d.layout.setAlign("top"),d.updateLayout()):a.setButtonPosition(a.position),e},syncEditorClip:function(){var b=this,c=b.tooltip,a=b.scroller.getElement().getConstrainRegion();b.clipTo(a),b.floatingButtons.clipTo(a),c&&c.isVisible()&&c.clipTo(a,5)},focusColumnField:function(b){var c,a;b&&!b.destroyed&&(b.isVisible()&&(c=this.getEditor(b))&&c.isFocusable(!0)&&(a=!0,c.focus()),a||this.focusColumnField(b.next()))},cancelEdit:function(){var d,h=this,g=h.getForm(),a=g.getFields(),c=a.items,e=c.length,b=h.context.record;for(h._cachedNode&&h.clearCache(),h.hide(),b&&b.phantom&&!b.modified&&h.removeUnmodified&&h.editingPlugin.grid.store.remove(b),g.clearInvalid(),d=0;d<e;d++)c[d].suspendEvents();for(g.reset(),d=0;d<e;d++)c[d].resumeEvents()},clearCache:function(){var a=this;a.mun(a.editingPlugin.view,{itemadd:a.onViewItemAdd,scope:a}),a._cachedNode=!1},completeEdit:function(){var b=this,a=b.getForm();return!!a.isValid()&&(b.completing=!0,a.updateRecord(b.context.record),b.hide(),b.completing=!1,!0)},onShow:function(){var a=this;a.wrapEl.show(),Ext.form.Panel.prototype.onShow.apply(this,arguments),a.needsSyncFieldWidths&&(a.suspendLayouts(),a.preventReposition=!0,a.syncAllFieldWidths(),a.preventReposition=!1,a.resumeLayouts(!0)),delete a.needsSyncFieldWidths,a.rendered&&a.initTabGuards(!0),a.reposition()},onHide:function(){var c,a,d=this,b=d.context,e=Ext.Element.getActiveElement();d.context=null,c=d.el.contains(e)&&d.activeField?d.activeField.column:b.column,a=new Ext.grid.CellContext(c.getView()).setPosition(b.record,c),a.view.getNavigationModel().setPosition(a),d.activeField=null,d.wrapEl.hide(),Ext.form.Panel.prototype.onHide.apply(this,arguments),d.rendered&&d.initTabGuards(!1),d.tooltip&&d.hideToolTip()},onResize:function(b,a){this.wrapEl.setSize(b,a)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var b=this,c=b.tooltip,a=b.editingPlugin.grid;return c||(b.tooltip=c=new Ext.tip.ToolTip({cls:"x-grid-row-editor-errors",title:b.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!0,targetOffset:[Ext.getScrollbarSize().width,0],constrainPosition:!0,constrainTo:document.body}),a.add(c),b.mon(a,{afterlayout:b.onGridLayout,scope:b})),c},hideToolTip:function(){var a=this,b=a.getToolTip();b.rendered&&b.disable()},showToolTip:function(a){var b=this,c=b.getToolTip();if(!a&&b.wrapAnim)return b.wrapAnim.on({afteranimate:b.showToolTip,scope:b,single:!0});c.update(b.getErrors()),b.repositionTip(),c.enable()},onGridLayout:function(){this.tooltip&&this.tooltip.isVisible()&&this.repositionTip()},repositionTip:function(){var a=this,b=a.getToolTip();b.isVisible()?b.handleAfterShow():b.showBy(a.el),a.syncEditorClip()},getErrors:function(){var c,a,g,e=this,h=[],b=e.query(">[isFormField]"),d=b.length;for(c=0;c<d;c++)g=b[c],a=g.getErrors(),a.length&&h.push(e.createErrorListItem(a[0],g.column.text));return h.length||e.autoCancel||!e.isDirty()||(h[0]=e.createErrorListItem(e.dirtyText)),'<ul class="x-list-plain">'+h.join("")+"</ul>"},createErrorListItem:function(b,a){return b=a?a+": "+b:b,'<li class="'+this.errorCls+'">'+b+"</li>"},doDestroy:function(){var a=this;a.wrapAnim&&(Ext.fx.Manager.removeAnim(a.wrapAnim),a.wrapAnim=null),a.floatingButtons=a.tooltip=Ext.destroy(a.floatingButtons,a.tooltip),Ext.form.Panel.prototype.doDestroy.call(this)}},0,["roweditor"],["component","box","container","panel","form","roweditor"],{component:!0,box:!0,container:!0,panel:!0,form:!0,roweditor:!0},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0),Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorCls:"x-grid-drop-indicator",indicatorHtml:['<div class="',"x-",'grid-drop-indicator-left" role="presentation"></div>','<div class="x-grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(a){var b=this;Ext.apply(b,a),b.ddGroup||(b.ddGroup="view-dd-zone-"+b.view.id),Ext.dd.DropZone.prototype.constructor.call(this,b.view.el)},fireViewEvent:function(){var a,b=this;return b.lock(),a=b.view.fireEvent.apply(b.view,arguments),b.unlock(),a},getTargetFromEvent:function(k){var d,c,b,g,a,h,j=k.getTarget(this.view.getItemSelector());if(!j)for(d=k.getY(),g=0,c=this.view.getNodes(),a=c.length;g<a;g++)if(b=c[g],h=Ext.fly(b).getBox(),d<=h.bottom)return b;return j},getIndicator:function(){var a=this;return a.indicator||(a.indicator=new Ext.Component({ariaRole:"presentation",html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:!0,alignOnScroll:!1,shadow:!1})),a.indicator},getPosition:function(c,a){var g=c.getXY()[1],b=Ext.fly(a).getRegion();return b.bottom-g>=(b.bottom-b.top)/2?"before":"after"},containsRecordAtOffset:function(d,b,g){if(!b)return!1;var a=this.view,c=a.indexOf(b),e=a.getNode(c+g),h=e?a.getRecord(e):null;return h&&Ext.Array.contains(d,h)},positionIndicator:function(b,c,d){var j,g=this,i=g.view,h=g.getPosition(d,b),k=i.getRecord(b),a=c.records;Ext.Array.contains(a,k)||("before"!==h||g.containsRecordAtOffset(a,k,-1))&&("after"!==h||g.containsRecordAtOffset(a,k,1))?g.invalidateDrop():(g.valid=!0,g.overRecord===k&&g.currentPosition===h||(j=Ext.fly(b).getY()-i.el.getY()-1,"after"===h&&(j+=Ext.fly(b).getHeight()),g.getIndicator().setWidth(Ext.fly(i.el).getWidth()).showAt(0,j),g.overRecord=k,g.currentPosition=h))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(c,a,g,d){var b=this;return Ext.Array.contains(d.records,b.view.getRecord(c))||b.positionIndicator(c,d,g),b.valid?b.dropAllowed:b.dropNotAllowed},notifyOut:function(c,a,g,d){var b=this;Ext.dd.DropZone.prototype.notifyOut.apply(this,arguments),b.overRecord=b.currentPosition=null,b.valid=!1,b.indicator&&b.indicator.hide()},onContainerOver:function(a,h,g){var d=this,b=d.view;return b.dataSource.getCount()?d.positionIndicator(b.all.last(),g,h):(d.overRecord=d.currentPosition=null,d.getIndicator().setWidth(Ext.fly(b.el).getWidth()).showAt(0,0),d.valid=!0),d.dropAllowed},onContainerDrop:function(a,c,b){return this.onNodeDrop(a,null,c,b)},onNodeDrop:function(i,a,h,g){var d=this,c=!1,b={wait:!1,processDrop:function(){d.invalidateDrop(),d.handleNodeDrop(g,d.overRecord,d.currentPosition),c=!0,d.fireViewEvent("drop",i,g,d.overRecord,d.currentPosition)},cancelDrop:function(){d.invalidateDrop(),c=!0}},j=!1;if(d.valid){if(j=d.fireViewEvent("beforedrop",i,g,d.overRecord,d.currentPosition,b),b.wait)return;!1!==j&&(c||b.processDrop())}return j},destroy:function(){this.indicator=Ext.destroy(this.indicator),Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,"DropZone"],0),Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"></div><div class="x-grid-drop-indicator-right" role="presentation"></div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(c,d,e){var h,a,b,g,j=this.view,k=j.getStore(),l=j!==c.view;if(c.copy)for(a=c.records,b=0,g=a.length;b<g;b++)a[b]=a[b].copy();else l&&c.view.store.remove(c.records);d&&e?(h=k.indexOf(d),"before"!==e&&h++,k.insert(h,c.records)):k.add(c.records),l&&j.getSelectionModel().select(c.records),j.getNavigationModel().setPosition(c.records[0])}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0),Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:!1,config:{dynamic:!1},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(b){var a=this;a.headerCt=b,b.on("render",a.afterHeaderRender,a,{single:a}),a.minColWidth||(a.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var b=this,a=b.tracker;a&&(a.destroy(),b.tracker=null),b.headerCt.un("render",b.afterHeaderRender,b),b.headerCt=null,Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var b=this,c=b.headerCt,a=c.el;c.mon(a,"mousemove",b.onHeaderCtMouseMove,b),b.markerOwner=b.ownerGrid=b.headerCt.up("tablepanel").ownerGrid,b.tracker=new Ext.dd.DragTracker({disabled:b.disabled,onBeforeStart:b.onBeforeStart.bind(b),onStart:b.onStart.bind(b),onDrag:b.onDrag.bind(b),onEnd:b.onEnd.bind(b),onCancel:b.onCancel.bind(b),
tolerance:3,autoStart:300,el:a}),c.setTouchAction({panX:!1})},onHeaderCtMouseMove:function(b){var a=this;a.headerCt.dragging||a.disabled?a.activeHd&&(a.activeHd.el.dom.style.cursor="",delete a.activeHd):"touch"!==b.pointerType&&a.findActiveHeader(b)},findActiveHeader:function(g){var l,i,b,d,h=this,c=h.headerCt,j=g.getTarget("."+h.colHeaderCls,c.el,!0),k=h.ownerGrid,a=k.ownerLockable;if(h.activeHd=null,j){if(l=Ext.getCmp(j.id),l.isAtEndEdge(g)){if(1===c.visibleColumnManager.getColumns().length&&c.forceFit)return;i=l}else l.isAtStartEdge(g)&&(b=c.visibleColumnManager.getColumns(),d=l.isGroupHeader?l.getGridColumns()[0]:l,(i=b[Ext.Array.indexOf(b,d)-1])||!a||k.isLocked||(b=a.lockedGrid.headerCt.visibleColumnManager.getColumns(),i=b[b.length-1]));i?(i.isGroupHeader&&(b=i.getGridColumns(),i=b[b.length-1]),i&&!i.fixed&&!1!==i.resizable&&(h.activeHd=i,l.el.dom.style.cursor=h.eResizeCursor,l.triggerEl&&(l.triggerEl.dom.style.cursor=h.eResizeCursor))):(l.el.dom.style.cursor="",l.triggerEl&&(l.triggerEl.dom.style.cursor=""))}return h.activeHd},onBeforeStart:function(b){var a=this;return a.dragHd=a.activeHd||"touch"===b.pointerType&&a.findActiveHeader(b),a.dragHd&&!a.headerCt.dragging?(b.claimGesture(),a.xDelta=a.dragHd.getX()+a.dragHd.getWidth()-a.tracker.getXY()[0],a.tracker.constrainTo=a.getConstrainRegion(),!0):(a.headerCt.dragging=!1,!1)},onCancel:function(a){this.dragHd=this.activeHd=null,this.headerCt.dragging=!1},getConstrainRegion:function(){var e,a,g=this,b=g.dragHd.el,h=g.ownerGrid,d=h.getSizeModel().width,c=d.shrinkWrap?g.headerCt.getWidth()-g.headerCt.visibleColumnManager.getColumns().length*g.minColWidth:g.maxColWidth;return g.headerCt.forceFit?(e=g.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&g.headerInSameGrid(e)&&(c=b.getWidth()+(e.getWidth()-g.minColWidth)):h.isLocked&&d.shrinkWrap&&(c=g.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-h.getWidth()-(h.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*g.minColWidth+Ext.getScrollbarSize().width)),a=g.adjustConstrainRegion(b.getRegion(),0,0,0,g.minColWidth),a.right=b.getX()+c,a},onStart:function(h){var l,k,c,a,j,m,i=this,g=i.dragHd,b=g.el.getWidth(),d=g.getRootHeaderCt();i.headerCt.dragging=!0,i.origWidth=b,i.dynamic||(c=i.markerOwner,c.frame&&c.resizable&&(i.gridOverflowSetting=c.el.dom.style.overflow,c.el.dom.style.overflow="hidden"),l=i.getLeftMarkerX(c),a=c.getLhsMarker(),j=c.getRhsMarker(),m=i.ownerGrid.body.getHeight()+d.getHeight(),k=d.getOffsetsTo(c)[1]-c.el.getBorderWidth("t"),a.dom.style.cursor=i.eResizeCursor,j.dom.style.cursor=i.eResizeCursor,a.setLocalY(k),j.setLocalY(k),a.setHeight(m),j.setHeight(m),i.setMarkerX(a,l),i.setMarkerX(j,l+b))},onDrag:function(b){var a=this;a.dynamic?a.doResize():a.setMarkerX(a.getMovingMarker(a.markerOwner),a.calculateDragX(a.markerOwner))},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(b){var a=this,c=a.markerOwner;a.headerCt.dragging=!1,a.dragHd&&(a.dynamic||("gridOverflowSetting"in a&&(c.el.dom.style.overflow=a.gridOverflowSetting),a.setMarkerX(c.getLhsMarker(),-9999),a.setMarkerX(c.getRhsMarker(),-9999)),a.doResize(),"touch"!==b.pointerType?(a.dragHd=null,a.activeHd.el.dom.style.cursor=a.eResizeCursor):a.dragHd=a.activeHd=null),a.headerCt.blockNextEvent()},doResize:function(){var a,c=this,b=c.dragHd,d=c.tracker.getOffset("point");b&&d[0]&&(b.flex&&delete b.flex,Ext.suspendLayouts(),c.adjustColumnWidth(d[0]-c.xDelta),c.headerCt.forceFit&&(a=b.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),a&&!c.headerInSameGrid(a)&&(a=null),a&&(delete a.flex,a.setWidth(a.getWidth()-d[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(b){var a=this.dragHd.up("tablepanel");return!!b.up(a)},disable:function(){var a=this.tracker;this.disabled=!0,a&&a.disable()},enable:function(){var a=this.tracker;this.disabled=!1,a&&a.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]+this.xDelta-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(b,a){b.setLocalX(a)},adjustConstrainRegion:function(g,d,e,a,c){return g.adjust(d,e,a,c)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0),Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(b){var a=this;a.headerCt=b,a.ddGroup=a.getDDGroup(),a.autoGroup=!0,Ext.dd.DragZone.prototype.constructor.call(this,b.el),a.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(b){if(b.getTarget(this.colInnerSelector)){var a,c,d=b.getTarget(this.colHeaderSelector);if(d&&(a=Ext.getCmp(d.id),!this.headerCt.dragging&&a.draggable&&!a.isAtStartEdge(b)&&!a.isAtEndEdge(b)))return c=document.createElement("div"),c.role="presentation",c.innerHTML=a.text,{ddel:c,header:a}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.headerCt.hideMenu(),Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=!1,Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0),Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(b){var a=this;a.headerCt=b,a.ddGroup=a.getDDGroup(),a.autoGroup=!0,Ext.dd.DropZone.prototype.constructor.call(this,b.el)},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator),Ext.dd.DropZone.prototype.destroy.call(this)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})),this.bottomIndicator},getLocation:function(d,b){var g,a=d.getXY()[0],c=Ext.fly(b).getRegion();return g=c.right-a<=(c.right-c.left)/2?"after":"before",{pos:g,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(z,p,v){var c,u,m,s,t,a,b,l,n,x,w,o,j,r,h,y=this,q=z.header,g=y.getLocation(v,p),k=g.header,d=g.pos;if(k!==y.lastTargetHeader||d!==y.lastDropPos){if(c=q.nextSibling("gridcolumn:not([hidden])"),u=q.previousSibling("gridcolumn:not([hidden])"),y.lastTargetHeader=k,y.lastDropPos=d,!k.draggable&&"before"===d&&0===k.getIndex())return!1;if(z.dropLocation=g,q!==k&&("before"===d&&c!==k||"after"===d&&u!==k)&&!k.isDescendantOf(q)){for(o=Ext.dd.DragDropManager.getRelated(y),j=o.length,r=0;r<j;r++)(h=o[r])!==y&&h.invalidateDrop&&h.invalidateDrop();y.valid=!0,m=y.getTopIndicator(),s=y.getBottomIndicator(),"before"===d?(t="bc-tl",a="tc-bl"):(t="bc-tr",a="tc-br"),b=m.getAlignToXY(k.el,t),l=s.getAlignToXY(k.el,a),n=y.headerCt.el,x=n.getX()-y.indicatorXOffset,w=n.getX()+n.getWidth(),b[0]=Ext.Number.constrain(b[0],x,w),l[0]=Ext.Number.constrain(l[0],x,w),m.setXY(b),s.setXY(l),m.show(),s.show()}else y.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(c,h,g,d){var a,l,b,j,i=this,k=d.header;return d.header.el.dom===c?a=!1:(d.isLock=d.isUnlock=d.crossPanel=!1,l=i.getLocation(g,c).header,(a=k.ownerCt===l.ownerCt)||k.ownerCt.sealed||l.ownerCt.sealed||(a=!0,b=k.up("tablepanel"),j=l.up("tablepanel"),b!==j&&(d.crossPanel=!0,d.isLock=j.isLocked&&!b.isLocked,d.isUnlock=!j.isLocked&&b.isLocked,(d.isUnlock&&!1===k.lockable||d.isLock&&!k.isLockable())&&(a=!1)))),a?i.positionIndicator(d,c,g):i.valid=!1,i.valid?i.dropAllowed:i.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide(),a.getBottomIndicator().hide(),a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(d,b){var c,a=d.items;return d.isGroupHeader&&a.length&&(c=b?"last":"first",d=this.getNestedHeader(a[c](),b)),d},onNodeDrop:function(m,c,q,t){if(this.headerCt.blockNextEvent(),this.valid){var b,k,i,g,r=this,n=t.header,h=t.dropLocation,p=h.pos,j=h.header,s=n.ownerCt,l=s.getRootHeaderCt(),a=j.ownerCt,d=r.headerCt.visibleColumnManager,o=d.getHeaderIndex(n);t.isLock||t.isUnlock?(i=s.up("[scrollerOwner]"),b=a.items.indexOf(j),"after"===p&&b++,t.isLock?i.lock(n,b,a):i.unlock(n,b,a)):(b="after"===p?d.getHeaderIndex(r.getNestedHeader(j,1))+1:d.getHeaderIndex(r.getNestedHeader(j,0)),r.invalidateDrop(),g=n.getWidth(),Ext.suspendLayouts(),l.isDDMoveInGrid=!t.crossPanel,n.isGroupHeader&&j.isGroupHeader&&n.setNestedParent(j),"before"===p?a.moveBefore(n,j):a.moveAfter(n,j),b>=0&&(!j.isGroupHeader||j.items&&j.items.length)&&o!==b&&(k=n.isGroupHeader?n.query(":not([hidden]):not([isGroupHeader])").length:1,o<=b&&k>1&&(b-=k),a.getRootHeaderCt().grid.view.moveColumn(o,b,k)),l.fireEvent("columnmove",s,n,o,b),l.isDDMoveInGrid=!1,a.isGroupHeader&&!s.isGroupHeader?s!==a&&(n.savedFlex=n.flex,delete n.flex,n.width=g):s.isGroupHeader||n.savedFlex&&(n.flex=n.savedFlex,delete n.width),Ext.resumeLayouts(!0),r.headerCt.grid.floated&&r.headerCt.grid.updateLayout())}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0),Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(a){this.headerCt=a,a.on({boxready:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){var a=this;a.headerCt.un("boxready",a.onHeaderCtRender,a),Ext.destroy(a.dragZone,a.dropZone),a.headerCt=a.dragZone=a.dropZone=null,Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(b){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt),a.dropZone=new Ext.grid.header.DropZone(a.headerCt),a.disabled&&a.dragZone.disable(),b.setTouchAction({panX:!1})},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0),Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:!0,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",blockEvents:!1,dragging:!1,sortOnClick:!0,enableFocusableContainer:!1,childHideCount:0,sortable:!0,enableColumnHide:!0,initComponent:function(){var a=this;a.plugins=a.plugins||[],a.defaults=a.defaults||{},a.isColumn||(a.isRootHeader=!0,a.enableColumnResize&&(a.resizer=new Ext.grid.plugin.HeaderResizer,a.plugins.push(a.resizer)),a.enableColumnMove&&(a.reorderer=new Ext.grid.plugin.HeaderReorderer,a.plugins.push(a.reorderer))),a.isColumn&&!a.isGroupHeader?a.items&&0!==a.items.length||(a.isContainer=a.isFocusableContainer=!1,a.hasOwnProperty("focusable")||(a.focusable=!0),a.layout={type:"container",calculate:Ext.emptyFn}):(a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout),a.defaults.columnLines=a.columnLines,a.isRootHeader?(a.hiddenHeaders||(a.enableFocusableContainer=!0,a.ariaRole="rowgroup"),a.columnManager=new Ext.grid.ColumnManager(!1,a),a.visibleColumnManager=new Ext.grid.ColumnManager(!0,a),a.grid&&(a.grid.columnManager=a.columnManager,a.grid.visibleColumnManager=a.visibleColumnManager)):(a.visibleColumnManager=new Ext.grid.ColumnManager(!0,a),a.columnManager=new Ext.grid.ColumnManager(!1,a))),a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a),Ext.container.Container.prototype.initComponent.call(this)},isNested:function(){return!!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var b=this,a=b.getRefOwner().query(">:not([hidden])");return 1===a.length&&a[0]===b},maybeShowNestedGroupHeader:function(){var b,a=this.items;a&&1===a.length&&(b=a.getAt(0))&&b.hidden&&b.show()},setNestedParent:function(a){a.isNestedParent=!1,a.ownerCt.isNestedParent=!(1!==this.ownerCt.items.length||1!==a.ownerCt.items.length)},initEvents:function(){var a,b,c=this;Ext.container.Container.prototype.initEvents.call(this),c.isColumn||c.isGroupHeader||(a=c.onHeaderCtEvent,b={click:a,dblclick:a,contextmenu:a,mousedown:c.onHeaderCtMouseDown,mouseover:c.onHeaderCtMouseOver,mouseout:c.onHeaderCtMouseOut,scope:c},Ext.supports.Touch&&(b.longpress=c.onHeaderCtLongPress),c.mon(c.el,b))},onHeaderCtEvent:function(d,b){var h,g,a,c=this,i=c.getHeaderElByEvent(d);if(c.longPressFired)return void(c.longPressFired=!1);i&&!c.blockEvents&&(h=Ext.getCmp(i.id))&&(g=h[h.clickTargetName],(!h.isGroupHeader&&!h.isContainer||d.within(g))&&("click"===d.type||"tap"===d.type?(a=h.onTitleElClick(d,g,c.sortOnClick),a?c.onHeaderTriggerClick(a,d,"touch"===d.pointerType?a.el:a.triggerEl):c.onHeaderClick(h,d,b)):"contextmenu"===d.type?c.onHeaderContextMenu(h,d,b):"dblclick"===d.type&&h.resizable&&h.onTitleElDblClick(d,g.dom)))},blockNextEvent:function(){this.blockEvents=!0,Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=!1},onHeaderCtMouseDown:function(k,j){var h,d,a,g,c,b=Ext.Component.fromElement(j);if(b!==this){if(b.isGroupHeader)for(h=b.getVisibleGridColumns(),g=this.getScrollable(),d=0,a=h.length;d<a;++d)if(c=h[d],g.doIsInView(c.el,!0).x){b=c;break}b.focus()}},onHeaderCtMouseOver:function(b,a){var g,d,c;b.within(this.el,!0)||(g=b.getTarget("."+Ext.grid.column.Column.prototype.baseCls),(d=g&&Ext.getCmp(g.id))&&(c=d[d.clickTargetName],b.within(c)&&d.onTitleMouseOver(b,c.dom)))},onHeaderCtMouseOut:function(g,c){var i,h,d="."+Ext.grid.column.Column.prototype.baseCls,b=g.getTarget(d),a=g.getRelatedTarget(d);b!==a&&(b&&(i=Ext.getCmp(b.id))&&(h=i[i.clickTargetName],i.onTitleMouseOut(g,h.dom)),a&&(i=Ext.getCmp(a.id))&&(h=i[i.clickTargetName],i.onTitleMouseOver(g,h.dom)))},onHeaderCtLongPress:function(b){var c,a=this,d=a.getHeaderElByEvent(b);d&&(c=Ext.getCmp(d.id))&&!c.menuDisabled&&(a.longPressFired=!0,a.showMenuBy(b,d,c))},getHeaderElByEvent:function(a){return a.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return!this.hiddenHeaders&&Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},doDestroy:function(){var a=this;a.menu&&a.menu.un("hide",a.onMenuHide,a),a.menuTask.cancel(),Ext.destroy(a.visibleColumnManager,a.columnManager,a.menu),Ext.container.Container.prototype.doDestroy.call(this)},applyColumnsState:function(q,e){if(q){var b,d,a,k,o=this,m=o.items.items,l=m.length,h=0,p=!1,j=[],g=[];for(h=0;h<l;h++)d=m[h],a=q[d.getStateId()],a?(k=a.index,j[k]=d,h!==k&&(p=!0),d.applyColumnState&&d.applyColumnState(a,e)):g.push({index:h,column:d});if(j=Ext.Array.clean(j),b=g.length)for(h=0;h<b;h++)a=g[h],k=a.index,k<j.length?(p=!0,Ext.Array.splice(j,k,0,a.column)):j.push(a.column);p&&(o.applyingState=!0,o.removeAll(!1),delete o.applyingState,o.add(j),o.purgeCache())}},getColumnsState:function(){var c,b=this,a=[];return b.items.each(function(d){(c=d.getColumnState&&d.getColumnState())&&a.push(c)}),a},onAdd:function(d){var a,b=this;Ext.container.Container.prototype.onAdd.apply(this,arguments),a=b.getRootHeaderCt(),b.onHeadersChanged(d,a&&a.isDDMoveInGrid)},move:function(c,e){var a,d=this,b=d.items;c.isComponent?(a=c,c=b.indexOf(a)):a=b.getAt(c),a.visibleFromIdx=d.getRootHeaderCt().visibleColumnManager.indexOf(a),Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(a,d,h){var c,g=this,e=g.getRootHeaderCt(),b=e.visibleColumnManager,i=1;g.onHeadersChanged(a,!0),c=b.indexOf(a),c>=a.visibleFromIdx&&c++,Ext.container.Container.prototype.onMove.apply(this,arguments),a.isGroupHeader&&(i=a.visibleColumnManager.getColumns().length),e.onHeaderMoved(a,i,a.visibleFromIdx,c)},maybeContinueRemove:function(){var a=this;return a.isGroupHeader&&!a.applyingState&&!a.isNestedParent&&a.ownerCt&&!a.items.getCount()},onRemove:function(e,b){var d=this,a=d.ownerCt;Ext.container.Container.prototype.onRemove.call(this,e,b),d.destroying||(d.getRootHeaderCt().isDDMoveInGrid||d.onHeadersChanged(e,!1),d.maybeContinueRemove()&&(e.rendered&&d.detachComponent(e),d.destroyAfterRemoving=!0,Ext.suspendLayouts(),a.remove(d,!1),Ext.resumeLayouts(!0)))},onHeadersChanged:function(e,a){var b,d=this.getRootHeaderCt();this.purgeHeaderCtCache(this),d&&(d.onColumnsChanged(),(b=d.ownerCt)&&!a&&b.onHeadersChanged(d,e))},onHeaderMoved:function(g,a,c,e){var d=this,b=d.ownerCt;d.rendered&&(b&&b.onHeaderMove&&b.onHeaderMove(d,g,a,c,e),d.fireEvent("columnmove",d,g,c,e))},onColumnsChanged:function(){var a,b,c=this,d=c.menu;c.rendered&&(c.fireEvent("columnschanged",c),d&&(a=d.child("#columnItemSeparator"),b=d.child("#columnItem"),a&&a.destroy(),b&&b.destroy()))},lookupComponent:function(b){var a=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);return a.isGroupHeader||void 0!==a.width||a.flex||(a.width=this.defaultWidth),a},setSortState:function(){var c,g,e,b=this.up("[store]").store,d=this.visibleColumnManager.getColumns(),a=d.length;for(c=0;c<a;c++)g=d[c],e=g.getSorter(),e?b.getSorters().contains(e)||(e=null):e=b.getSorters().get(g.getSortParam()),g.setSortState(e)},getHeaderMenu:function(){var a,b=this.getMenu();return b&&(a=b.child("#columnItem"))?a.menu:null},onHeaderVisibilityChange:function(e,d){var a,b=this,c=b.getHeaderMenu();b.purgeHeaderCtCache(e.ownerCt),c&&(a=b.getMenuItemForHeader(c,e),a&&a.setChecked(d,!0),c.isVisible()&&b.menuTask.delay(50))},updateMenuDisabledState:function(h){var c,e,b,j,g=this,d=g.query("gridcolumn:not([hidden])"),a=d.length;for(h||(h=g.getMenu()),c=0;c<a;++c)e=d[c],(b=g.getMenuItemForHeader(h,e))&&(j=e.isHideable()?"enable":"disable",b.menu&&(j+="CheckChange"),b[j]())},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(d){var c=this,b=c.ownerCt,a=d.lastHiddenHeader;b&&(c.forceFit&&delete c.flex,a&&!d.query("[hidden=false]").length&&(a.show(),d.lastHiddenHeader=null),c.onHeaderVisibilityChange(d,!0),b.onHeaderShow(c,d),c.fireEvent("columnshow",c,d),c.fireEvent("columnschanged",this))},onHeaderHide:function(c){var b=this,a=b.ownerCt;a&&(b.onHeaderVisibilityChange(c,!1),a.onHeaderHide(b,c),b.fireEvent("columnhide",b,c),b.fireEvent("columnschanged",this))},onHeaderResize:function(d,a){var c=this,b=c.ownerCt;b&&b.onHeaderResize(c,d,a),c.fireEvent("columnresize",c,d,a)},onHeaderClick:function(h,g,c){var b,d=this,a=h.getView().getSelectionModel();return h.fireEvent("headerclick",d,h,g,c),b=d.fireEvent("headerclick",d,h,g,c),!1!==b&&a.onHeaderClick&&a.onHeaderClick(d,h,g),b},onHeaderContextMenu:function(c,b,a){c.fireEvent("headercontextmenu",this,c,b,a),this.fireEvent("headercontextmenu",this,c,b,a)},onHeaderTriggerClick:function(d,c,a){var b=this;!1!==d.fireEvent("headertriggerclick",b,d,c,a)&&!1!==b.fireEvent("headertriggerclick",b,d,c,a)&&(d.activeMenu?c.pointerType?d.activeMenu.hide():d.activeMenu.focus():b.showMenuBy(c,a,d))},showMenuBy:function(a,d,i){var c,g=this.getMenu(),h=g.down("#ascItem"),e=g.down("#descItem");a&&a.pointerType,g.activeHeader=g.ownerCmp=i,i.setMenuActive(g),c=i.sortable?"enable":"disable",h&&h[c](),e&&e[c](),g.autoFocus=!a||a.keyCode,g.showBy(d,"tl-bl?"),g.isVisible()||this.onMenuHide(g)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(a){for(;a;){if(a.purgeCache(),a.isRootHeader)return;a=a.ownerCt}},purgeCache:function(){var c=this,b=c.visibleColumnManager,a=c.columnManager;c.gridVisibleColumns=c.gridDataColumns=c.hideableColumns=null,b&&(b.invalidate(),a.invalidate())},getMenu:function(){var b=this,a=b.view&&b.view.ownerGrid;return b.menu||(b.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:b.getMenuItems(),listeners:{beforeshow:b.beforeMenuShow,hide:b.onMenuHide,scope:b}}),b.fireEvent("menucreate",b,b.menu),a&&a.fireEvent("headermenucreate",a,b.menu,b)),b.menu},beforeMenuShow:function(e){var a,d,c=this;e.child("#columnItem")||(a=c.enableColumnHide?c.getColumnMenu(c):null,d=c.sortable?2:0,a&&a.length&&e.insert(d,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:c.columnsText,iconCls:c.menuColsIcon,menu:{items:a},hideOnClick:!1}])),c.updateMenuDisabledState(c.menu)},getMenuItems:function(){var c=this,b=[],a=c.enableColumnHide?c.getColumnMenu(c):null;return c.sortable&&(b=[{itemId:"ascItem",text:c.sortAscText,iconCls:c.menuSortAscCls,handler:c.onSortAscClick,scope:c},{itemId:"descItem",text:c.sortDescText,iconCls:c.menuSortDescCls,handler:c.onSortDescClick,scope:c}]),a&&a.length&&(c.sortable&&b.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),b.push({itemId:"columnItem",text:c.columnsText,iconCls:c.menuColsIcon,menu:a,hideOnClick:!1})),b},onSortAscClick:function(){this.getMenu().activeHeader.sort("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.sort("DESC")},getColumnMenu:function(g){for(var e,d,c=[],b=0,a=g.query(">gridcolumn[hideable]"),h=a.length;b<h;b++)e=a[b],d=new Ext.menu.CheckItem({text:e.menuText||e.text,checked:!e.hidden,hideOnClick:!1,headerId:e.id,menu:e.isGroupHeader?this.getColumnMenu(e):void 0,checkHandler:this.onColumnCheckChange,scope:this}),c.push(d);return c.length?c:null},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c.rendered?c[b?"show":"hide"]():c.hidden=!b},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var a,c=0,b=this.getVisibleGridColumns(),d=b.length;for(a=0;a<d;a++)c+=b[a].getCellWidth()||0;return c},getVisibleGridColumns:function(){var c,e,b,a,d,g,h=this;if(h.gridVisibleColumns)return h.gridVisibleColumns;for(c=h.getGridColumns(),e=h.getRootHeaderCt(),b=[],a=c.length,d=0;d<a;d++)g=c[d],g.hidden||g.isColumnHidden(e)||(b[b.length]=g);return h.gridVisibleColumns=b,b},isColumnHidden:function(b){for(var a=this.getRefOwner();a&&a!==b;){if(a.hidden)return!0;a=a.getRefOwner()}return!1},getGridColumns:function(h,a){if(!h&&this.gridDataColumns)return this.gridDataColumns;var e,b,d,j,c,g=this,k=h||[];if(a=a||g.hidden,g.items&&(e=g.items.items))for(b=0,d=e.length;b<d;b++)j=e[b],j.isGroupHeader?(j.visibleIndex=k.length,j.getGridColumns(k,a)):(j.hiddenAncestor=a,k.push(j));if(h||(g.gridDataColumns=k),!h&&d){for(b=0,d=k.length;b<d;b++)j=k[b],j.fullColumnIndex=b,j.isFirstVisible=j.isLastVisible=!1,j.hidden||j.hiddenAncestor||(c||(j.isFirstVisible=!0),c=j);c&&(c.isLastVisible=!0)}return k},getHideableColumns:function(){var b=this,a=b.hideableColumns;return a||(a=b.hideableColumns=b.query("[hideable]")),a},getHeaderIndex:function(a){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(a)},applyForceFit:function(h){var l,g,r,k,c,n=this,o=n.view,b=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,d=!1,s=Ext.grid.header.Container.prototype.defaultWidth,a=n.el.dom.clientWidth-(o.el.dom.scrollHeight>o.el.dom.clientHeight?Ext.getScrollbarSize().width:0),e=0,m=n.getVisibleGridColumns(),j=h.hidden;Ext.suspendLayouts(),k=a-(m.length+1)*b,h.flex=null,j?(c=h.width||h.savedWidth||Math.floor(k/(m.length+1)),h.savedWidth=null):c=o.getMaxContentWidth(h),c>k?(h.width=k,d=!0):(h.width=c,a-=c+s,function(){for(g=0,l=m.length;g<l;g++)(r=m[g])!==h&&(r.flex=r.flex||r.width||r.getWidth(),e+=r.flex,r.width=null)}()),function(){var i;for(g=0,l=m.length;g<l;g++)r=m[g],i=r===h,d&&!i?(r.flex=b,r.width=null):i||(c=r.flex||s,r.flex=Math.max(Math.ceil(c/e*a),b),r.width=null),r.setWidth(r.width||r.flex)}(),Ext.resumeLayouts(!0)},autoSizeColumn:function(b){var a=this.view;a&&(a.autoSizeColumn(b),this.forceFit&&this.applyForceFit(b))},getRefItems:function(b){var a=Ext.container.Container.prototype.getRefItems.call(this,b);return this.menu&&a.push(this.menu),a},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(a){var b=this;return new Ext.util.KeyNav(a,{scope:b,down:b.showHeaderMenu,left:b.onFocusableContainerLeftKey,right:b.onFocusableContainerRightKey,home:b.onHomeKey,end:b.onEndKey,space:b.onHeaderActivate,enter:b.onHeaderActivate})},onHomeKey:function(a){return this.focusChild(null,!0,a)},onEndKey:function(a){return this.focusChild(null,!1,a)},showHeaderMenu:function(b){var a=this.getFocusableFromEvent(b);a&&a.isColumn&&a.triggerEl&&this.onHeaderTriggerClick(a,b,a.triggerEl)},onHeaderActivate:function(d){var a,b,c=this.getFocusableFromEvent(d);if(c&&c.isColumn)return a=c.getView(),c.sortable&&this.sortOnClick?(b=a.getNavigationModel().getLastFocused(),c.toggleSortState(),b&&a.ownerCt.ensureVisible(b.record)):d.getKey()===d.SPACE&&c.onTitleElClick(d,d.target,this.sortOnClick),this.onHeaderClick(c,d,c.el)},onOwnerGridReconfigure:function(a,b){var c=this;!c.rendered||c.destroying||c.destroyed||(a||b)&&c.initFocusableContainer()}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0),Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1,sorter:null,align:"start"},baseCls:"x-column-header",hoverCls:"x-column-header-over",ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header</tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',"x-",'column-header-text-container">','<div role="presentation" class="',"x-",'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',"x-","column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',"x-",'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:" ",menuText:null,emptyCellText:" ",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:!0,ignoreExport:!1,exportStyle:null,isHeader:!0,isColumn:!0,scrollable:!1,requiresMenu:!1,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var a=this;a.rendererScope||(a.rendererScope=a.scope),null!=a.header&&(a.text=a.header,a.header=null),a.cellWrap&&(a.tdCls=(a.tdCls||"")+" x-wrap-cell"),null!=a.columns?(a.isGroupHeader=!0,a.ariaRole="presentation",a.items=a.columns,a.columns=null,a.cls=(a.cls||"")+" "+a.groupHeaderCls,a.sortable=a.resizable=!1,a.align="center"):a.flex&&(a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),a.addCls("x-column-header-align-"+a.align),a.setupRenderer(),a.setupRenderer("edit"),a.setupRenderer("summary"),Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},beforeLayout:function(){var b,d,a,c=this.items;if(Ext.isArray(c)||(c=c.items),b=c.length){for(d=0;!a&&d<b;d++)a=c[d].flex;a||(this.flex=null)}Ext.grid.header.Container.prototype.beforeLayout.call(this)},onAdded:function(b,d,a){var c=this;Ext.grid.header.Container.prototype.onAdded.call(this,b,d,a),c.headerId||c.calculateHeaderId(),c.configureStateInfo()},_initSorterFn:function(d,c){var k=this,j=k.column,i=j.resolveListenerScope(),g=k.methodName,h=i&&i[g],e=0;return h&&(k.setSorterFn(h),k.column=null,e=h.call(i,d,c)),e},applySorter:function(d){var a,c=this,b=d?d.sorterFn:null;return"string"==typeof b?(a=new Ext.util.Sorter(Ext.applyIf({sorterFn:c._initSorterFn},d)),a.methodName=b,a.column=c):a=c.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(d),a},updateAlign:function(a){this.textAlign=this._alignMap[a]||a},bindFormatter:function(b){var a=this;return function(c){return b(c,a.rendererScope||a.resolveListenerScope())}},bindRenderer:function(b){var a=this;return a.hasCustomRenderer=!0,function(){return Ext.callback(b,a.rendererScope,arguments,0,a)}},setupRenderer:function(b){b=b||"column";var h,e,c=this,g=c[c.formatterNames[b]],d=c[c.rendererNames[b]],a="column"===b;g?(h=Ext.app.bind.Parser.fly(g),g=h.compileFormat(),h.release(),c[c.formatterNames[b]]=null,c[c.rendererNames[b]]=c.bindFormatter(g)):d?("string"==typeof d&&(d=c[c.rendererNames[b]]=c.bindRenderer(d),e=!0),a&&(c.hasCustomRenderer=e||d.length>1)):a&&c.defaultRenderer&&(c.renderer=c.defaultRenderer,c.usingDefaultRenderer=!0)},getView:function(){var a=this.getRootHeaderCt();if(a)return a.view},onFocusLeave:function(a){Ext.grid.header.Container.prototype.onFocusLeave.call(this,a),this.activeMenu&&this.activeMenu.hide()},initItems:function(){var a=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments),a.isGroupHeader&&(!a.config.hidden&&a.hasVisibleChildColumns()||a.hide())},hasVisibleChildColumns:function(){var c,d,b=this.items.items,a=b.length;for(c=0;c<a;++c)if(d=b[c],d.isColumn&&!d.hidden)return!0;return!1},onAdd:function(b){var a=this;b.isColumn&&(b.isSubHeader=!0,b.addCls(a.groupSubHeaderCls)),a.isGroupHeader&&a.hidden&&a.hasVisibleChildColumns()&&a.show(),Ext.grid.header.Container.prototype.onAdd.call(this,b)},onRemove:function(c,a){var b=this;c.isSubHeader&&(c.isSubHeader=!1,c.removeCls(b.groupSubHeaderCls)),Ext.grid.header.Container.prototype.onRemove.call(this,c,a),b.destroyed||b.destroying||b.hasVisibleChildColumns()||!b.ownerCt||b.ownerCt.isNested()||b.hide()},initRenderData:function(){var b=this,e="",c=b.tooltip,d=b.text,a="qtip"===b.tooltipType?"data-qtip":"title";return Ext.isEmpty(c)||(e=a+'="'+c+'" '),Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:d,empty:b.isEmptyText(d),menuDisabled:b.menuDisabled,tipMarkup:e,
triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(a,c){var e,d,j,h=this,k=h.getSorter(),g=c&&c.sorters;if(k&&g&&(e=g.length))for(j=k.getId(),d=0;d<e;d++)if(g[d].id===j){k.setDirection(g[d].direction),g[d]=k;break}h.applyColumnsState(a.columns),null!=a.hidden&&(h.hidden=a.hidden),null!=a.locked&&(h.locked=a.locked),null!=a.sortable&&(h.sortable=a.sortable),null!=a.width?(h.flex=null,h.width=a.width):null!=a.flex&&(h.width=null,h.flex=a.flex)},getColumnState:function(){var b=this,a=b.items.items,c={id:b.getStateId()};return b.savePropsToState(["hidden","sortable","locked","flex","width"],c),b.isGroupHeader&&a&&a.length&&(c.columns=b.getColumnsState()),"width"in c&&delete c.flex,c},setText:function(c){var a,b=this;b.text=c,b.rendered&&(a=b.getView().ownerGrid,b.textInnerEl.setHtml(c),b.titleEl.toggleCls("x-column-header-inner-empty",b.isEmptyText(c)),a.syncHeaderVisibility())},getIndex:function(){return!this.isGroupColumn&&this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:!this.isGroupColumn&&Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){for(var a,c=this,b=[];a=c.up("headercontainer");)a.text&&b.unshift(Ext.util.Format.stripTags(a.text)),c=a;return b},beforeRender:function(){var b,c=this,a=c.getRootHeaderCt(),d=c.isSortable(),e=[];Ext.grid.header.Container.prototype.beforeRender.call(this),c.requiresMenu||d||c.groupable||c.lockable||!1!==a.grid.enableColumnHide&&a.getHideableColumns().length||(c.menuDisabled=!0),c.cellWrap&&(c.variableRowHeight=!0),b=c.ariaRenderAttributes||(c.ariaRenderAttributes={}),b["aria-readonly"]=!0,d&&(b["aria-sort"]=c.ariaSortStates[c.sortState]),c.isSubHeader&&(e=c.getLabelChain(),c.text&&e.push(Ext.util.Format.stripTags(c.text)),e.length&&(b["aria-label"]=e.join(" "))),c.protoEl.unselectable()},getTriggerElWidth:function(){var c=this,b=c.triggerEl,a=c.self.triggerElWidth;return b&&void 0===a&&(b.setStyle("display","block"),a=c.self.triggerElWidth=b.getWidth(),b.setStyle("display","")),a},afterComponentLayout:function(d,a,b,g){var e=this,c=e.getRootHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments),c&&(null!=b||e.flex)&&d!==b&&c.onHeaderResize(e,d)},doDestroy:function(){Ext.destroy(this.field,this.editor),Ext.grid.header.Container.prototype.doDestroy.call(this)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){this.triggerEl&&this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(d){var a,c,g,b=this;if(b.isAtStartEdge(d))(a=b.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&a.getRootHeaderCt()===b.getRootHeaderCt()&&a.autoSize();else if(b.isAtEndEdge(d)){if(b.isGroupHeader&&d.getPoint().isContainedBy(b.layout.innerCt))return c=b.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void b.getRootHeaderCt().autoSizeColumn(c[c.length-1]);if(g=b.getRootHeaderCt(),1===g.visibleColumnManager.getColumns().length&&g.forceFit)return;b.autoSize()}},autoSize:function(){var c,e,a,d,b=this;if(b.isGroupHeader){for(c=b.query("gridcolumn:not([hidden]):not([isGroupHeader])"),e=c.length,d=b.getRootHeaderCt(),Ext.suspendLayouts(),a=0;a<e;a++)d.autoSizeColumn(c[a]);return Ext.resumeLayouts(!0),void(grid.ownerGrid.lockable&&grid.isLayoutRoot()&&grid.ownerGrid.syncLockableLayout())}b.getRootHeaderCt().autoSizeColumn(b)},isEmptyText:function(a){return null==a||"&#160;"===a||" "===a||""===a},onTitleElClick:function(i,c,d){var a,b,h,g=this;return"touch"===i.pointerType?(b=g.previousSibling(":not([hidden])"),g.menuDisabled||(h=parseInt(g.triggerEl.getStyle("width"),10),isNaN(h)&&(h=3*g.getHandleWidth(i)),g.isAtEndEdge(i,h)&&(a=g)),!a&&b&&!b.menuDisabled&&g.isAtStartEdge(i)&&(a=b)):a=g.triggerEl&&(i.target===g.triggerEl.dom||c===g.triggerEl||i.within(g.triggerEl))?g:null,!1===d||(a||g.isAtStartEdge(i)||g.isAtEndEdge(i))&&!i.getKey()||g.toggleSortState(),a},processEvent:function(g,b,a,c,d,h){return this.fireEvent.apply(this,arguments)},isSortable:function(){var b=this.getRootHeaderCt(),a=b?b.grid:null,c=this.sortable;return a&&!1===a.sortableColumns&&(c=!1),c},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(d){var c=this,b=c.up("tablepanel"),a=b.store,e=c.getSorter();Ext.suspendLayouts(),e?(d&&e.setDirection(d),a.sort(e,b.multiColumnSort?"multi":"replace")):a.sort(c.getSortParam(),d,b.multiColumnSort?"multi":"replace"),Ext.resumeLayouts(!0),b.ownerGrid.lockable&&b.isLayoutRoot()&&b.ownerGrid.syncLockableLayout()},getSortParam:function(){return this.dataIndex},setSortState:function(i){var g,d=this,e=i&&i.getDirection(),h=d.ascSortCls,b=d.descSortCls,c=d.getRootHeaderCt(),a=d.ariaEl.dom;switch(e){case"DESC":d.hasCls(b)||(d.addCls(b),d.sortState="DESC",g=!0),d.removeCls(h);break;case"ASC":d.hasCls(h)||(d.addCls(h),d.sortState="ASC",g=!0),d.removeCls(b);break;default:d.removeCls([h,b]),d.sortState=null}a&&(d.sortState?a.setAttribute("aria-sort",d.ariaSortStates[d.sortState]):a.removeAttribute("aria-sort")),g&&c.fireEvent("sortchange",c,d,e)},isHideable:function(){var a={hideCandidate:this,result:this.hideable};return a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]),a.result},hasOtherMenuEnabledChildren:function(a){var b,c;return this.isXType("headercontainer")?(b=this.query(">gridcolumn:not([hidden]):not([menuDisabled])"),c=b.length,Ext.Array.contains(b,a.hideCandidate)&&c--,!c&&void(a.hideCandidate=this)):(a.result=!1,!1)},isLockable:function(){var a={result:!1!==this.lockable};return a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a]),a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){return this.isXType("headercontainer")?!(this.query(">gridcolumn:not([hidden])").length>1)&&void 0:(a.result=!1,!1)},hide:function(){var c=this,b=c.getRootHeaderCt(),a=c.getRefOwner();return a.constructing?(Ext.grid.header.Container.prototype.hide.call(this),c):c.rendered&&!c.isVisible()?c:(b.forceFit&&(c.visibleSiblingCount=b.getVisibleGridColumns().length-1,c.flex&&(c.savedWidth=c.getWidth(),c.flex=null)),b.beginChildHide(),Ext.suspendLayouts(),a.isGroupHeader&&(c.isNestedGroupHeader()&&a.hide(),c.isSubHeader&&!c.isGroupHeader&&1===a.query(">gridcolumn:not([hidden])").length&&(a.lastHiddenHeader=c)),Ext.grid.header.Container.prototype.hide.call(this),b.endChildHide(),b.onHeaderHide(c),Ext.resumeLayouts(!0),b.grid.ownerGrid.lockable&&b.grid.isLayoutRoot()&&b.grid.ownerGrid.syncLockableLayout(),c)},show:function(){var c=this,a=c.getRootHeaderCt(),b=c.getRefOwner();return c.isVisible()?c:(b.isGroupHeader&&(b.lastHiddenHeader=null),c.rendered&&a.forceFit&&a.applyForceFit(c),Ext.suspendLayouts(),c.isSubHeader&&b.hidden&&b.show(!1,!0),Ext.grid.header.Container.prototype.show.apply(this,arguments),c.isGroupHeader&&c.maybeShowNestedGroupHeader(),b=c.getRootHeaderCt(),b&&b.onHeaderShow(c),Ext.resumeLayouts(!0),a.grid.ownerGrid.lockable&&a.grid.isLayoutRoot()&&a.grid.ownerGrid.syncLockableLayout(),c)},shouldUpdateCell:function(b,d){if(!this.preventUpdate){if(this.hasCustomRenderer)return 1;if(!d)return 2;var c,e,a=d.length;for(c=0;c<a;++c)if((e=d[c])===this.dataIndex||e===b.idProperty)return 2}},getCellWidth:function(){var a,b=this;return b.rendered&&b.componentLayout&&b.componentLayout.lastComponentSize?a=b.componentLayout.lastComponentSize.width:b.width?a=b.width:b.isColumn||(a=b.getTableWidth()),a},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){var a=this.getView();return(a?a.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isAtStartEdge:function(a){var b=a.getXY()[0]-this.getX();return!(b<0&&0===this.getIndex())&&b<this.getHandleWidth(a)},isAtEndEdge:function(b,a){return this.getX()+this.getWidth()-b.getXY()[0]<=(a||this.getHandleWidth(b))},getHandleWidth:function(a){return"touch"===a.pointerType?10:4},setMenuActive:function(a){this.activeMenu=a,this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(b,a){this.dirtyText&&(this.dirtyTextElementId=this.id+"-dirty-cell-text",b.push('<span id="'+this.dirtyTextElementId+'" class="x-hidden-offsets">'+this.dirtyText+"</span>"))},calculateHeaderId:function(){var g,h,b,d,c,a,e=this;if(!e.headerId){if(!(g=e.up("tablepanel")))return;if(b=e.items.items)for(c=0,a=b.length;c<a;++c)d=b[c],d.isColumn&&d.calculateHeaderId();h=g?g.ownerGrid:e.getRootHeaderCt(),h.headerCounter=(h.headerCounter||0)+1,e.headerId="h"+h.headerCounter}e.configureStateInfo()},configureStateInfo:function(){var b,a=this;a.stateId||(a.stateId=a.initialConfig.id||a.headerId),b=a.getSorter(),a.hasSetSorter||!b||b.initialConfig.id||(a.dataIndex||a.stateId)&&(b.setId((a.dataIndex||a.stateId)+"-sorter"),a.hasSetSorter=!0)}},deprecated:{5:{methods:{bindRenderer:function(a){return function(b){return Ext.util.Format[a](b)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0),Ext.cmd.derive("Ext.grid.column.ActionProxy",Ext.Base,{constructor:function(b,c,a){this.column=b,this.item=c,this.itemIndex=a},setHandler:function(a){this.item.handler=a},setDisabled:function(a){a?this.column.disableAction(this.itemIndex):this.column.enableAction(this.itemIndex)},setIconCls:function(a){this.item.iconCls=a,this.column.getView().refreshView()},setIconGlyph:function(a){this.item.glyph=a,this.column.getView().refreshView()},setHidden:function(a){this.item.hidden=a,this.column.getView().refreshView()},setVisible:function(a){this.setHidden(!a)},on:function(){return this.column.on.apply(this.column,arguments)}},1,0,0,0,0,0,[Ext.grid.column,"ActionProxy"],0),Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",stopSelection:!0,actionIdRe:new RegExp("x-action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",itemTabIndex:0,itemAriaRole:"button",maskOnDisable:!1,ignoreExport:!0,sortable:!1,innerCls:"x-grid-cell-inner-action-col",actionIconCls:"x-action-col-icon",constructor:function(d){var j,e,a,g,h=this,b=Ext.apply({},d),c=b.items||h.items||[h];for(h.origRenderer=b.renderer||h.renderer,h.origScope=b.scope||h.scope,h.renderer=h.scope=b.renderer=b.scope=null,b.items=null,Ext.grid.column.Column.prototype.constructor.call(this,b),h.items=c,e=0,a=c.length;e<a;++e)g=c[e],g.substr&&"@"===g[0]&&(g=h.getAction(g.substr(1))),g.isAction&&(c[e]=g.initialConfig,g.addComponent(new Ext.grid.column.ActionProxy(h,c[e],e))),g.getClass&&(j=!0);(h.origRenderer||j)&&(h.hasCustomRenderer=!0)},initComponent:function(){var a=this;Ext.grid.column.Column.prototype.initComponent.call(this),a.sortable&&!a.dataIndex&&(a.sortable=!1)},defaultRenderer:function(l,p,c,b,o,h,n){var r,u,x,e,g,j,t,k,d,m,w=this,a=w.origScope||w,q=w.items,s=q.length;for(x=Ext.isFunction(w.origRenderer)?w.origRenderer.apply(a,arguments)||"":"",p.tdCls+=" x-action-col-cell",r=0;r<s;r++)u=q[r],t=u.icon,k=u.glyph,e=u.disabled||!!u.isDisabled&&Ext.callback(u.isDisabled,u.scope||w.origScope,[n,b,o,u,c],0,w),g=u.tooltip||(u.getTip?Ext.callback(u.getTip,u.scope||w.origScope,arguments,0,w):null),j=u.getAltText?Ext.callback(u.getAltText,u.scope||w.origScope,arguments,0,w):u.altText||w.altText,u.hasActionConfiguration||(u.stopSelection=w.stopSelection,u.disable=Ext.Function.bind(w.disableAction,w,[r],0),u.enable=Ext.Function.bind(w.enableAction,w,[r],0),u.hasActionConfiguration=!0),k&&(k=Ext.Glyph.fly(k)),d=u!==w&&void 0!==u.tabIndex?u.tabIndex:w.itemTabIndex,m=u!==w&&void 0!==u.ariaRole?u.ariaRole:w.itemAriaRole,x+="<"+(t?"img":"div")+("number"==typeof d?' tabIndex="'+d+'"':"")+(m?' role="'+m+'"':' role="presentation"')+(t?' alt="'+j+'" src="'+u.icon+'"':"")+' class="'+w.actionIconCls+" x-action-col-"+String(r)+" "+(e?w.disabledCls+" ":" ")+(u.hidden?"x-hidden-display ":"")+(u.getClass?Ext.callback(u.getClass,u.scope||w.origScope,arguments,void 0,w):u.iconCls||w.iconCls||"")+'"'+(g?' data-qtip="'+g+'"':"")+(t?"/>":k?' style="font-family:'+k.fontFamily+'">'+k.character+"</div>":"></div>");return x},updater:function(a,e,c,b,g){var d={};Ext.fly(a).addCls(d.tdCls).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(e,d,c,null,null,g,b)},enableAction:function(b,a){var c=this;b?Ext.isNumber(b)||(b=Ext.Array.indexOf(c.items,b)):b=0,c.items[b].disabled=!1,c.up("tablepanel").el.select(".x-action-col-"+b).removeCls(c.disabledCls),a||c.fireEvent("enable",c)},disableAction:function(b,a){var c=this;b?Ext.isNumber(b)||(b=Ext.Array.indexOf(c.items,b)):b=0,c.items[b].disabled=!0,c.up("tablepanel").el.select(".x-action-col-"+b).addCls(c.disabledCls),a||c.fireEvent("disable",c)},doDestroy:function(){return this.renderer=this.items=null,Ext.grid.column.Column.prototype.doDestroy.call(this)},processEvent:function(k,m,o,b,l,i,d,q){var c,p,a,j=this,h=i.getTarget(),n="keydown"===k&&i.getKey(),g=Ext.fly(o);if(i.stopSelection=!n&&j.stopSelection,n&&(h===o||!g.contains(h))){if(h=g.query("."+j.actionIconCls,!0),1!==h.length)return;h=h[0]}if(h&&(c=h.className.match(j.actionIdRe))&&(p=j.items[parseInt(c[1],10)],a=p.disabled||!!p.isDisabled&&Ext.callback(p.isDisabled,p.scope||j.origScope,[m,b,l,p,d],0,j),p&&!a))if("mousedown"!==k||j.getView().actionableMode){if("click"===k||n===i.ENTER||n===i.SPACE){if(Ext.callback(p.handler||j.handler,p.scope||j.origScope,[m,b,l,p,i,d,q],void 0,j),m.destroyed)return!1;if(i.position.getNode()||i.position.refresh(),!m.el.contains(Ext.Element.getActiveElement()))return!1}}else i.preventDefault();return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]},shouldUpdateCell:function(){return 2}}},1,["actioncolumn"],["component","box","container","headercontainer","gridcolumn","actioncolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,actioncolumn:!0},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0),Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(a){return void 0===a?this.undefinedText:a&&"false"!==a?this.trueText:this.falseText},updater:function(a,b){Ext.fly(a).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,b)}},0,["booleancolumn"],["component","box","container","headercontainer","gridcolumn","booleancolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,booleancolumn:!0},["widget.booleancolumn"],0,[Ext.grid.column,"Boolean",Ext.grid,"BooleanColumn"],0),Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],isCheckColumn:!0,config:{headerCheckbox:!1},align:"center",triggerEvent:"click",invert:!1,ignoreExport:!0,stopSelection:!0,headerCheckedCls:"x-grid-hd-checker-on",headerCheckboxCls:"x-column-header-checkbox",checkboxCls:"x-grid-checkcolumn",checkboxCheckedCls:"x-grid-checkcolumn-checked",innerCls:"x-grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(a){this.updateHeaderState=Ext.Function.createAnimationFrame(a.updateHeaderState||this.updateHeaderState),this.scope=this,Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},afterComponentLayout:function(){var a=this;Ext.grid.column.Column.prototype.afterComponentLayout.apply(this,arguments),a.useAriaElements&&a.headerCheckbox&&a.updateHeaderAriaDescription(a.areAllChecked()),a.storeListeners||(a.updateHeaderState(),a.storeListeners=a.getView().dataSource.on({datachanged:a.onDataChanged,scope:a,destroyable:!0}))},onRemoved:function(){Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments),this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(b,a){this.updateHeaderState()},updateHeaderCheckbox:function(b){var c=this,a="x-column-header-checkbox";b?(c.addCls(a),c.sortable=!1,c.useAriaElements&&c.updateHeaderAriaDescription(c.areAllChecked())):(c.removeCls(a),c.useAriaElements&&c.ariaEl.dom&&c.ariaEl.dom.removeAttribute("aria-describedby")),c.updateHeaderState()},processEvent:function(i,k,o,b,j,g,c,p){var d,l,h=this,n="keydown"===i&&g.getKey(),m=i===h.triggerEvent,a=h.disabled;return g.stopSelection=!n&&h.stopSelection,a||!m&&n!==g.ENTER&&n!==g.SPACE?d=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments):(l=!h.isRecordChecked(c),!1!==h.fireEvent("beforecheckchange",h,b,l,c,g)&&(h.setRecordCheck(c,b,l,o,g),m&&!k.actionableMode&&g.preventDefault(),h.hasListeners.checkchange&&h.fireEvent("checkchange",h,b,l,c,g))),d},onTitleElClick:function(d,a,b){var c=this;if(c.disabled||!d.keyCode&&c.text&&!Ext.fly(d.target).hasCls(c.headerCheckboxCls))return Ext.grid.column.Column.prototype.onTitleElClick.call(this,d,a,b);c.toggleAll(d)},toggleAll:function(i){var h=this,c=h.getView(),d=c.getStore(),g=!h.allChecked;!1!==h.fireEvent("beforeheadercheckchange",h,g,i)&&((h.hasListeners.checkchange||h.hasListeners.beforecheckchange)&&(i.position=new Ext.grid.CellContext(c)),d.each(function(e,k){h.setRecordCheck(e,k,g,c.getCell(e,h))}),h.setHeaderStatus(g,i),h.fireEvent("headercheckchange",h,g,i))},setHeaderStatus:function(b,c){var a=this;a.allChecked!==b&&(a.allChecked=b,a.headerCheckbox&&(a[b?"addCls":"removeCls"](a.headerCheckedCls),a.useAriaElements&&a.updateHeaderAriaDescription(b)))},updateHeaderState:function(a){!this.destroyed&&this.headerCheckbox&&this.setHeaderStatus(this.areAllChecked(),a)},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments),this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(c){var b,d=this,a=d.disabledCls;b=d.up("tablepanel").el.select(d.getCellSelector()),c?b.addCls(a):b.removeCls(a)},defaultRenderer:function(e,b){var c=this,a=c.checkboxCls,d=c.tooltip;return c.invert&&(e=!e),c.disabled&&(b.tdCls+=" "+c.disabledCls),e&&(a+=" "+c.checkboxCheckedCls,d=c.checkedTooltip||d),c.useAriaElements&&(b.tdAttr+=' aria-describedby="'+c.id+"-cell-description"+(e?"":"-not")+'-selected"'),c.updateHeaderState(),"<span "+(d||"")+' class="'+a+'" role="'+c.checkboxAriaRole+'"'+(c.ariaStaticRoles[c.checkboxAriaRole]?"":' tabIndex="0"')+"></span>"},isRecordChecked:function(a){var b=this.property;return b?a[b]:a.get(this.dataIndex)},areAllChecked:function(){var b,a,d,e=this,c=e.getView().getStore();if(!c.isBufferedStore&&c.getCount()>0){for(b=c.getData().items,a=b.length,d=0;d<a;++d)if(!e.isRecordChecked(b[d]))return!1;return!0}},setRecordCheck:function(c,d,g,b){var e=this,h=e.property;(h?c[h]:c.get(e.dataIndex)!=g)&&(h?(c[h]=g,e.updater(b,g)):c.set(e.dataIndex,g))},updater:function(a,d){var b=this,c=b.tooltip;b.invert&&(d=!d),d&&(c=b.checkedTooltip||c),c?a.setAttribute("data-qtip",c):a.removeAttribute("data-qtip"),a=Ext.fly(a),b.useAriaElements&&b.updateCellAriaDescription(null,d,a),a[b.disabled?"addCls":"removeCls"](b.disabledCls),Ext.fly(a.down(b.getView().innerSelector,!0).firstChild)[d?"addCls":"removeCls"]("x-grid-checkcolumn-checked"),b.updateHeaderState()},updateHeaderAriaDescription:function(a){var b=this;b.useAriaElements&&b.ariaEl.dom&&b.ariaEl.dom.setAttribute("aria-describedby",b.id+"-header-description"+(a?"":"-not")+"-selected")},updateCellAriaDescription:function(b,c,a){var d=this;d.useAriaElements&&(a=a||d.getView().getCell(b,d))&&a.dom.setAttribute("aria-describedby",d.id+"-cell-description"+(c?"":"-not")+"-selected")},privates:{afterText:function(b,a){var c=this,d=c.id;b.push('<span role="presentation" class="',c.headerCheckboxCls,'"></span>'),c.useAriaElements&&b.push('<span id="'+d+'-header-description-selected" class="x-hidden-offsets">'+c.headerDeselectText+'</span><span id="'+d+'-header-description-not-selected" class="x-hidden-offsets">'+c.headerSelectText+'</span><span id="'+d+'-cell-description-selected" class="x-hidden-offsets">'+c.rowDeselectText+'</span><span id="'+d+'-cell-description-not-selected" class="x-hidden-offsets">'+c.rowSelectText+"</span>")}}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,checkcolumn:!0},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0),Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)},updater:function(a,b){Ext.fly(a).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,b)}},0,["datecolumn"],["component","box","container","headercontainer","gridcolumn","datecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,datecolumn:!0},["widget.datecolumn"],0,[Ext.grid.column,"Date",Ext.grid,"DateColumn"],0),Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)},updater:function(a,b){Ext.fly(a).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,b)}},0,["numbercolumn"],["component","box","container","headercontainer","gridcolumn","numbercolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,numbercolumn:!0},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0),Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",isRowNumberer:!0,text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,ignoreExport:!0,constructor:function(a){var b=this;b.width=b.width,Ext.grid.column.Column.prototype.constructor.apply(this,arguments),b.sortable=!1,b.scope=b},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:"x-row-numberer",tdCls:"x-grid-cell-row-numberer x-grid-cell-special",innerCls:"x-grid-cell-inner-row-numberer",rowspan:void 0,defaultRenderer:function(j,b,g,c,e,a,i){var d=this.rowspan,h=a.currentPage,k=i.store.indexOf(g);return b&&d&&(b.tdAttr='rowspan="'+d+'"'),h>1&&(k+=(h-1)*a.pageSize),k+1},updater:function(a,d,c,b,e){Ext.fly(a).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(d,null,c,null,null,e,b)}},1,["rownumberer"],["component","box","container","headercontainer","gridcolumn","rownumberer"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,rownumberer:!0},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0),Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl),a.hasCustomRenderer=!0,Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(c,d,a){var b=Ext.apply({},a.data,a.getAssociatedData());return this.tpl.apply(b)},updater:function(a,b){Ext.fly(a).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,b)}},0,["templatecolumn"],["component","box","container","headercontainer","gridcolumn","templatecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,templatecolumn:!0},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0),Ext.cmd.derive("Ext.grid.column.Widget",Ext.grid.column.Column,{config:{defaultWidgetUI:{}},ignoreExport:!0,sortable:!1,onWidgetAttach:null,preventUpdate:!0,innerCls:"x-grid-widgetcolumn-cell-inner",stopSelection:!0,initComponent:function(){var b,a=this;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments),b=a.widget,a.widget=b=Ext.apply({},b),b.ui||(b.ui=a.getDefaultWidgetUI()[b.xtype]||"default"),a.isFixedSize=Ext.isNumber(b.width)},processEvent:function(g,i,j,a,h,d,b,k){var c;this.stopSelection&&"click"===g&&(c=d.getTarget(i.innerSelector))&&c!==d.target&&(d.stopSelection=!0)},beforeRender:function(){var b,a=this,c=a.tdCls;a.listenerScopeFn=function(d){return"this"===d?this:a.resolveListenerScope(d)},b=Ext.widget(a.widget),a.bindDataIndex=a.dataIndex&&b.defaultBindProperty&&!b.bind,c=c?c+" ":"",a.tdCls=c+b.getTdCls(),a.setupViewListeners(a.getView()),Ext.grid.column.Column.prototype.beforeRender.call(this),b.destroy()},afterRender:function(){var a=this.getView();Ext.grid.column.Column.prototype.afterRender.call(this),a&&a.viewReady&&!a.ownerGrid.reconfiguring&&this.onViewRefresh(a,a.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(a,c,b){this.updateWidget(b)},onCellsResized:function(h){var e,a,g=this,c=g.ownerGrid.getManagedWidgets(g.getId()),b=c.length,d=g.getView();if(!g.isFixedSize&&g.rendered&&d&&d.viewReady&&(a=d.getEl().down(g.getCellInnerSelector())))for(h-=parseInt(g.getCachedStyle(a,"padding-left"),10)+parseInt(g.getCachedStyle(a,"padding-right"),10),e=0;e<b;++e)c[e].ownerLayout=null,c[e].setWidth(h),c[e].ownerLayout=d.componentLayout},onAdded:function(){var a,b=this;Ext.grid.column.Column.prototype.onAdded.apply(this,arguments),b.ownerGrid=b.up("tablepanel").ownerGrid,(a=b.getView())&&b.setupViewListeners(a)},onRemoved:function(b){var a=this.viewListeners;a&&Ext.destroy(a),b&&this.ownerGrid.destroyManagedWidgets(this.getId()),Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments)},doDestroy:function(){this.ownerGrid.destroyManagedWidgets(this.getId()),Ext.grid.column.Column.prototype.doDestroy.call(this)},privates:{getWidget:function(b){var c=this,a=null;return b&&(a=c.ownerGrid.createManagedWidget(c.getId(),c.widget,b),a.resolveListenerScope=c.listenerScopeFn,a.getWidgetRecord=c.widgetRecordDecorator,a.getWidgetColumn=c.widgetColumnDecorator,a.measurer=c,a.ownerCmp=c.getView(),a.isLayoutChild=c.returnFalse),a},onItemAdd:function(c){var d,g,p,e,b,h,a,l=this,m=l.getView(),k=!!l.onWidgetAttach,n=l.dataIndex,o=l.isFixedSize,j=c.length;if(l.isVisible(!0))for(d=0;d<j;d++)g=c[d],g.isNonData||(p=m.getCell(g,l))&&(p=p.dom.firstChild,o||a||!l.lastBox||(a=l.lastBox.width-parseInt(l.getCachedStyle(p,"padding-left"),10)-parseInt(l.getCachedStyle(p,"padding-right"),10)),e=l.getWidget(g),e.$widgetColumn=l,e.$widgetRecord=g,Ext.fly(p).empty(),e.defaultBindProperty&&n&&e.setConfig(e.defaultBindProperty,g.get(n)),b=e.el||e.element,b?(p.appendChild(b.dom),o||e.setWidth(a),e.reattachToBody()):(o||(e.width=a||100),e.render(p)),k&&Ext.callback(l.onWidgetAttach,l.scope,[l,e,g],0,l),(h=e.getFocusEl())&&(m.actionableMode?h.isTabbable()||h.restoreTabbableState():h.isTabbable()&&h.saveTabbableState()));else m.refreshNeeded=!0},onItemUpdate:function(a,b,c){this.updateWidget(a)},onViewRefresh:function(a,b){Ext.suspendLayouts(),this.onItemAdd(b),Ext.resumeLayouts(!0)},returnFalse:function(){return!1},setupViewListeners:function(a){var c=this,b={refresh:c.onViewRefresh,itemadd:c.onItemAdd,scope:c,destroyable:!0};c.bindDataIndex&&(b.itemUpdate=c.onItemUpdate),c.viewListeners=a.on(b)},updateWidget:function(a){var c,b=this.dataIndex;this.rendered&&this.bindDataIndex&&(c=this.getWidget(a))&&c.setConfig(c.defaultBindProperty,a.get(b))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}},0,["widgetcolumn"],["component","box","container","headercontainer","gridcolumn","widgetcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,widgetcolumn:!0},["widget.widgetcolumn"],[[Ext.mixin.StyleCacher.prototype.mixinId||Ext.mixin.StyleCacher.$className,Ext.mixin.StyleCacher]],[Ext.grid.column,"Widget"],0),Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a,Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(b,a,c,d){return[b,a,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0),Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:"x-grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(b,a,c){a.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(a.record,a,b,c):this.nextTpl.applyOut(a,b,c)},priority:1e3},showSummaryRow:!0,init:function(){var a=this;a.view.summaryFeature=a,a.rowTpl=a.view.self.prototype.rowTpl,a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a,a.summaryData={},a.groupInfo={},a.summaryTableCls||(a.summaryTableCls="x-grid-item"),a.summaryRowSelector="."+a.summaryRowCls},bindStore:function(b,a){var c=this;Ext.destroy(c.readerListeners),c.remoteRoot&&(c.readerListeners=a.getProxy().getReader().on({scope:c,destroyable:!0,rawdata:c.onReaderRawData}))},onReaderRawData:function(a){this.summaryRows=null,this.readerRawData=a},toggleSummaryRow:function(e,a){var b,d=this,c=d.showSummaryRow;e=null!=e?!!e:!d.showSummaryRow,d.showSummaryRow=e,e&&e!==c&&(d.updateSummaryRow=!0),d.lockingPartner?a||(d.lockingPartner.toggleSummaryRow(e,!0),b=!0):b=!0,b&&d.grid.ownerGrid.getView().refresh()},createRenderer:function(e,b){var g=this,c=b.ownerGroup,a=c?g.summaryData[c]:g.summaryData,d=e.dataIndex||e.getItemId();return function(i,h){return e.summaryRenderer?e.summaryRenderer(b.data[d],a,d,h):b.data[d]}},outputSummaryRecord:function(g,l,d){var e,b,h=l.view,a=h.rowValues,c=l.columns||h.headerCt.getVisibleGridColumns(),k=c.length,j={view:h,record:g,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:h.getRowId(g),columns:c};for(e=0;e<k;e++)b=c[e],b.savedRenderer=b.renderer,b.summaryType||b.summaryRenderer?b.renderer=this.createRenderer(b,g):b.renderer=Ext.emptyFn;for(h.rowValues=j,h.self.prototype.rowTpl.applyOut(j,d,parent),h.rowValues=a,e=0;e<k;e++)b=c[e],b.renderer=b.savedRenderer,b.savedRenderer=null},getSummary:function(a,b,g,e){var d=!!e,c=d?e:a;if(b){if(Ext.isFunction(b))return d?c.aggregate(g,b):c.aggregate(b,null,!1,[g]);switch(b){case"count":return c.count();case"min":return c.min(g);case"max":return c.max(g);case"sum":return c.sum(g);case"average":return c.average(g);default:return""}}},getRawData:function(){return this.readerRawData||this.view.getStore().getProxy().getReader().rawData},generateSummaryData:function(b){var h,d,a,c,e,n,m,l,g=this,n=g.summaryRows,k={},j={};if(!n){if(!(a=g.getRawData()))return;if(h=g.view.store.getProxy().getReader(),d=Ext.create("reader."+h.type,h.getConfig()),d.setRootProperty(g.remoteRoot),n=d.getRoot(a)){for(m=[],Ext.isArray(n)||(n=[n]),e=n.length,c=0;c<e;++c)l=d.extractRecordData(n[c],g.readDataOptions),m.push(l);g.summaryRows=n=m}d.destroy(),g.readerRawData=null}if(n)for(c=0,e=n.length;c<e;c++)k=n[c],b&&(j[k[b]]=k);return b?j:k},setSummaryData:function(c,d,b,e){var a=this.summaryData;e?(a[e]||(a[e]={}),a[e][d]=b):a[d]=b},destroy:function(){Ext.destroy(this.readerListeners),
this.readerRawData=this.summaryRows=null,Ext.grid.feature.Feature.prototype.destroy.call(this)}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0),Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:!0,defaultViewSize:100,isFeatureStore:!0,badGrouperKey:"[object Object]",constructor:function(c,a){var b=this;Ext.util.Observable.prototype.constructor.call(this),b.groupingFeature=c,b.bindStore(a),c.grid.isLocked||b.bindViewStoreListeners()},bindStore:function(a){var b=this;a&&b.store===a||(Ext.destroy(b.storeListeners),b.store=null),a&&(b.storeListeners=a.on({datachanged:b.onDataChanged,groupchange:b.onGroupChange,idchanged:b.onIdChanged,update:b.onUpdate,scope:b,destroyable:!0}),b.store=a,b.processStore(a))},bindViewStoreListeners:function(){var a=this.groupingFeature.view,b=a.getStoreListeners(this);b.scope=a,this.on(b)},processStore:function(d){var s,r,a,o,q,g,e,k,n,y,l,j,w=this,m=w.groupingFeature,p=m.startCollapsed,x=w.data,t=d.getGroups(),c=t?t.length:0,v=d.getGroupField(),h=t&&Ext.Array.unique(Ext.Object.getValues(t.itemGroupKeys)),b=!1,u=m.getCache();if(m.invalidateCache(),a=m.getCache(),x?x.clear():x=w.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),d.getCount())if(m.startCollapsed=!1,c>0){for(j=d.getModel(),o=0;o<c;o++){if(e=t.getAt(o),y=e.getGroupKey(),w.badGrouperKey===y&&(g=m.getGrouper(v)))return m.startCollapsed=p,void d.group(g);s=u[y],r=a[y]=m.getMetaGroup(y),s&&(r.isCollapsed=s.isCollapsed),Ext.Array.splice(h,Ext.Array.indexOf(h,y),1),b=r.isCollapsed=p||r.isCollapsed,b?(l={},l[v]=y,r.placeholder=n=new j(l),n.isNonData=n.isCollapsedPlaceholder=!0,n.groupKey=y,x.add(n)):x.insert(w.data.length,e.items)}if(h.length)for(o=0,q=h.length;o<q;o++)k=h[o],a[k]=u[k];u=null}else x.add(d.getRange())},isCollapsed:function(a){return this.groupingFeature.getCache()[a].isCollapsed},isLoading:function(){return!1},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(b,a){return a<this.getCount()},getRange:function(d,b,c){var a=this.data.getRange(d,Ext.isNumber(b)?b+1:b);return c&&c.callback&&c.callback.call(c.scope||this,a,d,b,c),a},getAt:function(a){return this.data.getAt(a)},getById:function(a){return this.store.getById(a)},getByInternalId:function(a){return this.store.getByInternalId(a)||this.data.byInternalId.get(a)},expandGroup:function(g){var b,h,c,a,d=this,e=d.groupingFeature;"string"==typeof g&&(g=e.getGroup(g)),g&&(a=g.items,b=e.getMetaGroup(g),h=b.placeholder),a.length&&-1!==(c=d.data.indexOf(h))&&(b.isCollapsed=!1,d.isExpandingOrCollapsing=1,d.data.removeAt(c),d.data.insert(c,g.items),d.fireEvent("replace",d,c,[h],g.items),d.fireEvent("groupexpand",d,g),d.isExpandingOrCollapsing=0)},collapseGroup:function(g){var c,h,a,b,d=this,e=d.groupingFeature;"string"==typeof g&&(g=e.getGroup(g)),g&&(b=g.items),b&&(a=b.length)&&-1!==(c=d.data.indexOf(b[0]))&&(e.getMetaGroup(g).isCollapsed=!0,d.isExpandingOrCollapsing=2,d.data.removeAt(c,a),d.data.insert(c,h=d.getGroupPlaceholder(g)),d.fireEvent("replace",d,c,b,[h]),d.fireEvent("groupcollapse",d,g),d.isExpandingOrCollapsing=0)},getGroupPlaceholder:function(e){var b=this.groupingFeature.getMetaGroup(e);if(!b.placeholder){var g,a=this.store,h=a.getModel(),d={},c=e.getGroupKey();d[a.getGroupField()]=c,g=b.placeholder=new h(d),g.isNonData=g.isCollapsedPlaceholder=!0,g.groupKey=c}return b.placeholder},indexOf:function(a){var b=-1;return a.isCollapsedPlaceholder||(b=this.data.indexOf(a)),b},contains:function(a){return this.indexOf(a)>-1},indexOfPlaceholder:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},indexOfTotal:function(a){return this.store.indexOf(a)},onIdChanged:function(a,d,c,b){this.data.updateKey(d,c)},onUpdate:function(k,g,c,e){var l,d,i,b,h,j=this,a=j.groupingFeature;if(k.isGrouped()){if(l=g.group=a.getGroup(g)){if(d=a.getMetaGroup(g),e&&Ext.Array.contains(e,a.getGroupField()))return j.onDataChanged();d.isCollapsed?j.fireEvent("update",j,d.placeholder):(Ext.suspendLayouts(),j.fireEvent("update",j,g,c,e),h=l.items,i=h[0],b=h[h.length-1],i!==g&&(i.group=l,j.fireEvent("update",j,i,"edit",e),delete i.group),b!==g&&b!==i&&a.showSummaryRow&&(b.group=l,j.fireEvent("update",j,b,"edit",e),delete b.group),Ext.resumeLayouts(!0))}delete g.group}else j.fireEvent("update",j,g,c,e)},onGroupChange:function(b,a){a||this.processStore(b),this.fireEvent("groupchange",b,a)},onDataChanged:function(){this.processStore(this.store),this.fireEvent("refresh",this)},destroy:function(){var a=this;a.bindStore(null),Ext.destroy(a.data),a.groupingFeature=null,Ext.util.Observable.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0),Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",eventSelector:".x-grid-group-hd",refreshData:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:"x-grid-group-collapsed",hdCollapsedCls:"x-grid-group-hd-collapsed",hdNotCollapsibleCls:"x-grid-group-hd-not-collapsible",collapsibleCls:"x-grid-group-hd-collapsible",ctCls:"x-group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',"x-",'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',"x-",'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr} data-qtip="{[values.isCollapsedGroup ? me.expandTip : me.collapseTip]}">','{[values.groupHeaderTpl.apply(values.groupRenderInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,beginRowSync:function(a){var b=this.groupingFeature;a.add("header",b.eventSelector),a.add("summary",b.summaryRowSelector)},syncContent:function(b,i,a){b=Ext.fly(b,"syncDest"),i=Ext.fly(i,"syncSrc");var e=this.groupingFeature,d=b.down(e.eventSelector,!0),c=i.down(e.eventSelector,!0),h=b.down(e.summaryRowSelector,!0),g=i.down(e.summaryRowSelector,!0);d&&c&&Ext.fly(d).syncContent(c),h&&g&&(a?this.groupingFeature.view.updateColumns(h,g,a):Ext.fly(h).syncContent(g))}}],relayedEvents:["groupcollapse","groupexpand"],init:function(c){var d,g,e=this,a=e.view,b=e.getGridStore();a.isGrouping=b.isGrouped(),e.mixins.summary.init.call(e),Ext.grid.feature.Feature.prototype.init.call(this,c),a.headerCt.on({columnhide:e.onColumnHideShow,columnshow:e.onColumnHideShow,columnmove:e.onColumnMove,scope:e}),a.addTpl(Ext.XTemplate.getTpl(e,"outerTpl")).groupingFeature=e,a.addRowTpl(Ext.XTemplate.getTpl(e,"groupRowTpl")).groupingFeature=e,a.preserveScrollOnRefresh=!0,b.isBufferedStore?e.collapsible=!1:(d=e.lockingPartner,d&&d.dataSource?e.dataSource=a.dataSource=g=d.dataSource:e.dataSource=a.dataSource=g=new Ext.grid.feature.GroupStore(e,b)),c=c.ownerLockable||c,c.on("beforereconfigure",e.beforeReconfigure,e),a.isLockedView||(e.gridEventRelayers=c.relayEvents(a,e.relayedEvents)),a.on({afterrender:e.afterViewRender,scope:e,single:!0}),e.groupRenderInfo={},g?g.on("groupchange",e.onGroupChange,e):e.setupStoreListeners(b),e.mixins.summary.bindStore.call(e,c,c.getStore())},getGridStore:function(){return this.view.getStore()},indexOf:function(a){return a.isCollapsedPlaceholder?this.dataSource.indexOfPlaceholder(a):this.dataSource.indexOf(a)},indexOfPlaceholder:function(a){return this.dataSource.indexOfPlaceholder(a)},isInCollapsedGroup:function(b){var c,e=this,d=e.getGridStore(),a=!1;return d.isGrouped()&&(c=e.getMetaGroup(b))&&(a=!(!c||!c.isCollapsed)),a},createCache:function(){var a=this.metaGroupCache={},b=this.lockingPartner;return b&&(b.metaGroupCache=a),a},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var a=this.lockingPartner;this.metaGroupCache=null,a&&(a.metaGroupCache=null)},vetoEvent:function(a,c,d,b){if("mouseover"!==b.type&&"mouseout"!==b.type&&"mouseenter"!==b.type&&"mouseleave"!==b.type&&b.getTarget(this.eventSelector))return!1},enable:function(){var d,c=this,a=c.view,b=c.getGridStore(),e=c.hideGroupedHeader&&c.getGroupedHeader();a.isGrouping=!0,a.lockingPartner&&(a.lockingPartner.isGrouping=!0),Ext.grid.feature.Feature.prototype.enable.call(this),c.lastGrouper&&(b.group(c.lastGrouper),c.lastGrouper=null),e&&e.hide(),(d=c.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&d.setChecked(!0,!0)},disable:function(){var d,c=this,a=c.view,b=c.getGridStore(),g=c.hideGroupedHeader&&c.getGroupedHeader(),e=b.getGrouper();a.isGrouping=!1,a.lockingPartner&&(a.lockingPartner.isGrouping=!1),Ext.grid.feature.Feature.prototype.disable.call(this),e&&(c.lastGrouper=e,b.clearGrouping()),g&&g.show(),(d=c.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&(d.setChecked(!1,!0),d.disable())},afterViewRender:function(){var b=this;b.view.on({scope:b,groupmousedown:b.onGroupMousedown,groupclick:b.onGroupClick}),b.enableGroupingMenu&&b.injectGroupingMenu(),b.pruneGroupedHeader(),b.lastGrouper=b.getGridStore().getGrouper(),b.disabled&&b.disable()},injectGroupingMenu:function(){var a=this,b=a.view.headerCt;b.showMenuBy=a.showMenuBy,b.getMenuItems=a.getMenuItems()},onColumnHideShow:function(d,h){var g,k,j,e,l=this,m=l.view,b=m.headerCt,a=b.getMenu(),c=a.activeHeader,n=a.down("#groupMenuItem"),o=l.grid.getVisibleColumnManager().getColumns().length;if(c&&n&&(g=!1===c.groupable||!c.dataIndex||l.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",n[g]()),m.rendered&&o)for(k=m.el.query("."+l.ctCls),e=0,j=k.length;e<j;++e)k[e].colSpan=o},onColumnMove:function(){var i,a,g,h,d,c,e=this,b=e.view;if(b.getStore().isGrouped()){a=e.getCache(),Ext.suspendLayouts();for(i in a)(g=e.getGroup(i))&&(h=g.first(),d=g.last(),c=e.getMetaGroup(i),c.isCollapsed&&(h=d=e.dataSource.getGroupPlaceholder(i)),b.refreshNode(h),e.showSummaryRow&&d!==h&&b.refreshNode(d));Ext.resumeLayouts(!0)}},showMenuBy:function(i,j,c){var e=this,a=e.getMenu(),g=a.down("#groupMenuItem"),d=!1===c.groupable||!c.dataIndex||e.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",b=a.down("#groupToggleMenuItem"),h=e.grid.getStore().isGrouped();g[d](),b&&(b.setChecked(h,!0),b[h?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(e,arguments)},getMenuItems:function(){var g=this,c=g.groupByText,e=g.disabled||!g.getGroupField(),a=g.showGroupsText,d=g.enableNoGroups,b=g.view.headerCt.getMenuItems;return function(){var h=b.call(this);return h.push("-",{iconCls:"x-group-by-icon",itemId:"groupMenuItem",text:c,handler:g.onGroupMenuItemClick,scope:g}),d&&h.push({itemId:"groupToggleMenuItem",text:a,checked:!e,checkHandler:g.onGroupToggleMenuItemClick,scope:g}),h}},onGroupMenuItemClick:function(c,g){var d=this,h=c.parentMenu,i=h.activeHeader,a=d.view,b=d.getGridStore();d.disabled&&(d.lastGrouper=null,d.block(),d.enable(),d.unblock()),a.isGrouping=!0,b.group(d.getGrouper(i.dataIndex)||i.dataIndex),d.pruneGroupedHeader()},block:function(a){var b=this;b.blockRefresh=b.view.blockRefresh=!0,b.lockingPartner&&!a&&b.lockingPartner.block(!0)},unblock:function(a){var b=this;b.blockRefresh=b.view.blockRefresh=!1,b.lockingPartner&&!a&&b.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();a.hideGroupedHeader&&b&&(Ext.suspendLayouts(),a.prunedHeader&&a.prunedHeader!==b&&a.prunedHeader.show(),a.prunedHeader=b,b.rendered&&b.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(g){var b,c,a,e,d=this.view.getEl();if(d)for(b=d.query(this.eventSelector),c=0,a=b.length;c<a;++c)if(e=b[c],e.getAttribute("data-groupName")===g)return e},getGroup:function(b){var d,a=this.getGridStore(),c=b;return a.isGrouped()&&(b.isModel&&(b=b.get(a.getGroupField())),"string"!=typeof b&&(b=a.getGrouper().getGroupString(c)),d=a.getGroups().getByKey(b)),d},getGrouper:function(a){var b=this.groupers;return b?Ext.Array.findBy(b,function(c){return c.property===a}):null},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(d){var c,b,a=this.metaGroupCache||this.createCache();return d.isModel&&(d=this.getGroup(d)),null!=d&&(c="string"==typeof d?d:d.getGroupKey(),(b=a[c])||(b=a[c]={isCollapsed:!1,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model})),b},isExpanded:function(a){return!this.getMetaGroup(a).isCollapsed},expand:function(b,a){this.doCollapseExpand(!1,b,a)},expandAll:function(){var d,c=this,a=c.getCache(),b=c.lockingPartner;for(d in a)a.hasOwnProperty(d)&&(a[d].isCollapsed=!1);Ext.suspendLayouts(),c.dataSource.onDataChanged(),Ext.resumeLayouts(!0);for(d in a)a.hasOwnProperty(d)&&(c.afterCollapseExpand(!1,d),b&&b.afterCollapseExpand(!1,d))},collapse:function(b,a){this.doCollapseExpand(!0,b,a)},isAllCollapsed:function(){var c,b=this,a=b.getCache();for(c in a)if(a.hasOwnProperty(c)&&!a[c].isCollapsed)return!1;return!0},isAllExpanded:function(){var c,b=this,a=b.getCache();for(c in a)if(a.hasOwnProperty(c)&&a[c].isCollapsed)return!1;return!0},collapseAll:function(){var d,c=this,a=c.getCache(),b=c.lockingPartner;for(d in a)a.hasOwnProperty(d)&&(a[d].isCollapsed=!0);Ext.suspendLayouts(),c.dataSource.onDataChanged(),Ext.resumeLayouts(!0);for(d in a)a.hasOwnProperty(d)&&(c.afterCollapseExpand(!0,d),b&&b.afterCollapseExpand(!0,d))},doCollapseExpand:function(e,g,a){var c=this,b=c.lockingPartner,d=c.getGroup(g);!0===a&&(a={focus:!0}),c.getMetaGroup(d).isCollapsed!==e&&(c.isExpandingOrCollapsing=!0,Ext.suspendLayouts(),e?c.dataSource.collapseGroup(d):c.dataSource.expandGroup(d),Ext.resumeLayouts(!0),c.afterCollapseExpand(e,g,a),b&&(a&&a.focus&&(a=Ext.Object.chain(a),a.focus=!1),b.afterCollapseExpand(e,g,a)),c.isExpandingOrCollapsing=!1)},afterCollapseExpand:function(e,h,c){var g,a,d=this,b=d.view;g=d.getHeaderNode(h),b.fireEvent(e?"groupcollapse":"groupexpand",b,g,h),c&&(e?(c.focus=!1,a=d.metaGroupCache[h].placeholder):a=d.getGroup(h).getAt(0),d.grid.ensureVisible(a,c))},onGroupChange:function(b,a){a?this.lastGrouper=a:this.view.ownerGrid.getView().refreshView()},getMenuItem:function(b){var a=this.view,d=a.headerCt.down("gridcolumn[dataIndex="+b+"]"),c=a.headerCt.getMenu();return d?c.down("menuitem[headerId="+d.id+"]"):null},onGroupKey:function(c,b){var a=this,d=a.getGroupName(b.target);d&&a.onGroupClick(a.view,b.target,d,b)},onGroupMousedown:function(a,b,d,c){"mouse"===c.pointerType&&c.preventDefault()},onGroupClick:function(b,i,k,j){var d,h=this,a=h.getCache(),c=!h.isExpanded(k);if(h.collapsible){if(j.ctrlKey){Ext.suspendLayouts();for(d in a)d===k?c&&h.expand(k):a[d].isCollapsed||h.doCollapseExpand(!0,d,!1);return void Ext.resumeLayouts(!0)}c?h.expand(k):h.collapse(k)}},setupRowData:function(b,k,n){var p,j,m,o,l,v=this,c=n.recordIndex,w=v.refreshData,g=(v.getCache(),v.groupRenderInfo),r=w.header,u=w.groupField,h=v.getGridStore(),s=v.view.dataSource,q=s.isBufferedStore,d=v.grid.columnManager.getHeaderByDataIndex(u),e=!(!d||!d.renderer),t=b.groupKey,i=b.isCollapsedPlaceholder&&Ext.isDefined(t)?v.getGroup(t):b.group;if(n.isCollapsedGroup=!1,n.summaryRecord=n.groupHeaderCls=null,w.doGrouping){if(p=h.getGrouper(),b.isCollapsedPlaceholder)return j=i.getGroupKey(),l=i.items,n.isFirstRow=n.isLastRow=!0,n.groupHeaderCls=v.hdCollapsedCls,n.isCollapsedGroup=n.needsWrap=!0,n.groupName=j,n.groupRenderInfo=g,g.groupField=u,g.name=g.renderedGroupValue=e?d.renderer(i.getAt(0).get(u),{},b):j,g.groupValue=l[0].get(u),g.columnName=r?r.text:u,n.collapsibleCls=v.collapsible?v.collapsibleCls:v.hdNotCollapsibleCls,g.rows=g.children=l,void(v.showSummaryRow&&(n.summaryRecord=w.summaryData[j]));j=p.getGroupString(b),i?(l=i.items,n.isFirstRow=b===l[0],n.isLastRow=b===l[l.length-1]):(n.isFirstRow=0===c,n.isFirstRow||(m=h.getAt(c-1))&&(n.isFirstRow=!m.isEqual(p.getGroupString(m),j)),n.isLastRow=c===(q?h.getTotalCount():h.getCount())-1,n.isLastRow||(o=h.getAt(c+1))&&(n.isLastRow=!o.isEqual(p.getGroupString(o),j))),n.isFirstRow&&(g.groupField=u,g.name=g.renderedGroupValue=e?d.renderer(b.get(u),{},b):j,g.groupValue=b.get(u),g.columnName=r?r.text:u,n.collapsibleCls=v.collapsible?v.collapsibleCls:v.hdNotCollapsibleCls,n.groupName=j,v.isExpanded(j)||(n.itemClasses.push(v.hdCollapsedCls),n.isCollapsedGroup=!0),g.rows=g.children=q?[]:v.getRecordGroup(b).items,n.groupRenderInfo=g),n.isLastRow&&v.showSummaryRow&&(n.summaryRecord=w.summaryData[j],n.itemClasses.push("x-grid-group-last")),n.needsWrap=n.isFirstRow||n.summaryRecord}},setup:function(e,g){var c=this,d=c.refreshData,a=g.view,b=a.isGrouping=!c.disabled&&c.getGridStore().isGrouped(),h=a.bufferedRenderer;c.skippedRows=0,h&&(h.variableRowHeight=a.hasVariableRowHeight()||b),d.groupField=c.getGroupField(),d.header=c.getGroupedHeader(d.groupField),d.doGrouping=b,g.groupHeaderTpl=Ext.XTemplate.getTpl(c,"groupHeaderTpl"),b&&c.showSummaryRow&&(d.summaryData=c.generateSummaryData())},cleanup:function(b,c){var a=this.refreshData;c.groupRenderInfo=c.groupHeaderTpl=c.isFirstRow=null,a.groupField=a.header=a.summaryData=null},getAggregateRecord:function(a,b){var c;return!0!==b&&a.aggregateRecord||(c=new Ext.data.Model,a.aggregateRecord=c,c.isNonData=c.isSummary=!0),a.aggregateRecord},generateSummaryData:function(){var l,m,g,p,d,o,k,s=this,e=s.getGridStore(),j=e.getFilters(),q=e.getGroups().items,r=(e.getProxy().getReader(),s.getGroupField()),h=s.lockingPartner,a=s.updateSummaryRow,t={},n=s.view.ownerCt,c=s.didColumnsChange();for(s.remoteRoot&&(k=s.mixins.summary.generateSummaryData.call(s,r),o=!!k),l=0,m=q.length;l<m;++l)g=q[l],p=s.getMetaGroup(g),a||o||e.updating||s.grid.reconfiguring||c||s.didGroupChange(g,p,j)?(d=s.populateRecord(g,p,k),h&&n!==n.ownerLockable.normalGrid||(p.lastGroup=g,p.lastGroupGeneration=g.generation,p.lastFilterGeneration=j.generation)):d=s.getAggregateRecord(p),t[g.getGroupKey()]=d;return s.updateSummaryRow=!1,t},getGroupName:function(b){var g,e,d=this,a=d.view,c=d.eventSelector;if(g=Ext.fly(b).findParent(c),g||(e=Ext.fly(b).findParent(a.itemSelector))&&(g=e.down(c,!0)),g)return g.getAttribute("data-groupname")},getRecordGroup:function(a){var c=this.getGridStore(),b=c.getGrouper();if(b)return c.getGroups().getByKey(b.getGroupString(a))},getGroupedHeader:function(b){var a,g,d=this,e=d.view.headerCt,c=d.lockingPartner;return b=b||d.getGroupField(),b&&(a="[dataIndex="+b+"]",!(g=e.down(a))&&c&&(g=c.view.headerCt.down(a))),g||null},getFireEventArgs:function(b,a,d,c){return[b,a,d,this.getGroupName(d),c]},destroy:function(){var a=this,b=a.dataSource;Ext.destroy(a.gridEventRelayers),a.gridEventRelayers=null,a.storeListeners=Ext.destroy(a.storeListeners),a.view=a.prunedHeader=a.grid=a.dataSource=a.groupers=null,a.invalidateCache(),b&&!b.destroyed&&(b.bindStore(null),Ext.destroy(b)),Ext.grid.feature.Feature.prototype.destroy.call(this)},beforeReconfigure:function(c,j,d,a,e){var g,h=this,i=h.view,b=h.dataSource;j&&j!==a&&(g=j.isBufferedStore,b||(Ext.destroy(h.storeListeners),h.setupStoreListeners(j)),g!==a.isBufferedStore&&Ext.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),i.isGrouping=!!j.getGrouper(),b.bindStore(j))},populateRecord:function(p,e,n){var c,m,g,b,q,a,k=this,l=k.grid.ownerLockable?k.grid.ownerLockable.view:k.view,o=k.getGridStore(),h=k.getAggregateRecord(e),d=l.headerCt.getGridColumns(),j=d.length,r=p.getGroupKey();if(h.beginEdit(),n){c=n[r];for(m in c)c.hasOwnProperty(m)&&m!==h.idProperty&&h.set(m,c[m])}for(g=0;g<j;++g)b=d[g],q=b.dataIndex||b.getItemId(),n?a=h.get(b.dataIndex):(a=k.getSummary(o,b.summaryType,q,p),h.set(q,a)),k.setSummaryData(h,b.getItemId(),a,r);return h.ownerGroup=r,h.endEdit(!0),h.commit(),h},privates:{didGroupChange:function(d,a,c){var b=!0;return d===a.lastGroup&&(b=a.lastGroupGeneration!==d.generation||a.lastFilterGeneration!==c.generation),b},didColumnsChange:function(){var b=this,a=b.view.headerCt.items.generation!==b.lastHeaderCtGeneration;return b.lastHeaderCtGeneration=b.view.headerCt.items.generation,a},setupStoreListeners:function(a){var b=this;b.storeListeners=a.on({groupchange:b.onGroupChange,scope:b,destroyable:!0})}}},0,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0),Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:!0,vetoEvent:function(b,d,g,c){var a=Ext.grid.feature.Grouping.prototype.vetoEvent.apply(this,arguments);return!1!==a&&c.getTarget(this.summaryRowSelector)&&(a=!1),a}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0),Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:"x-grid-row-body",innerSelector:".x-grid-rowbody",rowBodyHiddenCls:"x-grid-row-body-hidden",rowBodyTdSelector:"td.x-grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr.x-grid-rowbody-tr",bodyBefore:!1,outerTpl:{fn:function(d,b,g){var h=this.rowBody,a=b.view,e=a.getVisibleColumnManager().getColumns(),i=a.rowValues,c=h.rowExpander&&h.rowExpander.expanderColumn;i.rowBodyColspan=e.length,i.rowBodyCls=h.rowBodyCls,i.rowIdCls=h.rowIdCls,c&&c.getView()===a?(a.grid.removeCls("x-grid-hide-row-expander-spacer"),i.addSpacerCell=!0,i.rowBodyColspan-=1,i.spacerCellCls="x-grid-cell x-grid-row-expander-spacer x-grid-cell-special"):(a.grid.addCls("x-grid-hide-row-expander-spacer"),i.addSpacerCell=!1),this.nextTpl.applyOut(b,d,g),i.rowBodyCls=i.rowBodyColspan=i.rowBody=null},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="x-grid-rowbody-tr {rowBodyCls} {rowIdCls}" {ariaRowAttr}>','<tpl if="addSpacerCell">','<td class="{spacerCellCls}"></td>',"</tpl>",'<td class="x-grid-td x-grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(a){a.add("rowBody",this.owner.eventSelector)},syncContent:function(c,g,b){var e,a=this.owner,d=Ext.fly(c).down(a.eventSelector,!0);d&&(e=Ext.fly(g).down(a.eventSelector,!0))&&Ext.fly(d).syncContent(e)}}],init:function(b){var c=this,a=c.view=b.getView();b.variableRowHeight=a.variableRowHeight=!0,a.rowBodyFeature=c,a.headerCt.on({columnschanged:c.onColumnsChanged,scope:c}),a.addTpl(c.outerTpl).rowBody=c,a.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=c,Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},getSelectedRow:function(a,c){var b=a.getNode(c);return b?Ext.fly(b).down(this.eventSelector):null},onColumnsChanged:function(d){var c,b=this.view.el.query(this.rowBodyTdSelector),e=d.getVisibleGridColumns().length,a=b.length;for(c=0;c<a;++c)b[c].setAttribute("colSpan",e)},setupRowData:function(a,c,b){this.getAdditionalData&&Ext.apply(b,this.getAdditionalData(a.data,c,a,b))}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0),Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:void 0,summaryItemCls:"x-grid-row-summary-item",dockedSummaryCls:"x-docked-summary",panelBodyCls:"x-summary-",hasFeatureEvent:!1,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow &&","!view.addingRows && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(a){a.add("fullSummary",this.summaryFeature.summaryRowSelector)},syncContent:function(c,h,b){c=Ext.fly(c,"syncDest"),h=Ext.fly(h,"sycSrc");var d=this.summaryFeature,a=d.summaryRowSelector,g=c.down(a,!0),e=h.down(a,!0);g&&e&&(b?this.summaryFeature.view.updateColumns(g,e,b):Ext.fly(g).syncContent(e))}}],init:function(b){var d=this,a=d.view,c=d.dock;Ext.grid.feature.AbstractSummary.prototype.init.apply(this,arguments),c?(b.addBodyCls(d.panelBodyCls+c),b.headerCt.on({add:d.onStoreUpdate,afterlayout:d.onStoreUpdate,scope:d}),b.on({beforerender:function(){var e=[d.summaryTableCls];a.columnLines&&(e[e.length]=a.ownerCt.colLinesCls),d.summaryBar=b.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+e.join(" ")+'">','<tr class="'+d.summaryRowCls+'"></tr>',"</table>","</div>"],scrollable:{x:!1,y:!1},hidden:!d.showSummaryRow,itemId:"summaryBar",cls:[d.dockedSummaryCls,d.dockedSummaryCls+"-"+c],xtype:"component",dock:c,weight:1e7})[0]},afterrender:function(){b.getView().getScrollable().addPartner(d.summaryBar.getScrollable(),"x"),d.onStoreUpdate()},single:!0}),b.headerCt.afterComponentLayout=Ext.Function.createSequence(b.headerCt.afterComponentLayout,function(){var e=this.getTableWidth(),g=d.summaryBar.innerCt;d.summaryBar.item.setWidth(e),this.tooNarrow&&(e+=Ext.getScrollbarSize().width),g.setWidth(e)})):b.bufferedRenderer?(d.wrapsItem=!0,a.addRowTpl(Ext.XTemplate.getTpl(d,"fullSummaryTpl")).summaryFeature=d,a.on("refresh",d.onViewRefresh,d)):(d.wrapsItem=!1,d.view.addFooterFn(d.renderSummaryRow)),b.ownerGrid.on({beforereconfigure:d.onBeforeReconfigure,columnmove:d.onStoreUpdate,scope:d}),d.bindStore(b,b.getStore())},onBeforeReconfigure:function(b,a){this.summaryRecord=null,a&&this.bindStore(b,a)},bindStore:function(b,a){var c=this;Ext.destroy(c.storeListeners),c.storeListeners=a.on({scope:c,destroyable:!0,update:c.onStoreUpdate,datachanged:c.onStoreUpdate}),Ext.grid.feature.AbstractSummary.prototype.bindStore.call(this,b,a)},renderSummaryRow:function(c,d,e){var a,b=c.view,g=b.findFeature("summary");g.disabled||!g.showSummaryRow||b.addingRows||b.updatingRows||(a=g.summaryRecord,d.push('<table cellpadding="0" cellspacing="0" class="'+g.summaryItemCls+'" style="table-layout: fixed; width: 100%;">'),g.outputSummaryRecord(a&&a.isModel?a:g.createSummaryRecord(b),c,d,e),d.push("</table>"))},toggleSummaryRow:function(d,a){var c=this,b=c.summaryBar;Ext.grid.feature.AbstractSummary.prototype.toggleSummaryRow.call(this,d,a),b&&(b.setVisible(c.showSummaryRow),c.onViewScroll())},getSummaryBar:function(){return this.summaryBar},getSummaryRowPlaceholder:function(a){var c,d,b=this.summaryItemCls;return(c=Ext.fly(a.getNodeContainer()))?(d=c.down("."+b,!0),d||(d=c.createChild({tag:"table",cellpadding:0,cellspacing:0,cls:b,style:"table-layout: fixed; width: 100%",children:[{tag:"tbody"}]},!1,!0)),d):null},vetoEvent:function(a,c,d,b){return!b.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(b){var a,d,c=this;c.disabled||!c.showSummaryRow||b.all.getCount()||(a=c.createSummaryRecord(b),d=c.getSummaryRowPlaceholder(b),d.appendChild(Ext.fly(b.createRowElement(a,-1)).down(c.summaryRowSelector,!0)))},createSummaryRecord:function(j){var e,c,k,b,m,h=this,d=j.headerCt.getGridColumns(),a=h.remoteRoot,g=h.summaryRecord,l=d.length;if(g||(m={id:j.id+"-summary-record"},g=h.summaryRecord=new Ext.data.Model(m)),g.beginEdit(),a)(b=h.generateSummaryData())&&g.set(b);else for(e=0;e<l;e++)c=d[e],k=c.dataIndex||c.getItemId(),b=h.getSummary(j.store,c.summaryType,k),g.set(k,b),h.setSummaryData(g,c.getItemId(),b);return g.endEdit(!0),g.commit(!0),g.isSummary=!0,g},onStoreUpdate:function(){var b,e,d,i,h=this,c=h.view,a=h.summaryRowSelector,g=h.dock;c.rendered&&(b=h.createSummaryRecord(c),(e=Ext.fly(c.createRowElement(b,-1)).down(a,!0))&&(g?(i=h.summaryBar.item.dom.firstChild,d=i.firstChild,i.insertBefore(e,d),i.removeChild(d),h.onColumnHeaderLayout()):(d=c.el.down(a,!0),i=d&&d.parentNode,i&&i.removeChild(d),i=c.getRow(c.all.last()),i?i=i.parentElement:(i=h.getSummaryRowPlaceholder(c),i=i&&i.tBodies&&i.tBodies[0]),i&&i.appendChild(e))))},onColumnHeaderLayout:function(){var g,c,e,b=this.view,d=b.headerCt.getVisibleGridColumns(),a=d.length,h=this.summaryBar.el;for(c=0;c<a;c++)g=d[c],(e=h.down(b.getCellSelector(g),!0))&&Ext.fly(e).setWidth(g.width||(g.lastBox?g.lastBox.width:100))},destroy:function(){var a=this;a.summaryRecord=a.storeListeners=Ext.destroy(a.storeListeners),Ext.grid.feature.AbstractSummary.prototype.destroy.call(this)}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0),Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,config:{glyph:null},activated:!1,activeCls:"x-menu-item-active",clickHideDelay:0,destroyMenu:!0,disabledCls:"x-menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],
renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:!1,iconAlign:"left",initComponent:function(){var c,b=this,a=b.cls?[b.cls]:[];b.hasOwnProperty("canActivate")&&(b.focusable=b.canActivate),b.plain&&a.push("x-menu-item-plain"),a.length&&(b.cls=a.join(" ")),b.menu&&(c=b.menu,b.menu=null,b.setMenu(c)),Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){var a=this;return a.focusable&&a.rendered&&!1!==a.canActivate&&!a.destroying&&!a.destroyed&&a.isVisible(!0)},onFocus:function(b){var a=this;Ext.Component.prototype.onFocus.call(this,b),a.plain||a.addCls(a.activeCls),a.activated=!0,a.hasListeners.activate&&a.fireEvent("activate",a)},onFocusLeave:function(b){var a=this;Ext.Component.prototype.onFocusLeave.call(this,b),a.plain||a.removeCls(a.activeCls),a.doHideMenu(),a.activated=!1,a.hasListeners.deactivate&&a.fireEvent("deactivate",a)},doHideMenu:function(){var a=this.menu;this.cancelDeferExpand(),a&&a.isVisible()&&a.hide()},deferHideParentMenus:function(){for(var a=this.getRefOwner();a&&(a.isMenu&&a.floating||a.isMenuItem);a=a.getRefOwner())a.isMenu&&a.hide()},expandMenu:function(c,a){var b=this;!b.disabled&&b.activated&&b.menu&&(b.hideOnClick=!1,b.cancelDeferHide(),a=null==a?b.menuExpandDelay:a,0===a?b.doExpandMenu(c):(b.cancelDeferExpand(),b.expandMenuTimer=Ext.defer(b.doExpandMenu,a,b,[c])))},doExpandMenu:function(a){var b=this,c=b.menu;c.isVisible()?a&&"keydown"===a.type&&c.focus():(b.parentMenu.activeChild=c,c.ownerCmp=b,c.parentMenu=b.parentMenu,c.constrainTo=document.body,c.autoFocus=!a||!a.pointerType,c.showBy(b,b.menuAlign))},getRefItems:function(a){var b,c=this.menu;return c&&(b=c.getRefItems(a),b.unshift(c)),b||[]},getValue:function(){return this.value},hideMenu:function(a){var b=this;b.menu&&(b.cancelDeferExpand(),b.hideMenuTimer=Ext.defer(b.doHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b))},onClick:function(g){var b,a,d=this,c=d.clickHideDelay,h=g.browserEvent;return!((!d.href||d.disabled)&&(g.stopEvent(),d.disabled))&&(d.disabled||d.handlingClick||(d.hideOnClick&&!d.menu&&(c?d.deferHideParentMenusTimer=Ext.defer(d.deferHideParentMenus,c,d):d.deferHideParentMenus()),b=d.fireEvent("click",d,g),d.destroyed||(!1!==b&&d.handler&&Ext.callback(d.handler,d.scope,[d,g],0,d),d.destroyed))?void 0:(a=Ext.isIE9m?!1===h.returnValue:!!h.defaultPrevented,d.href&&"click"!==g.type&&!a&&(d.handlingClick=!0,d.itemEl.dom.click(),d.handlingClick=!1),d.hideOnClick||d.hasFocus||d.focus(),b))},onRemoved:function(){var a=this;a.activated&&a.parentMenu.activeItem===a&&a.parentMenu.deactivateActiveItem(),Ext.Component.prototype.onRemoved.apply(this,arguments),a.parentMenu=a.ownerCmp=null},doDestroy:function(){var a=this;a.rendered&&a.clearTip(),a.cancelDeferExpand(),a.cancelDeferHide(),clearTimeout(a.deferHideParentMenusTimer),a.setMenu(null),Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var h,i=this,j=i.glyph,d=!!(i.icon||i.iconCls||j),k=!!i.menu,e="right"===i.iconAlign&&!k,b=i.isMenuCheckItem,a=[],c=i.ownerCt,g=c.plain;i.plain&&(i.ariaEl="el"),Ext.Component.prototype.beforeRender.call(this),d&&k&&i.showCheckbox&&(d=!1),j&&(h=j.fontFamily,j=j.character),(!g||d&&!e||b)&&(c.showSeparator&&!g?a.push(i.indentCls):a.push(i.indentNoSeparatorCls)),k?a.push(i.indentRightArrowCls):d&&(e||b)&&a.push(i.indentRightIconCls),Ext.applyIf(i.renderData,{hasHref:!!i.href,href:i.href||"#",hrefTarget:i.hrefTarget,icon:i.icon,iconCls:i.iconCls,glyph:j,glyphCls:j?"x-menu-item-glyph":void 0,glyphFontFamily:h,hasIcon:d,hasMenu:k,indent:!g||d||b,isCheckItem:b,rightIcon:e,plain:i.plain,text:i.text,arrowCls:i.arrowCls,baseIconCls:i.baseIconCls,textCls:i.textCls,indentCls:a.join(" "),linkCls:i.linkCls,linkHrefCls:i.linkHrefCls,groupCls:i.group?i.groupCls:"",tabIndex:i.tabIndex})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments),a.tooltip&&a.setTooltip(a.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(i,h){var e,d,g=this,c=g.menu,b=g.arrowEl,a=g.ariaEl.dom;c&&(c.ownerCmp=c.parentMenu=null,(!0===h||!1!==h&&g.destroyMenu)&&Ext.destroy(c),a?(a.removeAttribute("aria-haspopup"),a.removeAttribute("aria-owns")):(e=g.ariaRenderAttributes||(g.ariaRenderAttributes={}),delete e["aria-haspopup"],delete e["aria-owns"])),i?(d=i.isMenu,i=g.menu=Ext.menu.Manager.get(i,{ownerCmp:g,focusOnToFront:!1}),i.setOwnerCmp(g,d),a?(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",i.id)):(e=g.ariaRenderAttributes||(g.ariaRenderAttributes={}),e["aria-haspopup"]=!0,e["aria-owns"]=i.id)):i=g.menu=null,i&&g.rendered&&!g.destroying&&b&&b[i?"addCls":"removeCls"](g.arrowCls)},setHandler:function(b,a){this.handler=b||null,this.scope=a},setIcon:function(b){var c=this,a=c.iconEl,d=c.icon;c.glyph&&c.setGlyph(null),a&&a.setStyle("background-image",b?"url("+b+")":""),c.icon=b,c.fireEvent("iconchange",c,d,b)},setIconCls:function(b){var d=this,a=d.iconEl,c=d.iconCls;d.glyph&&d.setGlyph(null),a&&(a.setStyle("background-image",""),d.iconCls&&a.removeCls(d.iconCls),b&&a.addCls(b)),d.iconCls=b,d.fireEvent("iconchange",d,c,b)},setText:function(d){var c=this,b=c.textEl||c.el,a=c.text;c.text=d,c.rendered&&(b.setHtml(d||""),c.updateLayout()),c.fireEvent("textchange",c,a,d)},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(c,a){var b=this;return b.rendered?(a||b.clearTip(),Ext.quickTipsActive&&Ext.isObject(c)?(Ext.tip.QuickTipManager.register(Ext.apply({target:b.itemEl.id},c)),b.tooltip=c):b.itemEl.dom.setAttribute(b.getTipAttr(),c)):b.tooltip=c,b},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(b,a){return b&&(b.isGlyph||(b=new Ext.Glyph(b)),b.isEqual(a)&&(b=void 0)),b},updateGlyph:function(c,b){var a=this.iconEl;a&&(a.setStyle("background-image","none"),this.icon=null,c?(a.dom.innerHTML=c.character,a.setStyle(c.getStyle())):a.dom.innerHTML="")}},0,["menuitem"],["component","box","menuitem"],{component:!0,box:!0,menuitem:!0},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0),Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var a=this;a.checked=!!a.checked,Ext.menu.Item.prototype.initComponent.apply(this,arguments),a.group&&(Ext.menu.Manager.registerCheckable(a),!1!==a.initialConfig.hideOnClick&&(a.hideOnClick=!0))},beforeRender:function(){var a,b=this;Ext.menu.Item.prototype.beforeRender.call(this),Ext.apply(b.renderData,{checkboxCls:b.checkboxCls,showCheckbox:b.showCheckbox}),a=b.ariaRenderAttributes||(b.ariaRenderAttributes={}),a["aria-checked"]=b.menu?"mixed":b.checked,b.menu&&(a["aria-label"]=Ext.String.formatEncode(b.submenuText,b.text))},afterRender:function(){var a=this;Ext.menu.Item.prototype.afterRender.call(this),a.checked=!a.checked,a.setChecked(!a.checked,!0),a.checkChangeDisabled&&a.disableCheckChange(),Ext.isGecko&&a.checkEl&&a.checkEl.on("mousedown",a.onMouseDownCheck)},disableCheckChange:function(){var b=this,a=b.checkEl;a&&a.addCls(b.disabledCls),Ext.isIE8&&b.rendered&&b.el.repaint(),b.checkChangeDisabled=!0},enableCheckChange:function(){var b=this,a=b.checkEl;a&&a.removeCls(b.disabledCls),b.checkChangeDisabled=!1},onMouseDownCheck:function(a){a.preventDefault()},onClick:function(b){var a=this;if(!(a.disabled||a.checkChangeDisabled||a.checked&&a.group||a.menu&&"touch"===b.pointerType&&!a.checkEl.contains(b.target))&&(a.setChecked(!a.checked),"keydown"===b.type&&a.menu))return!1;Ext.menu.Item.prototype.onClick.call(this,b)},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),Ext.menu.Item.prototype.doDestroy.call(this)},setText:function(c){var b=this,a=b.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,c),a&&b.menu&&a.setAttribute("aria-label",Ext.String.formatEncode(b.submenuText,c))},setChecked:function(e,c){var d=this,g=d.checkedCls,h=d.uncheckedCls,b=d.el,a=d.ariaEl.dom;d.checked===e||!c&&!1===d.fireEvent("beforecheckchange",d,e)||(b&&(e?(b.addCls(g),b.removeCls(h)):(b.addCls(h),b.removeCls(g))),a&&a.setAttribute("aria-checked",d.menu?"mixed":!!e),d.checked=e,Ext.menu.Manager.onCheckChange(d,e),d.publishState("checked",e),c||(Ext.callback(d.checkHandler,d.scope,[d,e],0,d),d.fireEvent("checkchange",d,e)))}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:!0,box:!0,menuitem:!0,menucheckitem:!0},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0),Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls),Ext.menu.Item.prototype.beforeRender.call(this)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:!0,box:!0,menuitem:!0,menuseparator:!0},["widget.menuseparator"],0,[Ext.menu,"Separator"],0),Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{defaultType:"menuitem",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,mouseLeaveDelay:100,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:!1,bringParentToFront:!1,alignOnScroll:!1,focusable:!0,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:!0,menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var c=this,a=["x-menu"],d=c.bodyCls?[c.bodyCls]:[],e=!1!==c.floating,b={element:"el",click:c.onClick,mouseover:c.onMouseOver,scope:c};Ext.supports.Touch&&(b.pointerdown=c.onMouseOver),c.on(b),c.on({beforeshow:c.onBeforeShow,scope:c}),c.plain&&a.push("x-menu-plain"),c.cls=a.join(" "),d.push("x-menu-body",Ext.dom.Element.unselectableCls),c.bodyCls=d.join(" "),e?void 0===c.minWidth&&(c.minWidth=c.defaultMinWidth):(c.hidden=!!c.initialConfig.hidden,c.constrain=!1),Ext.panel.Panel.prototype.initComponent.apply(this,arguments),Ext.override(c.getLayout(),{configureItem:c.configureItem}),c.itemOverTask=new Ext.util.DelayedTask(c.handleItemOver,c)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var a=Ext.panel.Panel.prototype.getInherited.call(this);return this.floating&&(a.hidden=this.hidden),a},beforeRender:function(){var a=this;Ext.panel.Panel.prototype.beforeRender.apply(this,arguments),a.getSizeModel().width.shrinkWrap||(a.layout.align="stretch"),a.floating&&(a.ariaRenderAttributes=a.ariaRenderAttributes||{},a.ariaRenderAttributes["aria-expanded"]=!!a.autoShow)},onBoxReady:function(){var b=this,c=b._iconSeparatorCls,a=b.focusableKeyNav;a?(a.map.processEventScope=b,a.map.processEvent=function(d){return d.keyCode===d.ESC&&(d.target=this.el.dom),d},a.map.addBinding([{key:Ext.event.Event.ESC,handler:b.onEscapeKey,scope:b},{key:/[\w]/,handler:b.onShortcutKey,scope:b,shift:!1,ctrl:!1,alt:!1}])):b.escapeKeyNav=new Ext.util.KeyNav(b.el,{eventName:"keydown",scope:b,esc:b.onEscapeKey}),Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments),b.showSeparator&&(b.iconSepEl=b.body.insertFirst({role:"presentation",cls:c+" "+c+"-"+b.ui,html:"&#160;"})),(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)&&b.el.on({scope:b,click:b.preventClick,translate:!1}),b.mouseMonitor=b.el.monitorMouseLeave(b.mouseLeaveDelay,b.onMouseLeave,b)},onFocusEnter:function(b){var c,a=this;Ext.panel.Panel.prototype.onFocusEnter.call(this,b),a.mixins.focusablecontainer.onFocusEnter.call(a,b),a.floating&&(c=a.getInherited(),c.topmostFocusEvent||(c.topmostFocusEvent=b))},onFocusLeave:function(b){var a=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,b),a.lastFocusedChild=null,a.mixins.focusablecontainer.onFocusLeave.call(a,b),a.floating&&a.hide()},handleItemOver:function(b,a){a.containsFocus||"mouse"!==b.pointerType&&!a.isMenuItem||a.focus(),a.expandMenu&&a.expandMenu(b)},canActivateItem:function(a){return a&&a.isFocusable()},deactivateActiveItem:function(){var a=this,b=a.lastFocusedChild;b&&b.blur()},getItemFromEvent:function(d){for(var a=this,c=a.layout.getRenderTarget().dom,b=d.getTarget();b.parentNode!==c;)if(!(b=b.parentNode))return;return Ext.getCmp(b.id)},lookupComponent:function(b){var a=this;return"string"==typeof b?b="@"===b[0]?Ext.panel.Panel.prototype.lookupComponent.call(this,b):a.lookupItemFromString(b):Ext.isObject(b)&&(b=a.lookupItemFromObject(b)),b.dock||(b.minWidth=b.minWidth||a.minWidth),b},lookupItemFromObject:function(b){var a=this.defaultType;return b.isComponent||(!b.xtype&&Ext.isBoolean(b.checked)&&(a="menucheckitem"),b=Ext.ComponentManager.create(b,a)),b.isMenuItem&&(b.parentMenu=this),b},lookupItemFromString:function(a){return"separator"===a||"-"===a?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},configureItem:function(c){var a,g,b=this.owner,d=b.ui;c.isMenuItem?c.setUI(d):b.items.getCount()>1&&!c.rendered&&!c.dock&&(g=b._itemCmpCls,a=[g+" "+g+"-"+d],b.plain||!1===c.indent&&"no-icon"!==c.iconCls||a.push("x-menu-item-indent-"+d),c.rendered?c.el.addCls(a):c.cls=(c.cls||"")+" "+a.join(" "),c.$extraMenuCls=a),this.callParent(arguments)},onRemove:function(a){Ext.panel.Panel.prototype.onRemove.call(this,a),!a.destroyed&&a.$extraMenuCls&&a.el.removeCls(a.$extraMenuCls)},onClick:function(h){var d,b,g=this,c=h.type,a="keydown"===c;if(g.disabled)return void h.stopEvent();if((d=g.getItemFromEvent(h))&&d.isMenuItem){if(d.menu&&g.ignoreParentClicks?h.stopEvent():b=d.onClick(h),g.destroyed)return;d.menu&&!1!==b&&a&&d.expandMenu(h,0)}d&&!d.disabled||(d=void 0),g.fireEvent("click",g,d,h)},doDestroy:function(){var a=this;a.escapeKeyNav&&a.escapeKeyNav.destroy(),a.parentMenu=a.ownerCmp=a.escapeKeyNav=null,a.rendered&&(a.el.un(a.mouseMonitor),Ext.destroy(a.iconSepEl)),Ext.menu.Manager.onHide(a),Ext.panel.Panel.prototype.doDestroy.call(this)},onMouseLeave:function(b){var a=this;a.itemOverTask&&a.itemOverTask.cancel(),a.disabled||a.fireEvent("mouseleave",a,b)},onMouseOver:function(h){var g=this,i=h.getRelatedTarget(),b=!g.el.contains(i),d=g.getItemFromEvent(h),c=g.parentMenu,a=g.ownerCmp;b&&c&&(c.setActiveItem(a),a.cancelDeferHide(),c.mouseMonitor.mouseenter(),c.itemOverTask.cancel()),g.disabled||(d&&g.itemOverTask.delay(g.mouseLeaveDelay,null,null,[h,d]),b&&g.fireEvent("mouseenter",g,h),g.fireEvent("mouseover",g,d,h))},setActiveItem:function(b){var a=this;b&&b!==a.lastFocusedChild&&a.focusChild(b,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(j,h){var b=String.fromCharCode(h.getCharCode()),c=this.query(">[text]"),a=c.length,g=this.lastFocusedChild,k=Ext.Array.indexOf(c,g),d=k;if(0!==a)for(;;){if(++d===a&&(d=0),g=c[d],d===k)return;if(g.text&&g.text[0].toUpperCase()===b)return void g.focus()}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){var b=this;b.floating&&(b.hasFloatMenuParent()||b.allowOtherMenus||Ext.menu.Manager.hideAll()),Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var b=this,a=b.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.apply(this,arguments),Ext.menu.Manager.onShow(b),b.floating&&a&&a.setAttribute("aria-expanded",!0),b.floating&&(b.maxHeight=b.savedMaxHeight),b.autoFocus&&b.focus()},onHide:function(e,b,c){var d=this,a=d.ariaEl.dom;Ext.panel.Panel.prototype.onHide.call(this,e,b,c),d.lastHide=Ext.Date.now(),Ext.menu.Manager.onHide(d),d.floating&&a&&a.setAttribute("aria-expanded",!1)},afterHide:function(a,b){Ext.panel.Panel.prototype.afterHide.call(this,a,b),delete this.getInherited().topmostFocusEvent},preventClick:function(b){var a=this.getItemFromEvent(b);a&&a.isMenuItem&&!a.href&&b.preventDefault()},privates:{applyDefaults:function(a){return Ext.isString(a)||(a=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)),a},initFocusableElement:function(){var c=this,a=c.tabIndex,b=c.el;c.floating&&null!=a&&b&&b.dom&&(b.dom.setAttribute("tabIndex",a),b.dom.setAttribute("data-componentid",c.id))},onFocusableContainerTabKey:function(b){var a=this;a.floating&&(b.shiftKey?b.preventDefault():a.focusEnterEvent=a.getInherited().topmostFocusEvent,a.hide())},onFocusableContainerEnterKey:function(a){this.onClick(a)},onFocusableContainerSpaceKey:function(a){this.onClick(a)},onFocusableContainerLeftKey:function(a){a.preventDefault(),this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(b){var a=this,c=a.lastFocusedChild;b.preventDefault(),c&&c.expandMenu&&c.expandMenu(b,0)},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(b,a){var c=this;c.parentMenu=b.isMenuItem?b:null,c.ownerCmp=b,c.registerWithOwnerCt(),delete c.hierarchicallyHidden,c.onInheritedAdd(b,a),c.containerOnAdded(b,a)}}},0,["menu"],["component","box","container","panel","menu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0),Ext.cmd.derive("Ext.grid.filters.filter.Base",Ext.Base,{factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500,serializer:null},active:!1,type:"string",dataIndex:null,menu:null,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(a){var b,c=this;c.initConfig(a),b=c.column,c.columnListeners=b.on("destroy",c.destroy,c,{destroyable:!0}),c.dataIndex=c.dataIndex||b.dataIndex,c.task=new Ext.util.DelayedTask(c.setValue,c)},destroy:function(){var a=this;a.task&&(a.task.cancel(),a.task=null),a.columnListeners=a.columnListeners.destroy(),a.grid=a.menu=Ext.destroy(a.menu),a.callParent()},addStoreFilter:function(b){var d=this.getGridStore().getFilters(),a=d.indexOf(b),c=-1!==a?d.getAt(a):null;c&&Ext.util.Filter.isEqual(c,b)||d.add(b)},createFilter:function(a,b){var c=new Ext.util.Filter(this.getFilterConfig(a,b));return c.isGridFilter=!0,c},getFilterConfig:function(a,b){return a.id=this.getBaseIdPrefix(),a.property||(a.property=this.dataIndex),a.root||(a.root=this.defaultRoot),b&&(a.id+="-"+b),a.serializer=this.getSerializer(),a},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(a,b){var c=a.active;return void 0!==c?c:void 0!==b},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(a){var b=this.getBaseIdPrefix();return a&&(b+="-"+a),this.getGridStore().getFilters().get(b)},onValueChange:function(h,g){var c,b=this,d=g.getKey(),a=b.updateBuffer;if(d!==g.TAB&&h.isValid()){if(d===g.RETURN)return void b.menu.hide();if((c=b.getValue(h))===b.value)return;a?b.task.delay(a,null,null,[c]):b.setValue(c)}},preprocess:Ext.emptyFn,removeStoreFilter:function(a){this.getGridStore().getFilters().remove(a)},getValue:Ext.emptyFn,setActive:function(c){var d,b=this,a=b.owner.activeFilterMenuItem;b.active!==c&&(b.active=c,d=b.getGridStore().getFilters(),d.beginUpdate(),c?b.activate():b.deactivate(),d.endUpdate(),a&&a.activeFilter===b&&a.setChecked(c),b.setColumnActive(c))},setColumnActive:function(a){this.column[a?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(a){var b=this;b.menu||b.createMenu(),a.activeFilter=b,a.setMenu(b.menu,!1),a.setChecked(b.active),a.setDisabled(!0===b.disabled),b.activate(!0)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.grid.filters.filter,"Base"],0),Ext.cmd.derive("Ext.grid.filters.filter.SingleFilter",Ext.grid.filters.filter.Base,{constructor:function(a){var b,d,c=this;Ext.grid.filters.filter.Base.prototype.constructor.call(this,a),d=c.value,b=c.getStoreFilter(),b?c.active=!0:(c.grid.stateful&&c.getGridStore().saveStatefulFilters&&(d=void 0),c.active=c.getActiveState(a,d),b=c.createFilter({operator:c.operator,value:d}),c.active&&c.addStoreFilter(b)),c.active&&c.setColumnActive(!0),c.filter=b},activate:function(a){a?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(a){return a.getValue()},onFilterRemove:function(){this.menu&&!this.active||(this.active=!1)}},1,0,0,0,0,0,[Ext.grid.filters.filter,"SingleFilter"],0),Ext.cmd.derive("Ext.grid.filters.filter.Boolean",Ext.grid.filters.filter.SingleFilter,{type:"boolean",operator:"==",defaultValue:!1,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(a){var c=this,d=Ext.id(),b={scope:c,click:c.onClick},e=c.getItemDefaults();Ext.grid.filters.filter.SingleFilter.prototype.createMenu.apply(this,arguments),c.menu.add([Ext.apply({text:c.yesText,filterKey:1,group:d,checked:!!c.defaultValue,hideOnClick:!1,listeners:b},e),Ext.apply({text:c.noText,filterKey:0,group:d,checked:!c.defaultValue,hideOnClick:!1,listeners:b},e)])},onClick:function(a){this.setValue(!!a.filterKey)},setValue:function(b){var a=this;a.filter.setValue(b),void 0!==b&&a.active?(a.value=b,a.updateStoreFilter()):a.setActive(!0)},activateMenu:Ext.emptyFn},0,0,0,0,["grid.filter.boolean"],0,[Ext.grid.filters.filter,"Boolean"],0),Ext.cmd.derive("Ext.grid.filters.filter.TriFilter",Ext.grid.filters.filter.Base,{menuItems:["lt","gt","-","eq"],constructor:function(d){var e,h,c,j,b,i=this,g=!1,a={};if(Ext.grid.filters.filter.Base.prototype.constructor.call(this,d),j=i.value,h=i.getStoreFilter("lt"),e=i.getStoreFilter("gt"),c=i.getStoreFilter("eq"),h||e||c?(g=i.active=!0,h&&i.onStateRestore(h),e&&i.onStateRestore(e),c&&i.onStateRestore(c)):(i.grid.stateful&&i.getGridStore().saveStatefulFilters&&(j=void 0),i.active=i.getActiveState(d,j)),a.lt=h||i.createFilter({operator:"lt",value:!g&&j&&Ext.isDefined(j.lt)?j.lt:null},"lt"),a.gt=e||i.createFilter({operator:"gt",value:!g&&j&&Ext.isDefined(j.gt)?j.gt:null},"gt"),a.eq=c||i.createFilter({operator:"eq",value:!g&&j&&Ext.isDefined(j.eq)?j.eq:null},"eq"),i.filter=a,i.active&&(i.setColumnActive(!0),!g))for(b in j)i.addStoreFilter(i.filter[b])},activate:function(e){var a,i,c,j,h,g=this,b=g.filter,d=g.fields;if(!g.preventFilterRemoval)for(c in b)a=b[c],i=d[c],((j=a.getValue())||0===j)&&(i.isComponent?(i.setValue(j),void 0===h&&(h=g.owner.activeFilterMenuItem===i.up("menuitem")),h||i.up("menuitem").setChecked(!0,!0)):i.value=j,e||g.addStoreFilter(a))},deactivate:function(){var e,a,d,c=this,b=c.filter;if(c.countActiveFilters()&&!c.preventFilterRemoval){c.preventFilterRemoval=!0;for(e in b)a=b[e],((d=a.getValue())||0===d)&&c.removeStoreFilter(a);c.preventFilterRemoval=!1}},countActiveFilters:function(){var b,c=this.filter,e=this.getGridStore().getFilters(),d=this.getBaseIdPrefix(),a=0;if(e.length)for(b in c)e.get(d+"-"+b)&&a++;return a},onFilterRemove:function(a){var c,b=this;!b.menu&&b.countActiveFilters()?b.active=!1:b.menu&&(c={},c[a]=null,b.setValue(c))},onStateRestore:Ext.emptyFn,setValue:function(k){var a,m,e,l,c,j=this,b=j.filter,n=[],h=[],d=!1,g=j.getGridStore().getFilters();if(!j.preventFilterRemoval){if(j.preventFilterRemoval=!0,"eq"in k?(m=b.lt.getValue(),(m||0===m)&&h.push(b.lt),m=b.gt.getValue(),(m||0===m)&&h.push(b.gt),m=k.eq,m||0===m?(n.push(b.eq),b.eq.setValue(m)):h.push(b.eq)):(m=b.eq.getValue(),(m||0===m)&&h.push(b.eq),"lt"in k&&(m=k.lt,m||0===m?(n.push(b.lt),b.lt.setValue(m)):h.push(b.lt)),"gt"in k&&(m=k.gt,m||0===m?(n.push(b.gt),b.gt.setValue(m)):h.push(b.gt))),l=h.length,c=n.length,d=!!(j.countActiveFilters()+c-l),l||c||d!==j.active){if(g.beginUpdate(),l)for(e=0;e<l;e++)a=h[e],j.fields[a.getOperator()].setValue(null),a.setValue(null),j.removeStoreFilter(a);if(c)for(e=0;e<c;e++)j.addStoreFilter(n[e]);j.setActive(d),g.endUpdate()}j.preventFilterRemoval=!1}}},1,0,0,0,0,0,[Ext.grid.filters.filter,"TriFilter"],0),Ext.cmd.derive("Ext.grid.filters.filter.Date",Ext.grid.filters.filter.TriFilter,{type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:void 0},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},applyDateFormat:function(a){return a||Ext.Date.defaultFormat},createMenu:function(b){var g,c,d,e,j,n,o,h,m,k=this,l={scope:k,checkchange:k.onCheckChange},a=k.menuItems;for(Ext.grid.filters.filter.TriFilter.prototype.createMenu.apply(this,arguments),c=k.getItemDefaults(),g=k.getFields(),d=Ext.apply({minDate:k.minDate,maxDate:k.maxDate,format:k.dateFormat,listeners:{scope:k,select:k.onMenuSelect}},k.getPickerDefaults()),k.fields={},e=0,j=a.length;e<j;e++)n=a[e],"-"!==n?(h={menu:{xtype:"datemenu",hideOnClick:!1,pickerCfg:Ext.apply({itemId:n},d)}},c&&Ext.merge(h,c),g&&Ext.merge(h,g[n]),o=k.menu.add(h),m=k.fields[n]=o.down("datepicker"),m.filter=k.filter[n],m.filterKey=n,o.on(l)):k.menu.add(n)},getPicker:function(a){return this.fields[a]},onCheckChange:function(d,c){var a,b=d.down("datepicker").filter;!c&&b.getValue()&&(a={},a[b.getOperator()]=null,this.setValue(a))},onFilterRemove:function(b){var a={};a[b]=null,this.setValue(a),this.fields[b].up("menuitem").setChecked(!1,!0)},onStateRestore:function(a){a.setSerializer(this.getSerializer()),a.setConvert(this.convertDateOnly)},getFilterConfig:function(a,b){return a=Ext.grid.filters.filter.TriFilter.prototype.getFilterConfig.call(this,a,b),a.serializer=this.getSerializer(),a.convert=this.convertDateOnly,a},convertDateOnly:function(b){var a=null;return b&&(a=Ext.Date.clearTime(b,!0).getTime()),a},getSerializer:function(){var a=this;return function(c){var b=c.value;b&&(c.value=Ext.Date.format(b,a.getDateFormat()))}},onMenuSelect:function(g,c){var h=this,e=h.fields,b=h.filter,i=e[g.itemId],a=e.gt,d=e.lt,k=e.eq,j={};i.up("menuitem").setChecked(!0,!0),i===k?(d.up("menuitem").setChecked(!1,!0),a.up("menuitem").setChecked(!1,!0)):(k.up("menuitem").setChecked(!1,!0),i===a&&+d.value<+c?(d.up("menuitem").setChecked(!1,!0),null!=b.lt.getValue()&&(j.lt=null)):i===d&&+a.value>+c&&(a.up("menuitem").setChecked(!1,!0),null!=b.gt.getValue()&&(j.gt=null))),j[i.filterKey]=c,h.setValue(j),g.up("menu").hide()}},0,0,0,0,["grid.filter.date"],0,[Ext.grid.filters.filter,"Date"],0),Ext.cmd.derive("Ext.grid.filters.filter.List",Ext.grid.filters.filter.SingleFilter,{type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,gridStoreListenersCfg:{add:"onDataChanged",refresh:"onDataChanged",remove:"onDataChanged",update:"onDataChanged"},constructor:function(a){var b,c=this;Ext.grid.filters.filter.SingleFilter.prototype.constructor.call(this,a),c.labelIndex=c.labelIndex||c.column.dataIndex,c.store&&(c.store=Ext.StoreManager.lookup(c.store)),c.store||c.options||(b=c.getGridStore(),null!=c.value&&c.active&&!b.isEmptyStore&&(c.gridStoreListeners=b.on(Ext.apply({scope:c,destroyable:!0},c.gridStoreListenersCfg))),c.gridListeners=c.grid.on({reconfigure:c.onReconfigure,scope:c,destroyable:!0}),c.inferOptionsFromGridStore=!0)},destroy:function(){var c=this,a=c.store,b=c.autoStore;a&&a.isStore&&(b||a.autoDestroy?a.destroy():a.un("load",c.bindMenuStore,c),c.store=null),Ext.destroy(c.gridStoreListeners,c.gridListeners),Ext.grid.filters.filter.SingleFilter.prototype.destroy.call(this)},activateMenu:function(){var c,d,a,b,e=this,g=e.filter.getValue();if(g&&g.length)for(c=e.menu.items,d=0,a=c.length;d<a;d++)b=c.getAt(d),Ext.Array.indexOf(g,b.value)>-1&&b.setChecked(!0,!0)},bindMenuStore:function(a){var b=this;b.grid.destroyed||b.preventFilterRemoval||(b.createListStore(a),b.createMenuItems(b.store),b.loaded=!0)},createListStore:function(n){var a,c,e,g,l,h=this,m=h.store,j=n.isStore,b=h.idField,d=h.labelField,k=!1;if(j)n!==h.getGridStore()?(k=!0,m=h.store=n):(h.autoStore=!0,a=h.getOptionsFromStore(n));else for(a=[],e=0,g=n.length;e<g;e++)switch(l=n[e],Ext.typeOf(l)){case"array":case"object":a.push(l);break;default:null!=l&&(c={},c[b]=l,c[d]=l,a.push(c))}k||(m&&m.destroy(),m=h.store=new Ext.data.Store({fields:[b,d],data:a}),h.inferOptionsFromGridStore&!h.gridStoreListeners&&(h.gridStoreListeners=h.getGridStore().on(Ext.apply({scope:h,destroyable:!0},h.gridStoreListenersCfg))),h.loaded=!0),h.setStoreFilter(m)},createMenu:function(c){var g,e=this,d=e.getGridStore(),a=e.store,b=e.options;a&&(e.store=a=Ext.StoreManager.lookup(a)),Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this,c),g=e.menu,a?a.getCount()?e.createMenuItems(a):(g.add({text:e.loadingText,iconCls:"x-mask-msg-text"}),g.on({show:e.show,scope:e}),a.on("load",e.bindMenuStore,e,{single:!0})):b?e.bindMenuStore(b):d.getCount()||d.isFiltered()?e.bindMenuStore(d):d.on("load",e.bindMenuStore,e,{single:!0})},createMenuItems:function(q){var d,l,m,b,a,j,g,k,e,o=this,c=o.menu,n=q.getCount(),h=Ext.Array.contains;if(n&&c){for(d=o.getItemDefaults(),c.suspendLayouts(),c.removeAll(!0),m=o.single?Ext.id():null,a=o.idField,g=o.labelField,e=[],k=0;k<n;k++)l=q.getAt(k),b=l.get(a),null==(j=l.get(g))||h(e,b)||(e.push(j),c.add(Ext.apply({text:j,group:m,value:b,checkHandler:o.onCheckChange,scope:o},d)));c.resumeLayouts(!0)}},getFilterConfig:function(a,b){return a.value=a.value||[],Ext.grid.filters.filter.SingleFilter.prototype.getFilterConfig.call(this,a,b)},getOptionsFromStore:function(j){var k,c,d,h=this,e=j.getData(),b={},g=[],i=h.dataIndex,a=h.labelIndex;return j.isFiltered()&&!j.remoteFilter&&(e=e.getSource()),j.each(function(l){k=l.data,c=k[i],d=k[a],void 0===d&&(d=c),b[c]||(b[c]=1,g.push([c,d]))},null,{filtered:!0,collapsed:!0}),g},onCheckChange:function(){var b=this,a=b.updateBuffer;a?b.task.delay(a):b.setValue()},onDataChanged:function(a){this.preventDefault?this.preventDefault=!1:this.bindMenuStore(a)},onReconfigure:function(b,a){a&&this.bindMenuStore(a)},setActive:function(a){this.active!==a&&(this.preventDefault=!0,Ext.grid.filters.filter.SingleFilter.prototype.setActive.call(this,a))},setStoreFilter:function(a){var c=this,d=c.value,b=c.filter;d&&(Ext.isArray(d)||(d=[d]),b.setValue(d)),
c.active&&(c.preventFilterRemoval=!0,c.addStoreFilter(b),c.preventFilterRemoval=!1)},setValue:function(){var d,a,b,e=this,c=e.menu.items,g=[];for(e.preventDefault=!0,d=0,a=c.length;d<a;d++)b=c.getAt(d),b.checked&&g.push(b.value);Ext.Array.equals(g,e.filter.getValue())||(e.filter.setValue(g),a=g.length,a&&e.active?e.updateStoreFilter():e.setActive(!!a))},show:function(){var a=this.store;!this.loadOnShow||this.loaded||a.hasPendingLoad()||a.load()}},1,0,0,0,["grid.filter.list"],0,[Ext.grid.filters.filter,"List"],0),Ext.cmd.derive("Ext.grid.filters.filter.Number",Ext.grid.filters.filter.TriFilter,{type:"number",config:{fields:{gt:{iconCls:"x-grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:"x-grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:"x-grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var k,c,g,l,m,e,h=this,j={scope:h,keyup:h.onValueChange,spin:{fn:h.onInputSpin,buffer:200},el:{click:h.stopFn}},b=h.getItemDefaults(),a=h.menuItems,d=h.getFields();for(Ext.grid.filters.filter.TriFilter.prototype.createMenu.call(this),h.fields={},c=0,g=a.length;c<g;c++)l=a[c],"-"!==l?(k=d[l],e={labelClsExtra:"x-grid-filters-icon "+k.iconCls},b&&Ext.merge(e,b),Ext.merge(e,k),e.emptyText=e.emptyText||h.emptyText,delete e.iconCls,h.fields[l]=m=h.menu.add(e),m.filter=h.filter[l],m.filterKey=l,m.on(j)):h.menu.add(l)},getValue:function(b){var a={};return a[b.filterKey]=b.getValue(),a},onInputSpin:function(c,b){var a={};a[c.filterKey]=c.getValue(),this.setValue(a)},stopFn:function(a){a.stopPropagation()}},0,0,0,0,["grid.filter.number","grid.filter.numeric"],0,[Ext.grid.filters.filter,"Number"],0),Ext.cmd.derive("Ext.grid.filters.filter.String",Ext.grid.filters.filter.SingleFilter,{type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:"x-grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var a,b=this;Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this),a=Ext.apply({},b.getItemDefaults()),!a.iconCls||"labelClsExtra"in a||(a.labelClsExtra="x-grid-filters-icon "+a.iconCls),delete a.iconCls,a.emptyText=a.emptyText||b.emptyText,b.inputItem=b.menu.add(a),b.inputItem.on({scope:b,keyup:b.onValueChange,el:{click:function(c){c.stopPropagation()}}})},setValue:function(b){var a=this;a.inputItem&&a.inputItem.setValue(b),a.filter.setValue(b),b&&a.active?(a.value=b,a.updateStoreFilter()):a.setActive(!!b)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())},createFilter:function(a,b){var c=this;return c.filterFn?new Ext.util.Filter({filterFn:function(d){return Ext.callback(c.filterFn,c.scope,[d,c.inputItem.getValue()])}}):Ext.grid.filters.filter.SingleFilter.prototype.createFilter.call(this,a,b)}},0,0,0,0,["grid.filter.string"],0,[Ext.grid.filters.filter,"String"],0),Ext.cmd.derive("Ext.grid.filters.Filters",Ext.plugin.Abstract,{id:"gridfilters",defaultFilterTypes:{boolean:"boolean",int:"number",date:"date",number:"number"},filterCls:"x-grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:void 0,init:function(b){var a,d,c=this;c.grid=b,b.filters=c,c.grid.normalGrid&&(c.isLocked=!0),b.clearFilters=c.clearFilters.bind(c),a=b.store,d=b.headerCt,c.headerCtListeners=d.on({destroyable:!0,scope:c,add:c.onAdd,menucreate:c.onMenuCreate}),c.gridListeners=b.on({destroyable:!0,scope:c,reconfigure:c.onReconfigure}),c.bindStore(a),b.stateful&&(a.statefulFilters=!0),c.initColumns()},initColumns:function(){var c,h,g,j,e=this.grid,b=e.getStore(),d=e.columnManager.getColumns(),a=d.length;for(c=0;c<a;c++)h=d[c],(g=h.filter)&&!g.isGridFilter&&(j||(j=b.getFilters(),j.beginUpdate()),this.createColumnFilter(h));j&&j.endUpdate()},createColumnFilter:function(e){var h,b,c,g=this,a=e.filter,d={column:e,grid:g.grid,owner:g};Ext.isString(a)?d.type=a:Ext.apply(d,a),d.type||(b=g.store.getModel(),h=b&&b.getField(e.dataIndex),c=h&&h.type,d.type=c&&g.defaultFilterTypes[c]||e.defaultFilterType||"string"),e.filter=Ext.Factory.gridFilter(d),e.menuDisabled||(e.requiresMenu=!0)},onAdd:function(d,c,a){var b=c.filter;b&&!b.isGridFilter&&this.createColumnFilter(c)},onMenuCreate:function(b,a){a.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(g){var c,b,d,a,e=this;e.showMenu&&(e.filterMenuItem||(e.filterMenuItem={}),d=g.up("tablepanel"),a=d.id,c=e.filterMenuItem[a],c&&!c.destroyed||(c=e.createMenuItem(g,a)),e.activeFilterMenuItem=c,b=e.getMenuFilter(d.headerCt),b&&b.showMenu(c),c.setVisible(!!b),e.sep&&e.sep.setVisible(!!b))},createMenuItem:function(d,a){var b,c=this;return d.items.length&&(c.sep=d.add("-")),b=d.add({checked:!1,itemId:"filters",text:c.menuFilterText,listeners:{scope:c,checkchange:c.onCheckChange}}),c.filterMenuItem[a]=b},destroy:function(){var b,c=this,a=c.filterMenuItem;Ext.destroy(c.headerCtListeners,c.gridListeners),c.bindStore(null),c.sep=Ext.destroy(c.sep);for(b in a)a[b].destroy();Ext.plugin.Abstract.prototype.destroy.call(this)},onUnbindStore:function(a){a&&!a.destroyed&&a.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(a,b,c){this.local=!a.getRemoteFilter(),a.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(j,g){var c,e,h,d,b=g.items.length,a=this.grid.columnManager;for(c=0;c<b;c++)if(e=g.items[c],h=a.getHeaderByDataIndex(e.getProperty())){if(!(d=h.filter)||!d.menu||-1===e.getId().indexOf(d.getBaseIdPrefix()))continue;d.preventFilterRemoval||d.onFilterRemove(e.getOperator())}},getMenuFilter:function(a){return a.getMenu().activeHeader.filter},onCheckChange:function(c,d){var b=this.isLocked?c.up("tablepanel"):this.grid;this.getMenuFilter(b.headerCt).setActive(d)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(c){var k,e,g,h,b,n,j=this,a=j.grid,l=j.store,d=!1,m=!0;for(Ext.isArray(c)||(c=[c]),g=0,h=c.length;g<h;g++)b=c[g],k=b.dataIndex,(e=a.columnManager.getHeaderByDataIndex(k))&&(d=!0,b.value&&(m=!1),n=e.filter,n&&n.isGridFilter&&(n.deactivate(),n.destroy(),j.activeFilterMenuItem&&(j.activeFilterMenuItem.menu=null)),e.filter=b);d&&(l.suppressNextFilter=m,j.initColumns(),l.suppressNextFilter=!1)},addFilters:function(a){a&&this.addFilter(a)},clearFilters:function(){var h,g,c,a,j,e=this.grid,d=e.columnManager.getColumns(),b=e.store;for(c=0,a=d.length;c<a;c++)h=d[c],(g=h.filter)&&g.isGridFilter&&(j||(j=b.getFilters(),j.beginUpdate()),g.setActive(!1));j&&j.endUpdate()},onReconfigure:function(e,a,d,i){var b,g=this,c=g.filterMenuItem,h=i!==a;if(d)for(b in c)c[b].setMenu(null);a&&(i&&!i.destroyed&&h&&g.resetFilters(i),h&&(g.bindStore(a),g.applyFilters(a))),g.initColumns()},privates:{applyFilters:function(b){var c,g,e,h,d=this.grid.columnManager.getColumns(),a=d.length;for(c=0;c<a;c++)g=d[c],(e=g.filter)&&e.isGridFilter&&(h||(h=b.getFilters(),h.beginUpdate()),e.active&&e.activate());h&&h.endUpdate()},resetFilters:function(a){var b,d,c,e=a.getFilters();if(e){for(b=e.getCount()-1;b>=0;--b)c=e.getAt(b),c.isGridFilter&&(d||e.beginUpdate(),e.remove(c),d=!0);d&&e.endUpdate()}}}},0,0,0,0,["plugin.gridfilters"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.grid.filters,"Filters"],0),Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(b){var a=this,d=b.lockedGrid,c=b.normalGrid;a.lockable=b,Ext.grid.header.Container.prototype.constructor.call(this),d.visibleColumnManager.rootColumns=c.visibleColumnManager.rootColumns=b.visibleColumnManager=a.visibleColumnManager=new Ext.grid.ColumnManager(!0,d.headerCt,c.headerCt),d.columnManager.rootColumns=c.columnManager.rootColumns=b.columnManager=a.columnManager=new Ext.grid.ColumnManager(!1,d.headerCt,c.headerCt),a.lockedEventRelayers=a.relayEvents(d.headerCt,a.headerCtRelayEvents),a.normalEventRelayers=a.relayEvents(c.headerCt,a.headerCtRelayEvents)},destroy:function(){var a=this;Ext.destroy(a.lockedEventRelayers,a.normalEventRelayers),a.lockedEventRelayers=a.normalEventRelayers=null,Ext.grid.header.Container.prototype.destroy.call(this)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var b=this,a=b.lockable.lockedGrid.headerCt.getColumnsState(),c=b.lockable.normalGrid.headerCt.getColumnsState();return a.concat(c)},applyColumnsState:function(o,b){var j,c,n,h,m,l=this,d=l.lockable.lockedGrid,e=d.headerCt,k=l.lockable.normalGrid.headerCt,g=e.items.items.concat(k.items.items),a=g.length;for(j=0;j<a;j++)c=g[j],(h=o[c.getStateId()])&&(n=null!=h.locked&&Boolean(c.locked)!==h.locked,c.applyColumnState&&c.applyColumnState(h,b),n&&(c.locked?e:k).add(c));for(m=e.items.items.length,j=0;j<a;j++)c=g[j],(h=o[c.getStateId()])&&!c.locked&&(h.index-=m);e.applyColumnsState(o,b),k.applyColumnsState(o,b)},disable:function(){var a=this.lockable;a.lockedGrid.headerCt.disable(),a.normalGrid.headerCt.disable()},enable:function(){var a=this.lockable;a.lockedGrid.headerCt.enable(),a.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},0,0,[Ext.grid.locking,"HeaderContainer"],0),Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var d,b,c=Ext,e=this;e.ownerGrid=a.ownerGrid,e.ownerGrid.view=e,e.navigationModel="treepanel"===a.locked.xtype?new c.tree.NavigationModel(e):new c.grid.NavigationModel(e),a.locked.viewConfig.bindStore=c.emptyFn,a.normal.viewConfig.bindStore=e.subViewBindStore,a.normal.viewConfig.isNormalView=a.locked.viewConfig.isLockedView=!0,a.locked.viewConfig.navigationModel=a.normal.viewConfig.navigationModel=e.navigationModel,e.lockedGrid=e.ownerGrid.lockedGrid=c.ComponentManager.create(a.locked),e.lockedView=d=e.lockedGrid.getView(),e.selModel=a.normal.viewConfig.selModel=d.getSelectionModel(),e.lockedGrid.isTree&&(e.lockedView.animate=!1,a.normal.store=d.store,a.normal.viewConfig.stripeRows=e.lockedView.stripeRows,a.normal.rowLines=e.lockedGrid.rowLines),e.normalGrid=e.ownerGrid.normalGrid=c.ComponentManager.create(a.normal),d.lockingPartner=b=e.normalView=e.normalGrid.getView(),b.lockingPartner=d,Ext.override(e.normalGrid,{beforeRender:e.beforeNormalGridRender}),e.loadMask=void 0!==a.loadMask?a.loadMask:e.loadMask,e.mixins.observable.constructor.call(e),e.lockedViewEventRelayers=e.relayEvents(d,c.view.Table.events),e.normalViewEventRelayers=e.relayEvents(b,c.view.Table.events.concat(c.view.Table.normalSideEvents)),b.on({scope:e,itemmouseleave:e.onItemMouseLeave,itemmouseenter:e.onItemMouseEnter}),d.on({scope:e,itemmouseleave:e.onItemMouseLeave,itemmouseenter:e.onItemMouseEnter}),e.loadingText=b.loadingText,e.loadingCls=b.loadingCls,e.loadingUseMsg=b.loadingUseMsg,e.itemSelector=e.getItemSelector(),e.all=b.all,e.bindStore(b.dataSource,!0,"dataSource")},subViewBindStore:function(b,c){var a,e=this,d=e.ownerGrid;e.destroying||e.destroyed||d.destroying||d.destroyed||(a=e.getSelectionModel(),a.bindStore(b,c),a.bindComponent(e))},beforeNormalGridRender:function(){this.ownerGrid.lockedGrid.getHeader()&&!this.title&&(this.title=" "),this.callParent()},onPanelRender:function(c){var d=this,b=d.loadMask,a={target:d.ownerGrid,msg:d.loadingText,msgCls:d.loadingCls,useMsg:d.loadingUseMsg,store:d.ownerGrid.store};d.el=c,d.rendered=!0,d.fireEvent("render",d),b&&(Ext.isObject(b)&&(a=Ext.apply(a,b)),d.loadMask=new Ext.LoadMask(a))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(a){return this.getViewForColumn(a).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(b){var c,a=this.lockedView;return a.headerCt.cascade(function(d){if(d===b)return c=!0,!1}),c?a:this.normalView},onItemMouseEnter:function(c,b){var e,g=this,d=g.lockedView,a=g.normalView;c.trackOver&&(c!==d&&(a=d),e=a.getNode(b),a.highlightItem(e))},onItemMouseLeave:function(c,b){var e=this,d=e.lockedView,a=e.normalView;c.trackOver&&(c!==d&&(a=d),a.clearHighlight())},relayFn:function(c,b){b=b||[];var d=this,a=d.lockedView;d.relayingOperation=!0,a[c].apply(a,b),a=d.normalView,a[c].apply(a,b),d.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(a,b,g){var e=this,d=e.lockedView,c=e.normalView;!c.componentLayoutCounter||d.blockRefresh&&c.blockRefresh||(Ext.suspendLayouts(),d.doFirstRefresh(a),c.doFirstRefresh(a),Ext.resumeLayouts(!0))},getStoreListeners:function(){var a=this;return{priority:1e3,refresh:a.onDataRefresh,replace:a.onReplace,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.onDataRefresh,beginupdate:a.onBeginUpdate,endupdate:a.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridHide",arguments),Ext.resumeLayouts(!0)},onOwnerGridShow:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridShow",arguments),Ext.resumeLayouts(!0)},onBeginUpdate:function(){Ext.suspendLayouts(),this.relayFn("onBeginUpdate",arguments),Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts(),this.relayFn("onEndUpdate",arguments),Ext.resumeLayouts(!0)},onDataRefresh:function(){Ext.suspendLayouts(),this.relayFn("onDataRefresh",arguments),Ext.resumeLayouts(!0)},onReplace:function(){Ext.suspendLayouts(),this.relayFn("onReplace",arguments),Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts(),this.relayFn("onAdd",arguments),Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts(),this.relayFn("onRemove",arguments),Ext.resumeLayouts(!0)},setActionableMode:function(d,b){var a,c;if(d)return b||(b=this.getNavigationModel().getPosition()),!!b&&(b=b.clone(),b.view=c=b.column.getView(),a=c.setActionableMode(d,b),!1!==a&&c.lockingPartner.grid.isVisible()&&(c.lockingPartner.setActionableMode(d,b),c.lockingPartner.actionableMode||(c.setActionableMode(!1),a=!1)),a);this.relayFn("setActionableMode",[!1])},onUpdate:function(){Ext.suspendLayouts(),this.relayFn("onUpdate",arguments),Ext.resumeLayouts(!0)},refresh:function(){var b=this.lockedView,a=this.normalView;Ext.suspendLayouts(),b.clearViewEl(!0),a.clearViewEl(!0),a.refresh(),b.refresh(),Ext.resumeLayouts(!0)},refreshView:function(){var b=this.lockedView,a=this.normalView,c=a.all.startIndex;Ext.suspendLayouts(),b.clearViewEl(!0),a.clearViewEl(!0),a.refreshView(c),b.refreshView(c),Ext.resumeLayouts(!0)},setScrollable:function(a){Ext.suspendLayouts(),this.lockedView.setScrollable(a),a.isScroller&&(a=new Ext.scroll.Scroller(a.initialConfig)),this.normalView.setScrollable(a),Ext.resumeLayouts(!0)},getNode:function(a){return this.normalView.getNode(a)},getRow:function(a){return this.normalView.getRow(a)},getCell:function(b,c){var a=this.getViewForColumn(c),d=a.getRow(b);return Ext.fly(d).down(c.getCellSelector())},indexOf:function(b){var a=this.lockedView.indexOf(b);return a||(a=this.normalView.indexOf(b)),a},focus:function(){var a=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");a&&a.focus()},focusRow:function(c){var a,b=this.getNavigationModel().lastFocused;a=b?b.view:this.normalView,a.focusRow(c)},focusCell:function(a){a.view.focusCell(a)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(a){return this.ownerGrid.isVisible(a)},getCellInclusive:function(d,b){var a=d.column,c=this.lockedGrid.getColumnManager().getColumns().length;return a>=c?(d=Ext.apply({},d),d.column-=c,this.normalView.getCellInclusive(d,b)):this.lockedView.getCellInclusive(d,b)},getHeaderByCell:function(a){return!!a&&this.getVisibleColumnManager().getHeaderById(a.getAttribute("data-columnId"))},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(a){a.column.getView().onCellSelect({record:a.record,column:a.column})},onCellDeselect:function(a){a.column.getView().onCellDeselect({record:a.record,column:a.column})},getCellByPosition:function(e,c){var d=this,a=e.view,b=e.column;return a===d&&(e=new Ext.grid.CellContext(b.getView()).setPosition(e.record,e.column)),a.getCellByPosition(e,c)},getRecord:function(b){var a=this.lockedView.getRecord(b);return a||(a=this.normalView.getRecord(b)),a},scrollBy:function(){var a=this.ownerGrid.getScrollable();a.scrollBy.apply(a,arguments)},ensureVisible:function(){var a=this.normalView;a.ensureVisible.apply(a,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var a=this;a.rendered=!1,a.bindStore(null,!1,"dataSource"),Ext.destroy(a.selModel,a.navigationModel,a.loadMask,a.lockedViewEventRelayers,a.normalViewEventRelayers),a.lockedView.lockingPartner=a.normalView.lockingPartner=null,a.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]),this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]),this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}),Ext.cmd.derive("Ext.scroll.LockingScroller",Ext.scroll.Scroller,{config:{lockedScroller:null,normalScroller:null},scrollTo:function(a,d,c){var b;Ext.isObject(a)&&(b=a.lockedX)&&this.getLockedScroller().scrollTo(b,null,c),Ext.scroll.Scroller.prototype.scrollTo.call(this,a,d,c)},updateLockedScroller:function(a){a.on("scroll","onLockedScroll",this),a.setLockingScroller(this)},updateNormalScroller:function(a){a.on("scroll","onNormalScroll",this),a.setLockingScroller(this)},getPosition:function(){var b=this,a=Ext.scroll.Scroller.prototype.getPosition.call(this);return a.x=b.getNormalScroller().getPosition().x,a.lockedX=b.getLockedScroller().getPosition().x,a},privates:{updateSpacerXY:function(h){var g=this,b=g.getLockedScroller(),d=g.getNormalScroller(),e=b.component,c=d.component,a=h.y+(c.headerCt.tooNarrow||e.headerCt.tooNarrow?Ext.getScrollbarSize().height:0);c.stretchHeight(a),e.stretchHeight(a),Ext.scroll.Scroller.prototype.updateSpacerXY.call(this,h)},doScrollTo:function(a,c,b){null!=a&&(this.getNormalScroller().scrollTo(a,null,b),a=null),Ext.scroll.Scroller.prototype.doScrollTo.call(this,a,c,b)},onLockedScroll:function(b,a,c){this.position.lockedX=a},onNormalScroll:function(b,a,c){this.position.x=a}}},0,0,0,0,["scroller.locking"],0,[Ext.scroll,"LockingScroller"],0),Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",lockingBodyCls:"x-grid-locking-body",scrollContainerCls:"x-grid-scroll-container",scrollBodyCls:"x-grid-scroll-body",scrollbarClipperCls:"x-grid-scrollbar-clipper",scrollbarCls:"x-grid-scrollbar",scrollbarVisibleCls:"x-grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var h,d,b,g,a,c=this;if(c.subGridXType)h=c.subGridXType;else{if(!e)return"gridpanel";d=c.getXTypes().split("/"),b=d.length,g=d[b-1],a=d[b-2],h="tablepanel"!==a?a:g}return h},injectLockable:function(){this.focusable=!1,this.lockable=!0,this.hasView=!0;var m,b,e,o,g,d,c,h,p=this,r=p.store=Ext.StoreManager.lookup(p.store),k=p.lockedViewConfig,q=p.normalViewConfig,j=Ext.Object,l=p.viewConfig,n=l&&l.loadMask,a=void 0!==n?n:p.loadMask,s=p.bufferedRenderer;for(m=p.constructLockableFeatures(),p.scrollable=new Ext.scroll.LockingScroller({component:p,x:!1,y:!0}),p.features=null,b=p.constructLockablePlugins(),p.plugins=b.topPlugins,e={id:p.id+"-locked",$initParent:p,isLocked:!0,bufferedRenderer:s,ownerGrid:p,ownerLockable:p,xtype:p.determineXTypeToCreate(!0),store:r,scrollerOwner:!1,animate:!1,border:!1,cls:p.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:m.lockedFeatures,plugins:b.lockedPlugins},o={id:p.id+"-normal",$initParent:p,isLocked:!1,bufferedRenderer:s,ownerGrid:p,ownerLockable:p,xtype:p.determineXTypeToCreate(),store:r,reserveScrollbar:p.reserveScrollbar,scrollerOwner:!1,border:!1,cls:p.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:m.normalFeatures,plugins:b.normalPlugins},p.addCls("x-grid-locked"),Ext.copy(o,p,p.bothCfgCopy,!0),Ext.copy(e,p,p.bothCfgCopy,!0),Ext.copy(o,p,p.normalCfgCopy,!0),Ext.copy(e,p,p.lockedCfgCopy,!0),Ext.apply(o,p.normalGridConfig),Ext.apply(e,p.lockedGridConfig),g=0;g<p.normalCfgCopy.length;g++)delete p[p.normalCfgCopy[g]];for(g=0;g<p.lockedCfgCopy.length;g++)delete p[p.lockedCfgCopy[g]];p.addStateEvents(["lockcolumn","unlockcolumn"]),d=p.processColumns(p.columns||[],e),e.columns=d.locked,e.columns.items.length||(e.hidden=!0),o.columns=d.normal,o.columns.items.length||(o.hidden=!0),o.flex=1,e.viewConfig=k=k?j.chain(k):{},o.viewConfig=q=q?j.chain(q):{},k.loadingUseMsg=!1,k.loadMask=!1,q.loadMask=!1,Ext.applyIf(k,l),Ext.applyIf(q,l),p.layout===Ext.panel.Table.prototype.layout&&(p.layout={type:"hbox",align:"stretch"}),p.getLayout(),"border"===p.layout.type&&(p.split&&(e.split=p.split),e.region||(e.region="west"),o.region||(o.region="center"),p.addCls("x-grid-locked-split")),p.layout instanceof Ext.layout.container.Box||(p.split=!1),p.view=new Ext.grid.locking.View({loadMask:a,locked:e,normal:o,ownerGrid:p}),e=p.lockedGrid,o=p.normalGrid,e.on({beginfloat:p.onBeginLockedFloat,endfloat:p.onEndLockedFloat,scope:p}),e.getVisibleColumnManager().getColumns().length||e.hide(),o.getVisibleColumnManager().getColumns().length||o.hide(),c=e.headerCt,h=o.headerCt,p.headerCt=p.view.headerCt=new Ext.grid.locking.HeaderContainer(p),c.lockedCt=!0,c.lockableInjected=!0,h.lockableInjected=!0,c.on({add:p.delaySyncLockedWidth,remove:p.delaySyncLockedWidth,columnshow:p.delaySyncLockedWidth,columnhide:p.delaySyncLockedWidth,sortchange:p.onLockedHeaderSortChange,columnresize:p.delaySyncLockedWidth,scope:p}),h.on({add:p.delaySyncLockedWidth,remove:p.delaySyncLockedWidth,columnshow:p.delaySyncLockedWidth,columnhide:p.delaySyncLockedWidth,sortchange:p.onNormalHeaderSortChange,scope:p}),p.modifyHeaderCt(),p.items=[e],p.split&&(p.addCls("x-grid-locked-split"),p.items[1]=Ext.apply({xtype:"splitter"},p.split)),p.items.push(o),p.relayHeaderCtEvents(c),p.relayHeaderCtEvents(h),p.storeRelayers=p.relayEvents(r,["filterchange","groupchange","beforeload","load"]),p.gridRelayers=p.relayEvents(o,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent,delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(a){var c=a.getContentTarget().dom,e=this.lockedGrid.headerCt,b=this.normalGrid.headerCt,d=Math.max(b.getHeight(),e.getHeight());e.minHeight=d,b.minHeight=d,a.el.addCls(Ext.panel.Panel.floatCls),c.firstChild!==a.view.el.dom&&c.appendChild(a.view.el.dom),a.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"",a.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var a=this.lockedGrid;a.getContentTarget().dom,a.collapsed?a.el.removeCls(Ext.panel.Panel.floatCls):this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null,this.lockedScrollbarClipper.appendChild(a.view.el.dom),this.syncLockableLayout()},beforeLayout:function(){var d,a=this,c=a.lockedGrid,b=a.normalGrid;c&&b&&(!c.layoutCounter&&c.getSizeModel().width.shrinkWrap&&(c.gridPanelBorderWidth=c.el.getBorderWidth("lr"),c.shrinkWrapColumns=!0),c.shrinkWrapColumns&&(d=c.headerCt.getTableWidth(),c.setWidth(d+c.gridPanelBorderWidth)),a.scrollContainer||a.initScrollContainer(),a.lastScrollPos=a.getScrollable().getPosition(),c.view.el.setStyle("margin-bottom",""),b.view.el.setStyle("margin-bottom",""))},syncLockableLayout:function(){var o,l,k,b,t,w,i,h,m,d,g,j,u,A,p,x,v,z,c,s,r,e,B=this,y=B.lockedGrid,n=B.normalGrid;!B.isCollapsingOrExpanding&&y&&n&&(z=y.isVisible(!0)&&!y.collapsed,c=n.isVisible(!0),o=y.view.el,l=n.view.el,o.dom,l.dom,s=B.scrollBody.dom,k=z?y.body.getRegion(!0):new Ext.util.Region(0,0,0,0),b=c?n.body.getRegion(!0):new Ext.util.Region(0,0,0,0),t=Ext.getScrollbarSize(),w=t.width,i=t.height,h=c?b.width:0,z&&k.width,m=z?b.x-k.x:0,g=n.headerCt.tooNarrow||y.headerCt.tooNarrow?i:0,j=b.height,u=j,A=B.lockedScrollbar,p=B.normalScrollbar,x=B.scrollbarVisibleCls,e=l._rtlScrollbarOnRight,g&&(o.setStyle("margin-bottom",-i+"px"),l.setStyle("margin-bottom",-i+"px"),u-=i,z&&y.view.body.dom&&B.lockedScrollbarScroller.setSize({x:y.headerCt.getTableWidth()}),n.view.body.dom&&B.normalScrollbarScroller.setSize({x:n.headerCt.getTableWidth()})),B.scrollBody.setHeight(u),o.dom.style.height=l.dom.style.height="",v=B.scrollable.getSize().y+g,n.view.stretchHeight(v),y.view.stretchHeight(v),d=w&&s.scrollHeight>s.clientHeight,d&&h&&(h-=w,l.setStyle("width",h+"px")),A.toggleCls(x,z&&!!g),p.toggleCls(x,!!g),B.normalScrollbarClipper.toggleCls(B.scrollbarClipperCls+"-floated",!!B.normalGrid.floatedFromCollapse),B.normalScrollbar.toggleCls(B.scrollbarCls+"-floated",!!B.normalGrid.floatedFromCollapse),B.lockedScrollbarClipper.toggleCls(B.scrollbarClipperCls+"-floated",!!B.lockedGrid.floatedFromCollapse),B.lockedScrollbar.toggleCls(B.scrollbarCls+"-floated",!!B.lockedGrid.floatedFromCollapse),A.setSize(B.lockedScrollbarClipper.dom.offsetWidth,i),p.setSize(h,i),B.getInherited().rtl?(p.rtlSetLocalX(m),B.normalScrollbarClipper.rtlSetLocalX(m)):(p.setLocalX(m),B.normalScrollbarClipper.setLocalX(m)),B.scrollContainer.setBox(r=z?k.union(b):b),e&&(d?(s.style.width=r+w+"px",s.style.right=-w+"px",n.headerCt.layout.innerCt.setWidth(n.headerCt.layout.innerCt.getWidth()+w),B.verticalScrollbarScroller.setSize({y:B.scrollable.getSize().y}),B.verticalScrollbar.show()):B.verticalScrollbar.hide()),B.getScrollable().scrollTo(B.lastScrollPos))},initScrollContainer:function(){var e,d,n,g,j,i=this,l=i.scrollContainer=i.body.insertFirst({cls:[i.scrollContainerCls,i._rtlCls]}),h=i.scrollBody=l.appendChild({cls:i.scrollBodyCls}),p=i.lockedScrollbar=l.appendChild({cls:[i.scrollbarCls,i.scrollbarCls+"-locked",i._rtlCls]}),c=i.normalScrollbar=l.appendChild({cls:[i.scrollbarCls,i._rtlCls]}),o=i.lockedGrid.view,b=i.normalGrid.view,m=o.getScrollable(),k=b.getScrollable(),a=Ext.scroll.Scroller;o.stretchHeight(0),b.stretchHeight(0),i.scrollable.setConfig({element:h,lockedScroller:m,normalScroller:k}),n=i.lockedScrollbarClipper=h.appendChild({cls:[i.scrollbarClipperCls,i.scrollbarClipperCls+"-locked",i._rtlCls]}),g=i.normalScrollbarClipper=h.appendChild({cls:[i.scrollbarClipperCls,i._rtlCls]}),n.appendChild(o.el),g.appendChild(b.el),o.ignoreDomPosition=!0,b.ignoreDomPosition=!0,e=i.lockedScrollbarScroller=new a({element:p,x:"scroll",y:!1,rtl:m.getRtl&&m.getRtl()}),d=i.normalScrollbarScroller=new a({element:c,x:"scroll",y:!1,rtl:k.getRtl&&k.getRtl()}),b.el._rtlScrollbarOnRight&&(i.verticalScrollbar=l.appendChild({cls:i.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}}),i.verticalScrollbarScroller=new a({element:i.verticalScrollbar,x:!1,y:!0}),i.verticalScrollbarScroller.addPartner(i.scrollable,"y")),e.addPartner(m,"x"),d.addPartner(k,"x"),j=i.lockedGrid.headerCt.getScrollable(),j&&e.addPartner(j,"x"),j=i.normalGrid.headerCt.getScrollable(),j&&d.addPartner(j,"x"),i.view.onPanelRender(h)},processColumns:function(g,d){var h,k,e,a,n=this,m=new Ext.grid.header.Container({$initParent:n}),l=[],c=[],b={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:l},j={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:c},o={locked:b,normal:j};for(Ext.isObject(g)&&(Ext.applyIf(b,g),Ext.applyIf(j,g),a=Ext.apply({},g),delete a.items,Ext.apply(m,a),g=g.items),m.constructing=!0,h=0,k=g.length;h<k;++h)e=g[h],e.isComponent||(e=m.applyDefaults(e),e.$initParent=m,e=m.lookupComponent(e),delete e.$initParent),e.processed=!0,e.locked||e.autoLock?l.push(e):c.push(e);return n.fireEvent("processcolumns",n,l,c),m.destroy(),o},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments),this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.destroyed){var e,d=this,b=d.normalGrid.getView(),c=d.lockedGrid.getView(),g=b.syncRowHeightBegin(),a=c.syncRowHeightBegin();b.syncRowHeightMeasure(g),c.syncRowHeightMeasure(a),b.syncRowHeightFinish(g,a),c.syncRowHeightFinish(a,g),e=b.getScrollY(),c.setScrollY(e)}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,!0),a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,!1),a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy),a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,c,h){var g=this.getMenu(),d=g.down("#unlockItem"),e=g.down("#lockItem"),b=d.prev();!1===h.lockable?(b.hide(),d.hide(),e.hide()):(b.show(),d.show(),e.show(),d.initialConfig.disabled||d.setDisabled(!1===h.lockable),e.initialConfig.disabled||e.setDisabled(!h.isLockable()))},getMenuItems:function(g,c){var h=this,i=h.unlockText,a=h.lockText,e=h.onUnlockMenuClick.bind(h),d=h.onLockMenuClick.bind(h);return function(){var k=g.call(this);return k.push("-",{itemId:"unlockItem",iconCls:"x-hmenu-unlock",text:i,handler:e,disabled:!c}),k.push({itemId:"lockItem",iconCls:"x-hmenu-lock",text:a,handler:d,disabled:c}),k}},delaySyncLockedWidth:function(){var b=this,a=b.syncLockedWidthTask||(b.syncLockedWidthTask=new Ext.util.DelayedTask(b.syncLockedWidth,b))
;b.reconfiguring||(Ext.Component.layoutSuspendCount&&0!==b.syncTaskDelay?a.delay(1):b.syncLockedWidth())},syncLockedWidth:function(){var h=this,d=h.rendered,e=h.lockedGrid,j=e.view,g=(j.getScrollable(),h.normalGrid),c=e.getVisibleColumnManager().getColumns().length,a=g.getVisibleColumnManager().getColumns().length,b=h.syncLockedWidthTask;if(b&&b.cancel(),!h.reconfiguring)return Ext.suspendLayouts(),a?(g.show(),c?("border"===h.layout.type&&(e.region=e.initialConfig.region),d&&e.shrinkWrapColumns&&!e.headerCt.forceFit&&(delete e.flex,e.width=e.headerCt.getTableWidth()+e.gridPanelBorderWidth,e.updateLayout()),e.addCls(h.lockedGridCls),e.show(),e.split&&(h.child("splitter").show(),h.addCls("x-grid-locked-split"))):(e.hide(),d&&e.getView().clearViewEl(!0),e.split&&(h.child("splitter").hide(),h.removeCls("x-grid-locked-split")))):(g.hide(),delete e.width,"border"===h.layout.type?(e.region="center",g.region="west"):e.flex=1,e.removeCls(h.lockedGridCls),e.show()),Ext.resumeLayouts(!0),{locked:!!c,normal:!!a}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(g,n,e){var j,a,i=this,h=i.normalGrid,c=i.lockedGrid,d=h.view,p=c.view,o=d.all.startIndex,l=d.getScrollable(),m=p.getScrollable(),k=h.headerCt,b=i.componentLayoutCounter;g=g||k.getMenu().activeHeader,g.unlockedWidth=g.width,g.flex&&(g.lockedWidth?(g.width=g.lockedWidth,g.lockedWidth=null):g.width=g.lastBox.width,g.flex=null),e=e||c.headerCt,(a=g.ownerCt)&&!g.isLockable()||(Ext.suspendLayouts(),l&&(l.suspendPartnerSync(),m.suspendPartnerSync()),c.hidden&&(c.componentLayoutCounter||(c.height=h.lastBox.height,p.bufferedRenderer&&p.bufferedRenderer.onViewResize(p,0,h.body.lastBox.height)),c.show()),c.reconfiguring=h.reconfiguring=!0,g.ownerCmp=g.ownerCt,a&&a.remove(g,!1),g.locked=!0,Ext.isDefined(n)?e.insert(n,g):e.add(g),c.reconfiguring=h.reconfiguring=!1,g.ownerCmp=null,j=i.syncLockedWidth(),j.locked&&p.clearViewEl(!0),j.normal&&d.clearViewEl(!0),j.normal&&h.getView().refreshView(o),j.locked&&c.getView().refreshView(o),i.fireEvent("lockcolumn",i,g),Ext.resumeLayouts(!0),l&&(l.resumePartnerSync(!0),m.resumePartnerSync()),i.componentLayoutCounter===b&&i.syncLockableLayout())},unlock:function(e,k,d){var i,h=this,g=h.normalGrid,b=h.lockedGrid,c=g.view,m=b.view,l=c.all.startIndex,j=b.headerCt,a=h.componentLayoutCounter;Ext.isDefined(k)||(k=0),e=e||j.getMenu().activeHeader,e.lockedWidth=e.width,e.flex&&(e.unlockedWidth?(e.width=e.unlockedWidth,e.unlockedWidth=null):e.width=e.lastBox.width,e.flex=null),d=d||g.headerCt,Ext.suspendLayouts(),b.reconfiguring=g.reconfiguring=!0,e.ownerCmp=e.ownerCt,e.ownerCt&&e.ownerCt.remove(e,!1),e.locked=!1,d.insert(k,e),b.reconfiguring=g.reconfiguring=!1,e.ownerCmp=null,i=h.syncLockedWidth(),i.locked&&m.clearViewEl(!0),i.normal&&c.clearViewEl(!0),i.normal&&g.getView().refreshView(l),i.locked&&b.getView().refreshView(l),h.fireEvent("unlockcolumn",h,e),Ext.resumeLayouts(!0),h.componentLayoutCounter===a&&h.syncLockableLayout()},reconfigureLockable:function(j,d,e){var i,b,h=this,a=h.store,c=h.lockedGrid,g=h.normalGrid;!j&&e&&(j=Ext.StoreManager.lookup("ext-empty-store")),j&&j!==a&&(j=Ext.data.StoreManager.lookup(j),h.store=j,c.view.blockRefresh=g.view.blockRefresh=!0,c.bindStore(j),i=c.view,i.store=j,i.dataSource.isFeatureStore||(i.dataSource=j),i.bufferedRenderer&&i.bufferedRenderer.bindStore(j),g.bindStore(j),i=g.view,i.store=j,i.dataSource.isFeatureStore||(i.dataSource=j),i.bufferedRenderer&&i.bufferedRenderer.bindStore(j),h.view.store=j,b=h.view.loadMask,b&&b.isLoadMask&&b.bindStore(j),h.view.bindStore(g.view.dataSource,!1,"dataSource"),c.view.blockRefresh=g.view.blockRefresh=!1),d&&(c.reconfiguring=g.reconfiguring=!0,c.headerCt.removeAll(),g.headerCt.removeAll(),d=h.processColumns(d,c),c.headerCt.add(d.locked.items),g.headerCt.add(d.normal.items),c.reconfiguring=g.reconfiguring=!1,h.syncLockedWidth()),h.refreshCounter=g.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth(),this.refreshCounter===this.normalGrid.getView().refreshCounter&&this.view.refreshView()},constructLockableFeatures:function(){var c,d,g,h,a,e=this.features,b=0;if(e)for(Ext.isArray(e)||(e=[e]),g=[],h=[],a=e.length;b<a;b++)switch(c=e[b],c.isFeature||(c=Ext.create("feature."+c.ftype,c)),c.lockableScope){case"locked":g.push(c);break;case"normal":h.push(c);break;default:c.lockableScope="both",g.push(c),h.push(d=c.clone()),d.lockingPartner=c,c.lockingPartner=d}return{normalFeatures:h,lockedFeatures:g}},constructLockablePlugins:function(){var h,b,a,k,l,e,j,m,d,c=this.plugins,g=0;if(c)for(Ext.isArray(c)||(c=[c]),k=[],l=[],e=[],j=c.length;g<j;g++)switch(h=c[g],h.init?m=h.lockableScope:(d=h.ptype?Ext.ClassManager.getByAlias("plugin."+h.ptype):Ext.ClassManager.get(h.xclass),m=d.prototype.lockableScope),m){case"both":l.push(a=h.clonePlugin()),e.push(b=h.clonePlugin()),a.lockingPartner=b,b.lockingPartner=a,Ext.destroy(h);break;case"locked":l.push(h);break;case"normal":e.push(h);break;default:k.push(h)}return{topPlugins:k,normalPlugins:e,lockedPlugins:l}},destroyLockable:function(){var b=this,a=b.syncLockedWidthTask;a&&(a.cancel(),b.syncLockedWidthTask=null),b.lockedGrid&&b.lockedGrid.headerCt&&(b.lockedGrid.headerCt.showMenuBy=null),b.normalGrid&&b.normalGrid.headerCt&&(b.normalGrid.headerCt.showMenuBy=null),Ext.destroy(b.view,b.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])}),Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(d){var e=this,a=d.view,c={refresh:e.onViewRefresh,columnschanged:e.checkVariableRowHeight,boxready:e.onViewBoxReady,scope:e,destroyable:!0},b={scroll:e.onViewScroll,scope:e},g=a.initialConfig;e.scroller=a.lockingPartner?a.ownerGrid.scrollable:a.getScrollable(),(d.isTree||d.ownerLockable&&d.ownerLockable.isTree)&&(a.blockRefresh=!1,g&&void 0===g.loadMask&&(a.loadMask=!0)),a.positionBody&&(c.refresh=e.onViewRefresh),Ext.isWebKit&&(e.needsPointerEventsFix=!0,b.scrollend=e.onViewScrollEnd,c.itemmousedown=e.onViewItemMouseDown),e.grid=d,e.view=a,e.isRTL=a.getInherited().rtl,a.bufferedRenderer=e,a.preserveScrollOnRefresh=!0,a.animate=!1,e.bindStore(a.dataSource),a.hasOwnProperty("rowHeight")&&(e.rowHeight=a.rowHeight),e.position=0,e.viewListeners=a.on(c),e.scroller&&(e.scrollListeners=e.scroller.on(b))},checkVariableRowHeight:function(){var a=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight(),Boolean(this.variableRowHeight)!==Boolean(a)&&delete this.rowHeight},bindStore:function(b){var c=this,a=c.store;a&&a.isFeatureStore||(a&&c.unbindStore(),c.storeListeners=b.on({scope:c,groupchange:c.onStoreGroupChange,clear:c.onStoreClear,beforeload:c.onBeforeStoreLoad,load:c.onStoreLoad,destroyable:!0}),c.store=b,c.setBodyTop(0),delete c.viewSize,delete c.rowHeight,b.isBufferedStore&&b.setViewSize(c.viewSize))},unbindStore:function(){this.storeListeners.destroy(),this.storeListeners=this.store=null},onBeforeStoreLoad:function(b){var c=this,a=c.view;a&&a.refreshCounter&&(b.isTreeStore||a.preserveScrollOnReload?c.nextRefreshStartIndex=a.all.startIndex:0!==c.scrollTop&&(c.setBodyTop(c.bodyTop=c.scrollTop=c.position=c.scrollHeight=c.nextRefreshStartIndex=0),c.scroller.scrollTo(null,0)),c.lastScrollDirection=c.scrollOffset=null),c.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var b=this,a=b.view;a.rendered&&!b.store.destroyed&&(0!==b.scrollTop&&(b.bodyTop=b.scrollTop=b.position=b.scrollHeight=0,b.nextRefreshStartIndex=null,b.scroller.scrollTo(null,0)),a.refresh(),b.lastScrollDirection=b.scrollOffset=null)},onStoreGroupChange:function(a){this.refreshSize()},onViewBoxReady:function(a){this.refreshScroller(a,this.scrollHeight)},onViewRefresh:function(b,c){var a,d=this,e=b.all;if(d.checkVariableRowHeight(),!b.componentLayoutCounter&&(b.headerCt.down("{flex}")||d.variableRowHeight))return b.on({boxready:Ext.Function.pass(d.onViewRefresh,[b,c],d),single:!0}),void(d.skipNextRefreshSize=!0);d.skipNextRefreshSize=!1,d.refreshing||(d.refreshSize(),d.scroller&&(d.scrollTop!==d.scroller.getPosition().y?(d.onViewScroll(),d.onViewScrollEnd()):(d.hasOwnProperty("bodyTop")||(d.bodyTop=e.startIndex*d.rowHeight,d.scroller.scrollTo(null,d.bodyTop)),d.setBodyTop(d.bodyTop),(a=b.lastBox&&b.lastBox.height)&&e.getCount()&&(d.onViewResize(b,null,a),c&&e.getCount()!==c.length&&(c.length=0,c.push.apply(c,d.store.getRange(e.startIndex,e.endIndex)))))))},beforeTableLayout:function(a){var b=this.view.body.dom;b&&(a.bodyHeight=b.offsetHeight,a.bodyWidth=b.offsetWidth)},afterTableLayout:function(d){var c,b=this,a=b.view;d.bodyHeight&&a.body.dom&&(delete b.rowHeight,b.refreshSize(),(c=a.body.dom.offsetHeight)!==d.bodyHeight&&(b.onViewResize(a,null,a.el.lastBox.height),c=b.bodyHeight,c<d.bodyHeight&&(b.viewSize>=b.store.getCount()?b.setBodyTop(0):(b.bodyTop>b.scrollTop||b.bodyTop+c<b.scrollTop+b.viewClientHeight)&&b.setBodyTop(b.scrollTop-b.trailingBufferZone*b.rowHeight)),a.all.endIndex===a.dataSource.getCount()-1&&b.stretchView(a,b.scrollHeight=b.bodyTop+c-1)))},refreshSize:function(){var b=this,a=b.view,c=b.skipNextRefreshSize||Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount||!a.body.dom;b.skipNextRefreshSize=!1,c||(b.bodyHeight=a.body.dom.offsetHeight,b.scrollHeight=b.getScrollHeight(),b.stretchView(a,b.scrollHeight))},onViewResize:function(c,e,a,b,h){var d,g=this;g.refreshSize(),h&&a===h||(g.viewClientHeight=c.lockingPartner?g.scroller&&g.scroller.getClientSize().y||a:c.el.dom.clientHeight,d=Math.ceil(a/g.rowHeight)+g.trailingBufferZone+g.leadingBufferZone,g.viewSize=g.setViewSize(d))},stretchView:function(b,a){var c=this;c.scrollTop>a&&(c.position=c.scrollTop=Math.max(a-c.bodyHeight,0),c.scroller.scrollTo(null,c.scrollTop)),c.bodyTop>a&&b.body.translate(null,c.bodyTop=c.position),b.getScrollable()&&c.refreshScroller(b,a)},refreshScroller:function(c,b){var a=c.getScrollable();a&&(a.setElementSize&&a.setElementSize(),a.setSize({x:c.headerCt.getTableWidth(),y:b}),c.lockingPartner&&this.scroller.setSize({x:0,y:b}))},setViewSize:function(k,b){var p,a,e,j=this,n=j.store,l=j.view,q=l.all,g=q.getCount(),i=n.getCount(),h=j.view.lockingPartner&&j.view.lockingPartner.bufferedRenderer,m=g-k,d=0,c=Math.max(0,i-1),o=Ext.Number.sign(j.getFirstVisibleRowIndex()-q.startIndex-(q.endIndex-j.getLastVisibleRowIndex()));return h&&!b&&h.view.componentLayoutCounter&&(h.viewSize>k?k=h.viewSize:l.componentLayoutCounter&&h.setViewSize(k,!0)),m=g-k,m&&(j.scrollTop=j.scroller?j.scroller.getPosition().y:0,j.viewSize=k,n.isBufferedStore&&n.setViewSize(k),g&&(a=Math.max(0,Math.min(q.startIndex,i-k)),e=Math.min(a+k-1,c),a===q.startIndex&&e===q.endIndex?m<0&&j.handleViewScroll(o):(h&&h.disable(),m<0?i>k&&i>g?n.getRange(a,e,{callback:function(s,t,r){p=l.ownerGrid,r>q.endIndex&&q.scroll(Ext.Array.slice(s,q.endIndex+1,1/0),1,0),t<q.startIndex&&(d=q.first(!0),q.scroll(Ext.Array.slice(s,0,q.startIndex-t),-1,0),j.bodyTop-=d.offsetTop),j.setBodyTop(j.bodyTop),h&&!b&&(p.syncRowHeight||p.syncRowHeightOnNextLayout)&&(h.setViewSize(k,!0),p.syncRowHeights())}}):j.refreshView(0):(1===o&&(d=q.item(q.startIndex+m,!0).offsetTop),q.clip(o,m),j.setBodyTop(j.bodyTop+d)),h&&h.enable())),j.refreshSize()),k},getViewRange:function(){var g,e=this,a=e.view,h=a.all,c=h.getCount(),d=a.lockingPartner&&a.lockingPartner.all,b=e.store,i=0;return!e.hasOwnProperty("viewSize")&&e.ownerCt&&e.ownerCt.height&&(e.viewSize=Math.ceil(e.ownerCt.height/e.rowHeight)),b.data.getCount()?(!c&&d&&d.getCount()?(i=d.startIndex,g=Math.min(d.endIndex,i+e.viewSize-1,b.getCount()-1)):(c?i=h.startIndex:b.isBufferedStore&&(b.currentPage||(b.currentPage=1),i=h.startIndex=(b.currentPage-1)*(b.pageSize||1),b.currentPage=1),g=i+(e.viewSize||b.defaultViewSize)-1),b.getRange(i,g)):[]},onReplace:function(k,l,e,g){var a,i=this,h=i.scroller,j=i.view,n=j.all,d=n.getCount(),c=l+e.length-1,m=g.length-e.length,b=m*i.rowHeight;return l>=n.startIndex+i.viewSize?void i.refreshSize():d&&c<n.startIndex&&n.getCount()>=i.viewSize?(n.moveBlock(m),i.refreshSize(),a=n.startIndex,m>0&&(i.doNotMirror=!0,i.handleViewScroll(-1),i.doNotMirror=!1),n.startIndex===a?n.startIndex&&(i.setBodyTop(i.bodyTop+=b),j.suspendEvent("scroll"),j.scrollBy(0,b),j.resumeEvent("scroll"),i.position=i.scrollTop=i.scroller.getPosition().y):(j.suspendEvent("scroll"),j.scrollBy(0,(a-n.startIndex)*i.rowHeight),j.resumeEvent("scroll")),void j.refreshSize(n.getCount()!==d)):d&&l>n.endIndex?(i.refreshSize(),m>0&&i.onRangeFetched(null,n.startIndex,Math.min(k.getCount(),n.startIndex+i.viewSize)-1,null,!0),void j.refreshSize(n.getCount()!==d)):l<n.startIndex&&c<=n.endIndex?void i.refreshView(n.startIndex-e.length+g.length):(l<n.startIndex&&c<=n.endIndex&&b&&(h.suspendEvent("scroll"),h.scrollTo(null,i.position=i.scrollTop+=b),h.resumeEvent("scroll")),void i.refreshView())},scrollTo:function(n,q){var i,b,a,p,c,d,e,m,h=arguments,j=this,l=j.view,g=l.lockingPartner&&l.lockingPartner.grid.isVisible()&&l.lockingPartner.bufferedRenderer,o=j.store,k=o.getCount();if(void 0===q||q instanceof Object||(q={select:h[1],callback:h[2],scope:h[3]}),(c=l.dataSource.groupingFeature)&&c.collapsible)e=n.isEntity?n:l.store.getAt(Math.min(Math.max(n,0),l.store.getCount()-1)),d=c.getMetaGroup(e),d&&d.isCollapsed?c.isExpandingOrCollapsing||e===d.placeholder?(e=d.placeholder,n=c.indexOfPlaceholder(e)):(c.expand(c.getGroup(e).getGroupKey()),k=o.getCount(),n=c.indexOf(e)):n=c.indexOf(e);else if(n.isEntity){if(e=n,-1===(n=o.indexOf(e)))return}else n=Math.min(Math.max(n,0),k-1),e=o.getAt(n);if(e&&(a=l.getNode(e)))return l.grid.ensureVisible(e,q),j.onViewScroll(),void j.onViewScrollEnd();n<l.all.startIndex?(m=-1,i=Math.max(Math.min(n-Math.floor((j.leadingBufferZone+j.trailingBufferZone)/2),k-j.viewSize+1),0),b=Math.min(i+j.viewSize-1,k-1)):(m=1,b=Math.min(n+Math.floor((j.leadingBufferZone+j.trailingBufferZone)/2),k-1),i=Math.max(b-(j.viewSize-1),0)),p=Math.max(i*j.rowHeight,0),o.getRange(i,b,{callback:function(s,t,r){j.renderRange(t,r,!0,!0),e=o.data.getRange(n,n+1)[0],a=l.getNode(e),l.body.translate(null,j.bodyTop=p),1===m&&j.refreshSize(),g&&(g.renderRange(t,r,!0,!0),j.syncRowHeights(),g.view.body.translate(null,g.bodyTop=p),1===m&&g.refreshSize()),a&&(l.grid.ensureVisible(e,q),j.scrollTop=j.position=j.scroller.getPosition().y,g&&(g.position=g.scrollTop=j.scrollTop))}})},onViewItemMouseDown:function(){var a=this;Ext.getDoc().on({mouseup:a.onDocumentMouseUp,scope:a,single:!0}),a.preservePointerEvents=!0},onDocumentMouseUp:function(){this.preservePointerEvents=!1},onViewScroll:function(d,i,h){var e,b,g=this,c=g.view.body.dom,j=g.store,k=j.getCount(),a=g.scrollTop=g.scroller.getPosition().y;c&&(g.needsPointerEventsFix&&!g.preservePointerEvents&&(c.style.pointerEvents="none"),g.disabled||k<g.viewSize||(e=a-g.position,b=e>0?1:-1,(Math.abs(e)>=20||b!==g.lastScrollDirection)&&(g.lastScrollDirection=b,g.handleViewScroll(g.lastScrollDirection,e))))},onViewScrollEnd:function(){var b=this,a=b.view.body.dom;a&&b.needsPointerEventsFix&&(a.style.pointerEvents="",b.preservePointerEvents=!1)},handleViewScroll:function(h,b){var a,k,e=this,l=e.view.all,j=e.store,d=j.getCount(),g=e.viewSize,c=d-1,i=Math.max(0,d-g);if(-1===h?l.startIndex&&e.topOfViewCloseToEdge()&&(a=Math.max(0,e.getLastVisibleRowIndex()+e.trailingBufferZone-g))>l.startIndex&&(a=l.startIndex+Math.floor(b/e.rowHeight)):l.endIndex<c&&e.bottomOfViewCloseToEdge()&&(a=Math.max(0,Math.min(e.getFirstVisibleRowIndex()-e.trailingBufferZone,i))),null==a)e.position=e.scrollTop,e.loadId++;else if(k=Math.min(a+g-1,c),e.variableRowHeight&&k===l.endIndex&&k<c&&(k++,a++),a!==l.startIndex||k!==l.endIndex)return e.renderRange(a,k),!0},bottomOfViewCloseToEdge:function(){var a=this;return a.variableRowHeight?a.bodyTop+a.bodyHeight<a.scrollTop+a.view.lastBox.height+a.numFromEdge*a.rowHeight:a.view.all.endIndex-a.getLastVisibleRowIndex()<a.numFromEdge},topOfViewCloseToEdge:function(){var a=this;return a.variableRowHeight?a.bodyTop>a.scrollTop-a.numFromEdge*a.rowHeight:a.getFirstVisibleRowIndex()-a.view.all.startIndex<a.numFromEdge},refreshView:function(j){var c,e=this,g=e.viewSize,h=e.view,k=h.all,i=e.store,d=i.getCount(),a=Math.max(0,d-1),b=h.lockingPartner&&h.lockingPartner.all;if(!d)return e.doRefreshView([],0,0);d<g?(j=0,c=a):null==j&&!k.getCount()&&b&&b.getCount()?(j=b.startIndex,c=Math.min(b.endIndex,j+g-1,a)):(null==j&&(null!=e.nextRefreshStartIndex?(j=e.nextRefreshStartIndex,e.nextRefreshStartIndex=null):j=k.startIndex),j=Math.max(0,Math.min(j,a-g+1)),(c=Math.min(j+g-1,a))-j+1>g&&(j=c-g+1)),0===j&&-1===c?e.doRefreshView([],0,0):i.getRange(j,c,{callback:e.doRefreshView,scope:e})},doRefreshView:function(n,h,d,e){var i,a,p,o,c,s=this,m=s.view,q=s.scroller,k=m.all,r=k.startIndex,g=k.endIndex,b=k.getCount(),j=h!==k.startIndex;if(m.refreshing=s.refreshing=!0,m.refreshCounter){if(m.hasListeners.beforerefresh&&!1===m.fireEvent("beforerefresh",m))return m.refreshNeeded=m.refreshing=s.refreshing=!1;c=m.saveFocusState(),m.clearViewEl(!0),m.refreshCounter++,n.length?(m.doAdd(n,h),j&&(i=k.item(r,!0),a=k.item(g,!0),i?o=-i.offsetTop:a&&(o=k.last(!0).offsetTop-a.offsetTop),o?(p=Math.max(s.bodyTop+o,0),s.scrollTop=p?s.scrollTop+o:0):(p=h*s.rowHeight,s.scrollTop=Math.max(p+s.rowHeight*(p<s.bodyTop?s.leadingBufferZone:s.trailingBufferZone),0)))):(s.scrollTop&&(p=s.scrollTop=0),m.addEmptyText()),j&&(s.setBodyTop(p),q.suspendEvent("scroll"),q.scrollTo(null,s.position=s.scrollTop),q.resumeEvent("scroll")),s.refreshSize(),m.refreshSize(k.getCount()!==b),m.fireItemMutationEvent("refresh",m,n),c(),m.headerCt.setSortState()}else m.refresh();m.refreshNeeded=m.refreshing=s.refreshing=!1},renderRange:function(h,a,g,c){var d=this,e=d.view.all,b=d.store;h===e.startIndex&&a===e.endIndex||(b.rangeCached(h,a)?(d.cancelLoad(),d.synchronousRender||g?d.onRangeFetched(null,h,a,null,c):(d.renderTask||(d.renderTask=new Ext.util.DelayedTask(d.onRangeFetched,d,null,!1)),d.renderTask.delay(1,null,null,[null,h,a,null,c]))):d.attemptLoad(h,a,d.scrollTop))},onRangeFetched:function(s,j,g,e,u){var x,h,t,w,A,n,p,C,d,c,k,l,B,a,E=this,r=E.view,y=E.scroller,m=r.el,q=r.all,D=0,o=r.lockingPartner&&!u&&!E.doNotMirror&&r.lockingPartner.bufferedRenderer,v=E.variableRowHeight,b=E.bodyHeight,z=r.componentLayoutCounter;if(!r.destroyed){if(s)u||(E.scrollTop=E.scroller.getPosition().y);else if(!(s=E.store.getRange(j,g)))return;if(h=Ext.Element.getActiveElement(!0),t=m.contains(h),t&&h.suspendFocusEvents(),x=j*E.rowHeight,j<q.startIndex&&g>q.endIndex){for(B=q.startIndex-j,r.clearViewEl(!0),A=r.doAdd(s,j),r.fireItemMutationEvent("itemadd",s,j,A,r),w=0;w<B;w++)D-=A[w].offsetHeight;n=E.bodyTop+D}else C=E.teleported||j>q.endIndex||g<q.startIndex,C&&(r.clearViewEl(!0),E.teleported=!1),q.getCount()?g>q.endIndex?(l=Math.max(j-q.startIndex,0),v&&(D=q.item(q.startIndex+l,!0).offsetTop),A=q.scroll(Ext.Array.slice(s,q.endIndex+1-j),1,l),n=v?E.bodyTop+D:x):(l=Math.max(q.endIndex-g,0),d=q.startIndex,A=q.scroll(Ext.Array.slice(s,0,q.startIndex-j),-1,l),v?(n=E.bodyTop-q.item(d,!0).offsetTop,q.startIndex?n<0&&(D=q.startIndex*E.rowHeight,y.scrollTo(null,E.position=E.scrollTop+=D),n=E.bodyTop+D):n&&(y.scrollTo(null,E.position=E.scrollTop-=n),n=0)):n=x):(A=r.doAdd(s,j),r.fireItemMutationEvent("itemadd",s,j,A,r),n=x,C&&v&&(a=E.scrollTop<E.position?E.leadingBufferZone:E.trailingBufferZone,n=Math.max(E.scrollTop-q.item(q.startIndex+a-1,!0).offsetTop,0))),E.position=E.scrollTop;return t&&(h.resumeFocusEvents(),m.contains(h)||(k=r.actionableMode?r.actionPosition:r.lastFocused)&&k.column&&(r.renderingRows=!0,r.onFocusLeave({}),r.renderingRows=!1,p=k.column.focusable?k.column:k.column.el.findTabbableElements()[0],p||(p=r.el),p.focus())),n=Math.max(Math.floor(n),0),r.positionBody&&E.setBodyTop(n),A&&o&&!o.disabled&&(o.scrollTop=o.position=E.scrollTop,o.view.ownerCt.isVisible()&&(c=o.onRangeFetched(s,j,g,e,!0),(r.ownerGrid.syncRowHeight||r.ownerGrid.syncRowHeightOnNextLayout||o.variableRowHeight!==v)&&(E.syncRowHeights(A,c),r.ownerGrid.syncRowHeightOnNextLayout=!1)),o.bodyTop!==n&&o.setBodyTop(n),o.scroller.scrollTo(null,E.scrollTop)),E.variableRowHeight&&E.bodyHeight!==b&&r.componentLayoutCounter===z&&(delete E.rowHeight,E.refreshSize()),A}},syncRowHeights:function(g,a){var c,e,j=this,h=0,l=1,k=[],b=[],d=Ext.grid.locking.RowSynchronizer;for(g&&a&&(h=g.length,l=a.length),h!==l&&(g=j.view.all.slice(),a=j.view.lockingPartner.all.slice(),h=l=g.length),c=0;c<h;c++)k[c]=e=new d(j.view,g[c]),e.measure();for(c=0;c<l;c++)b[c]=e=new d(j.view.lockingPartner,a[c]),e.measure();for(c=0;c<h;c++)k[c].finish(b[c]),b[c].finish(k[c]);j.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var c=this,a=c.view,b=a.lockingPartner.bufferedRenderer;a.componentLayoutCounter&&(delete c.rowHeight,c.refreshSize(),b.rowHeight!==c.rowHeight&&(delete b.rowHeight,b.refreshSize())),c.bodyHeight=b.bodyHeight=a.body.dom.offsetHeight},setBodyTop:function(d){var e=this,b=e.view,g=b.all,c=e.store,a=b.body;a.dom&&(e.translateBody(a,d),e.variableRowHeight?(e.bodyHeight=a.dom.offsetHeight,g.endIndex===c.getCount()-1?e.scrollHeight=d+e.bodyHeight-1:e.scrollHeight=e.getScrollHeight(),e.stretchView(b,e.scrollHeight)):e.bodyHeight=g.getCount()*e.rowHeight)},translateBody:function(a,b){a.translate(null,this.bodyTop=b)},getFirstVisibleRowIndex:function(k,c,b,g){var e,l,h=this,i=h.view,m=i.all,a=m.elements,d=h.viewClientHeight,j=h.bodyTop;if(m.getCount()&&h.variableRowHeight){if(arguments.length){if(k===c)return c;e=k+Math.floor((c-k)/2)}else{if(k=m.startIndex,c=m.endIndex,b=h.scrollTop,g=b+d,j>g||j+h.bodyHeight<b)return h.teleported=!0,Math.floor(h.scrollTop/h.rowHeight);e=k+Math.min(h.numFromEdge+(-1===h.lastScrollDirection?h.leadingBufferZone:h.trailingBufferZone),Math.floor((c-k)/2))}if((l=j+a[e].offsetTop)+a[e].offsetHeight<=b)return h.getFirstVisibleRowIndex(e+1,c,b,g);if(l<=b)return e;if(e!==k)return h.getFirstVisibleRowIndex(k,e-1,b,g)}return Math.floor(h.scrollTop/h.rowHeight)},getLastVisibleRowIndex:function(l,c,b,g){var e,m,i=this,j=i.view,n=j.all,a=n.elements,d=i.viewClientHeight,k=i.bodyTop;if(n.getCount()&&i.variableRowHeight){if(arguments.length){if(l===c)return c;e=l+Math.floor((c-l)/2)}else{if(l=n.startIndex,c=n.endIndex,b=i.scrollTop,g=b+d,k>g||k+i.bodyHeight<b)return i.teleported=!0,Math.floor(i.scrollTop/i.rowHeight)+Math.ceil(d/i.rowHeight);e=c-Math.min(i.numFromEdge+(1===i.lastScrollDirection?i.leadingBufferZone:i.trailingBufferZone),Math.floor((c-l)/2))}if((m=k+a[e].offsetTop)>g)return i.getLastVisibleRowIndex(l,e-1,b,g);if(m+a[e].offsetHeight>=g)return e;if(e!==c)return i.getLastVisibleRowIndex(e+1,c,b,g)}return i.getFirstVisibleRowIndex()+Math.ceil(d/i.rowHeight)},getScrollHeight:function(){var i,b,a,h,c=this,e=c.view,j=e.all,g=c.store,k=g.getCount(),d=j.getCount();return k?(c.hasOwnProperty("rowHeight")||(d?c.variableRowHeight?c.rowHeight=Math.floor(c.bodyHeight/d):(i=j.first(),b=i.getHeight(),Ext.isIE8&&(a=i.getBorderWidth("b"))>0&&(b-=a),c.rowHeight=b):delete c.rowHeight),c.variableRowHeight?j.endIndex===k-1?h=c.bodyTop+c.bodyHeight-1:(h=Math.floor((k-d)*c.rowHeight)+c.bodyHeight,h+=c.bodyTop-j.startIndex*c.rowHeight):h=Math.floor(k*c.rowHeight),c.scrollHeight=h):0},attemptLoad:function(d,a,c){var b=this;b.scrollToLoadBuffer?(b.loadTask||(b.loadTask=new Ext.util.DelayedTask),b.loadTask.delay(b.scrollToLoadBuffer,b.doAttemptLoad,b,[d,a,c])):b.doAttemptLoad(d,a,c)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(d,a,c){var b=this;b.destroyed||b.store.getRange(d,a,{loadId:++b.loadId,callback:function(g,i,e,h){h.loadId===b.loadId&&b.scrollTop===c&&b.onRangeFetched(g,i,e,h)},fireEvent:!1})},destroy:function(){var b=this,a=b.view;b.cancelLoad(),a&&a.el&&a.un("scroll",b.onViewScroll,b),b.store&&b.unbindStore(),Ext.destroy(b.viewListeners,b.stretcher,b.gridListeners,b.scrollListeners),Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0),Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.plugin.Abstract,{clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;Ext.plugin.Abstract.prototype.constructor.call(this,a),b.mixins.observable.constructor.call(b),b.on("edit",function(c,d){b.fireEvent("afteredit",c,d)})},init:function(a){var b=this,c=a.ownerLockable;b.grid=a,b.view=a.view,b.initEvents(),a.rendered?b.setup():b.mon(a,{beforereconfigure:b.onBeforeReconfigure,reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onBeforeRender,single:!0,scope:b}}),a.editorEventRelayers=a.relayEvents(b,b.relayedEvents),c&&(c.editorEventRelayers=c.relayEvents(b,b.relayedEvents)),a.isEditable=!0,a.editingPlugin=a.view.editingPlugin=b},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.setup(),delete this.reconfiguring},onBeforeRender:function(){this.setup()},setup:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns())},destroy:function(){var b=this,a=b.grid;Ext.destroy(b.keyNav),b.clearListeners(),a&&(a.ownerLockable&&(Ext.destroy(a.ownerLockable.editorEventRelayers),a.ownerLockable.editorEventRelayers=null),Ext.destroy(a.editorEventRelayers),a.editorEventRelayers=null,a.editingPlugin=a.view.editingPlugin=null),Ext.plugin.Abstract.prototype.destroy.call(this)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(d){d.isGroupHeader?d=d.getGridColumns():Ext.isArray(d)||(d=[d]);var j,e,h=this,i=d.length,b=function(c,k){return h.getColumnField(this,k)},a=function(){return h.hasColumnField(this)},g=function(c){h.setColumnField(this,c)};for(j=0;j<i;j++)e=d[j],e.getEditor||(e.getEditor=b),e.hasEditor||(e.hasEditor=a),e.setEditor||(e.setEditor=g)},removeFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var e,b,d=a.length;for(e=0;e<d;e++)b=a[e],b.getEditor=b.hasEditor=b.setEditor=b.field=b.editor=null},getColumnField:function(c,a){var b=this,d=c.field;return d&&d.isFormField||(d=c.field=b.createColumnField(c,a)),d&&"default"===d.ui&&!d.hasOwnProperty("ui")&&(d.ui=b.defaultFieldUI),d},hasColumnField:function(a){return!(!a.field||!a.field.isComponent)},setColumnField:function(a,b){a.field=b,a.field=this.createColumnField(a)},createColumnField:function(c,a){var b,d=c.field;return!d&&c.editor&&(d=c.editor=Ext.clone(c.editor),d.field&&(d=d.field,d.editorCfg=c.editor,delete d.editorCfg.field),c.editor=null),!d&&a&&(d=a),d&&(b=c.dataIndex,d.isComponent?d.column=c:(d=Ext.isString(d)?{name:b,xtype:d,column:c}:Ext.apply({name:b,column:c},d),d=Ext.ComponentManager.create(d,this.defaultFieldXType)),d.dataIndex=b,d.isEditorComponent=!0,c.field=d),d},initEvents:function(){var a=this;a.initEditTriggers(),a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var b=this,a=b.view;"cellfocus"===b.triggerEvent?b.mon(a,"cellfocus",b.onCellFocus,b):"rowfocus"===b.triggerEvent?b.mon(a,"rowfocus",b.onRowFocus,b):(a.getSelectionModel().isCellModel&&(a.onCellFocus=b.beforeViewCellFocus.bind(b)),b.mon(a,b.triggerEvent||"cell"+(1===b.clicksToEdit?"click":"dblclick"),b.onCellClick,b)),b.initAddRemoveHeaderEvents(),b.view.getNavigationModel().addKeyBindings({esc:b.onEscKey,scope:b})},beforeViewCellFocus:function(a){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(a.row,a.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(a,c,b){this.startEdit(c,0)},onCellFocus:function(c,b,a){this.startEdit(a.row,a.column)},onCellClick:function(j,k,d,g,n,a,i){var l,m=j.ownerGrid,c=j.expanderSelector,b=j.ownerCt.getColumnManager().getHeaderAtIndex(d),h=b.getEditor(g);if(!this.shouldStartEdit(h)||c&&i.getTarget(c)){if(m.actionableMode&&j.owns(i.target)&&(l=Ext.Component.fromElement(i.target,k)&&l.focusable))return;m.actionableMode&&m.setActionableMode(!1)}else m.setActionableMode(!0,i.position)},initAddRemoveHeaderEvents:function(){var a=this,b=a.grid.headerCt;a.mon(b,{scope:a,add:a.onColumnAdd,columnmove:a.onColumnMove,beforedestroy:a.beforeGridHeaderDestroy})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnMove:Ext.emptyFn,onEscKey:function(b){if(this.editing){var a=Ext.getCmp(b.getTarget().getAttribute("componentId"));if(!(a&&a.isPickerField&&a.isExpanded))return this.cancelEdit()}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(a){return!!a},getEditingContext:function(e,c){var i,j,b,d,l,h=this,a=h.grid,g=a.visibleColumnManager,k=h.grid.lockable?h.grid:h.view;return k.componentLayoutCounter?!h.disabled&&!h.grid.collapsed&&h.grid.view.isVisible(!0)&&(Ext.isNumber(c)&&(c=g.getHeaderAtIndex(Math.min(c,g.getColumns().length))),c&&(c.hidden&&(c=c.next(":not([hidden])")||c.prev(":not([hidden])")),i=c.getView(),a=i.ownerCt,Ext.isNumber(e)?(b=Math.min(e,i.dataSource.getCount()-1),e=i.dataSource.getAt(b)):b=i.dataSource.indexOf(e),a.ensureVisible(e,{column:c}),(j=i.getRow(e))&&(d=i.getVisibleColumnManager().indexOf(c),e)))?(l=new Ext.grid.CellContext(i).setAll(i,b,d,e,c),l.grid=a,l.store=i.dataSource,l.field=c.dataIndex,l.value=l.originalValue=e.get(c.dataIndex),l.row=j,l.node=i.getNode(e),l.cell=l.getCell(!0),l):void 0:void k.on({boxready:Ext.Function.bind(h.startEdit,h,[e,c]),single:!0})},cancelEdit:function(){var a=this;a.editing=!1,a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&a.fireEvent("edit",a,a.context),a.context=null,a.editing=!1},validateEdit:function(a){var b=this;return!1!==b.fireEvent("validateedit",b,a)&&!a.cancel}},1,0,0,0,["editing.editing"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.grid.plugin,"Editing"],0),Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{init:function(a){var b=this;a.registerActionable(b),Ext.grid.plugin.Editing.prototype.init.apply(this,arguments),b.editors=new Ext.util.MixedCollection(!1,function(c){return c.editorId})},beforeGridHeaderDestroy:function(h){var b,e,d,g=this,c=g.grid.getColumnManager().getColumns(),a=c.length;for(b=0;b<a;b++)e=c[b],d=g.editors.getByKey(e.getItemId()),d||(d=e.editor||e.field),Ext.destroy(d),g.removeFieldAccessors(e)},onReconfigure:function(c,a,b){b&&this.editors.clear(),Ext.grid.plugin.Editing.prototype.onReconfigure.call(this)},destroy:function(){var a=this;a.editors&&(a.editors.each(Ext.destroy,Ext),a.editors.clear()),Ext.grid.plugin.Editing.prototype.destroy.call(this)},initCancelTriggers:function(){var b=this,a=b.grid;b.mon(a,{columnresize:b.cancelEdit,columnmove:b.cancelEdit,scope:b})},isCellEditable:function(a,d){var c=this,b=c.getEditingContext(a,d);if(b.view.isVisible(!0)&&b&&(d=b.column,a=b.record,d&&c.getEditor(a,d)))return!0},activateCell:function(h,a,q){var c,l,m,i,b,o,k=this,g=h.record,d=h.column,n=k.getActiveEditor();if((c=k.getEditingContext(g,d))&&d.getEditor(g)){if(n&&n.editing){if(k.view.actionPosition=null,l=c.generation,!1===n.completeEdit())return;c.generation===l&&c.refresh()}if(!a){if(l=c.generation,!1===k.beforeEdit(c)||!1===k.fireEvent("beforeedit",k,c)||c.cancel)return;c.generation===l&&c.refresh()}if(i=k.getEditor(g,d),c.cell!==c.getCell(!0)&&(c=k.getEditingContext(c.rowIdx,c.colIdx),h.setPosition(c)),i){if(m=Ext.get(c.cell),i.rendered){if((b=i.el.dom.parentNode)!==m.dom){try{b.removeChild(i.el.dom)}catch(j){}i.container=m,m.dom.appendChild(i.el.dom,m.dom.firstChild)}}else i.hidden=!0,i.render(m);return o=c.record.get(c.column.dataIndex),o!==c.originalValue&&(c.value=c.originalValue=o),k.setEditingContext(c),i.startEdit(m,c.value,q||!1),i.editing&&(k.setActiveEditor(i),k.setActiveRecord(c.record),k.setActiveColumn(c.column),k.editing=!0,k.scroll=h.view.el.getScroll()),i.editing}}},activateRow:Ext.emptyFn,
deactivate:function(){var d,b,g=this,c=g.context,e=g.editors.items,a=e.length;for(b=0;b<a;b++)d=e[b],c.view.renderingRows&&(d.editing&&g.cancelEdit(),d.cacheElement())},suspend:function(){var b=this,a=b.activeEditor;a&&a.editing&&(b.suspendedEditor=a,b.suspendEvents(),a.suspendEvents(),a.cancelEdit(!0),a.resumeEvents(),b.resumeEvents())},resume:function(b){var a,d=this,c=d.activeEditor=d.suspendedEditor;return c&&(d.suspendEvents(),c.suspendEvents(),a=d.activateCell(b,!0,!0),c.resumeEvents(),d.resumeEvents()),a},startEdit:function(a,b){this.startEditByPosition(new Ext.grid.CellContext(this.view).setPosition(a,b))},completeEdit:function(a){var b=this.getActiveEditor();b&&b.completeEdit(a)},setEditingContext:function(a){this.context=a},setActiveEditor:function(a){this.activeEditor=a},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,d){var g=this,e=g.editors,c=d.getItemId(),b=e.getByKey(c);if(!b){if(!(b=d.getEditor(a)))return!1;b instanceof Ext.grid.CellEditor||(b=new Ext.grid.CellEditor(Ext.apply({floating:!0,editorId:c,field:b},b.editorCfg))),b.field.excludeForm=!0,b.column!==d&&(b.column=d,d.on("removed",g.onColumnRemoved,g)),e.add(b)}return b.ownerCmp=g.grid.ownerGrid,d.isTreeColumn&&(b.isForTree=d.isTreeColumn,b.addCls("x-tree-cell-editor")),b.setGrid(g.grid),b.editingPlugin=g,b},onColumnRemoved:function(b){var c=this,a=c.context;a&&a.column===b&&c.cancelEdit(),b.un("removed",c.onColumnRemoved,c)},setColumnField:function(b,c){var a=this.editors.getByKey(b.getItemId());Ext.destroy(a,b.field),this.editors.removeAtKey(b.getItemId()),Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onEditComplete:function(d,h,c){var b,a,g=this,e=d.context;b=e.view,a=e.record,e.value=h,a.isEqual(h,c)||(a.set(e.column.dataIndex,h),e.rowIdx=b.indexOf(a)),g.context===e&&(g.setActiveEditor(null),g.setActiveColumn(null),g.setActiveRecord(null),g.editing=!1),g.fireEvent("edit",g,e)},cancelEdit:function(c){var b=this,a=b.context;c&&c.isCellEditor?(b.context.value="editedValue"in c?c.editedValue:c.getValue(),Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments),c.context===a?(b.setActiveEditor(null),b.setActiveColumn(null),b.setActiveRecord(null)):b.editing=!0):(c=b.getActiveEditor())&&c.field&&c.cancelEdit()},startEditByPosition:function(b){var c,e=this,a=e.grid.getColumnManager(),d=e.getActiveEditor();if(b.isCellContext||(b=new Ext.grid.CellContext(e.view).setPosition(b.row,e.grid.getColumnManager().getColumns()[b.column])),c=a.getHeaderIndex(b.column),b.column=a.getVisibleHeaderClosestToIndex(c),e.grid.actionableMode){if(e.editing&&b.isEqual(e.context))return;d&&d.completeEdit()}if(!e.grid.actionableMode)return e.grid.setActionableMode(!0,b);e.activateCell(b)&&(e.activateRow(e.view.all.item(b.rowIdx,!0)),(d=e.getEditor(b.record,b.column))&&d.field.focus())}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0),Ext.cmd.derive("Ext.plugin.AbstractClipboard",Ext.plugin.Abstract,{cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var a=this,c=a.keyMap,b=a.shared;Ext.destroy(a.destroyListener),c?(a.keyMap=Ext.destroy(c),--b.counter||(b.textArea=Ext.destroy(b.textArea))):a.renderListener=Ext.destroy(a.renderListener),Ext.plugin.Abstract.prototype.destroy.call(this)},init:function(a){var b=this;a.rendered?this.finishInit(a):b.renderListener=a.on({render:function(){b.renderListener=null,b.finishInit(a)},destroyable:!0,single:!0})},getTarget:function(a){return a.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(a){return a=this.applySource(a)},applySource:function(a){return a&&(Ext.isString(a)?a=[a]:0===a.length&&(a=null)),a||null},doCutCopy:function(e,b){var g,d=this,a=d.allFormats||d.syncFormats(),h=d.getData(b,a),i=d.getMemory(),c=d.getSystem();!1!==d.validateAction(e)&&(d.shared.data=i&&h,c&&(g=h[c],a[c]<3&&delete h[c],d.setClipboardData(g)))},doPaste:function(c,b){this[this.getFormats()[c].put](b,c)},finishInit:function(a){var b=this;b.keyMap=new Ext.util.KeyMap({target:b.getTarget(a),ignoreInputFields:!0,binding:[{ctrl:!0,key:"x",fn:b.onCut,scope:b},{ctrl:!0,key:"c",fn:b.onCopy,scope:b},{ctrl:!0,key:"v",fn:b.onPaste,scope:b}]}),++b.shared.counter,b.destroyListener=a.on({destroyable:!0,destroy:"destroy",scope:b})},getData:function(d,j){var g,c,b,h,e=this,a=e.getFormats();if(Ext.isString(j))g=e[a[j].get](j,d);else{if(g={},h=[],j)for(b in j)h.push(b);else h=Ext.Object.getAllKeys(a);for(c=h.length;c-- >0;)g[b]=e[a[b].get](b,d&&!c)}return g},getHiddenTextArea:function(){var a,b=this.shared;return a=b.textArea,a||(a=b.textArea=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}}),a.suspendFocusEvents()),a},onCopy:function(b,a){this.doCutCopy(a,!1)},onCut:function(b,a){this.doCutCopy(a,!0)},onPaste:function(h,e){var b,j,c,d=this,a=d.shared.data,g=d.getSource();if(!1!==d.validateAction(e)&&g)for(b=0,j=g.length;b<j;++b){if("system"===(c=g[b])){c=d.getSystem(),d.pasteClipboardData(c);break}if(a&&c in a){d.doPaste(c,a[c]);break}}},pasteClipboardData:function(e){var c,b,d=this,a=window.clipboardData;a&&a.getData?d.doPaste(e,a.getData("text")):(b=Ext.Element.getActiveElement(!0),c=d.getHiddenTextArea().dom,c.value="",b&&b.suspendFocusEvents(),c.focus(),Ext.defer(function(){b&&(b.focus(),b.resumeFocusEvents()),d.doPaste(e,c.value),c.value=""},100,d))},setClipboardData:function(e){var a=window.clipboardData;if(a&&a.setData)a.setData("text",e);else{var d=this,c=d.getHiddenTextArea().dom,b=Ext.Element.getActiveElement(!0);c.value=e,b&&b.suspendFocusEvents(),c.focus(),c.select(),Ext.defer(function(){c.value="",b&&(b.focus(),b.resumeFocusEvents())},50)}},syncFormats:function(){var a,b,d=this,e={},g=d.getMemory(),c=d.getSystem();if(c&&(e[c]=1),g)for(a=g.length;a-- >0;)b=g[a],e[b]=e[b]?3:2;return d.allFormats=e},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null},validateAction:Ext.privateFn}},0,0,0,0,0,0,[Ext.plugin,"AbstractClipboard"],0),Ext.cmd.derive("Ext.grid.plugin.Clipboard",Ext.plugin.AbstractClipboard,{formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData",put:"putCellData"}},getCellData:function(n,b){var q,o,d,l,a,c,e,p,j,k=this.getCmp(),h=k.getSelectionModel(),i=[],m="raw"===n,g="text"===n;return h.getSelected().eachCell(function(r){c=r.column,j=r.column.getView(),e=r.record,c.ignoreExport||(a!==e&&(a=e,i.push(p=[])),l=c.dataIndex,m?d=e.data[l]:(q=j.all.item(r.rowIdx),q||(q=Ext.fly(j.createRowElement(e,r.rowIdx))),o=q.down(c.getCellInnerSelector()),d=o.dom.innerHTML,g&&(d=Ext.util.Format.stripTags(d))),p.push(d),b&&l&&e.set(l,null))}),Ext.util.TSV.encode(i)},getCells:function(i,b){var h,a,c,j,g=this.getCmp(),d=g.getSelectionModel(),e=[];return d.getSelected().eachCell(function(k){c=k.record,a!==c&&(a=c,e.push(j={model:c.self,fields:[]})),h=k.column.dataIndex,j.fields.push({name:h,value:c.data[h]}),b&&h&&c.set(h,null)}),e},getTextData:function(b,a){return this.getCellData(b,a)},putCellData:function(g,m){var p,h,k,l,b,o=Ext.util.TSV.decode(g),q=o.length,n=q?o[0].length:0,j=this.getCmp().getView(),a=j.dataSource.getCount()-1,e=j.getVisibleColumnManager().getColumns().length-1,c=j.getNavigationModel(),i=c.getPosition(),d={};for(i||j.getSelectionModel().getSelected().eachCell(function(r){return i=r,!1}),i=i?new Ext.grid.CellContext(j).setPosition(i.record,i.column):new Ext.grid.CellContext(j).setPosition(0,0),b=i.colIdx,h=0;h<q;h++){for(p=o[h],k=0;k<n;k++){if(l=i.column.dataIndex)switch(m){case"raw":case"text":d[l]=p[k]}if(i.colIdx===e)break;i.setColumn(i.colIdx+1)}if(i.record.set(d),i.rowIdx===a)break;i.setPosition(i.rowIdx+1,b)}},putTextData:function(a,b){this.putCellData(a,b)},getTarget:function(a){return a.body},privates:{validateAction:function(b){if(this.getCmp().getView().actionableMode)return!1}}},0,0,0,0,["plugin.clipboard"],0,[Ext.grid.plugin,"Clipboard"],0),Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.plugin.Abstract,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){Ext.applyIf(a,{copy:this.copy,allowCopy:this.allowCopy}),a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){var a=this;a.dragZone=a.dropZone=Ext.destroy(a.dragZone,a.dropZone),Ext.plugin.Abstract.prototype.destroy.call(this)},enable:function(){var a=this;a.dragZone&&a.dragZone.unlock(),a.dropZone&&a.dropZone.unlock(),(arguments.callee.$previous||Ext.plugin.Abstract.prototype.enable).call(this)},disable:function(){var a=this;a.dragZone&&a.dragZone.lock(),a.dropZone&&a.dropZone.lock(),(arguments.callee.$previous||Ext.plugin.Abstract.prototype.disable).call(this)},onViewRender:function(a){var d,b=this;(a.ownerCt.ownerGrid||a.ownerCt).relayEvents(a,["beforedrop","drop"]),b.enableDrag&&(b.containerScroll&&(d=a.getEl()),b.dragZone=new Ext.view.DragZone(Ext.apply({view:a,ddGroup:b.dragGroup||b.ddGroup,dragText:b.dragText,containerScroll:b.containerScroll,scrollEl:d},b.dragZone))),b.enableDrop&&(b.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:a,ddGroup:b.dropGroup||b.ddGroup},b.dropZone)))}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0),Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:!0,autoUpdate:!1,errorSummary:!0,formAriaLabel:"Editing row {0}",formAriaLabelRowBase:2,constructor:function(){var a=this;Ext.grid.plugin.Editing.prototype.constructor.apply(this,arguments),a.clicksToMoveEditor||(a.clicksToMoveEditor=a.clicksToEdit),a.autoCancel=!!a.autoCancel,a.autoUpdate=!!a.autoUpdate,a.autoUpdate&&(a.autoCancel=!1)},init:function(a){Ext.grid.plugin.Editing.prototype.init.call(this,a),a.lockedGrid?(a.lockedGrid.registerActionable(this),a.normalGrid.registerActionable(this)):a.registerActionable(this)},destroy:function(){Ext.destroy(this.editor),Ext.grid.plugin.Editing.prototype.destroy.call(this)},onBeforeReconfigure:function(){Ext.grid.plugin.Editing.prototype.onBeforeReconfigure.apply(this,arguments),this.cancelEdit()},onReconfigure:function(d,b,c){var a=this.editor;Ext.grid.plugin.Editing.prototype.onReconfigure.apply(this,arguments),c&&a&&a.rendered&&(a.needsSyncFieldWidths=!0)},shouldStartEdit:function(a){return!0},startEdit:function(a,e){var b,d=this,c=d.getEditor();return Ext.isEmpty(e)&&(e=d.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),!(!1===c.beforeEdit()||!(b=d.getEditingContext(a,e))||!1===d.beforeEdit(b)||!1===d.fireEvent("beforeedit",d,b)||b.cancel||(d.context=b,d.lockingPartner&&d.lockingPartner.cancelEdit(),c.startEdit(b.record,b.column,b),d.editing=!0,0))},activateCell:function(a){if(!a.getCell().query('[tabIndex="-1"]').length)return this.startEdit(a.record,a.column),!0},suspend:Ext.emptyFn,resume:Ext.emptyFn,onEnterKey:function(c){var b,a=this;!a.grid.ownerGrid.actionableMode&&a.editing&&((b=Ext.getCmp(c.getTarget().getAttribute("componentId")))&&b.isPickerField&&b.isExpanded||a.completeEdit())},cancelEdit:function(){var a=this;return!a.editing||(a.getContextFieldValues(),a.getEditor().cancelEdit(),void Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments))},completeEdit:function(){var b=this,a=b.context;b.editing&&b.validateEdit(a)&&(b.editing=!1,b.fireEvent("edit",b,a))},validateEdit:function(){return this.getContextFieldValues(),Ext.grid.plugin.Editing.prototype.validateEdit.apply(this,arguments)&&this.getEditor().completeEdit()},getEditor:function(){var a=this;return a.editor||(a.editor=a.initEditor()),a.editor},getContextFieldValues:function(){var d,a,k,g=this.editor,b=this.context,e=b.record,l={},c={},j=g.query(">[isFormField]"),h=j.length;for(d=0;d<h;d++)k=j[d],a=k.dataIndex,l[a]=k.getValue(),c[a]=e.get(a);Ext.apply(b,{newValues:l,originalValues:c})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var j,k,h=this,c=h.grid,i=h.view,d=c.headerCt,e=["saveBtnText","cancelBtnText","errorsText","dirtyText"],a=e.length,g={autoCancel:h.autoCancel,autoUpdate:h.autoUpdate,removeUnmodified:h.removeUnmodified,errorSummary:h.errorSummary,formAriaLabel:h.formAriaLabel,formAriaLabelRowBase:h.formAriaLabelRowBase+(c.hideHeaders?-1:0),fields:d.getGridColumns(),hidden:!0,view:i,editingPlugin:h};for(j=0;j<a;j++)k=e[j],Ext.isDefined(h[k])&&(g[k]=h[k]);return g},initEditTriggers:function(){var b=this,a=b.view,c=1===b.clicksToMoveEditor?"click":"dblclick";Ext.grid.plugin.Editing.prototype.initEditTriggers.apply(this,arguments),b.clicksToMoveEditor!==b.clicksToEdit&&b.mon(a,"cell"+c,b.moveEditorByClick,b),a.on({render:function(){b.mon(b.grid.headerCt,{scope:b,columnresize:b.onColumnResize,columnhide:b.onColumnHide,columnshow:b.onColumnShow})},single:!0})},moveEditorByClick:function(){var a=this;a.editing&&a.superclass.onCellClick.apply(a,arguments)},onColumnAdd:function(a,c){if(c.isHeader){var b,d=this;d.initFieldAccessors(c),(b=d.editor)&&b.onColumnAdd(c)}},beforeGridHeaderDestroy:function(g){var b,d,e,c=this.grid.getColumnManager().getColumns(),a=c.length;for(b=0;b<a;b++)d=c[b],d.hasEditor&&(d.hasEditor()&&(e=d.getEditor())&&e.destroy(),this.removeFieldAccessors(d))},onColumnResize:function(a,d,c){if(d.isHeader){var e=this,b=e.getEditor();b&&b.onColumnResize(d,c)}},onColumnHide:function(a,c){var d=this,b=d.getEditor();b&&b.onColumnHide(c)},onColumnShow:function(a,c){var d=this,b=d.getEditor();b&&b.onColumnShow(c)},onColumnMove:function(a,d,c,g){var e=this,b=e.getEditor();e.initFieldAccessors(d),b&&b.onColumnMove(d,c,g)},setColumnField:function(b,d){var c=this,a=c.getEditor();a&&a.destroyColumnEditor(b),Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments),a&&a.insertColumnEditor(b)},createColumnField:function(c,a){var d,e,b=this.editor;return b&&(d=b.getDefaultFieldCfg()),e=Ext.grid.plugin.Editing.prototype.createColumnField.call(this,c,a||d),e&&(e.skipLabelForAttribute=!0,e.ariaAttributes=e.ariaAttributes||{},this.grid.hideHeaders?e.ariaAttributes["aria-label"]=c.text:e.ariaAttributes["aria-labelledby"]=c.id),e}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,"RowEditing"],0),Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.plugin.Abstract,{lockableScope:"top",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:!0,selectRowOnExpand:!1,scrollIntoViewOnExpand:!0,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{fn:function(b,a,c){var d=this.rowExpander;d.recordsExpanded[a.record.internalId]||a.itemClasses.push(d.rowCollapsedCls),this.nextTpl.applyOut(a,b,c)},syncRowHeights:function(a,b){this.rowExpander.syncRowHeights(a,b)},priority:2e4},setCmp:function(a){var b,c=this;Ext.plugin.Abstract.prototype.setCmp.apply(this,arguments),c.recordsExpanded={},c.rowBodyTpl=Ext.XTemplate.getTpl(c,"rowBodyTpl"),b=c.getFeatureConfig(a),a.features?a.features=Ext.Array.push(b,a.features):a.features=b},getFeatureConfig:function(a){var c=this,b=[],d={ftype:"rowbody",rowExpander:c,rowIdCls:c.rowIdCls,bodyBefore:c.bodyBefore,recordsExpanded:c.recordsExpanded,rowBodyHiddenCls:c.rowBodyHiddenCls,rowCollapsedCls:c.rowCollapsedCls,setupRowData:c.getRowBodyFeatureData,setup:c.setup};return b.push(Ext.apply({lockableScope:"normal",getRowBodyContents:c.getRowBodyContentsFn(c.rowBodyTpl)},d)),a.enableLocking&&b.push(Ext.apply({lockableScope:"locked",getRowBodyContents:c.lockedTpl?c.getRowBodyContentsFn(c.lockedTpl):function(){return""}},d)),b},getRowBodyContentsFn:function(a){var b=this;return function(c){return a.owner=b,a.applyTemplate(c.record.getData())}},init:function(b){var a,d,c,e=this,g=b.lockable&&b;g&&(e.lockedGrid=g.lockedGrid,e.normalGrid=g.normalGrid,d=e.lockedView=e.lockedGrid.getView(),c=e.normalView=e.normalGrid.getView()),Ext.plugin.Abstract.prototype.init.apply(this,arguments),e.grid=b,a=e.view=b.getView(),e.bindView(a),g?(e.addExpander(e.lockedGrid.headerCt.items.getCount()?e.lockedGrid:e.normalGrid),d.addRowTpl(e.addCollapsedCls).rowExpander=c.addRowTpl(e.addCollapsedCls).rowExpander=d.rowExpander=c.rowExpander=e,g.mon(g,{processcolumns:e.onLockableProcessColumns,lockcolumn:e.onColumnLock,unlockcolumn:e.onColumnUnlock,scope:e})):(a.addRowTpl(e.addCollapsedCls).rowExpander=a.rowExpander=e,e.addExpander(b),b.on("beforereconfigure",e.beforeReconfigure,e))},onItemAdd:function(g,j,c){var b,d,e=this,h=e.grid.lockable,a=c.length;for(d=0;d<a;d++)if(b=g[d],!b.isNonData&&e.recordsExpanded[b.internalId])return void(h&&(e.grid.syncRowHeightOnNextLayout=!0))},beforeReconfigure:function(d,a,c,g,b){var e=this;e.viewListeners&&e.viewListeners.destroy(),c&&(e.expanderColumn=new Ext.grid.Column(e.getHeaderConfig()),c.unshift(e.expanderColumn))},onLockableProcessColumns:function(c,b,a){this.addExpander(b.length?c.lockedGrid:c.normalGrid)},addExpander:function(c){var b=this,a=c.getSelectionModel(),d=a.injectCheckbox;b.expanderColumn=c.headerCt.insert(0,b.getHeaderConfig()),0!==d&&"first"!==d||(d=1),a.injectCheckbox=d},getRowBodyFeatureData:function(b,a,d){var c=this;c.self.prototype.setupRowData.apply(c,arguments),d.rowBody=c.getRowBodyContents(d),d.rowBodyCls=c.recordsExpanded[b.internalId]?"":c.rowBodyHiddenCls},bindView:function(a){var c=this,b={itemkeydown:c.onKeyDown,scope:c};c.expandOnDblClick&&(b.itemdblclick=c.onDblClick),c.grid.lockable&&(b.itemadd=c.onItemAdd),a.on(b)},onKeyDown:function(i,c,k,a,d){var b,g=this,j=d.getKey();i.getNavigationModel().getPosition()&&(k=Ext.fly(k),b=k.hasCls(g.rowCollapsedCls),((107===j||187===j&&d.shiftKey)&&b||(109===j||189===j)&&!b)&&g.toggleRow(a,c))},onDblClick:function(b,a,g,c,d){this.toggleRow(c,a)},toggleRow:function(b,h){var g,d,j=this,k=j.normalView||j.view,m=k,c=k.getNode(b),e=Ext.fly(c),i=e.down(j.rowBodyTrSelector,!0),n=e.hasCls(j.rowCollapsedCls),l=n?"removeCls":"addCls",a=j.grid.lockable&&j.grid;e[l](j.rowCollapsedCls),Ext.fly(i)[l](j.rowBodyHiddenCls),j.recordsExpanded[h.internalId]=n,Ext.suspendLayouts(),a&&(d=a.componentLayoutCounter,m=a.getView(),j.lockedGrid.isVisible()&&(k=j.lockedView,k.lockingPartner.updateLayout(),(g=Ext.fly(k.getNode(b)))&&(g[l](j.rowCollapsedCls),i=g.down(j.rowBodyTrSelector,!0),Ext.fly(i)[l](j.rowBodyHiddenCls))),a.syncRowHeightOnNextLayout=!0),m.fireEvent(n?"expandbody":"collapsebody",c,h,i),k.refreshSize(!0),Ext.resumeLayouts(!0),j.scrollIntoViewOnExpand&&n&&j.grid.ensureVisible(b),a&&a.componentLayoutCounter===d&&a.syncLockableLayout()},syncRowHeights:function(a,h){var g,e,d=this,c=Ext.fly(a).down(d.rowBodyTrSelector),b=Ext.fly(h).down(d.rowBodyTrSelector);b.isVisible()?(g=c.getHeight())!==(e=b.getHeight())&&(g>e?b.setHeight(g):c.setHeight(e)):c.dom.style.height=b.dom.style.height=""},onColumnUnlock:function(c,a){var d,b=this;c=c||b.grid,d=c.lockedGrid.visibleColumnManager.getColumns(),1===d.length&&(c.normalGrid.removeCls("x-grid-hide-row-expander-spacer"),c.lockedGrid.addCls("x-grid-hide-row-expander-spacer"),d[0]===b.expanderColumn?c.unlock(b.expanderColumn):c.lock(b.expanderColumn,0))},onColumnLock:function(c,a){var d,b=this;c=c||b.grid,d=b.lockedGrid.visibleColumnManager.getColumns(),1===d.length&&(b.lockedGrid.headerCt.insert(0,b.expanderColumn),c.normalGrid.addCls("x-grid-hide-row-expander-spacer"),c.lockedGrid.removeCls("x-grid-hide-row-expander-spacer"))},getHeaderConfig:function(){var b=this,a=b.grid.lockable&&b.grid;return{width:b.headerWidth,ignoreExport:!0,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:"x-grid-cell-special",innerCls:"x-grid-cell-inner-row-expander",renderer:function(){return'<div class="x-grid-row-expander" role="presentation" tabIndex="0"></div>'},processEvent:function(h,k,m,j,i,g,d){var c="touch"===g.pointerType,l=!!g.getTarget(".x-grid-row-expander");"click"===h&&l||"keydown"===h&&g.getKey()===g.SPACE?(c&&m.focus(),b.toggleRow(j,d,g),g.stopSelection=!b.selectRowOnExpand):"mousedown"===g.type&&!c&&l&&g.preventDefault()},isLocked:function(){return a&&(a.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0),Ext.cmd.derive("Ext.grid.plugin.RowWidget",Ext.grid.plugin.RowExpander,{lockableScope:"top",config:{defaultWidgetUI:{}},widget:null,lockedWidget:null,addCollapsedCls:{fn:function(b,a,c){var d=this.rowExpander;d.recordsExpanded[a.record.internalId]||a.itemClasses.push(d.rowCollapsedCls),this.nextTpl.applyOut(a,b,c)},priority:2e4},setCmp:function(a){var b,d,c=this;c.rowIdCls=Ext.id(null,"x-rowwidget-"),c.recordsExpanded={},Ext.plugin.Abstract.prototype.setCmp.apply(c,arguments),d=c.widget,c.widget=d=Ext.apply({},d),d.ui||(d.ui=c.getDefaultWidgetUI()[d.xtype]||"default"),a.enableLocking&&c.lockedWidget&&(c.lockedWidget=d=Ext.apply({},c.lockedWidget),d.ui||(d.ui=c.getDefaultWidgetUI()[d.xtype]||"default")),b=c.getFeatureConfig(a),a.features?a.features=Ext.Array.push(b,a.features):a.features=b},getFeatureConfig:function(a){var c=this,b=[],d={ftype:"rowbody",rowExpander:c,rowIdCls:c.rowIdCls,bodyBefore:c.bodyBefore,recordsExpanded:c.recordsExpanded,rowBodyHiddenCls:c.rowBodyHiddenCls,rowCollapsedCls:c.rowCollapsedCls,setupRowData:c.setupRowData,setup:c.setup,onClick:Ext.emptyFn};return b.push(Ext.apply({lockableScope:"normal"},d)),a.enableLocking&&b.push(Ext.apply({lockableScope:"locked"},d)),b},setupRowData:function(a,d,c){var b=this.rowExpander;b.rowBodyFeature=this,c.rowBodyCls=b.recordsExpanded[a.internalId]?"":b.rowBodyHiddenCls},bindView:function(a){var b=this;b.viewListeners=a.on({refresh:b.onViewRefresh,itemadd:b.onItemAdd,scope:b,destroyable:!0}),Ext.override(a,b.viewOverrides)},destroy:function(){var a=this,b=a.getId();a.viewListeners.destroy(),a.grid.lockable?(a.grid.destroyManagedWidgets(b+"-"+a.lockedView.getId()),a.grid.destroyManagedWidgets(b+"-"+a.normalView.getId())):a.grid.destroyManagedWidgets(b+"-"+a.view.getId()),Ext.grid.plugin.RowExpander.prototype.destroy.call(this)},privates:{viewOverrides:{handleEvent:function(a){a.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([a])},onFocusEnter:function(a){a.event.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([a])},toggleChildrenTabbability:function(c){var b,a=this.getTargetEl(),d=this.all;for(b=d.startIndex;b<=d.endIndex;b++)a=Ext.fly(this.getRow(d.item(b))),c?a.restoreTabbableState(!0):a.saveTabbableState({skipSelf:!0,includeSaved:!1})}},destroyLiveWidget:function(b,a){a.destroy()},destroyFreeWidget:function(a){a.destroy()},onItemAdd:function(b,j,k,h){var c,d,g=this,e=k.length,a=g.grid.lockable;for(Ext.suspendLayouts(),c=0;c<e;c++)d=b[c],!d.isNonData&&g.recordsExpanded[d.internalId]&&(a&&(g.grid.syncRowHeightOnNextLayout=!0),g.addWidget(h,d));Ext.resumeLayouts(!0)},onViewRefresh:function(a,c){var d,b,e=this,g=a.all;for(Ext.suspendLayouts(),d=g.startIndex,b=0;d<=g.endIndex;d++,b++)e.addWidget(a,c[b]);Ext.resumeLayouts(!0)},returnFalse:function(){return!1},listenerScopeDecorator:function(a){return"this"===a?this:this.ownerCt.resolveListenerScope(a)},getWidget:function(c,b){var a,e,d=this;return b&&(e=d.grid.lockable&&c===d.lockedView?d.lockedWidget:d.widget)&&(a=d.grid.createManagedWidget(d.getId()+"-"+c.getId(),e,b),a.resolveListenerScope=d.listenerScopeDecorator,a.measurer=d,a.ownerCt=c,a.ownerLayout=c.componentLayout),a},addWidget:function(i,d){var e,a,c,b,h=this,g=!!h.onWidgetAttach,j=h.isFixedSize;if(!d.isNonData&&h.recordsExpanded[d.internalId])return e=Ext.fly(i.getNode(d)).down(h.rowBodyFeature.innerSelector),a=e.getWidth(!0)-e.getPadding("lr"),c=h.getWidget(i,d),c&&(c.defaultBindProperty&&!c.getBind()&&c.setConfig(c.defaultBindProperty,d),g&&Ext.callback(h.onWidgetAttach,h.scope,[h,c,d],0,h),b=c.el||c.element,b?(e.dom.appendChild(b.dom),j||c.width===a?c.updateLayout():c.setWidth(a),c.reattachToBody()):(j||(c.width=a),c.render(e))),c},toggleRow:function(b,h){var g,d,j=this,k=j.normalView||j.view,c=k.getNode(b),e=Ext.fly(c),i=e.down(j.rowBodyTrSelector,!0),m=e.hasCls(j.rowCollapsedCls),l=m?"removeCls":"addCls",a=j.grid.lockable&&j.grid;e[l](j.rowCollapsedCls),Ext.fly(i)[l](j.rowBodyHiddenCls),Ext.suspendLayouts(),m?(j.recordsExpanded[h.internalId]=!0,d=j.addWidget(k,h)):(delete j.recordsExpanded[h.internalId],d=j.getWidget(k,h)),a&&a.lockedGrid.isVisible()&&(k=j.lockedView,g=Ext.fly(k.getNode(b)),g&&(g[l](j.rowCollapsedCls),i=g.down(j.rowBodyTrSelector,!0),Ext.fly(i)[l](j.rowBodyHiddenCls),d=m&&j.lockedWidget?[d,j.addWidget(k,h)]:[d,j.getWidget(k,h)]),a.syncRowHeightOnNextLayout=!0),j.view.fireEvent(m?"expandbody":"collapsebody",c,h,i,d),k.updateLayout(),Ext.resumeLayouts(!0),j.scrollIntoViewOnExpand&&m&&j.grid.ensureVisible(b)}}},0,0,0,0,["plugin.rowwidget"],[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable],[Ext.mixin.StyleCacher.prototype.mixinId||Ext.mixin.StyleCacher.$className,Ext.mixin.StyleCacher]],[Ext.grid.plugin,"RowWidget"],0),Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:"x-property-grid",initComponent:function(){var a,c=this,b=!Ext.isIE;c.source=c.source||{},c.addCls(c.gridCls),c.plugins=c.plugins||[],c.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:c.clicksToEdit,startEdit:function(d,e){return this.self.prototype.startEdit.call(this,d,c.valueColumn)}})),c.selModel={type:"cellmodel",onCellSelect:function(d){return d.column=c.valueColumn,d.colIdx=c.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,d)}},c.sourceConfig=Ext.apply({},c.sourceConfig),c.store||(c.propStore=c.store=new Ext.grid.property.Store(c,c.source)),c.configure(c.sourceConfig),c.sortableColumns&&c.store.sort("name","ASC"),c.columns=new Ext.grid.property.HeaderContainer(c,c.store),Ext.grid.Panel.prototype.initComponent.call(this);var a=c.getView();a.walkCells=c.walkCells,a.getDefaultFocusPosition=c.getDefaultFocusPosition,c.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:b})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:b})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:b})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,c.headerCt.trueText],[!1,c.headerCt.falseText]]})})},c.store.on("update",c.onUpdate,c)},configure:function(b){var a,j,c,g,h=this,k=h.store,d=0,e=h.store.getCount(),l=h.nameField,m=h.valueField;if(h.configureLegacy(b),h.inferTypes)for(;d<e;++d)c=k.getAt(d),a=c.get(l),h.getConfigProp(a,"type")||(j=c.get(m),g=Ext.isDate(j)?"date":Ext.isNumber(j)?"number":Ext.isBoolean(j)?"boolean":"string",h.setConfigProp(a,"type",g))},getConfigProp:function(e,d,a){var b,c=this.sourceConfig[e];return c&&(b=c[d]),b||a},setConfigProp:function(e,b,c){var a=this.sourceConfig,d=a[e];return d?d.__copied||(d=Ext.apply({__copied:!0},d),a[e]=d):d=a[e]={__copied:!0},d[b]=c,c},configureLegacy:function(a){var b=this;b.copyLegacyObject(a,b.customRenderers,"renderer"),b.copyLegacyObject(a,b.customEditors,"editor"),b.copyLegacyObject(a,b.propertyNames,"displayName")},copyLegacyObject:function(a,d,c){var b;for(b in d)d.hasOwnProperty(b)&&(a[b]||(a[b]={}),a[b][c]=d[b])},onUpdate:function(d,a,c){var b,e,g=this;g.rendered&&c===Ext.data.Model.EDIT&&(b=a.get(g.valueField),e=a.modified.value,!1!==g.fireEvent("beforepropertychange",g.source,a.getId(),b,e)?(g.source&&(g.source[a.getId()]=b),a.commit(),g.fireEvent("propertychange",g.source,a.getId(),b,e)):a.reject())},walkCells:function(j,i,h,g,a,c){var d=this,b=d.ownerCt.valueColumn;return"left"===i?i="up":"right"===i&&(i="down"),j=Ext.view.Table.prototype.walkCells.call(d,j,i,h,g,a,c),j.column=b,j.colIdx=b.getVisibleIndex(),j},getDefaultFocusPosition:function(){var a=this;return new Ext.grid.CellContext(a).setColumn(1)},getCellEditor:function(d,b){var j,h=this,c=d.get(h.nameField),a=d.get(h.valueField),e=h.getConfigProp(c,"editor"),i=h.getConfigProp(c,"type"),g=h.editors;if(e)e instanceof Ext.grid.CellEditor||(e instanceof Ext.form.field.Base||(e=Ext.ComponentManager.create(e,"textfield")),e=h.setConfigProp(c,"editor",new Ext.grid.CellEditor({field:e})));else if(i)switch(i){case"date":e=g.date;break;case"number":e=g.number;break;case"boolean":e=h.editors.boolean;break;default:e=g.string}else e=Ext.isDate(a)?g.date:Ext.isNumber(a)?g.number:Ext.isBoolean(a)?g.boolean:g.string;return j=e.field,j&&"default"===j.ui&&!j.hasOwnProperty("ui")&&(j.ui=h.editingPlugin.defaultFieldUI),e.editorId=c,e.field.column=h.valueColumn,c&&(c=Ext.String.htmlEncode(c),j.rendered?j.inputEl.dom.setAttribute("aria-label",c):j.ariaLabel=c),e},doDestroy:function(){var a=this;a.destroyEditors(a.editors),a.destroyEditors(a.customEditors),Ext.grid.Panel.prototype.doDestroy.call(this)},destroyEditors:function(b){for(var a in b)b.hasOwnProperty(a)&&Ext.destroy(b[a])},setSource:function(b,c){var a=this;a.source=b,void 0!==c&&(a.sourceConfig=Ext.apply({},c),a.configure(a.sourceConfig)),a.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},getProperty:function(a){return this.propStore.getProperty(a)},setProperty:function(c,b,a){this.propStore.setValue(c,b,a)},removeProperty:function(a){this.propStore.remove(a)}},0,["propertygrid"],["component","box","container","panel","tablepanel","gridpanel","grid","propertygrid"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0,propertygrid:!0},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0),Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:"x-grid-property-name",nameColumnInnerCls:"x-grid-cell-inner-property-name",constructor:function(b,a){var c=this;c.grid=b,c.store=a,Ext.grid.header.Container.prototype.constructor.call(this,{isRootHeader:!0,enableColumnResize:Ext.isDefined(b.enableColumnResize)?b.enableColumnResize:c.enableColumnResize,enableColumnMove:Ext.isDefined(b.enableColumnMove)?b.enableColumnMove:c.enableColumnMove,items:[{header:c.nameText,width:b.nameColumnWidth||c.nameWidth,sortable:b.sortableColumns,dataIndex:b.nameField,scope:c,renderer:c.renderProp,itemId:b.nameField,menuDisabled:!0,tdCls:c.nameColumnCls,innerCls:c.nameColumnInnerCls},{header:c.valueText,scope:c,renderer:c.renderCell,getEditor:c.getCellEditor.bind(c),sortable:b.sortableColumns,flex:1,fixed:!0,dataIndex:b.valueField,itemId:b.valueField,menuDisabled:!0}]}),c.grid.valueColumn=c.items.getAt(1)},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(h,e,g){var c=this,b=c.grid,d=b.getConfigProp(g.get(b.nameField),"renderer"),a=h;return d?Ext.callback(d,null,arguments,0,c):(Ext.isDate(h)?a=c.renderDate(h):Ext.isBoolean(h)&&(a=c.renderBool(h)),Ext.util.Format.htmlEncode(a))},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfigProp(a,"displayName",a)}},1,0,["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0),Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(b,a){Ext.isObject(b)||(b={name:b,value:a}),
Ext.data.Model.prototype.constructor.call(this,b)}},1,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0),Ext.cmd.derive("Ext.grid.property.Reader",Ext.data.reader.Reader,{successProperty:null,totalProperty:null,messageProperty:null,read:function(a){return this.readRecords(a)},readRecords:function(b){var d,c,e=this.getModel(),a={records:[],success:!0};for(c in b)b.hasOwnProperty(c)&&(d=b[c],this.isEditableValue(d)&&a.records.push(new e({name:c,value:d})));return a.total=a.count=a.records.length,new Ext.data.ResultSet(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||null===a}},0,0,0,0,0,0,[Ext.grid.property,"Reader"],0),Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,constructor:function(a,c){var b=this;b.grid=a,b.source=c,Ext.data.Store.prototype.constructor.call(this,{data:c,model:Ext.grid.property.Property,proxy:b.getProxy()})},getProxy:function(){var a=this.proxy;return a||(a=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),a},getReader:function(){var a=this.reader;return a||(a=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})),a},setSource:function(a){var b=this;b.source=a,b.suspendEvents(),b.removeAll(),b.getProxy().setData(a),b.load(),b.resumeEvents(),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)},getProperty:function(c){var b=Ext.isNumber(c)?this.getAt(c):this.getById(c),a=null;return b&&(a=b.get("value")),a},setValue:function(e,c,a){var b=this,d=b.getRec(e);d?(d.set("value",c),b.source[e]=c):a&&(b.source[e]=c,d=new Ext.grid.property.Property({name:e,value:c},e),b.add(d))},remove:function(b){var a=this.getRec(b);a&&(Ext.data.Store.prototype.remove.call(this,a),delete this.source[b])},getRec:function(a){return this.getById(a)},getSource:function(){return this.source},doDestroy:function(){Ext.destroy(this.reader,this.proxy),Ext.data.Store.prototype.doDestroy.call(this)}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0),Ext.cmd.derive("Ext.grid.selection.Selection",Ext.Base,{constructor:function(a){this.view=a.ownerGrid.view}},1,0,0,0,0,0,[Ext.grid.selection,"Selection"],0),Ext.cmd.derive("Ext.grid.selection.Cells",Ext.grid.selection.Selection,{type:"cells",isCells:!0,clone:function(){var b=this,a=new b.self(b.view);return b.startCell&&(a.startCell=b.startCell.clone(),a.endCell=b.endCell.clone()),a},contains:function(a){var b;return!(!a||!a.isCellContext)&&!!(this.startCell&&(b=this.getRowRange(),a.rowIdx>=b[0]&&a.rowIdx<=b[1]))&&(b=this.getColumnRange(),a.colIdx>=b[0]&&a.colIdx<=b[1])},eachRow:function(c,b){var d,e=this,g=e.getRowRange(),a=new Ext.grid.CellContext(e.view);for(d=g[0];d<=g[1];d++)if(a.setRow(d),!1===c.call(b||e,a.record))return},eachColumn:function(d,c){var g,e=this,a=e.getColumnRange(),b=new Ext.grid.CellContext(e.view);for(g=a[0];g<=a[1];g++)if(b.setColumn(g),!1===d.call(c||e,b.column,g))return},eachCell:function(d,c){var e,i,g=this,h=g.getRowRange(),a=g.getColumnRange(),b=new Ext.grid.CellContext(g.view);for(e=h[0];e<=h[1];e++)for(b.setRow(e),i=a[0];i<=a[1];i++)if(b.setColumn(i),!1===d.call(c||g,b,i,e))return},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var b=this,a=b.view;b.eachCell(function(c){a.onCellDeselect(c)}),b.startCell=b.endCell=null},setRangeStart:function(b,a){this.startCell=(this.endCell=b.clone()).clone(),this.view.onCellSelect(b)},setRangeEnd:function(b){var i,h,c,j,g,n,a,e,k=this,l=k.view,o=l.all,m=new Ext.grid.CellContext(l),d=l.getVisibleColumnManager().getColumns().length-1;for(k.endCell=b.clone(),i=k.getRange(),h=k.lastRange||i,c=Math.max(Math.min(i[0][1],h[0][1]),o.startIndex),j=Math.min(Math.max(i[1][1],h[1][1]),o.endIndex),g=Math.min(i[0][0],h[0][0]),n=Math.min(Math.max(i[1][0],h[1][0]),d),a=c;a<=j;a++)for(e=g;e<=n;e++)m.setPosition(a,e),a<i[0][1]||a>i[1][1]||e<i[0][0]||e>i[1][0]?l.onCellDeselect(m):l.onCellSelect(m);k.lastRange=i},extendRange:function(b){var a,c=this;b[b.type]<0?(a=c.endCell.clone().setPosition(c.getLastRowIndex(),c.getLastColumnIndex()),c.startCell=b.start.clone(),c.setRangeEnd(a),c.view.getNavigationModel().setPosition(b.start)):(c.startCell=c.startCell.setPosition(c.getFirstRowIndex(),c.getFirstColumnIndex()),c.setRangeEnd(b.end),c.view.getNavigationModel().setPosition(b.end))},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var a=this.getRange();return(a[1][0]-a[0][0]+1)*(a[1][1]-a[0][1]+1)},selectAll:function(){var b=this,a=b.view;b.clear(),b.setRangeStart(new Ext.grid.CellContext(a).setPosition(0,0)),b.setRangeEnd(new Ext.grid.CellContext(a).setPosition(a.dataSource.getCount()-1,a.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var b=this.rangeStart,a=this.rangeEnd;return!(!b||b.colIdx||b.rowIdx)&&a.colIdx===a.view.getVisibleColumnManager().getColumns().length-1&&a.rowIdx===a.view.dataSource.getCount-1},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.dataSource.getAt(this.endCell.rowIdx)},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var a=this;a.getCount()?a.view.getSelectionModel().onSelectionFinish(a,new Ext.grid.CellContext(a.view).setPosition(a.getFirstRowIndex(),a.getFirstColumnIndex()),new Ext.grid.CellContext(a.view).setPosition(a.getLastRowIndex(),a.getLastColumnIndex())):a.view.getSelectionModel().onSelectionFinish(a)}}},0,0,0,0,0,0,[Ext.grid.selection,"Cells"],0),Ext.cmd.derive("Ext.grid.selection.Columns",Ext.grid.selection.Selection,{type:"columns",isColumns:!0,clone:function(){var c=this,a=new c.self(c.view),b=c.selectedColumns;return b&&(a.selectedColumns=Ext.Array.slice(b)),a},eachRow:function(c,b){var a=this.selectedColumns;a&&a.length&&this.view.dataSource.each(c,b||this)},eachColumn:function(h,g){var a,d,j=this,b=j.view,e=j.selectedColumns,c=new Ext.grid.CellContext(b);if(e)for(a=e.length,d=0;d<a;d++)if(c.setColumn(e[d]),!1===h.call(g||j,c.column,c.colIdx))return!1},eachCell:function(h,g){var a,d,j=this,b=j.view,e=j.selectedColumns,c=new Ext.grid.CellContext(b);e&&(a=e.length,b.dataSource.each(function(i){for(c.setRow(i),d=0;d<a;d++)if(c.setColumn(e[d]),!1===h.call(g||j,c,c.colIdx,c.rowIdx))return!1}))},contains:function(b){var a=this.selectedColumns;return!!(b&&b.isColumn&&a&&a.length)&&Ext.Array.contains(a,b)},getCount:function(){var a=this.selectedColumns;return a?a.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(a){Ext.Array.include(this.selectedColumns||(this.selectedColumns=[]),a),this.refreshColumns(a)},clear:function(){var a=this,b=a.selectedColumns;b&&b.length&&(a.selectedColumns=[],a.refreshColumns.apply(a,b))},setRangeStart:function(a){var b=this,c=b.getColumns();b.startColumn=a,b.selectedColumns=[a],c.push(a),b.refreshColumns.apply(b,c)},setRangeEnd:function(j){var b,d=this,h=d.getColumns(),g=this.view.ownerGrid.getVisibleColumnManager(),c=g.getColumns(),e=g.indexOf(d.startColumn),a=g.indexOf(j);for(a<e&&(b=e,e=a,a=b),d.selectedColumns=[],b=e;b<=a;b++)d.selectedColumns.push(c[b]),h.push(c[b]);d.refreshColumns.apply(d,h)},isAllSelected:function(){var a=this.selectedColumns;return a&&a.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(b){var a,e,i=this,j=i.view,k=j.all,c=arguments,h=c.length,g=new Ext.grid.CellContext(j),d=[];if(j.rendered){for(e=0;e<h;e++)d[e]=i.contains(c[e]);for(a=k.startIndex;a<=k.endIndex;a++)for(g.setRow(a),e=0;e<h;e++)g.setColumn(c[e]),d[e]?j.onCellSelect(g):j.onCellDeselect(g)}},remove:function(a){this.selectedColumns&&(Ext.Array.remove(this.selectedColumns,a),a.getView()&&a.isVisible()&&this.refreshColumns(a))},selectAll:function(){var a=this;a.clear(),a.selectedColumns=a.view.getSelectionModel().lastContiguousColumnRange=a.view.getVisibleColumnManager().getColumns(),a.refreshColumns.apply(a,a.selectedColumns)},extendRange:function(a){var b,d=this,c=d.view.getVisibleColumnManager().getColumns();for(b=a.start.colIdx;b<=a.end.colIdx;b++)d.add(c[b])},onSelectionFinish:function(){var b=this,a=b.getContiguousSelection();a?b.view.getSelectionModel().onSelectionFinish(b,new Ext.grid.CellContext(b.view).setPosition(0,a[0]),new Ext.grid.CellContext(b.view).setPosition(b.view.dataSource.getCount()-1,a[1])):b.view.getSelectionModel().onSelectionFinish(b)},getContiguousSelection:function(){var b,c=Ext.Array.sort(this.getColumns(),function(e,d){return e.getView().ownerGrid.getVisibleColumnManager().indexOf(e)-d.getView().ownerGrid.getVisibleColumnManager().indexOf(d)}),a=c.length;if(a){for(b=1;b<a;b++)if(c[b].getVisibleIndex()!==c[b-1].getVisibleIndex()+1)return!1;return[c[0],c[a-1]]}}}},0,0,0,0,0,0,[Ext.grid.selection,"Columns"],0),Ext.cmd.derive("Ext.grid.selection.Replicator",Ext.plugin.Abstract,{init:function(a){this.gridListeners=a.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:!0})},onBeforeSelectionExtend:function(c,b,d){var a=this.columns=[];return b.eachColumn(function(e){a.push(e)}),this.replicateSelection(c,b,d)},replicateSelection:function(d,r,m){if(!m.columns&&!r.isColumns){var p,v,g,c,h,B,w,z,k,e,a,s,o,n,A=this,b=A.columns,u=r.getFirstRowIndex(),t=r.getLastRowIndex(),l=t-u+1,q=[];if(p=b.length,k=b[0].getView().dataSource,1===l)c=A.getColumnValues(r.view.dataSource.getAt(u));else for(c=new Array(p),q=m.rows<0?[k.getAt(u+1),k.getAt(u)]:[k.getAt(t-1),k.getAt(t)],q[0]=A.getColumnValues(q[0]),q[1]=A.getColumnValues(q[1]),v=0;v<p;v++)o=q[1][v],n=q[0][v],isNaN(o)||isNaN(n)||(c[v]=Number(o)-Number(n));if(m.rows<0?(h=m.end.rowIdx,B=m.start.rowIdx-1,z=-1):(h=m.start.rowIdx,B=m.end.rowIdx+1,z=1),1===l)for(w=h;w!==B;w+=z)for(e=k.getAt(w),v=0;v<p;v++)g=b[v],g.dataIndex&&e.set(g.dataIndex,c[v]);else for(w=h;w!==B;w+=z)for(e=k.getAt(w),a=A.getColumnValues(k.getAt(w-z)),v=0;v<p;v++)g=b[v],g.dataIndex&&(s=a[v],isNaN(s)||e.set(g.dataIndex,Ext.coerce(Number(s)+c[v],s)))}},getColumnValues:function(c){var d,g,e=this.columns,b=e.length,a=new Array(e.length);for(d=0;d<b;d++)g=e[d],g.dataIndex&&(a[d]=c.get(g.dataIndex));return a},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners),Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.selectionreplicator"],0,[Ext.grid.selection,"Replicator"],0),Ext.cmd.derive("Ext.grid.selection.Rows",Ext.grid.selection.Selection,{type:"rows",isRows:!0,clone:function(){var b=this,a=new b.self(b.view);return b.selectedRecords&&(a.selectedRecords=b.selectedRecords.clone()),b.rangeStart&&(a.setRangeStart(b.rangeStart),a.setRangeEnd(b.rangeEnd)),a},addOne:function(a){var c=this,b=c.selectedRecords||(c.selectedRecords=c.createRecordCollection());b.byInternalId.get(a.internalId)||(b.add(a),c.view.onRowSelect(a))},add:function(b){var c,a,d=this;if(b.isModel)d.addOne(b);else if(Ext.isArray(b))for(c=0,a=b.length;c<a;c++)d.addOne(b[c])},removeOne:function(a){var b=this;return!(!b.selectedRecords||!b.selectedRecords.byInternalId.get(a.internalId)||(b.selectedRecords.remove(a),b.view.onRowDeselect(a),b.allSelected=!1,0))},remove:function(b){var d,a,e=this,c=!0;if(b.isModel)return e.removeOne(b);if(Ext.isArray(b))for(d=0,a=b.length;d<a;d++)c&=e.removeOne(b[d]);return c},contains:function(c){if(!c||!c.isModel)return!1;var a,d,e=this,b=!1,g=e.selectedRecords;return e.allSelected?(e.add(c),!0):(g&&(b=!!g.byInternalId.get(c.internalId)),b||null==e.rangeStart||(d=e.getRange(),a=e.view.dataSource.indexOf(c),b=a>=d[0]&&a<=d[1]),b)},getCount:function(){var d,e=this,g=e.selectedRecords,a=g?g.getCount():0,c=e.getRange(),b=e.view.dataSource;for(d=c[0];d<=c[1];d++)g&&g.byInternalId.get(b.getAt(d).internalId)||a++;return a},getRecords:function(){var a=this.selectedRecords;return a?a.getRange():[]},selectAll:function(){var a=this,b=a.view.dataSource,c=b.isBufferedStore?b.getData().getCount():b.getCount();a.clear(),a.setRangeStart(0),a.setRangeEnd(c-1),a.addRange(),a.allSelected=!0},getFirstRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):0},getLastRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):-1},eachRow:function(b,a){var c=this.selectedRecords;c&&c.each(b,a||this)},eachColumn:function(e,d){var b,c=this.view.getVisibleColumnManager().getColumns(),a=c.length;if(this.selectedRecords)for(b=0;b<a;b++)if(!1===e.call(this||d,c[b],b))return},eachCell:function(k,o){var n,e,c,a,g,p,h=this,m=h.selectedRecords,l=h.view,b=l.ownerGrid.getVisibleColumnManager().getColumns(),d=!1;b&&(n=b.length,a=new Ext.grid.CellContext(l),m&&m.each(function(i){for(a.setRow(i),e=0;e<n;e++)if(a.setColumn(b[e]),!1===k.call(o||h,a,a.colIdx,a.rowIdx))return d=!0,!1}),d||null==h.rangeStart||(g=h.getRange(),h.view.dataSource.getRange(g[0],g[1],{forRender:!1,callback:function(i){for(p=i.length,e=0;!d&&e<p;e++)for(a.setRow(i[e]),c=0;!d&&c<n;c++)a.setColumn(b[c]),!1===k.call(o||h,a,a.colIdx,a.rowIdx)&&(d=!0)}})))},beginUpdate:function(){var a=this.selectedRecords;a&&a.beginUpdate()},endUpdate:function(){var a=this.selectedRecords;a&&a.endUpdate()},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords),this.callParent()},privates:{clear:function(){var b=this,a=b.view;b.allSelected=!1,b.selectedRecords&&(b.eachRow(function(c){a.onRowDeselect(c)}),b.selectedRecords.clear())},isAllSelected:function(){return!!this.allSelected},setRangeStart:function(a){this.allSelected=!1,this.rangeStart=this.rangeEnd=a,this.view.onRowSelect(a)},setRangeEnd:function(c){var g,e,a,b,h=this,i=h.view,j=i.dataSource,k=i.all,d=h.selectedRecords;for(h.rangeEnd=c,g=h.getRange(),e=h.lastRange||g,a=Math.max(Math.min(g[0],e[0]),k.startIndex),c=Math.min(Math.max(g[1],e[1]),k.endIndex);a<=c;a++)k.item(a),a<g[0]||a>g[1]?(d&&(b=d.byInternalId.get(j.getAt(a).internalId))&&d.remove(b),i.onRowDeselect(a)):i.onRowSelect(a);h.lastRange=g},extendRange:function(b){var c,d=this,a=d.view.dataSource;for(c=b.start.rowIdx;c<=b.end.rowIdx;c++)d.add(a.getAt(c))},getLastSelected:function(){return this.selectedRecords.last()},getRange:function(){var b=this.rangeStart,a=this.rangeEnd;return null==b?[0,-1]:b<=a?[b,a]:[a,b]},getRangeSize:function(){var a=this.getRange();return a[1]-a[0]+1},createRecordCollection:function(){var b=this.view.dataSource;return new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:!1,property:"internalId"}},sorters:[function(d,c){return b.indexOf(d)-b.indexOf(c)}]})},addRange:function(){var a,b,c=this;null!=c.rangeStart&&(a=c.getRange(),b=c.selectedRecords||(c.selectedRecords=c.createRecordCollection()),c.view.dataSource.getRange(a[0],a[1],{forRender:!1,callback:function(d){b.add.apply(b,d)}}),c.setRangeStart(c.lastRange=null))},onSelectionFinish:function(){var b=this,a=b.getContiguousSelection();a?b.view.getSelectionModel().onSelectionFinish(b,new Ext.grid.CellContext(b.view).setPosition(a[0],0),new Ext.grid.CellContext(b.view).setPosition(a[1],b.view.getVisibleColumnManager().getColumns().length-1)):b.view.getSelectionModel().onSelectionFinish(b)},getContiguousSelection:function(){var d,a,c,b=this.view.dataSource;if(this.selectedRecords&&(d=Ext.Array.sort(this.selectedRecords.getRange(),function(g,e){return b.indexOf(g)-b.indexOf(e)}),a=d.length)){for(c=1;c<a;c++)if(b.indexOf(d[c])!==b.indexOf(d[c-1])+1)return!1;return[b.indexOf(d[0]),b.indexOf(d[a-1])]}}}},0,0,0,0,0,0,[Ext.grid.selection,"Rows"],0),Ext.cmd.derive("Ext.grid.selection.SelectionExtender",Ext.dd.DragTracker,{maskBox:{},constructor:function(a){var b=this;a.view.rendered?b.initSelectionExtender(a):(b.view=a.view,a.view.on({render:b.initSelectionExtender,args:[a],scope:b}))},initSelectionExtender:function(a){var b=this,c=Ext.dom.Element.DISPLAY;b.el=a.view.el,b.handle=a.view.ownerGrid.body.createChild({cls:"x-ssm-extender-drag-handle",style:"display:none"}).setVisibilityMode(c),b.handle.on({contextmenu:function(d){d.stopEvent()}}),b.mask=b.el.createChild({cls:"x-ssm-extender-mask",style:"display:none"}).setVisibilityMode(c),b.superclass.constructor.call(b,a),b.mask.skipGarbageCollection=b.handle.skipGarbageCollection=!0,b.viewListeners=b.view.on({scroll:b.onViewScroll,scope:b,destroyable:!0}),b.gridListeners=b.view.ownerGrid.on({columnResize:b.alignHandle,scope:b,destroyable:!0}),b.extendX=!!(1&b.axes),b.extendY=!!(2&b.axes)},setHandle:function(c,b){var a=this;if(!a.view.rendered)return void a.view.on({render:a.initSelectionExtender,args:[c,b],scope:a});a.firstPos=c,a.lastPos=b,c&&b&&c.getCell()&&b.getCell()?(a.curPos?a.curPos.setPosition(b):a.curPos=b.clone(),a.alignHandle()):a.disable()},alignHandle:function(){var c=this,b=c.firstPos&&c.firstPos.getCell(),a=c.lastPos&&c.lastPos.getCell();b&&a?(c.enable(),c.handle.alignTo(a,"c-br")):c.disable()},enable:function(){this.handle.show(),Ext.dd.DragTracker.prototype.enable.call(this)},disable:function(){this.handle.hide(),this.mask.hide(),Ext.dd.DragTracker.prototype.disable.call(this)},onDrag:function(j){j.target===this.mask.dom&&(this.mask.hide(),j.target=document.elementFromPoint.apply(document,j.getXY()),this.mask.show());var i=this,c=i.view,b=c.el.getY(),g=c.el.getX(),h=j.getTarget(i.view.getCellSelector()),d=i.scrollTask||(i.scrollTask=Ext.util.TaskManager.newTask({run:i.doAutoScroll,scope:i,interval:10})),a=i.scrollBy||(i.scrollBy=[]);if(!i.el.contains(j.target))return a[0]=a[1]=0,d.stop();i.lastXY[1]>b+c.el.getHeight(!0)-15?i.extendY&&(a[1]=3,d.start()):i.lastXY[1]<b+10?i.extendY&&(a[1]=-3,d.start()):i.lastXY[0]>g+c.el.getWidth(!0)-15?i.extendX&&(a[0]=3,d.start()):i.lastXY[0]<g+10?i.extendX&&(a[0]=-3,d.start()):(a[0]=a[1]=0,d.stop()),h&&h!==i.lastOverCell&&(i.lastOverCell=h,i.syncMaskOnCell(h))},doAutoScroll:function(){var c,b=this,a=b.view;a.scrollBy.apply(a,b.scrollBy),(c=document.elementFromPoint.apply(document,b.lastXY))&&(c=Ext.fly(c).up(a.cellSelector))&&c!==b.lastOverCell&&(b.lastOverCell=c,b.syncMaskOnCell(c))},onEnd:function(b){var a=this;a.scrollTask&&a.scrollTask.stop(),a.extensionDescriptor&&(a.disable(),a.view.getSelectionModel().extendSelection(a.extensionDescriptor))},onViewScroll:function(){var a=this;a.active&&a.lastOverCell&&a.syncMaskOnCell(a.lastOverCell),a.firstPos&&a.alignHandle()},syncMaskOnCell:function(e){var l,h=this,j=h.view,k=j.all,b=h.curPos,g=h.maskBox,a=h.firstPos.clone(),i=h.lastPos.clone(),d=h.firstPos.clone(),c=h.lastPos.clone();a.setRow(Math.min(Math.max(a.rowIdx,k.startIndex),k.endIndex)),i.setRow(Math.min(Math.max(i.rowIdx,k.startIndex),k.endIndex)),h.selectionRegion=l=a.getCell().getRegion().union(i.getCell().getRegion()),b.setPosition(j.getRecord(e),j.getHeaderByCell(e)),e=Ext.fly(e),h.mask.dom.style.borderTopWidth=h.mask.dom.style.borderRightWidth=h.mask.dom.style.borderBottomWidth=h.mask.dom.style.borderLeftWidth="",b.rowIdx<h.firstPos.rowIdx&&h.extendY?(h.extensionDescriptor={type:"rows",start:d.setRow(b.rowIdx),end:c.setRow(h.firstPos.rowIdx-1),rows:b.rowIdx-h.firstPos.rowIdx,mousePosition:h.lastXY},h.mask.dom.style.borderBottomWidth="0",g.x=l.x,g.y=e.getY(),g.width=l.right-l.left,g.height=l.top-e.getY()):b.rowIdx>h.lastPos.rowIdx&&h.extendY?(h.extensionDescriptor={type:"rows",start:d.setRow(h.lastPos.rowIdx+1),end:c.setRow(b.rowIdx),rows:b.rowIdx-h.lastPos.rowIdx,mousePosition:h.lastXY},h.mask.dom.style.borderTopWidth="0",g.x=l.x,g.y=l.bottom,g.width=l.right-l.left,g.height=e.getRegion().bottom-l.bottom):b.colIdx<h.firstPos.colIdx&&h.extendX?(h.extensionDescriptor={type:"columns",start:d.setColumn(b.colIdx),end:c.setColumn(h.firstPos.colIdx-1),columns:b.colIdx-h.firstPos.colIdx,mousePosition:h.lastXY},h.mask.dom.style.borderRightWidth="0",g.x=e.getX(),g.y=l.top,g.width=l.left-e.getX(),g.height=l.bottom-l.top):b.colIdx>h.lastPos.colIdx&&h.extendX?(h.extensionDescriptor={type:"columns",start:d.setColumn(h.lastPos.colIdx+1),end:c.setColumn(b.colIdx),columns:b.colIdx-h.lastPos.colIdx,mousePosition:h.lastXY},h.mask.dom.style.borderLeftWidth="0",g.x=l.right,g.y=l.top,g.width=e.getRegion().right-l.right,g.height=l.bottom-l.top):h.extensionDescriptor=null,j.ownerGrid.hasListeners.selectionextenderdrag&&j.ownerGrid.fireEvent("selectionextenderdrag",j.ownerGrid,j.getSelectionModel().getSelected(),h.extensionDescriptor),h.extensionDescriptor?(h.mask.show(),h.mask.setBox(g)):h.mask.hide()},destroy:function(){var a=this;Ext.destroy(a.gridListeners,a.viewListeners,a.mask,a.handle),Ext.dd.DragTracker.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.selection,"SelectionExtender"],0),Ext.cmd.derive("Ext.grid.selection.SpreadsheetModel",Ext.selection.Model,{isSpreadsheetModel:!0,config:{columnSelect:{$value:!1,lazy:!0},cellSelect:{$value:!0,lazy:!0},rowSelect:{$value:!0,lazy:!0},dragSelect:{$value:!0,lazy:!0},selected:null,extensible:{$value:!0,lazy:!0}},checkboxSelect:!1,checkboxColumnIndex:0,showHeaderCheckbox:!0,checkColumnHeaderText:null,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:"x-ssm-column-select",rowNumbererHeaderCls:"x-ssm-row-numberer-hd",tdCls:"x-grid-cell-special x-selmodel-column",bindComponent:function(b){var c,a,e,d=this;d.view!==b&&(d.view&&(d.navigationModel=null,Ext.destroy(d.viewListeners,d.navigationListeners)),d.view=b,b&&(d.getCellSelect(),e=b.ownerGrid.lockedGrid,e?(d.hasLockedHeader=!0,d.onViewCreated(e,e.getView())):b.grid.on({viewcreated:d.onViewCreated,scope:d,single:!0}),d.gridListeners=b.ownerGrid.on({columnschanged:d.onColumnsChanged,columnmove:d.onColumnMove,scope:d,destroyable:!0}),a=d.getStoreListeners(),a.scope=d,a.destroyable=!0,d.storeListeners=d.store.on(a),c=d.getViewListeners(),c.scope=d,c.destroyable=!0,d.viewListeners=b.on(c),d.navigationModel=b.getNavigationModel(),d.navigationListeners=d.navigationModel.on({navigate:d.onNavigate,scope:d,destroyable:!0}),d.getColumnSelect()&&b.ownerGrid.addCls(d.columnSelectCls),d.updateHeaderState()))},getCheckboxHeaderConfig:function(){var a=this,b=!1!==a.showHeaderCheckbox;return{xtype:"checkcolumn",isCheckerHd:b,headerCheckbox:b,ignoreExport:!0,text:a.checkColumnHeaderText,clickTargetName:"el",width:a.checkboxHeaderWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,tdCls:a.tdCls,cls:"x-selmodel-column",stopSelection:!1,editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader,updateHeaderState:a.updateHeaderState.bind(a),toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:Ext.emptyFn}},renderEmpty:function(){return"&#160;"},getStoreListeners:function(){var b=this,a=Ext.selection.Model.prototype.getStoreListeners.call(this);return a.priority=2e3,a.refresh=b.onStoreChanged,a.clear=b.onStoreChanged,a},onHeaderClick:function(j,k,h){var a,b,c,d=this,g=d.selected;if(k===d.numbererColumn||k===d.checkColumn)h.stopEvent(),g&&g.isAllSelected()?d.deselectAll():d.selectAll(),d.updateHeaderState(),d.lastColumnSelected=null;else if(d.columnSelect)if(h.shiftKey&&g&&g.lastColumnSelected)for(g.clear(),a=d.view.ownerGrid.getVisibleColumnManager(),b=Ext.Array.sort([a.indexOf(g.lastColumnSelected),a.indexOf(k)],Ext.Array.numericSortFn),c=b[0];c<=b[1];c++)d.selectColumn(a.getHeaderAtIndex(c),!0);else d.isColumnSelected(k)?(d.deselectColumn(k),d.selected.lastColumnSelected=null):(d.selectColumn(k,h.ctrlKey),d.selected.lastColumnSelected=k)},updateHeaderState:function(){var g,d=this,b=d.view.dataSource,a=d.views,e=d.selected,h=!1,c=d.checkColumn;b&&e&&e.isRows&&(g=b.getCount(),h=b.isBufferedStore?e.allSelected:g>0&&g===e.getCount()),a&&a.length&&c&&c.setHeaderStatus(h)},onBindStore:function(a,c,b){b||this.onStoreRefresh()},onBeforeReconfigure:function(e,a,d,h,c){var g=this,b=g.checkboxColumnIndex;d&&(Ext.suspendLayouts(),g.numbererColumn&&(g.numbererColumn.ownerCt.remove(g.numbererColumn,!1),d.unshift(g.numbererColumn)),g.checkColumn&&("first"===b?b=0:"last"===b&&(b=d.length),g.checkColumn.ownerCt.remove(g.checkColumn,!1),Ext.Array.insert(d,b,[g.checkColumn])),Ext.resumeLayouts())},getCellContext:function(a,b){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(a,b)},select:function(b,m,l){var g,d,e,h=this,a=h.selected,j=h.view,k=j.dataSource,c=!1;for(a&&a.isRows&&a.view===j?m||a.clear():(h.resetSelection(!0),a=h.selected=new Ext.grid.selection.Rows(j)),Ext.isArray(b)||(b=[b]),g=b.length,d=0;d<g;d++)e=b[d],"number"==typeof e&&(e=k.getAt(e)),a.contains(e)||(a.add(e),c=!0);c&&(h.updateHeaderState(),l||h.fireSelectionChange())},deselect:function(b,k){var g,d,e,h=this,a=h.selected,j=h.view.dataSource,c=!1;if(a&&a.isRows)for(Ext.isArray(b)||(b=[b]),g=b.length,d=0;d<g;d++)e=b[d],"number"==typeof e&&(e=j.getAt(e)),c=c||a.remove(e);c&&(h.updateHeaderState(),k||h.fireSelectionChange())},selectCells:function(g,e,b){var d,c=this,a=c.view.ownerGrid.view;g=g.isCellContext?g.clone():new Ext.grid.CellContext(a).setPosition(g),e=e.isCellContext?e.clone():new Ext.grid.CellContext(a).setPosition(e),c.resetSelection(!0),c.selected=d=new Ext.grid.selection.Cells(g.view),d.setRangeStart(g),d.setRangeEnd(e),b||c.fireSelectionChange()},selectAll:function(c){var a,d=this,e=d.selected,b=d.view;d.rowSelect?(e&&e.isRows||(d.resetSelection(!0),d.selected=e=new Ext.grid.selection.Rows(b)),a=!0):d.cellSelect?(e&&e.isCells||(d.resetSelection(!0),d.selected=e=new Ext.grid.selection.Cells(b)),a=!0):d.columnSelect&&(e&&e.isColumns||(d.resetSelection(!0),d.selected=e=new Ext.grid.selection.Columns(b)),a=!0),e&&(e.allSelected=!0),a&&(d.updateHeaderState(),e.selectAll(),c||d.fireSelectionChange())},deselectAll:function(a){var b=this,c=b.selected;c&&c.getCount()&&(c.clear(),c.allSelected=!1,b.updateHeaderState(),a||b.fireSelectionChange())},selectRows:function(j,e,c){var d,g=this,h=g.selected,b=h&&h.isRows,a=j.length;if(e&&b||g.resetSelection(!0),b||(g.selected=h=new Ext.grid.selection.Rows(g.view)),j.isEntity)h.add(j);else for(d=0;d<a;d++)h.add(j[d]);c||g.fireSelectionChange()},isSelected:function(a){return this.isRowSelected(a)},selectColumn:function(d,c,b){var e=this,g=e.selected,a=d.getView();g&&g.isColumns&&g.view===a.ownerGrid.view||(e.resetSelection(!0),e.selected=g=new Ext.grid.selection.Columns(a)),g.contains(d)||(c||g.clear(),g.add(d),e.updateHeaderState(),b||e.fireSelectionChange())},deselectColumn:function(b,a){var c=this,d=c.getSelected();d&&d.isColumns&&d.contains(b)&&(d.remove(b),c.updateHeaderState(),a||c.fireSelectionChange())},getSelection:function(){var a=this.selected;return a&&a.isRows?a.getRecords():[]},destroy:function(){var b=this,a=b.scrollEls;Ext.destroy(b.gridListeners,b.viewListeners,b.selected,b.navigationListeners,b.extensible),a&&Ext.dd.ScrollManager.unregister(a),b.selected=b.gridListeners=b.viewListeners=b.selectionData=b.navigationListeners=b.scrollEls=null,Ext.selection.Model.prototype.destroy.call(this)},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,true:3},getViewListeners:function(){return{refresh:this.onViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(b){var a=this.selected;b.keyCode===b.SHIFT&&a&&a.isRows&&a.getRangeSize()&&a.addRange()},onStoreChanged:function(){var b=this,c=(b.view,b.selected);c&&(c.isCells?b.resetSelection():c.isRows&&(!1===b.pruneRemoved&&c.selectedRecords.length?b.refresh():b.resetSelection()))},onColumnsChanged:function(){var h,e,i,d,a,b,c,g=this.selected;if(g)if(a=g.view,g.isCells)for(b=new Ext.grid.CellContext(a),h=g.getRowRange(),e=a.getVisibleColumnManager().getColumns().length,d=h[0];d<=h[1];d++)for(b.setRow(d),i=0;i<e;i++)b.setColumn(i),a.onCellDeselect(b);else g.isColumns&&(c=!1,g.eachColumn(function(j,k){j.isVisible()&&a.ownerGrid.isAncestor(j)||(this.remove(j),c=!0)}));Ext.on("idle",c?this.fireSelectionChange:this.updateSelectionExtender,this,{single:!0})},onColumnMove:function(){this.updateSelectionExtender()},onViewRefresh:function(a){var c=this,d=c.selected,b=c.view.store,e=!1;d&&d.isRows&&b.isFiltered()&&d.eachRow(function(g){b.contains(g)||(this.remove(g),e=!0)}),c[e?"fireSelectionChange":"updateSelectionExtender"]()},resetSelection:function(a){var b=this.selected;b&&(b.clear(),a||this.fireSelectionChange())},onViewCreated:function(b,a){var c=this,d=a.ownerGrid,e=a.headerCt;d.lockable&&!a.isLockedView||(c.getRowSelect()&&c.getNumbererColumn(),c.checkboxSelect&&c.addCheckbox(a,!0),c.mon(a.ownerGrid,"beforereconfigure",c.onBeforeReconfigure,c)),e.sortOnClick=!c.getColumnSelect(),c.getDragSelect()&&a.on("render",c.onViewRender,c,{single:!0})},onViewRender:function(c){var d,g=this,e=c.getEl(),b=g.views,a=b.length;for(d=0;d<a;d++)b[d].headerCt.sortOnClick=!g.columnSelect;e.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100},Ext.dd.ScrollManager.register(e),(g.scrollEls||(g.scrollEls=[])).push(e),c.on("cellmousedown",g.handleMouseDown,g),c.lockingPartner&&c.lockingPartner.on("cellmousedown",g.handleMouseDown,g)},handleMouseDown:function(m,c,l,h,j,a,i){var d,n,k=this,b=k.selected,g=i.position.column;if(!(i.button||i.shiftKey||i.altKey||"touch"===i.pointerType||m.actionableMode)&&g){if(k.mousedownPosition=i.position.clone(),d=g===k.checkColumn,d&&(k.checkCellClicked=i.position.getCell(!0)),g===k.numbererColumn||d||!k.cellSelect)if(k.rowSelect)b&&b.isRows?i.ctrlKey||d||b.clear():(b&&b.clear(),b=k.selected=new Ext.grid.selection.Rows(m)),n=!0;else{if(!k.columnSelect)return!1;b&&b.isColumns?i.ctrlKey||d||b.clear():(b&&b.clear(),b=k.selected=new Ext.grid.selection.Columns(m)),n=!0}else b&&b.clear(),b&&b.isCells||(b=k.selected=new Ext.grid.selection.Cells(m)),n=!0;k.lastOverRecord=k.lastOverColumn=null,Ext.getBody().on("mouseup",k.onMouseUp,k,{single:!0,view:b.view}),n&&b.view.el.on("mousemove",k.onMouseMove,k,{view:b.view})}},onMouseMove:function(h,i,a){var g,b,m,j,c,l=this,n=a.view,o=h.getTarget(n.cellSelector),d=a.view.getHeaderByCell(o),k=l.selected;if(l.checkCellClicked){if(o===l.checkCellClicked)return void(l.lastOverRecord||(l.lastOverRecord=n.getRecord(o.parentNode)));l.checkCellClicked=null,l.lastOverRecord&&(l.select(l.lastOverRecord),k.setRangeStart(l.store.indexOf(l.lastOverRecord)))}l.extensible&&l.extensible.disable(),d&&(g=n.getRecord(o.parentNode),b=l.store.indexOf(g),j=g!==l.lastOverRecord,c=d!==l.lastOverColumn,(j||c)&&(m=l.getCellContext(g,d)),k.isRows?j&&(l.lastOverRecord?k.setRangeEnd(b):k.setRangeStart(b)):k.isCells?(j||c)&&(l.lastOverRecord?k.setRangeEnd(m):k.setRangeStart(m)):k.isColumns&&c&&(l.lastOverColumn?k.setRangeEnd(m.column):k.setRangeStart(m.column)),(j||c)&&n.getNavigationModel().setPosition(new Ext.grid.CellContext(d.getView()).setPosition(g,d)),l.lastOverColumn=d,l.lastOverRecord=g)},onMouseUp:function(i,h,g){var a,b,d=this,c=g.view;d.checkCellClicked=null,c&&!c.destroyed&&(i.position||(a=i.getTarget(c.cellSelector))&&(b=c.getRecord(a))&&(i.position=new Ext.grid.CellContext(c).setPosition(b,c.getHeaderByCell(a))),d.extensible&&d.extensible.disable(),c.el.un("mousemove",d.onMouseMove,d),d.selected.isRows&&d.selected.addRange(),i.position&&i.position.isEqual(d.mousedownPosition)||d.fireSelectionChange())},addCheckbox:function(a,b){var c=this,d=c.checkboxColumnIndex,e=a.headerCt;!1!==d&&("first"===d?d=0:"last"===d&&(d=e.getColumnCount()),c.checkColumn=e.add(d,c.getCheckboxHeaderConfig())),!0!==b&&a.refresh()},onNavigate:function(g){var c,i=this,k=g.view.ownerGrid.view,d=g.record,b=i.selected,j=new Ext.grid.CellContext(k).setPosition(d,g.column),e=g.keyEvent,a=e.ctrlKey,h=e.shiftKey,l=e.getKey()
;if(!e.stopSelection&&(!a||l!==e.UP&&l!==e.LEFT&&l!==e.RIGHT&&l!==e.DOWN)&&(!(b&&(b.isCells||b.isColumns&&!a&&!h)&&b.getCount()>1)||e.shiftKey||"click"!==e.type)&&(i.cellSelect||i.columnSelect||i.rowSelect)&&g.record&&"mousedown"!==e.type){if(a&&e.keyCode===e.A)return!b||b.getCount()<2?i.selectAll():i.deselectAll(),void i.updateHeaderState();h?j.column===i.numbererColumn||j.column===i.checkColumn||!i.cellSelect&&!i.columnSelect||b&&b.isRows?i.rowSelect&&(b&&b.isRows&&b.view===k||(i.resetSelection(!0),b=i.selected=new Ext.grid.selection.Rows(k)),b.getRangeSize()||b.setRangeStart(g.previousRecordIndex||0),b.setRangeEnd(g.recordIndex),b.addRange(),c=!0):i.cellSelect?(b&&b.isCells&&b.view===k||(i.resetSelection(!0),b=i.selected=new Ext.grid.selection.Cells(k)),b.getRangeSize()||b.setRangeStart(g.previousPosition||i.getCellContext(0,0)),b.setRangeEnd(j),c=!0):i.columnSelect&&(b&&b.isColumns&&b.view===k||(i.resetSelection(!0),b=i.selected=new Ext.grid.selection.Columns(k)),b.getCount()||b.setRangeStart(j.column),b.setRangeEnd(g.position.column),c=!0):j.column===i.numbererColumn||j.column===i.checkColumn||i.rowSelect&&!i.cellSelect?(b&&b.isRows&&b.view===k||(i.resetSelection(!0),b=i.selected=new Ext.grid.selection.Rows(k)),a||j.column===i.checkColumn?b.contains(d)?b.remove(d):b.add(d):(b.clear(),b.add(d)),c=!0):i.cellSelect?(b&&b.isCells&&b.view===k?b.clear():(i.resetSelection(!0),i.selected=b=new Ext.grid.selection.Cells(k)),b.setRangeStart(j),c=!0):i.columnSelect&&(b&&b.isColumns&&b.view===k||(i.resetSelection(!0),i.selected=b=new Ext.grid.selection.Columns(k)),a?b.contains(j.column)?b.remove(j.column):b.add(j.column):b.setRangeStart(j.column),c=!0),c&&(b.isRows&&i.updateHeaderState(),i.fireSelectionChange())}},isRowSelected:function(a){var b=this,c=b.selected;return!(!c||!c.isRows)&&(a=Ext.isNumber(a)?b.store.getAt(a):a,c.contains(a))},isColumnSelected:function(a){var b=this,c=b.selected;return!(!c||!c.isColumns)&&c.contains(a)},isCellSelected:function(a,g,c){var b,d=this,e=d.selected;if(a=a.ownerGrid.view,e){if(e.isColumns)return"number"==typeof c&&(c=a.getVisibleColumnManager().getColumns()[c]),e.contains(c);if(e.isCells)return b=new Ext.grid.CellContext(a).setPosition({row:g,column:c}),e.contains(b)}return!1},applySelected:function(a){return a},updateSelected:function(g,h){var c,e,b,d,a;h&&h.clear(),g&&g.getCount()&&(c=g.view,g.isRows?g.eachRow(c.onRowSelect,c):g.isColumns?(e=g.getColumns(),(b=e.length)&&(a=new Ext.grid.CelContext(c),c.store.each(function(i){for(a.setRow(i),d=0;d<b;d++)a.setColumn(e[d]),c.onCellSelect(a)}))):g.isCells&&g.eachCell(c.onCellSelect,c))},getNumbererColumn:function(c){var d=this,a=d.numbererColumn,b=d.view;return a||(b.isNormalView&&(b=b.ownerGrid.lockedGrid),a=d.numbererColumn=b.headerCt.down("rownumberer")||b.headerCt.add(0,d.getNumbererColumnConfig())),a},getNumbererColumnConfig:function(){var a=this;return{xtype:"rownumberer",width:a.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:a.rowNumbererTdCls,cls:a.rowNumbererHeaderCls,locked:a.hasLockedHeader}},updateRowSelect:function(c){var b=this,d=b.selected,a=b.view;a&&a.rendered&&(a.isNormalView&&(a=a.lockingPartner),c?(b.checkColumn&&b.checkColumn.show(),b.getNumbererColumn().show()):(b.checkColumn&&b.checkColumn.hide(),b.numbererColumn&&b.numbererColumn.hide()),!c&&d&&d.isRows&&(d.clear(),b.fireSelectionChange()))},updateColumnSelect:function(g){var c,d=this,e=d.selected,b=d.views,a=b?b.length:0;for(c=0;c<a;c++)b[c].headerCt.sortOnClick=!g;!g&&e&&e.isColumns&&(e.clear(),d.fireSelectionChange()),g?d.view.ownerGrid.addCls(d.columnSelectCls):d.view.ownerGrid.removeCls(d.columnSelectCls)},updateCellSelect:function(a){var b=this,c=b.selected;!a&&c&&c.isCells&&(c.clear(),b.fireSelectionChange())},fireSelectionChange:function(){var b,e,g=this,h=g.selected,a=h.view,d=a.ownerGrid,c=a.dataSource;g.updateSelectionExtender(),h.isRows?(b=h.getRecords(),e=c.getTotalCount()||c.getCount(),g.selected.allSelected=!!(c.isBufferedStore?g.selected.allSelected:e&&b.length&&e===b.length),g.fireEvent("selectionchange",g,b)):h.isCells&&(g.selected.allSelected=!1,g.fireEvent("selectionchange",g,h.getCount()?g.store.getRange.apply(h.view.dataSource,h.getRowRange()):[])),d.fireEvent("selectionchange",d,h)},getLastSelected:function(){var a=this.selected;if(a.getLastSelected)return a.getLastSelected()},updateSelectionExtender:function(){var a=this.selected;a&&a.onSelectionFinish()},onSelectionFinish:function(d,c,a){var b=this.getExtensible();b&&b.setHandle(c,a)},applyExtensible:function(a){var b=this;if(a)return a=!0===a||"string"==typeof a?{axes:b.axesConfigs[a]}:Ext.Object.chain(a),a.view=b.selected.view,new Ext.grid.selection.SelectionExtender(a)},extendSelection:function(c){var a=this,b=a.selected;!1!==a.view.ownerGrid.fireEvent("beforeselectionextend",a.view.ownerGrid,b,c)&&(b.extendRange(c),a.fireSelectionChange())},onIdChanged:function(a,e,d,b){var c=this.selected;c&&c.isRows&&c.selectedRecords&&c.selectedRecords.updateKey(e,d)},onPageAdd:function(d,c,e){var g,b,j=this.selected,a=e.length,h=j&&j.selectedRecords;if(h&&j.isRows)for(g=0;g<a;g++)b=e[g],h.get(b.id)?h.replace(b):j.allSelected&&h.add(b)},refresh:function(){var a=this.getSelected();a&&a.isRows&&Ext.selection.Model.prototype.refresh.call(this)},onStoreAdd:function(){var a=this.getSelected();a&&a.isRows&&(Ext.selection.Model.prototype.onStoreAdd.apply(this,arguments),this.updateHeaderState())},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var a=this.getSelected();a&&a.isRows&&(Ext.selection.Model.prototype.onStoreLoad.apply(this,arguments),this.updateHeaderState())},onStoreRefresh:function(){var a=this.selected;a&&a.isRows&&a.selectedRecords&&this.updateSelectedInstances(a.selectedRecords),this.view&&this.updateHeaderState()},onPageRemove:function(b,a,c){var d=this.selected;d&&d.allSelected||this.onStoreRemove(this.store,c)},onStoreRemove:function(){var a=this.getSelected();a&&a.isRows&&Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments)}}},0,0,0,0,["selection.spreadsheet"],0,[Ext.grid.selection,"SpreadsheetModel"],function(b){Ext.ClassManager.get("Ext.grid.column.RowNumberer")&&(b.prototype.rowNumbererTdCls=Ext.grid.column.RowNumberer.prototype.tdCls+" x-ssm-row-numberer-cell")}),Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(e,b){var d,c=this,a=c.getKey(e);return(d=c.map[a])?b&&(c.map[a]=e,c.items[Ext.Array.indexOf(c.items,d)]=e):(++c.length,c.items.push(e),c.map[a]=e),e},clear:function(){var b=this,a=b.items;return b.items=[],b.map={},b.length=0,a},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(e){var b,d=this,c=d.getKey(e),a=d.items;return d.map[c]&&(b=Ext.Array.indexOf(a,e),Ext.Array.erase(a,b,1),delete d.map[c],--d.length),e}},1,0,0,0,0,0,[Ext.util,"Queue"],0),Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(r){var b,q,n,m,g,d,t,e,o,l,c,i,h,a,s=this,p=Ext.layout.SizeModel.sizeModels,k=p.configured,j=p.shrinkWrap;Ext.apply(s,r),t=s.target,b=s.el,s.id=t.id,s.flushedProps={},s.props=g={},s.styles={},t.isComponent?(s.wrapsComponent=!0,s.framing=t.frameSize||null,s.isComponentChild=t.ownerLayout&&t.ownerLayout.isComponentLayout,q=t.lastBox,n=t.ownerCt,n&&(m=n.el&&s.context.items[n.el.id])&&(s.ownerCtContext=m),s.sizeModel=d=t.getSizeModel(m&&m.widthModel.pairsByHeightOrdinal[m.heightModel.ordinal]),s.widthModel=i=d.width,s.heightModel=h=d.height,q&&!1===q.invalid&&(l=t.width===(e=q.width),c=t.height===(o=q.height),i===j&&h===j?a=!0:i===k&&l&&(a=h===j||h===k&&c),a&&(s.optOut=!0,g.width=e,g.height=o))):q=b.lastBox,s.lastBox=q},init:function(j,c){var e,o,m,q,b,v,k,r,t=this,a=t.props,d=t.dirty,l=t.ownerCtContext,p=t.target.ownerLayout,h=!t.state,u=j||h,w=t.heightModel,g=t.widthModel,s=0;if(t.dirty=t.invalid=!1,t.props={},t.remainingChildDimensions=0,t.boxChildren&&(t.boxChildren.length=0),h||(t.clearAllBlocks("blocks"),t.clearAllBlocks("domBlocks")),!t.wrapsComponent)return u;if(v=t.target,t.state={},h)v.beforeLayout&&v.beforeLayout!==Ext.emptyFn&&v.beforeLayout(),!l&&(q=v.ownerCt)&&(l=t.context.items[q.el.id]),l?(t.ownerCtContext=l,t.isBoxParent=p&&p.isItemBoxParent(t)):t.isTopLevel=!0,t.frameBodyContext=t.getEl("frameBody");else for(l=t.ownerCtContext,t.isTopLevel=!l,e=t.children,o=0,m=e.length;o<m;++o)e[o].init(!0);return t.hasRawContent=!(v.isContainer&&v.items.items.length>0),j?(t.widthModel=t.heightModel=null,b=v.getSizeModel(l&&l.widthModel.pairsByHeightOrdinal[l.heightModel.ordinal]),h&&(t.sizeModel=b),t.widthModel=b.width,t.heightModel=b.height,l&&!t.isComponentChild&&(p.needsItemSize||!v.liquidLayout?l.remainingChildDimensions+=2:(t.widthModel.calculated&&++l.remainingChildDimensions,t.heightModel.calculated&&++l.remainingChildDimensions))):a&&(t.recoverProp("x",a,d),t.recoverProp("y",a,d),t.widthModel.calculated?t.recoverProp("width",a,d):"width"in a&&++s,t.heightModel.calculated?t.recoverProp("height",a,d):"height"in a&&++s,l&&!t.isComponentChild&&(l.remainingChildDimensions+=s)),a&&p&&p.manageMargins&&(t.recoverProp("margin-top",a,d),t.recoverProp("margin-right",a,d),t.recoverProp("margin-bottom",a,d),t.recoverProp("margin-left",a,d)),c&&(k=c.heightModel,r=c.widthModel,r&&k&&g&&w&&g.shrinkWrap&&w.shrinkWrap&&r.constrainedMax&&k.constrainedMin&&(k=null),r&&(t.widthModel=r),k&&(t.heightModel=k),c.state&&Ext.apply(t.state,c.state)),u},initContinue:function(e){var b,h=this,d=h.ownerCtContext,a=h.target,c=h.widthModel,g=a.getInherited();return c.fixed?g.inShrinkWrapTable=!1:delete g.inShrinkWrapTable,e&&(d&&c.shrinkWrap?(b=d.isBoxParent?d:d.boxParent)&&b.addBoxChild(h):c.natural&&(h.boxParent=d)),e},initDone:function(d){var b=this,a=b.props,c=b.state;0===b.remainingChildDimensions&&(a.containerChildrenSizeDone=!0),d&&(a.containerLayoutDone=!0),b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap&&(b.el.setWidth(1e4),c.blocks=(c.blocks||0)+1)},initAnimation:function(){var b=this,c=b.target,a=b.ownerCtContext;a&&a.isTopLevel?b.animatePolicy=c.ownerLayout.getAnimatePolicy(b):!a&&c.isCollapsingOrExpanding&&c.animCollapse&&(b.animatePolicy=c.componentLayout.getAnimatePolicy(b)),b.animatePolicy&&b.context.queueAnimation(b)},addBlock:function(b,d,e){var c=this,g=c[b]||(c[b]={}),a=g[e]||(g[e]={});a[d.id]||(a[d.id]=d,++d.blockCount,++c.context.blockCount)},addBoxChild:function(d){var b,c=this,a=d.widthModel;d.boxParent=this,d.measuresBox=a.shrinkWrap?d.hasRawContent:a.natural,d.measuresBox&&(b=c.boxChildren,b?b.push(d):c.boxChildren=[d])},addPositionStyles:function(d,b){var a=b.x,e=b.y,c=0;return void 0!==a&&(d.left=a+"px",++c),void 0!==e&&(d.top=e+"px",++c),c},addTrigger:function(g,h){var e=this,a=h?"domTriggers":"triggers",i=e[a]||(e[a]={}),b=e.context,d=b.currentLayout,c=i[g]||(i[g]={});c[d.id]||(c[d.id]=d,++d.triggerCount,c=b.triggers[h?"dom":"data"],(c[d.id]||(c[d.id]=[])).push({item:this,prop:g}),void 0!==e.props[g]&&(h&&e.dirty&&g in e.dirty||++d.firedTriggers))},boxChildMeasured:function(){var b=this,c=b.state;(c.boxesMeasured=(c.boxesMeasured||0)+1)===b.boxChildren.length&&(c.clearBoxWidth=1,++b.context.progressCount,b.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},paddingInfo:function(b){var a=b.frameBodyContext||b,c=a.getStyles(b.paddingNames,b.trblNames);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b,c=this[a];if(c)for(b in c)this.clearBlocks(a,b)},clearBlocks:function(c,g){var d,e,a,h=this[c],b=h&&h[g];if(b){delete h[g],d=this.context;for(a in b)e=b[a],--d.blockCount,--e.blockCount||e.pending||e.done||d.queueLayout(e)}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(b,g){var e,a,h=this[b],d=h&&h[g],c=this.context;if(d)for(a in d)e=d[a],++e.firedTriggers,e.done||e.blockCount||e.pending||c.queueLayout(e)},flush:function(){var b=this,a=b.dirty,c=b.state,d=b.el;b.dirtyCount=0,"attributes"in b&&(d.set(b.attributes),delete b.attributes),"innerHTML"in b&&(d.innerHTML=b.innerHTML,delete b.innerHTML),c&&c.clearBoxWidth&&(c.clearBoxWidth=0,b.el.setStyle("width",null),--c.blocks||b.context.queueItemLayouts(b)),a&&(delete b.dirty,b.writeProps(a,!0))},flushAnimations:function(){var l,n,e,h,g,d,i,m,k,a,b,o=this,c=o.previousSize;if(c){for(l=o.target,n=l.getAnimationProps(),e=n.duration,h=Ext.Object.getKeys(o.animatePolicy),g=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},n),d=0,i=0,m=h.length;i<m;i++)k=h[i],a=c[k],b=o.peek(k),a!==b&&null!=b&&(k=o.translateProps[k]||k,g.from[k]=a,g.to[k]=b,++d);d?(1===o.isCollapsingOrExpanding?l.componentLayout.undoLayout(o):o.writeProps(g.from),o.el.animate(g),g=Ext.fx.Manager.getFxQueue(o.el.id)[0],l.$layoutAnim=g,g.on({afteranimate:function(){delete l.$layoutAnim,l.destroying||l.destroyed||(1===o.isCollapsingOrExpanding?(l.componentLayout.redoLayout(o),l.afterCollapse(!0)):2===o.isCollapsingOrExpanding&&l.afterExpand(!0),l.hasListeners.afterlayoutanimation&&l.fireEvent("afterlayoutanimation",l))}})):2===o.isCollapsingOrExpanding&&l.afterExpand(!0)}},getBorderInfo:function(){var a=this,b=a.borderInfo;return b||(a.borderInfo=b=a.checkCache("borderInfo")),b},getEl:function(c,a){var g,d,b,e=this;if(c){if(c.dom)d=c;else if(g=e.target,a&&(g=a),"function"==typeof(d=g[c])&&(d=d.call(g))===e.el)return this;d&&(b=e.context.getEl(e,d))}return b||null},getFrameInfo:function(){var b,a,c=this,d=c.frameInfo;return d||(b=c.framing,a=c.getBorderInfo(),c.frameInfo=d=b?{top:b.top+a.top,right:b.right+a.right,bottom:b.bottom+a.bottom,left:b.left+a.left,width:b.width+a.width,height:b.height+a.height}:a),d},getMarginInfo:function(){var b,a,e,c,d=this,g=d.marginInfo;return g||(d.wrapsComponent?(b=d.target,e=b.ownerLayout,c=e?e.id:null,a=e&&e.manageMargins,g=b.margin$,g&&g.ownerId!==c&&(g=null),g||(g=d.parseMargins(b,b.margin)||d.checkCache("marginInfo"),a&&(d.setProp("margin-top",0),d.setProp("margin-right",0),d.setProp("margin-bottom",0),d.setProp("margin-left",0)),g.ownerId=c,b.margin$=g),g.width=g.left+g.right,g.height=g.top+g.bottom):g=d.checkCache("marginInfo"),d.marginInfo=g),g},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;return b||(a.paddingInfo=b=a.checkCache("paddingInfo")),b},getProp:function(c){var b=this,a=b.props[c];return b.addTrigger(c),a},getDomProp:function(c){var b=this,a=b.dirty&&c in b.dirty?void 0:b.props[c];return b.addTrigger(c,!0),a},getStyle:function(a){var e,d,c=this,b=c.styles;return a in b?d=b[a]:(e=c.styleInfo[a],d=c.el.getStyle(a),e&&e.parseInt&&(d=parseInt(d,10)||0),b[a]=d),d},getStyles:function(p,b){var k,j,l,a,c,h,r,o,m=this,e=m.styles,q={},g=0,d=p.length;for(b=b||p,k=0;k<d;++k)a=p[k],a in e?(q[b[k]]=e[a],++g,k&&1===g&&(j=p.slice(0,k),l=b.slice(0,k))):g&&((j||(j=[])).push(a),(l||(l=[])).push(b[k]));if(g<d)for(j=j||p,l=l||b,h=m.styleInfo,r=m.el.getStyle(j),k=j.length;k--;)a=j[k],c=h[a],o=r[a],c&&c.parseInt&&(o=parseInt(o,10)||0),q[l[k]]=o,e[a]=o;return q},hasProp:function(a){return null!=this.getProp(a)},hasDomProp:function(a){return null!=this.getDomProp(a)},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox&&(b.boxMeasured=1,a.boxChildMeasured())},parseMargins:function(a,d){!0===d&&(d=5);var b,c=typeof d;return"string"===c||"number"===c?b=a.parseBox(d):d&&(b={top:0,right:0,bottom:0,left:0},d&&(d=Ext.apply(b,a.parseBox(d)))),b},peek:function(a){return this.props[a]},recalculateSizeModel:function(){var d,e=this,g=e.target,c=g.componentLayout,b=e.ownerCtContext,a=c.ownerContext;c.ownerContext=null,e.sizeModel=d=g.getSizeModel(b&&b.widthModel.pairsByHeightOrdinal[b.heightModel.ordinal]),e.widthModel=d.width,e.heightModel=d.height,a&&(c.ownerContext=e)},recoverProp:function(g,b,a){var c,e=this,d=e.props;g in b&&(d[g]=b[g],a&&g in a&&(c=e.dirty||(e.dirty={}),c[g]=a[g]))},redo:function(b){var c,a,d,e=this;if(e.revertProps(e.props),b&&e.wrapsComponent){if(e.childItems)for(d=0,c=e.childItems,a=c.length;d<a;d++)c[d].redo(b);for(d=0,c=e.children,a=c.length;d<a;d++)c[d].redo()}},removeEl:function(b,a){var e,c,d=this;if(b){if(b.dom)c=b;else if(e=d.target,a&&(e=a),"function"==typeof(c=e[b])&&(c=c.call(e))===d.el)return this;c&&d.context.removeEl(c,d)}},revertProps:function(d){var a,b=this.flushedProps,c={};for(a in d)b.hasOwnProperty(a)&&(c[a]=d[a]);this.writeProps(c)},setAttribute:function(a,c){var b=this;b.attributes||(b.attributes={}),b.attributes[a]=c,b.markDirty()},setBox:function(b){var a=this;"left"in b&&a.setProp("x",b.left),"top"in b&&a.setProp("y",b.top),a.setSize(b.width,b.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(b,a){return!a&&this.hasRawContent?1:this.setProp("contentWidth",b)},setContentSize:function(c,a,b){return this.setContentWidth(c,b)+this.setContentHeight(a,b)===2},setProp:function(d,c,a){var b=this,g=typeof c;return"undefined"===g||"number"===g&&isNaN(c)?0:b.props[d]===c?1:(b.props[d]=c,++b.context.progressCount,!1===a?(b.fireTriggers("domTriggers",d),b.clearBlocks("domBlocks",d)):b.styleInfo[d]&&(b.dirty||(b.dirty={}),b.dirty[d]=c,b.markDirty()),b.fireTriggers("triggers",d),b.clearBlocks("blocks",d),1)},setHeight:function(k,a){var h,e,b,j,g=this,d=g.target,c=g.ownerCtContext;if(k<0&&(k=0),g.wrapsComponent){if(b=g.collapsedVert?0:d.minHeight||0,k=Ext.Number.constrain(k,b,d.maxHeight),j=g.props.height,!g.setProp("height",k,a))return NaN;c&&!g.isComponentChild&&isNaN(j)&&(--c.remainingChildDimensions||c.setProp("containerChildrenSizeDone",!0)),(h=g.frameBodyContext)&&(e=g.getFrameInfo(),h[g.el.vertical?"setWidth":"setHeight"](k-e.height,a))}else if(!g.setProp("height",k,a))return NaN;return k},setWidth:function(b,a){var j,h,d,c,i=this,g=i.target,e=i.ownerCtContext;if(b<0&&(b=0),i.wrapsComponent){if(d=i.collapsedHorz?0:g.minWidth||0,b=Ext.Number.constrain(b,d,g.maxWidth),c=i.props.width,!i.setProp("width",b,a))return NaN;e&&!i.isComponentChild&&isNaN(c)&&(--e.remainingChildDimensions||e.setProp("containerChildrenSizeDone",!0)),(j=i.frameBodyContext)&&(h=i.getFrameInfo(),j.setWidth(b-h.width,a))}else if(!i.setProp("width",b,a))return NaN;return b},setSize:function(c,a,b){this.setWidth(c,b),this.setHeight(a,b)},translateProps:{x:"left",y:"top"},undo:function(b){var c,a,d,e=this;if(e.revertProps(e.lastBox),b&&e.wrapsComponent){if(e.childItems)for(d=0,c=e.childItems,a=c.length;d<a;d++)c[d].undo(b);for(d=0,c=e.children,a=c.length;d<a;d++)c[d].undo()}},unsetProp:function(b){var a=this.dirty;delete this.props[b],a&&delete a[b]},writeProps:function(e,d){if(e&&"object"==typeof e){var s,j,m,h,a,n,p,q,l,r,t=this,c=t.el,i={},g=0,b=t.styleInfo,o=e.width,k=e.height,u=t.target;"displayed"in e&&c.setDisplayed(e.displayed);for(j in e)d&&(t.fireTriggers("domTriggers",j),t.clearBlocks("domBlocks",j),t.flushedProps[j]=1),(s=b[j])&&s.dom&&(s.suffix&&(m=parseInt(e[j],10))?i[j]=m+s.suffix:i[j]=e[j],++g);("x"in e||"y"in e)&&(u.isComponent?u.setPosition(e.x,e.y):g+=t.addPositionStyles(i,e)),"overflowX"in e&&(r=u.getScrollable())&&r.setX(e.overflowX),"overflowY"in e&&(r||(r=u.getScrollable()))&&r.setY(e.overflowY),t.wrapsComponent&&Ext.isIE9&&((h=void 0!==o&&t.hasOverflowY)||(a=void 0!==k&&t.hasOverflowX))&&(n=t.isAbsolute,void 0===n&&(n=!1,l=t.target.getTargetEl(),q=l.getStyle("position"),t.isAbsolute=n="absolute"===q),n&&(p=Ext.getScrollbarSize(),h&&(o=parseInt(o,10)+p.width,i.width=o+"px",++g),a&&(k=parseInt(k,10)+p.height,i.height=k+"px",++g))),g&&c.setStyle(i)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var c={dom:!0,parseInt:!0,suffix:"px"},b={dom:!0},a={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:a,containerLayoutDone:a,displayed:a,done:a,x:a,y:a,columnsChanged:a,rowHeights:a,viewOverflowY:a,overflowX:a,overflowY:a,left:c,top:c,right:c,bottom:c,width:c,height:c,"border-top-width":c,"border-right-width":c,"border-bottom-width":c,"border-left-width":c,"margin-top":c,"margin-right":c,"margin-bottom":c,"margin-left":c,"padding-top":c,"padding-right":c,"padding-bottom":c,"padding-left":c,"line-height":b,display:b,clear:b}}),Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(a){var b=this;Ext.apply(b,a),b.items={},b.layouts={},b.blockCount=0,b.cycleCount=0,b.flushCount=0,b.calcCount=0,b.animateQueue=b.newQueue(),b.completionQueue=b.newQueue(),b.finalizeQueue=b.newQueue(),b.finishQueue=b.newQueue(),b.flushQueue=b.newQueue(),b.invalidateData={},b.layoutQueue=b.newQueue(),b.invalidQueue=[],b.triggers={data:{},dom:{}}},callLayout:function(b,a){this.currentLayout=b,b[a](this.getCmp(b.owner))},cancelComponent:function(j,a,m){var d,c,o,n,g,s,q,r,t,e,p=this,h=j,l=!j.isComponent,b=l?h.length:1;for(d=0;d<b;++d){if(l&&(j=h[d]),m&&(j.ownerCt?(e=this.items[j.ownerCt.el.id])&&Ext.Array.remove(e.childItems,p.getCmp(j)):j.rendered&&p.removeEl(j.el)),!a&&(q=p.invalidQueue,o=q.length))for(p.invalidQueue=s=[],c=0;c<o;++c)r=q[c],(t=r.item.target)===j||t.up(j)||s.push(r);g=j.componentLayout,p.cancelLayout(g),j.destroying||(g.getLayoutItems&&(n=g.getLayoutItems(),n.length&&p.cancelComponent(n,!0)),j.isContainer&&!j.collapsed&&(g=j.layout,p.cancelLayout(g),n=g.getVisibleItems(),n.length&&p.cancelComponent(n,!0)))}},cancelLayout:function(b){var a=this;a.completionQueue.remove(b),a.finalizeQueue.remove(b),a.finishQueue.remove(b),a.layoutQueue.remove(b),b.running&&a.layoutDone(b),b.ownerContext=null},clearTriggers:function(g,h){var d,k,c,a=g.id,e=this.triggers[h?"dom":"data"],j=e&&e[a],b=j&&j.length||0;for(d=0;d<b;++d)c=j[d],k=c.item,e=h?k.domTriggers:k.triggers,delete e[c.prop][a]},flush:function(){var b,d=this,a=d.flushQueue.clear(),c=a.length;if(c)for(++d.flushCount,b=0;b<c;++b)a[b].flush()},flushAnimations:function(){var c,d=this,b=d.animateQueue.clear(),a=b.length;if(a){for(c=0;c<a;c++)!1!==b[c].target.animate&&b[c].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var b,e,d,c,h=this,a=h.invalidQueue,g=a&&a.length;if(h.invalidQueue=[],g){for(e=[],c=0;c<g;++c)b=(d=a[c]).item.target,b.container.isDetachedBody||(e.push(b),d.options&&(h.invalidateData[b.id]=d.options));h.invalidate(e,null)}},flushLayouts:function(h,a,c){var b,d,g=this,j=c?g[h].items:g[h].clear(),e=j.length;if(e){for(b=0;b<e;++b)d=j[b],d.running||g.callLayout(d,a);g.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,a){var c=this.getItem(a,a);return c.parent||(c.parent=b,b.children.length?b.children.push(c):b.children=[c]),c},getItem:function(d,b){var e=b.id,a=this.items;return a[e]||(a[e]=new Ext.layout.ContextItem({context:this,target:d,el:b}))},handleFailure:function(){var b,a,c=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(a in c)b=c[a],c.hasOwnProperty(a)&&(b.running=!1,b.ownerContext=null)},invalidate:function(l,n){var c,q,a,g,k,r,o,b,h,j,e,d,s,p=this,m=!l.isComponent;for(g=0,b=m?l.length:1;g<b;++g)if(k=m?l[g]:l,k.rendered&&!k.hidden){if(q=k.ownerLayout,h=k.componentLayout,s=!1,q&&q.needsItemSize||!k.liquidLayout||(s=!0),(!s||q&&q.setsItemSize)&&(r=p.getCmp(k),a=!r.state,j=k.isContainer&&!k.collapsed?k.layout:null,e=p.invalidateData[r.id],delete p.invalidateData[r.id],d=r.init(n,e)),s)continue;e&&p.processInvalidate(e,r,"before"),h.beforeLayoutCycle&&h.beforeLayoutCycle(r),j&&j.beforeLayoutCycle&&j.beforeLayoutCycle(r),d=r.initContinue(d),c=!0,h.getLayoutItems&&(h.renderChildren(),o=h.getLayoutItems(),o.length&&p.invalidate(o,!0)),j&&(c=!1,j.renderChildren(),(j.needsItemSize||j.activeItemCount)&&(o=j.getVisibleItems(),o.length&&p.invalidate(o,!0))),r.initDone(c),p.resetLayout(h,r,a),j&&p.resetLayout(j,r,a),r.initAnimation(),e&&p.processInvalidate(e,r,"after")}p.currentLayout=null},isDescendant:function(a,b){if(a.isContainer)for(var d=b.ownerCt;d;d=d.ownerCt)if(d===a)return!0;return!1},layoutDone:function(a){var b=a.ownerContext;a.running=!1,a.isComponentLayout?(b.measuresBox&&b.onBoxMeasured(),b.setProp("done",!0)):b.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(b,e,a){if(b[a]){var d=this,c=d.currentLayout;d.currentLayout=b.layout||null,b[a](e,b),d.currentLayout=c}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(b,a){this.flushQueue.add(b,a)},chainFns:function(a,i,g){var d=this,c=a.layout,e=i.layout,b=a[g],h=i[g];return function(j){var k=d.currentLayout;b&&(d.currentLayout=c,b.call(a.scope||a,j,a)),d.currentLayout=e,h.call(i.scope||i,j,i),d.currentLayout=k}},purgeInvalidates:function(){var j,l,d,c,b,g,a,h=this,k=[],i=h.invalidQueue,e=i.length;for(j=0;j<e;++j){for(b=i[j],g=b.item.target,a=!0,l=k.length;l--;){if(d=k[l],c=d.item.target,g.isLayoutChild(c)){a=!1;break}c.isLayoutChild(g)&&Ext.Array.erase(k,l,1)}a&&k.push(b)}h.invalidQueue=k},queueInvalidate:function(k,l){var d,b,e,a,c,h=this,j=[],i=h.invalidQueue,g=i.length;for(k.isComponent?(d=k,k=h.items[d.el.id],k?k.recalculateSizeModel():k=h.getCmp(d)):d=k.target,k.invalid=!0;g--;){if(b=i[g],e=b.item.target,!d.isFloating&&d.up(e))return;if(e===d)return void((a=b.options)?l&&(l.widthModel&&(a.widthModel=l.widthModel),l.heightModel&&(a.heightModel=l.heightModel),(c=a.state)?l.state&&Ext.apply(c,l.state):a.state=l.state,l.before&&(a.before=h.chainFns(a,l,"before")),l.after&&(a.after=h.chainFns(a,l,"after"))):b.options=l);e.isLayoutChild(d)||j.push(b)}j.push({item:k,options:l}),h.invalidQueue=j},queueItemLayouts:function(c){var a=c.isComponent?c:c.target,b=a.componentLayout;b.pending||b.invalid||b.done||this.queueLayout(b),!(b=a.layout)||b.pending||b.invalid||b.done||a.collapsed||this.queueLayout(b)},queueLayout:function(a){this.layoutQueue.add(a),a.pending=!0},removeEl:function(d,c){var e=d.id,b=c?c.children:null,a=this.items;b&&Ext.Array.remove(b,a[e]),delete a[e]},resetLayout:function(b,c,d){var a=this;a.currentLayout=b,b.done=!1,b.pending=!0,b.firedTriggers=0,a.layoutQueue.add(b),d?(a.layouts[b.id]=b,b.running=!0,b.finishedLayout&&a.finishQueue.add(b),++a.remainingLayouts,++b.layoutCount,b.ownerContext=c,b.beginCount=0,b.blockCount=0,b.calcCount=0,b.triggerCount=0,b.initialized||b.initLayout(),b.beginLayout(c)):(++b.beginCount,b.running||(++a.remainingLayouts,b.running=!0,b.ownerContext=c,b.isComponentLayout&&c.unsetProp("done"),a.completionQueue.remove(b),a.finalizeQueue.remove(b))),b.beginLayoutCycle(c,d)},run:function(){var c=this,b=!1,a=c.cycleWatchDog;for(c.purgeInvalidates(),c.flushInvalidates(),c.state=1,c.totalCount=c.layoutQueue.getCount(),c.flush();(c.remainingLayouts||c.invalidQueue.length)&&a--;){if(c.invalidQueue.length&&c.flushInvalidates(),c.runCycle())b=!1;else if(b){if(!c.invalidQueue.length){c.state=2;break}}else c.flush(),b=!0,c.flushLayouts("completionQueue","completeLayout");c.remainingLayouts||c.invalidQueue.length||(c.flush(),c.flushLayouts("completionQueue","completeLayout"),c.flushLayouts("finalizeQueue","finalizeLayout"))}return c.runComplete()},runComplete:function(){var a=this;return a.state=2,a.remainingLayouts?(a.handleFailure(),!1):(a.flush(),a.flushLayouts("finishQueue","finishedLayout",!0),a.flushLayouts("finishQueue","notifyOwner"),a.flush(),a.flushAnimations(),!0)},runCycle:function(){var a,c=this,d=c.layoutQueue.clear(),b=d.length;for(++c.cycleCount,c.progressCount=0,a=0;a<b;++a)c.runLayout(c.currentLayout=d[a]);return c.currentLayout=null,c.progressCount>0},runLayout:function(b){var a=this,c=a.getCmp(b.owner);b.pending=!1,c.state.blocks||(b.done=!0,++b.calcCount,++a.calcCount,b.calculate(c),b.done?(a.layoutDone(b),b.completeLayout&&a.queueCompletion(b),b.finalizeLayout&&a.queueFinalize(b)):b.pending||b.invalid||b.blockCount+b.triggerCount-b.firedTriggers||a.queueLayout(b))},setItemSize:function(h,g,b){var c,e,d=h,a=1;for(h.isComposite?(d=h.elements,a=d.length,h=d[0]):h.dom||h.el||(a=d.length,h=d[0]),e=0;e<a;)c=this.get(h),c.setSize(g,b),h=d[++e]}},1,0,0,0,0,0,[Ext.layout,"Context"],0),Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(a){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments),a.bodyContext=a.getEl("body")},beginLayoutCycle:function(d,b){var c=this,g=c.lastWidthModel,e=c.lastHeightModel,a=c.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments),g&&g.fixed&&d.widthModel.shrinkWrap&&a.setWidth(null),e&&e.fixed&&d.heightModel.shrinkWrap&&a.setHeight(null)},calculateOwnerHeightFromContentHeight:function(c,b){var a=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);return c.targetContext!==c&&(a+=c.getPaddingInfo().height),a},calculateOwnerWidthFromContentWidth:function(c,a){var b=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);return c.targetContext!==c&&(b+=c.getPaddingInfo().width),b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(c,a){var d=a-c.getFrameInfo().height;return c.targetContext!==c&&(d-=c.getPaddingInfo().height),c.bodyContext.setHeight(d,!c.heightModel.natural)},publishInnerWidth:function(d,c){var a=c-d.getFrameInfo().width;d.targetContext!==d&&(a-=d.getPaddingInfo().width),d.bodyContext.setWidth(a,!d.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0),Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){a.target.collapsed&&(a.heightModel=this.sizeModels.shrinkWrap)},beginLayout:function(b){var a=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,b),a&&(b.legendContext=b.context.getCmp(a))},beginLayoutCycle:function(b){var a,c=b.target;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments),c.collapsed&&(b.setContentHeight(0),b.restoreMinHeight=c.minHeight,delete c.minHeight,b.widthModel.shrinkWrap&&(a=this.lastComponentSize,b.setContentWidth(a&&a.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(c){var a=this.owner,b=c.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments),b&&(a.minHeight=b)},calculateOwnerWidthFromContentWidth:function(c,a){var b=c.legendContext;return b&&(a=Math.max(a,b.getProp("width"))),Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,c,a)},calculateOwnerHeightFromContentHeight:function(d,c){var a=d.getBorderInfo(),b=d.legendContext
;return d.getProp("contentHeight")+d.getPaddingInfo().height+(Ext.isIE8?d.bodyContext.getPaddingInfo().top:0)+(b?b.getProp("height"):a.top)+a.bottom},publishInnerHeight:function(d,a){var c=d.legendContext,b=0;c&&(b=c.getProp("height")),void 0===b?this.done=!1:Ext.layout.component.Body.prototype.publishInnerHeight.call(this,d,a-b)},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0),Ext.cmd.derive("Ext.layout.container.Absolute",Ext.layout.container.Anchor,{alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:"x-abs-layout-ct",itemCls:"x-abs-layout-item",type:"absolute",adjustWidthAnchor:function(c,b){var d=this.targetPadding;return c-b.getStyle("left")+d.left},adjustHeightAnchor:function(a,b){var c=this.targetPadding;return a-b.getStyle("top")+c.top},isItemShrinkWrap:function(a){return!0},onContentChange:function(a,c){var b=!1;return a.anchor&&c&&c.show&&(b=Ext.layout.container.Anchor.prototype.onContentChange.call(this,a,c)),b},beginLayout:function(b){var a=this,c=a.getTarget();Ext.layout.container.Anchor.prototype.beginLayout.call(this,b),c.dom!==document.body&&c.position(),a.targetPadding=b.targetContext.getPaddingInfo()},isItemBoxParent:function(a){return!0},calculateContentSize:function(m,k){var t,j,n,o,s,a,q,u=this,d=(k||0)|(m.widthModel.shrinkWrap?1:0)|(m.heightModel.shrinkWrap?2:0),c=1&d||void 0,h=2&d||void 0,b=m.childItems,g=b.length,r=0,p=0,l=0,e=m.props;if(c&&(isNaN(e.contentWidth)?++l:c=void 0),h&&(isNaN(e.contentHeight)?++l:h=void 0),l){for(s=0;s<g;++s)if(n=b[s],j=n.target,o=h&&n.getProp("height"),q=c&&n.getProp("width"),a=n.getMarginInfo(),o+=a.bottom,q+=a.right,r=Math.max(r,(j.y||0)+o),p=Math.max(p,(j.x||0)+q),isNaN(r)&&isNaN(p))return void(u.done=!1);(c||h)&&(t=m.targetContext.getPaddingInfo()),c&&!m.setContentWidth(p+t.width)&&(u.done=!1),h&&!m.setContentHeight(r+t.height)&&(u.done=!1)}}},0,0,0,0,["layout.absolute"],0,[Ext.layout.container,"Absolute",Ext.layout,"AbsoluteLayout"],0),Ext.cmd.derive("Ext.layout.container.Accordion",Ext.layout.container.VBox,{type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:"x-accordion-layout-ct",itemCls:["x-box-item","x-accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,wrapOver:!0,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var a=this;Ext.layout.container.VBox.prototype.constructor.apply(this,arguments),a.animate?(a.animatePolicy={},a.animatePolicy[a.names.x]=!0,a.animatePolicy[a.names.width]=!0):a.animatePolicy=null},beforeRenderItems:function(h){var d,c,j=this,g=h.length,b=j.owner,k=j.collapseFirst,a=Ext.isDefined(k),l=j.getExpanded(!0)[0],e=j.multi;for(c=0;c<g;c++)d=h[c],d.rendered||(d.isAccordionPanel=!0,d.bodyAriaRole="tabpanel",d.accordionWrapOver=j.wrapOver,e&&!1===d.collapsible||(d.collapsible=!0),d.collapsible&&(a&&(d.collapseFirst=k),j.hideCollapseTool?(d.hideCollapseTool=j.hideCollapseTool,d.titleCollapse=!0):j.titleCollapse&&void 0===d.titleCollapse&&(d.titleCollapse=j.titleCollapse)),d.hideHeader=d.width=null,d.title=d.title||"&#160;",d.addBodyCls("x-accordion-body"),e||(l?d.collapsed=l!==d:d.hasOwnProperty("collapsed")&&!1===d.collapsed?l=d:d.collapsed=!0,b.mon(d,"show",j.onComponentShow,j)),d.headerOverCls="x-accordion-hd-over");j.processing||e||(l?j.activeOnTop&&(l.collapsed=!1,j.configureItem(l),b.items.indexOf(l)>0&&b.insert(0,l)):g&&(h[0].collapsed=!1))},getItemsRenderTree:function(a){return this.beforeRenderItems(a),Ext.layout.container.VBox.prototype.getItemsRenderTree.apply(this,arguments)},renderItems:function(a,b){this.beforeRenderItems(a),Ext.layout.container.VBox.prototype.renderItems.apply(this,arguments)},configureItem:function(a){Ext.layout.container.VBox.prototype.configureItem.apply(this,arguments),a.ignoreHeaderBorderManagement=!0,a.animCollapse=!1,this.fill&&(a.flex=1)},beginLayout:function(a){Ext.layout.container.VBox.prototype.beginLayout.apply(this,arguments),this.innerCt.dom.setAttribute("role","tablist"),this.innerCt.dom.setAttribute("aria-multiselectable",!0),this.updatePanelClasses(a)},updatePanelClasses:function(e){var b,h,g,c=e.visibleItems,d=c.length,a=!0;for(b=0;b<d;b++)h=c[b],g=h.header,g.addCls("x-accordion-hd"),a?g.removeCls("x-accordion-hd-sibling-expanded"):g.addCls("x-accordion-hd-sibling-expanded"),b+1===d&&h.collapsed?g.addCls("x-accordion-hd-last-collapsed"):g.removeCls("x-accordion-hd-last-collapsed"),a=h.collapsed},onBeforeComponentExpand:function(i){var c,b,e,d=this,a=d.owner,h=d.multi,g=!h&&!d.animate&&d.activeOnTop;d.processing||(d.processing=!0,b=a.deferLayouts,a.deferLayouts=!0,h||(c=d.getExpanded()[0])&&c!==i&&(e=c.$layoutAnim,e&&e.jumpToEnd(),c.collapse()),g&&(Ext.suspendLayouts(),a.insert(0,i),Ext.resumeLayouts()),a.deferLayouts=b,d.processing=!1)},onBeforeComponentCollapse:function(d){var g,c,b,e=this,a=e.owner;if(1===e.owner.items.getCount())return!1;e.processing||(e.processing=!0,b=a.deferLayouts,a.deferLayouts=!0,g=d.next()||d.prev(),e.multi?(c=e.getExpanded(),1===c.length&&g.expand()):g&&g.expand(),a.deferLayouts=b,e.processing=!1)},onComponentShow:function(a){this.onBeforeComponentExpand(a)},onAdd:function(b){var a=this;Ext.layout.container.VBox.prototype.onAdd.apply(this,arguments),"placeholder"===b.collapseMode&&(b.collapseMode=a.panelCollapseMode),b.collapseDirection=b.headerPosition,a.layoutCount&&!a.multi&&a.owner.items.getCount()>1&&(a.processing=!0,b.collapse(),a.processing=!1)},onRemove:function(a,d){var b,c=this;Ext.layout.container.VBox.prototype.onRemove.apply(this,arguments),c.owner.destroying||c.multi||a.collapsed||(b=c.owner.items.first())&&b.expand()},getExpanded:function(h){for(var e,b=this.owner.items.items,a=b.length,d=0,c=[];d<a;++d)e=b[d],e.hidden||(h?e.hasOwnProperty("collapsed")&&!1===e.collapsed:!e.collapsed)&&c.push(e);return c},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn},1,0,0,0,["layout.accordion"],0,[Ext.layout.container,"Accordion",Ext.layout,"AccordionLayout"],0),Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var a=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);return a.xclass="Ext.resizer.BorderSplitterTracker",a},onTargetCollapse:function(a){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,a),!1!==this.performCollapse&&"mini"==a.collapseMode&&a.addCls(a.baseCls+"-"+a.collapsedCls+"-mini")},onTargetExpand:function(a){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,a),!1!==this.performCollapse&&"mini"==a.collapseMode&&a.removeCls(a.baseCls+"-"+a.collapsedCls+"-mini")}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:!0,box:!0,splitter:!0,bordersplitter:!0},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0),Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(m,b,w){var t,q,o,h,s,e,k,n,d,v,j,u=this,c=u.axisProps[w],r=!c.horizontal,l=c.sizeProp,p=0,a=m.childItems,g=a.length;for(q=0;q<g;++q)if(o=a[q],s=o.target,o.layoutPos={},s.region){if(o.region=e=s.region,o.isCenter=s.isCenter,o.isHorz=s.isHorz,o.isVert=s.isVert,o.weight=s.weight||u.regionWeights[e]||0,s.weight=o.weight,b[s.id]=o,s.isCenter){t=o,h=s.flex,m.centerRegion=t;continue}if(r!==o.isVert)continue;o.reverseWeighting=e===c.borderEnd,n=s[l],d=typeof n,s.collapsed||("string"===d&&(k=u.percentageRe.exec(n))?o.percentage=parseInt(k[1],10):s.flex&&(p+=o.flex=s.flex))}return t&&(v=t.target,(j=v.placeholderFor)?h||r!==j.collapsedVertical()||(h=0,t.collapseAxis=w):v.collapsed&&r===v.collapsedVertical()&&(h=0,t.collapseAxis=w)),null==h&&(h=1),p+=h,Ext.apply({before:r?"top":"left",totalFlex:p},c)},beginLayout:function(d){var q,o,b,h,g,a,c,j,n,l=this,k=l.getLayoutItems(),e=l.padding,m=typeof e,p=!1;for(e?"string"!==m&&"number"!==m||(e=Ext.util.Format.parseBox(e)):(e=d.getEl("getTargetEl").getPaddingInfo(),p=!0),d.outerPad=e,d.padOnContainer=p,h=0,b=k.length;h<b;++h)o=k[h],(a=l.getSplitterTarget(o))&&(c=void 0,j=!!o.hidden,a.split?j!==a.hidden&&(c=!a.hidden):a.isCollapsingOrExpanding&&(c=!!a.collapsed),c?o.show():!1===c&&o.hide());for(Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments),k=d.childItems,b=k.length,g={},d.borderAxisHorz=l.beginAxis(d,g,"horz"),d.borderAxisVert=l.beginAxis(d,g,"vert"),h=0;h<b;++h)q=k[h],(a=l.getSplitterTarget(q.target))&&(n=g[a.id],n||(n=d.getEl(a.el,l),n.region=a.region),q.collapseTarget=a=n,q.weight=a.weight,q.reverseWeighting=a.reverseWeighting,a.splitter=q,q.isHorz=a.isHorz,q.isVert=a.isVert);l.sortWeightedItems(k,"reverseWeighting"),l.setupSplitterNeighbors(k)},calculate:function(d){var h,q,l,p,n,g,m=this,a=m.getContainerSize(d),j=d.childItems,c=j.length,b=d.borderAxisHorz,k=d.borderAxisVert,e=d.outerPad,o=d.padOnContainer;for(b.begin=e[m.padOnContainerProp],k.begin=e.top,n=b.end=b.flexSpace=a.width+(o?e[m.padOnContainerProp]:-e[m.padNotOnContainerProp]),g=k.end=k.flexSpace=a.height+(o?e.top:-e.bottom),h=0;h<c;++h)q=j[h],l=q.getMarginInfo(),(q.isHorz||q.isCenter)&&(b.addUnflexed(l.width),n-=l.width),(q.isVert||q.isCenter)&&(k.addUnflexed(l.height),g-=l.height),q.flex||q.percentage||(q.isHorz||q.isCenter&&"horz"===q.collapseAxis?(p=q.getProp("width"),b.addUnflexed(p),q.collapseTarget&&(n-=p)):(q.isVert||q.isCenter&&"vert"===q.collapseAxis)&&(p=q.getProp("height"),k.addUnflexed(p),q.collapseTarget&&(g-=p)));for(h=0;h<c;++h)q=j[h],l=q.getMarginInfo(),q.percentage&&(q.isHorz?(p=Math.ceil(n*q.percentage/100),p=q.setWidth(p),b.addUnflexed(p)):q.isVert&&(p=Math.ceil(g*q.percentage/100),p=q.setHeight(p),k.addUnflexed(p)));for(h=0;h<c;++h)q=j[h],q.isCenter||(m.calculateChildAxis(q,b),m.calculateChildAxis(q,k));m.finishAxis(d,k)+m.finishAxis(d,b)<2?m.done=!1:m.finishPositions(j)},calculateChildAxis:function(l,c){var j,b,g,i,k,a=l.collapseTarget,h="set"+c.sizePropCap,e=c.sizeProp,d=l.getMarginInfo()[e];a?j=a.region:(j=l.region,g=l.flex),b=j===c.borderBegin,b||j===c.borderEnd?(g?(k=Math.ceil(c.flexSpace*(g/c.totalFlex)),k=l[h](k)):k=l.percentage?l.peek(e):l.getProp(e),k+=d,b?(i=c.begin,c.begin+=k):c.end=i=c.end-k):(l[h](c.end-c.begin-d),i=c.begin),l.layoutPos[c.posProp]=i},eachItem:function(h,d,c){var e,g=this,a=g.getLayoutItems(),b=0;for(Ext.isFunction(h)&&(d=h,c=d),b;b<a.length&&(e=a[b],h&&e.region!==h||!1!==d.call(c,e));b++);},finishAxis:function(d,c){var b=c.end-c.begin,a=d.centerRegion;return a&&(a["set"+c.sizePropCap](b-a.getMarginInfo()[c.sizeProp]),a.layoutPos[c.posProp]=c.begin),Ext.isNumber(b)?1:0},finishPositions:function(e){var b,a,c=e.length,d=this.horzPositionProp;for(b=0;b<c;++b)a=e[b],a.setProp("x",a.layoutPos.x+a.marginInfo[d]),a.setProp("y",a.layoutPos.y+a.marginInfo.top)},getLayoutItems:function(){for(var g,h,a=this.owner,e=a&&a.items&&a.items.items||[],d=e.length,b=[],c=0;c<d;c++)g=e[c],h=g.placeholderFor,!g.hidden&&(g.floated&&2!==g.isCollapsingOrExpanding||h&&2===h.isCollapsingOrExpanding)||b.push(g);return b},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getMaxWeight:function(a){return this.getMinMaxWeight(a)},getMinWeight:function(a){return this.getMinMaxWeight(a,!0)},getMinMaxWeight:function(d,a){var b=this,c=null;return b.eachItem(d,function(e){if(e.hasOwnProperty("weight")){if(null===c)return void(c=e.weight);(a&&e.weight<c||e.weight>c)&&(c=e.weight)}},this),c},getSplitterTarget:function(b){var a=b.collapseTarget;return a&&a.collapsed?a.placeholder||a:a},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},insertSplitter:function(d,c,g,b){var h=d.region,e=Ext.apply({xtype:"bordersplitter",collapseTarget:d,id:d.id+"-splitter",hidden:g,canResize:!1!==d.splitterResize,splitterFor:d,synthetic:!0},b),a=c+("south"===h||"east"===h?0:1);"mini"===d.collapseMode&&(e.collapsedCls=d.collapsedCls),d.splitter=this.owner.add(a,e)},getMoveAfterIndex:function(b){var a=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);return b.splitter&&a++,a},moveItemBefore:function(a,c){var b;return c&&c.splitter&&("south"!==(b=c.region)&&"east"!==b||(c=c.splitter)),Ext.layout.container.Container.prototype.moveItemBefore.call(this,a,c)},onAdd:function(j,d){var e,h,a,b,g=this,c=j.placeholderFor,i=j.region;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments),i?(Ext.apply(j,g.regionFlags[i]),g.owner.isViewport&&(j.isViewportBorderChild=!0),j.initBorderRegion&&j.initBorderRegion(),e="center"===i,e?g.centerRegion=j:(h=j.split,a=!!j.hidden,"object"==typeof h&&(b=h,h=!0),!j.isHorz&&!j.isVert||!h&&"mini"!==j.collapseMode||g.insertSplitter(j,d,a||!h,b)),e||j.hasOwnProperty("collapseMode")||(j.collapseMode=g.panelCollapseMode),j.hasOwnProperty("animCollapse")||("placeholder"!==j.collapseMode?j.animCollapse=!1:j.animCollapse=g.panelCollapseAnimate),a&&j.placeholder&&j.placeholder.isVisible()&&g.owner.insert(d,j.placeholder)):c&&(Ext.apply(j,g.regionFlags[c.region]),j.region=c.region,j.weight=c.weight)},onDestroy:function(){this.centerRegion=null,Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(b,d){var c,e=this,i=b.region,g=b.splitter,a=e.owner,h=a.destroying;i&&(b.isCenter&&(e.centerRegion=null),delete b.isCenter,delete b.isHorz,delete b.isVert,g&&!a.destroying&&a.doRemove(g,!0),delete b.splitter),Ext.layout.container.Container.prototype.onRemove.apply(this,arguments),h||d||!b.rendered||(c=b.getEl())&&(c.setStyle("top",""),c.setStyle(e.horzPositionProp,""))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(m){var h,g,a,l,d,k,n,b,c,p={},e=m.length,o=this.touchedRegions;for(h=0;h<e;++h)if(k=m[h].target,n=k.region,k.isCenter)a=k;else if(n){for(c=o[n],g=0,l=c.length;g<l;++g)(d=p[c[g]])&&d.neighbors.push(k);b=k.placeholderFor?k.placeholderFor.splitter:k.splitter,b&&(b.neighbors=[]),p[n]=b}if(a)for(c=o.center,g=0,l=c.length;g<l;++g)(d=p[c[g]])&&d.neighbors.push(a)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var c,b,g,h,d=this,a=this.sizePolicies;return e.isCenter?(h=e.placeholderFor,h?h.collapsedVertical()?a.vert:a.horz:e.collapsed?e.collapsedVertical()?a.vert:a.horz:a.flexAll):(c=e.collapseTarget,c?c.isVert?a.vert:a.horz:e.region?(e.isVert?(b=e.height,g=a.vert):(b=e.width,g=a.horz),e.flex||"string"==typeof b&&d.percentageRe.test(b)?a.flexAll:g):d.autoSizePolicy)}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var a={addUnflexed:function(c){this.flexSpace=Math.max(this.flexSpace-c,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a),Ext.apply(b.vert,a)}),Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this,b=a.getActiveItem();if(b){if(b.hasListeners.beforeactivate&&!1===b.fireEvent("beforeactivate",b)?b=a.activeItem=a.owner.activeItem=null:b.hasListeners.activate&&b.on({boxready:function(){b.fireEvent("activate",b)},single:!0}),!a.deferredRender)return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments);if(b)return a.getItemsRenderTree([b])}},renderChildren:function(){var a=this,b=a.getActiveItem();a.deferredRender?b&&a.renderItems([b],a.getRenderTarget()):Ext.layout.container.Fit.prototype.renderChildren.call(this)},isValidParent:function(c,d,a){var b=c.el?c.el.dom:Ext.getDom(c);return b&&b.parentNode===(d.dom||d)||!1},getActiveItem:function(){var c=this,b=void 0===c.activeItem?c.owner&&c.owner.activeItem:c.activeItem,a=c.parseActiveItem(b);return a&&-1!==c.owner.items.indexOf(a)&&(c.activeItem=a),null==a?null:c.activeItem||c.owner.activeItem},parseActiveItem:function(a){return a&&a.isComponent?a:"number"==typeof a||void 0===a?this.getLayoutItems()[a||0]:null===a?null:this.owner.getComponent(a)},configureItem:function(a){a.setHiddenState(a!==this.getActiveItem()),Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(a,b){Ext.layout.container.Fit.prototype.onAdd.call(this,a,b),this.setItemHideMode(a)},onRemove:function(a){var b=this;Ext.layout.container.Fit.prototype.onRemove.call(this,a),b.resetItemHideMode(a),a===b.activeItem&&(b.activeItem=void 0)},getAnimation:function(b,a){var c=(b||{}).cardSwitchAnimation;return!1!==c&&(c||a.cardSwitchAnimation)},getNext:function(){var c=arguments[0],a=this.getLayoutItems();return a[Ext.Array.indexOf(a,this.activeItem)+1]||!!c&&a[0]},next:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getNext(a),b)},getPrev:function(){var c=arguments[0],a=this.getLayoutItems();return a[Ext.Array.indexOf(a,this.activeItem)-1]||!!c&&a[a.length-1]},prev:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getPrev(a),b)},setActiveItem:function(b){var c,g,e=this,a=e.owner,d=e.activeItem,h=a.rendered;if(b=e.parseActiveItem(b),c=a.items.indexOf(b),-1===c&&(c=a.items.items.length,Ext.suspendLayouts(),b=a.add(b),Ext.resumeLayouts()),b&&d!==b){if(!1===b.fireEvent("beforeactivate",b,d))return!1;if(d&&!1===d.fireEvent("beforedeactivate",d,b))return!1;if(h){if(Ext.suspendLayouts(),b.rendered||e.renderItem(b,e.getRenderTarget(),a.items.length),d&&e.hideInactive){if(g=d.el.contains(Ext.Element.getActiveElement()),d.hide(),!d.hidden)return!1;d.hiddenByLayout=!0,d.fireEvent("deactivate",d,b)}b.hidden&&b.show(),b.hidden?e.activeItem=b=null:(e.activeItem=b,g&&(b.defaultFocus||(b.defaultFocus=":focusable"),b.focus())),Ext.resumeLayouts(!0)}else e.activeItem=b;return b.fireEvent("activate",b,d),e.activeItem}return!1},resetItemHideMode:function(a){a.hideMode=a.originalHideMode,delete a.originalHideMode},setItemHideMode:function(a){a.originalHideMode=a.hideMode,a.hideMode="offsets"}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0),Ext.cmd.derive("Ext.layout.container.Center",Ext.layout.container.Fit,{alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:"x-center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:"x-center-target",beginLayout:function(b){var g,j,d,a,l,k=this,c=k.percentRe;for(Ext.layout.container.Fit.prototype.beginLayout.call(this,b),g=b.childItems,d=0,j=g.length;d<j;++d)a=g[d],l=a.target,a.widthModel,a.heightModel,c.test(l.width)&&l.getEl().setStyle("width",""),c.test(l.height)&&l.getEl().setStyle("height","");b.targetElContext=b.getEl("targetEl",k)},beginLayoutCycle:function(b,a){var c=this.targetEl;Ext.layout.container.Fit.prototype.beginLayoutCycle.call(this,b,a),c.setStyle("width",""),c.setStyle("height","")},getRenderData:function(){var a=Ext.layout.container.Fit.prototype.getRenderData.call(this);return a.targetElCls=this.targetElCls,a},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(c,e){var b=this,a=e||b.owner.getSizeModel(),d=b.percentRe,g=(a.width.shrinkWrap||!d.test(c.width)?0:1)|(a.height.shrinkWrap||!d.test(c.height)?0:2);return b.sizePolicies[g]},isItemShrinkWrap:function(a){return!0},calculate:function(b){var c,a=b.targetElContext;Ext.layout.container.Fit.prototype.calculate.call(this,b),c=b.state.info,b.widthModel.shrinkWrap&&a.setWidth(c.contentWidth),b.heightModel.shrinkWrap&&a.setHeight(c.contentHeight)},getPos:function(c,e,d){var a=d+"Model",b=c.props[d],g=0;return c[a].calculated||(b+=e.margins[d]),e.ownerContext[a].shrinkWrap||(g=Math.round((e.targetSize[d]-b)/2),isNaN(g)&&(this.done=!1)),Math.max(g,0)},positionItemX:function(a,c){var b=this.getPos(a,c,"width");a.setProp("x",b)},positionItemY:function(a,c){var b=this.getPos(a,c,"height");a.setProp("y",b)},setItemHeight:function(b,c){var a=parseFloat(b.target.height)/100;b.setHeight(Math.round((c.targetSize.height-c.margins.height)*a))},setItemWidth:function(b,c){var a=parseFloat(b.target.width)/100;b.setWidth(Math.round((c.targetSize.width-c.margins.width)*a))}},0,0,0,0,["layout.center","layout.ux.center"],0,[Ext.layout.container,"Center",Ext.ux.layout,"Center"],0),Ext.cmd.derive("Ext.layout.container.Form",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.FormLayout",type:"form",formWrapCls:"x-form-layout-wrap",formWrapAutoLabelCls:"x-form-layout-auto-label",formWrapSizedLabelCls:"x-form-layout-sized-label",formColGroupCls:"x-form-layout-colgroup",formColumnCls:"x-form-layout-column",formLabelColumnCls:"x-form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"</tpl>><div class="{formColGroupCls}"><div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"<tpl if="labelWidth"> style="width:{labelWidth}"</tpl>></div><div class="{formColumnCls}"></div></div>',afterBodyTpl:"</div>",getRenderData:function(){var c=this,a=c.labelWidth,b=c.formWrapCls,d=Ext.layout.container.Auto.prototype.getRenderData.call(this);return a?("number"==typeof a&&(a+="px"),d.labelWidth=a,b+=" "+c.formWrapSizedLabelCls):b+=" "+c.formWrapAutoLabelCls,d.formWrapCls=b,d.formColGroupCls=c.formColGroupCls,d.formColumnCls=c.formColumnCls,d.formLabelColumnCls=c.formLabelColumnCls,d},getRenderTarget:function(){return this.formWrap}},0,0,0,0,["layout.form"],0,[Ext.layout.container,"Form",Ext.layout,"FormLayout"],0),Ext.cmd.derive("Ext.menu.Bar",Ext.menu.Menu,{isMenuBar:!0,defaultMenuAlign:"tl-bl?",floating:!1,constrain:!1,showSeparator:!1,allowOtherMenus:!0,ariaRole:"menubar",ui:"default-menubar",layout:{type:"hbox",align:"stretchmax",pack:"start",overflowHandler:"menu"},lookupComponent:function(a){return a=Ext.menu.Menu.prototype.lookupComponent.call(this,a),a.isMenuItem&&(a.menuAlign=this.defaultMenuAlign),a},privates:{onFocusableContainerLeftKey:function(a){a.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerLeftKey.call(this,a)},onFocusableContainerRightKey:function(a){a.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerRightKey.call(this,a)},onFocusableContainerUpKey:function(a){var b=this.lastFocusedChild;a.preventDefault(),b&&b.expandMenu&&b.expandMenu(a,0)},onFocusableContainerDownKey:function(a){var b=this.lastFocusedChild;a.preventDefault(),b&&b.expandMenu&&b.expandMenu(a,0)}}},0,["menubar"],["component","box","container","panel","menu","menubar"],{component:!0,box:!0,container:!0,panel:!0,menu:!0,menubar:!0},["widget.menubar"],0,[Ext.menu,"Bar"],0),Ext.cmd.derive("Ext.menu.ColorPicker",Ext.menu.Menu,{hideOnClick:!0,pickerId:null,initComponent:function(){var b=this,a=Ext.apply({},b.initialConfig);delete a.listeners,Ext.apply(b,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:"x-menu-color-item",margin:0,id:b.pickerId,xtype:"colorpicker"},a)}),Ext.menu.Menu.prototype.initComponent.apply(this,arguments),b.picker=b.down("colorpicker"),b.relayEvents(b.picker,["select"]),b.hideOnClick&&b.on("select",b.hidePickerOnSelect,b)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["colormenu"],["component","box","container","panel","menu","colormenu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0,colormenu:!0},["widget.colormenu"],0,[Ext.menu,"ColorPicker"],0),Ext.cmd.derive("Ext.menu.DatePicker",Ext.menu.Menu,{ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:!0,pickerId:null,enableFocusableContainer:!1,initComponent:function(){var a,b,c=this;c.pickerCfg?b=Ext.apply({cls:"x-menu-date-item",margin:0,border:!1,id:c.pickerId,xtype:"datepicker"},c.pickerCfg):(a=Ext.apply({},c.initialConfig),delete a.listeners,b=Ext.applyIf({cls:"x-menu-date-item",margin:0,border:!1,id:c.pickerId,xtype:"datepicker"},a)),Ext.apply(c,{showSeparator:!1,plain:!0,bodyPadding:0,items:[b]}),Ext.menu.Menu.prototype.initComponent.call(this),c.picker=c.down("datepicker"),c.relayEvents(c.picker,["select"]),c.hideOnClick&&c.on("select",c.hidePickerOnSelect,c)},onEscapeKey:function(a){this.floating&&this.ownerCmp&&this.ownerCmp.focus&&this.ownerCmp.focus()},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["datemenu"],["component","box","container","panel","menu","datemenu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0,datemenu:!0},["widget.datemenu"],0,[Ext.menu,"DatePicker"],0),Ext.cmd.derive("Ext.panel.Pinnable",Ext.Mixin,{mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var b=this,a=b.isPinned();b.addTool(b.pinTool=Ext.widget({xtype:"tool",type:a?"unpin":"pin",callback:"togglePin",scope:b,tooltip:a?b.pinnedTip:b.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(b){var a,c=this;b!==c.isPinned()&&(a=[c,b],!1!==c.fireEventArgs("beforepinchange",a)&&(c.updatePinned(b),c.fireEventArgs("pinchange",a)))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(b){var c=this,a=c.pinTool;a.setTooltip(b?c.pinnedTip:c.unpinnedTip),a.setType(b?"unpin":"pin")}},0,0,0,0,0,0,[Ext.panel,"Pinnable"],0),Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(b,e,d){var a,c;return b.init?a=b:(d?(b=Ext.apply({},b),b.cmp=d):d=b.cmp,b.xclass?a=Ext.create(b):(c="plugin."+(b.ptype||e),a=Ext.ClassManager.instantiateByAlias(c,b))),a&&d&&a.setCmp&&!a.setCmpCalled&&(a.setCmp(d),a.setCmpCalled=!0),a}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0),Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var x,l,s,m,w,t,q,b,z=this,a=z.splitter,o=a.collapseTarget,d=a.defaultSplitMin,h=a.vertical?"Width":"Height",c="min"+h,v="max"+h,j="get"+h,u=a.neighbors,e=u.length,n=o.el.getBox(),g=n.x,p=n.y,y=n.right,k=n.bottom,r=a.vertical?y-g:k-p;for(m=(o[c]||Math.min(r,d))-r,w=o[v],w?w-=r:w=1e9,b=r,x=0;x<e;++x)l=u[x],r=l[j](),s=l[v],null===s&&(s=void 0),t=r-s,q=r-(l[c]||Math.min(r,d)),isNaN(t)||m<t&&(m=t),w>q&&(w=q);return w-m<2?null:(n=new Ext.util.Region(p,y,k,g),z.constraintAdjusters[z.getCollapseDirection()](n,m,w,a),z.dragInfo={minRange:m,maxRange:w,targetSize:b},n)},constraintAdjusters:{left:function(c,a,b,d){c[0]=c.x=c.left=c.right+a,c.right+=b+d.getWidth()},top:function(c,a,b,d){c[1]=c.y=c.top=c.bottom+a,c.bottom+=b+d.getHeight()},bottom:function(c,a,b,d){c.bottom=c.top-a,c.top-=b+d.getHeight()},right:function(c,a,b,d){c.right=c.left-a,c[0]=c.x=c.left=c.x-b+d.getWidth()}},onBeforeStart:function(k){var a,j,g=this,h=g.splitter,d=h.collapseTarget,b=h.neighbors,c=b.length;if(d.collapsed)return!1;for(a=0;a<c;++a)if(j=b[a],j.collapsed&&j.isHorz===d.isHorz)return!1;return!!(g.constrainTo=g.calculateConstrainRegion())},performResize:function(j,i){var c,k=this,b=k.splitter,h=b.getCollapseDirection(),a=b.collapseTarget,g=k.splitAdjusters[b.vertical?"horz":"vert"],l=i[g.index],d=k.dragInfo;"right"!==h&&"bottom"!==h||(l=-l),(l=Math.min(Math.max(d.minRange,l),d.maxRange))&&((c=b.ownerCt).suspendLayouts(),g.adjustTarget(a,d.targetSize,l),c.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(b,a,c){b.flex=null,b.setSize(a+c)}},vert:{index:1,adjustTarget:function(b,a,c){b.flex=null,b.setSize(void 0,a+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0),Ext.cmd.derive("Ext.resizer.Handle",Ext.Component,{handleCls:"",baseHandleCls:"x-resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){var a=this;Ext.Component.prototype.beforeRender.call(this),a.protoEl.unselectable(),a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)}},0,0,["component","box"],{component:!0,box:!0},0,0,[Ext.resizer,"Handle"],0),Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,preventDefault:!1,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(b){var c,a,e,d=this;b.el||(b.target.isComponent?d.el=b.target.getEl():d.el=b.target),Ext.dd.DragTracker.prototype.constructor.apply(this,arguments),d.preserveRatio&&d.minWidth&&d.minHeight&&(c=d.minWidth/d.el.getWidth(),a=d.minHeight/d.el.getHeight(),a>c?d.minWidth=d.el.getWidth()*a:d.minHeight=d.el.getHeight()*c),d.throttle&&(e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(d,arguments)},d.throttle),d.resize=function(h,i,g){g?Ext.resizer.ResizeTracker.prototype.resize.apply(d,arguments):e.apply(null,arguments)})},onBeforeStart:function(a){this.startBox=this.target.getBox()},getProxy:function(){var a=this;if(a.dynamic||a.proxy||(a.proxy=a.createProxy(a.target||a.el),a.hideProxy=!0),a.proxy)return a.proxy.show(),a.proxy},createProxy:function(c){var b,a=this.proxyCls;return b=c.isComponent?c.getProxy().addCls(a):c.createProxy({tag:"div",role:"presentation",cls:a,id:c.id+"-rzproxy"},Ext.getBody()),b.removeCls("x-proxy-el"),b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox)},onMouseDown:function(b,a){Ext.dd.DragTracker.prototype.onMouseDown.call(this,b,a),Ext.dom.Element.maskIframes()},onMouseUp:function(a){Ext.dd.DragTracker.prototype.onMouseUp.call(this,a),Ext.dom.Element.unmaskIframes()},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(q,m){var h,j,p,t,i,b,d,n,l,r=this,c=r.activeResizeHandle.region,g=r.getOffset(r.constrainTo?"dragTarget":null),k=r.startBox,o=0,s=0,a=0,u=0;switch(c=r.convertRegionName(c)){case"south":s=g[1],b=2;break;case"north":s=-g[1],u=-s,b=2;break;case"east":o=g[0],b=1;break;case"west":o=-g[0],a=-o,b=1;break;case"northeast":s=-g[1],u=-s,o=g[0],i=[k.x,k.y+k.height],b=3;break;case"southeast":s=g[1],o=g[0],i=[k.x,k.y],b=3;break;case"southwest":o=-g[0],a=-o,s=g[1],i=[k.x+k.width,k.y],b=3;break;case"northwest":s=-g[1],u=-s,o=-g[0],a=-o,i=[k.x+k.width,k.y+k.height],b=3}if(d={width:k.width+o,height:k.height+s,x:k.x+a,y:k.y+u},j=Ext.Number.snap(d.width,r.widthIncrement),p=Ext.Number.snap(d.height,r.heightIncrement),j!==d.width||p!==d.height){switch(c){case"northeast":case"north":d.y-=p-d.height;break;case"southwest":case"west":d.x-=j-d.width;break;case"northwest":d.x-=j-d.width,d.y-=p-d.height}d.width=j,d.height=p}d.width<r.minWidth||d.width>r.maxWidth?(d.width=Ext.Number.constrain(d.width,r.minWidth,r.maxWidth),a&&(d.x=k.x+(k.width-d.width))):r.lastX=d.x,d.height<r.minHeight||d.height>r.maxHeight?(d.height=Ext.Number.constrain(d.height,r.minHeight,r.maxHeight),u&&(d.y=k.y+(k.height-d.height))):r.lastY=d.y,
(r.preserveRatio||q.shiftKey)&&(h=r.startBox.width/r.startBox.height,n=Math.min(Math.max(r.minHeight,d.width/h),r.maxHeight),l=Math.min(Math.max(r.minWidth,d.height*h),r.maxWidth),1===b?d.height=n:2===b?d.width=l:(t=Math.abs(i[0]-this.lastXY[0])/Math.abs(i[1]-this.lastXY[1]),t>h?d.height=n:d.width=l,"northeast"===c?d.y=k.y-(d.height-k.height):"northwest"===c?(d.y=k.y-(d.height-k.height),d.x=k.x-(d.width-k.width)):"southwest"===c&&(d.x=k.x-(d.width-k.width)))),r.setPosition=d.x!==r.startBox.x||d.y!==r.startBox.y,r.resize(d,m)},resize:function(d,a){var e,c=this,b=c.setPosition;(c.dynamic||!c.dynamic&&a)&&(b?c.target.setBox(d):c.target.setSize(d.width,d.height)),a||(e=c.getProxy())&&e!==c.target&&(b||c.hideProxy?e.setBox(d):e.setSize(d.width,d.height))},onEnd:function(a){this.updateDimensions(a,!0),this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0),Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:!1},s:{panY:!1},e:{panX:!1},w:{panX:!1},se:{panX:!1,panY:!1},sw:{panX:!1,panY:!1},nw:{panX:!1,panY:!1},ne:{panX:!1,panY:!1}},ariaRole:"presentation",constructor:function(r){var h,l,b,t,p,o,g,j,q,a,k,c,d,e,s=this,m=Ext.dom.Element.unselectableCls,n=[];for((Ext.isString(r)||Ext.isElement(r)||r.dom)&&(h=r,r=arguments[1]||{},r.target=h),s.mixins.observable.constructor.call(s,r),h=s.target,h?h.isComponent?(h.addClsWithUI("resizable"),h.minWidth&&(s.minWidth=h.minWidth),h.minHeight&&(s.minHeight=h.minHeight),h.maxWidth&&(s.maxWidth=h.maxWidth),h.maxHeight&&(s.maxHeight=h.maxHeight),h.floating&&(s.hasOwnProperty("handles")||(s.handles="n ne e se s sw w nw")),s.el=h.getEl()):h=s.el=s.target=Ext.get(h):h=s.target=s.el=Ext.get(s.el),s.el.addCls(Ext.Component.prototype.borderBoxCls),Ext.isNumber(s.width)&&(s.width=Ext.Number.constrain(s.width,s.minWidth,s.maxWidth)),Ext.isNumber(s.height)&&(s.height=Ext.Number.constrain(s.height,s.minHeight,s.maxHeight)),null===s.width&&null===s.height||s.target.setSize(s.width,s.height),t=s.el.dom.tagName.toUpperCase(),"TEXTAREA"!==t&&"IMG"!==t&&"TABLE"!==t||(s.originalTarget=s.target,c=h.isComponent?h.getEl():h,s.el.addCls(s.wrappedCls),s.target=s.el=s.el.wrap({role:"presentation",cls:s.wrapCls,id:s.el.id+"-rzwrap",style:c.getStyle(["margin-top","margin-bottom"])}),d=c.getPositioning(),s.el.setPositioning(d),c.clearPositioning(),j=c.getBox(),"absolute"!==d.position&&(j.x=0,j.y=0),s.el.setBox(j),c.setStyle("position","absolute"),s.isTargetWrapped=!0),s.el.position(),s.pinned&&s.el.addCls(s.pinnedCls),s.resizeTracker=new Ext.resizer.ResizeTracker({disabled:s.disabled,target:h,el:s.el,constrainTo:s.constrainTo,handleCls:s.handleCls,overCls:s.overCls,throttle:s.throttle,proxy:s.originalTarget?s.el:null,dynamic:!!s.originalTarget||s.dynamic,originalTarget:s.originalTarget,delegate:"."+s.handleCls,preserveRatio:s.preserveRatio,heightIncrement:s.heightIncrement,widthIncrement:s.widthIncrement,minHeight:s.minHeight,maxHeight:s.maxHeight,minWidth:s.minWidth,maxWidth:s.maxWidth}),s.resizeTracker.on({mousedown:s.onBeforeResize,drag:s.onResize,dragend:s.onResizeEnd,scope:s}),"all"===s.handles&&(s.handles="n s e w ne nw se sw"),a=s.handles=s.handles.split(s.delimiterRe),b=s.possiblePositions,p=a.length,l=s.handleCls+" "+s.handleCls+"-{0}",s.target.isComponent&&(e=s.target.baseCls,l+=" "+e+"-handle "+e+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(l+=" "+e+"-handle-{0}-br")),o=0;o<p;o++)(q=a[o])&&b[q]&&(g=b[q],k=s[g]=s.el.createChild({id:s.el.id+"-"+g+"-handle",cls:Ext.String.format(l,g)+" "+m,unselectable:"on",role:"presentation"}),k.region=g,s.transparent&&k.setOpacity(0),k.setTouchAction(s.touchActionMap[q]),n.push(k));s.resizeTracker.handleEls=n},disable:function(){this.disabled=!0,this.resizeTracker.disable()},enable:function(){this.disabled=!1,this.resizeTracker.enable()},onBeforeResize:function(a,b){return this.fireResizeEvent("beforeresize",a,b)},onResize:function(a,b){return this.fireResizeEvent("resizedrag",a,b)},onResizeEnd:function(a,b){return this.fireResizeEvent("resize",a,b)},fireResizeEvent:function(a,d,g){var b,c=this;if(c.hasListeners[a])return b=c.el.getBox(),c.fireEvent(a,c,b.width,b.height,g)},resizeTo:function(b,a){var c=this;c.target.setSize(b,a),c.fireEvent("resize",c,b,a,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var g,h,c,e=this,d=e.handles,a=d.length,b=e.possiblePositions;for(e.resizeTracker.destroy(),e.isTargetWrapped&&e.target.destroy(),c=0;c<a;c++)h=b[d[c]],(g=e[h])&&(g.destroy(),e[h]=null);e.callParent()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0),Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(a){var b,c=this;c.view&&c.gridListeners&&c.gridListeners.destroy(),Ext.selection.DataViewModel.prototype.bindComponent.call(this,a),a&&(b=a.grid||a.ownerCt,!1!==b.optimizedColumnMove&&(c.gridListeners=b.on({columnmove:c.onColumnMove,scope:c,destroyable:!0})))},getViewListeners:function(){var a=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);return a.refresh=this.onViewRefresh,a},getHeaderCt:function(){var b=this.navigationModel.getPosition();return(b?b.view:this.primaryView).headerCt},onNavigate:function(a){a.record&&!a.keyEvent.stopSelection&&this.setPosition(a.position)},selectWithEvent:function(a,b){this.select(a)},select:function(h,e,b){var g,d=this,c=d.getPosition(),a=d.view.store;(h||0===h)&&(h.isModel?(g=a.indexOf(h),h=-1!==g?{row:g,column:c?c.column:0}:null):"number"==typeof h&&(h={row:h,column:0})),h?d.selectByPosition(h,b):d.deselect()},getCurrentPosition:function(){var a=this.selecting?this.nextSelection:this.selection;return a?{view:a.view,record:a.record,row:a.rowIdx,columnHeader:a.column,column:a.view.getColumnManager().indexOf(a.column)}:a},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(c,a,b){return c&&!c.isCellContext&&(c=new Ext.grid.CellContext(this.view).setPosition({row:c.row,column:"number"==typeof c.column?this.view.getColumnManager().getColumns()[c.column]:c.column})),this.setPosition(c,a,b)},setPosition:function(e,a,d){var c=this,b=c.selection;if(e&&(e=e.isCellContext?e.clone():new Ext.grid.CellContext(c.view).setPosition(e)),!d&&b&&(e&&e.record===b.record&&e.column===b.column&&e.view===b.view?e=null:c.onCellDeselect(c.selection,a)),e)return c.nextSelection=e,c.selecting=!0,c.onCellSelect(c.nextSelection,a),c.selecting=!1,c.selection=e},isCellSelected:function(a,e,c){var b,d=this,g=d.getPosition();if(g&&g.view===a)return b=new Ext.grid.CellContext(a).setPosition({row:e,column:"number"==typeof c?a.getColumnManager().getColumns()[c]:c}),b.record===g.record&&b.column===g.column},onStoreRemove:function(b,a,d){var c=this,e=c.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments),e&&b.isMoving(e.record)||(e&&b.getCount()&&-1!==b.indexOf(e.record)?e.setRow(e.record):c.selection=null)},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments),this.selection=null},onStoreAdd:function(){var a=this,b=a.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments),b?b.setRow(b.record):a.selection=null},updateSelectedInstances:function(a){var c=this.getPosition(),b=a.getAt(0);b&&c&&c.record.id===b.id&&c.setRow(b),Ext.selection.DataViewModel.prototype.updateSelectedInstances.call(this,a)},onCellClick:function(c,a,g,b,i,d,h){-1!==d&&this.setPosition(h.position)},onCellSelect:function(a,b){a&&void 0!==a.rowIdx&&a.rowIdx>-1&&this.doSelect(a.record,!1,b)},onCellDeselect:function(a,b){a&&void 0!==a.rowIdx&&this.doDeselect(a.record,b)},onSelectChange:function(b,e,d,h){var i,c,a,g=this;e?(i=g.nextSelection,c="select"):(i=g.selection,c="deselect"),a=i.view||g.primaryView,!1!==(d||g.fireEvent("before"+c,g,b,i.rowIdx,i.colIdx))&&!1!==h()&&(e?a.onCellSelect(i):(a.onCellDeselect(i),delete g.selection),d||g.fireEvent(c,g,b,i.rowIdx,i.colIdx))},refresh:function(){var a,b=this.getPosition();b&&-1!==(a=this.store.indexOf(this.selected.last()))&&(b.rowIdx=a)},onColumnMove:function(d,e,b,c){var a=d.up("tablepanel");a&&this.onViewRefresh(a.view)},onUpdate:function(a){var c,b=this;b.isSelected(a)&&(c=b.selecting?b.nextSelection:b.selection,b.view.onCellSelect(c))},onViewRefresh:function(b){var c,a,d,e=this,h=e.getPosition(),g=b.headerCt;h&&h.view===b&&(a=h.record,d=b.getColumnByPosition(h),d.isDescendantOf(g)||(d=g.queryById(d.id)||g.down('[text="'+d.text+'"]')||g.down('[dataIndex="'+d.dataIndex+'"]')),h.record?d&&-1!==b.store.indexOfId(a.getId())&&(c=new Ext.grid.CellContext(b).setPosition({row:a,column:d}),e.setPosition(c)):e.selection=null)},selectByPosition:function(a,b){this.setPosition(a,b)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0),Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(b){var c,d=this,a=d.view;a&&d.isSelected(b)&&(c=a.indexOf(b),a.onRowSelect(c),b===d.lastFocused&&a.onRowFocus(c,!0))},onSelectChange:function(g,b,l,a){var e,k,j=this,m=j.views||[j.view],c=m.length,d=j.store.indexOf(g),h=b?"select":"deselect";if(!1!==(l||j.fireEvent("before"+h,j,g,d))&&!1!==a()){for(e=0;e<c;e++)k=m[e],d=k.indexOf(g),-1!==k.indexOf(g)&&(b?k.onRowSelect(d,l):k.onRowDeselect(d,l));l||j.fireEvent(h,j,g,d)}},getCurrentPosition:function(){var a=this.selected.getAt(0);if(a)return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0)},selectByPosition:function(a,b){a.isCellContext||(a=new Ext.grid.CellContext(this.view).setPosition(a.row,a.column)),this.select(a.record,b)},selectNext:function(h,c){var i,g=this,b=g.store,e=g.getSelection(),a=e[e.length-1],d=g.view.indexOf(a)+1;return d===b.getCount()||0===d?i=!1:(g.doSelect(d,h,c),i=!0),i},selectPrevious:function(g,b){var h,e=this,d=e.getSelection(),a=d[0],c=e.view.indexOf(a)-1;return c<0?h=!1:(e.doSelect(c,g,b),h=!0),h},isRowSelected:function(a){return this.isSelected(a)},isCellSelected:function(b,a,c){return this.isSelected(a)},vetoSelection:function(c){var b=this.view.getNavigationModel(),a=c.getKey();return(a===c.RIGHT||a===c.LEFT)&&b.previousRecord===b.record||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,c)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0),Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,headerText:void 0,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:!0,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-selmodel-column",constructor:function(){var a=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments),"SINGLE"===a.mode&&(a.showHeaderCheckbox=!1)},beforeViewRender:function(b){var a,c=this,d=b.grid.ownerLockable;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments),!1!==c.injectCheckbox&&(d&&!c.lockListeners&&(c.lockListeners=d.mon(d,{lockcolumn:c.onColumnLock,unlockcolumn:c.onColumnUnlock,scope:c,destroyable:!0})),(!d||b.isLockedView&&c.hasLockedHeader()||b.isNormalView&&!c.column)&&(c.addCheckbox(b),a=b.ownerCt,b.headerCt.lockedCt&&(a=a.ownerCt),c.mon(b.ownerGrid,{beforereconfigure:c.onBeforeReconfigure,reconfigure:c.onReconfigure,scope:c})))},onColumnUnlock:function(c,a){var b=this,d=b.injectCheckbox,e=c.lockedGrid.visibleColumnManager.getColumns();1===e.length&&e[0]===b.column&&("first"===d?d=0:"last"===d&&(d=c.normalGrid.visibleColumnManager.getColumns().length),c.unlock(b.column,d))},onColumnLock:function(c,a){var b=this,d=b.injectCheckbox;1===c.lockedGrid.visibleColumnManager.getColumns().length&&("first"===d?d=0:"last"===d&&(d=c.lockedGrid.visibleColumnManager.getColumns().length),c.lock(b.column,d))},bindComponent:function(a){this.sortable=!1,Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var b,c=this.view.ownerGrid.getVisibleColumnManager().getColumns(),a=c.length;for(b=0;b<a;b++)if(c[b].locked)return!0;return!1},addCheckbox:function(b){var c=this,a=c.injectCheckbox,d=b.headerCt;!1!==a&&("first"===a?a=0:"last"===a&&(a=d.getColumnCount()),Ext.suspendLayouts(),b.getStore().isBufferedStore&&(c.showHeaderCheckbox=!1),c.column=d.add(a,c.column||c.getHeaderConfig()),Ext.resumeLayouts())},onBeforeReconfigure:function(d,a,c,h,b){var e=this.column,g=e.ownerCt;c&&g&&g.remove(e,!1)},onReconfigure:function(c,a,b){var d=this;b&&(c.lockable?c.lockedGrid.isVisible()?c.lock(d.column,0):c.unlock(d.column,0):d.addCheckbox(d.view),c.view.refreshView())},onHeaderClick:function(b,j,l){var c,h,k,a,n,m=this,o=m.store;if(m.column,!1!==m.showHeaderCheckbox&&j===m.column&&"SINGLE"!==m.mode)if(l.stopEvent(),j.el.hasCls("x-grid-hd-checker-on")){for(c=[],a=this.getSelection(),h=0,k=a.length;h<k;++h)n=a[h],o.indexOf(n)>-1&&c.push(n);c.length>0&&m.deselect(c)}else m.selectAll()},getHeaderConfig:function(){var a,b=this,d=!1!==b.showHeaderCheckbox,c=Ext.String.htmlEncode;return a={xtype:"checkcolumn",headerCheckbox:d,isCheckerHd:d,ignoreExport:!0,text:b.headerText,width:b.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,checkOnly:b.checkOnly,checkboxAriaRole:"presentation",tdCls:b.tdCls,cls:"x-selmodel-column",editRenderer:b.editRenderer||b.renderEmpty,locked:b.hasLockedHeader(),processEvent:b.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:b.isRowSelected.bind(b)},b.checkOnly?(a.useAriaElements=!0,a.ariaLabel=c(b.headerAriaLabel),a.headerSelectText=c(b.headerSelectText),a.headerDeselectText=c(b.headerDeselectText),a.rowSelectText=c(b.rowSelectText),a.rowDeselectText=c(b.rowDeselectText)):(a.tabIndex=void 0,a.ariaRole="presentation",a.focusable=!1,a.cellFocusable=!1),a},processColumnEvent:function(g,i,j,b,h,d,c,k){var a=i.getNavigationModel();("keydown"===d.type&&i.actionableMode&&d.getKey()===d.SPACE||!this.checkOnly&&d.type===this.triggerEvent)&&a.fireEvent("navigate",{view:i,navigationModel:a,keyEvent:d,position:d.position,recordIndex:b,record:c,item:d.item,cell:d.position.cellElement,columnIndex:d.position.colIdx,column:d.position.column})},toggleRecord:function(b,c,d,a){this[d?"select":"deselect"]([b],"SINGLE"!==this.mode)},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments),this.updateHeaderState()},selectByPosition:function(a,b){a.isCellContext||(a=new Ext.grid.CellContext(this.view).setPosition(a.row,a.column)),this.checkOnly&&a.column!==this.column||Ext.selection.RowModel.prototype.selectByPosition.call(this,a,b)},onSelectChange:function(a,c){var d=this;Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments),d.column&&d.column.updateCellAriaDescription(a,c),d.suspendChange||d.updateHeaderState()},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments),this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments),this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments),this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments),this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState(),Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var b,d,c,g=this,h=g.store,e=h.getCount(),j=g.views,k=!1,a=0;if(!h.isBufferedStore&&e>0){for(b=g.selected,k=!0,c=0,d=b.getCount();c<d;++c)h.indexOfId(b.getAt(c).id)>-1&&++a;k=e===a}j&&j.length&&g.column.setHeaderStatus(k)},vetoSelection:function(g){var a,d,h,c=this,b=c.column;return c.checkOnly&&(d=g.type===b.triggerEvent&&g.getTarget(c.column.getCellSelector()),h=g.getKey()===g.SPACE&&g.position.column===b,a=!(d||h)),a||Ext.selection.RowModel.prototype.vetoSelection.call(this,g)},privates:{onBeforeNavigate:function(a){var b=a.keyEvent;"SINGLE"!==this.selectionMode&&(a.ctrlKey=a.ctrlKey||b.ctrlKey||b.type===this.column.triggerEvent&&!b.shiftKey||b.getKey()===b.SPACE)},selectWithEventMulti:function(a,d,b){var c=this;d.shiftKey||d.ctrlKey||!d.getTarget(c.column.getCellSelector())?Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,a,d,b):b?c.doDeselect(a):c.doSelect(a,!0)}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],function(a){a.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}),Ext.cmd.derive("Ext.selection.TreeModel",Ext.selection.RowModel,{selectOnExpanderClick:!1,constructor:function(a){var b=this;Ext.selection.RowModel.prototype.constructor.call(this,a),b.pruneRemoved&&(b.pruneRemoved=!1,b.pruneRemovedNodes=!0)},getStoreListeners:function(){var b=this,a=Ext.selection.RowModel.prototype.getStoreListeners.call(this);return a.noderemove=b.onNodeRemove,a},onNodeRemove:function(c,d,a){if(!a){var b=[];this.gatherSelected(d,b),b.length&&this.deselect(b)}},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(d){var c=this.view;return!this.selectOnExpanderClick&&"click"===d.type&&d.getTarget(c.expanderSelector||c.lockingPartner&&c.lockingPartner.expanderSelector)||Ext.selection.RowModel.prototype.vetoSelection.call(this,d)},privates:{gatherSelected:function(d,c){var b,a,g,e=d.childNodes;if(this.selected.containsKey(d.id)&&c.push(d),e)for(b=0,a=e.length;b<a;++b)g=e[b],this.gatherSelected(g,c)}}},1,0,0,0,["selection.treemodel"],0,[Ext.selection,"TreeModel"],0),Ext.cmd.derive("Ext.slider.Thumb",Ext.Base,{overCls:"x-slider-thumb-over",constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:"x-slider-thumb",constrain:!1}),b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig()),a.onRender()},onRender:function(){var b=this,a=b.slider.vertical?"panY":"panX",c={};c[a]=!1,b.el.setTouchAction(c),b.disabled&&b.disable(),b.initEvents()},getElConfig:function(){var c=this,b=c.slider,a={};return a[b.vertical?"bottom":b.horizontalProp]=b.calculateThumbPosition(b.normalizeValue(c.value))+"%",{style:a,id:c.id,cls:c.cls,role:"presentation"}},move:function(j,b){var h,i,e,g=this,c=g.el,a=g.slider,d=a.vertical?"bottom":a.horizontalProp;j+="%",b?(h={},h[d]=j,Ext.supports.GetPositionPercentage||(i={},i[d]=c.dom.style[d]),e={target:c,duration:350,from:i,to:h,scope:g,callback:g.onAnimComplete},!0!==b&&Ext.apply(e,b),g.anim=new Ext.fx.Anim(e)):c.dom.style[d]=j},onAnimComplete:function(){this.anim=null},enable:function(){var a=this.el;this.disabled=!1,a&&a.removeCls(this.slider.disabledCls)},disable:function(){var a=this.el;this.disabled=!0,a&&a.addCls(this.slider.disabledCls)},initEvents:function(){var a=this;a.tracker=new Ext.dd.DragTracker({el:a.el,onBeforeStart:a.onBeforeDragStart.bind(a),onStart:a.onDragStart.bind(a),onDrag:a.onDrag.bind(a),onEnd:a.onDragEnd.bind(a),tolerance:3,autoStart:300}),a.el.hover(a.addOverCls,a.removeOverCls,a)},addOverCls:function(){var a=this;a.disabled||a.el.addCls(a.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(d){var c=this,b=c.el,a=c.tracker.getXY(),g=c.pointerOffset=b.getXY();return!c.disabled&&(g[0]+=Math.floor(b.getWidth()/2)-a[0],g[1]+=Math.floor(b.getHeight()/2)-a[1],c.slider.promoteThumb(c),!0)},onDragStart:function(c){var b=this,a=b.slider;a.onDragStart(b,c),b.el.addCls("x-slider-thumb-drag"),b.dragging=b.slider.dragging=!0,b.dragStartValue=b.value,a.fireEvent("dragstart",a,c,b)},onDrag:function(h){var a,i,d=this,c=d.slider,b=d.index,g=d.getValueFromTracker();void 0!==g&&(d.constrain&&(a=c.thumbs[b+1],i=c.thumbs[b-1],void 0!==i&&g<=i.value&&(g=i.value),void 0!==a&&g>=a.value&&(g=a.value)),c.setValue(b,g,!1),c.fireEvent("drag",c,h,d))},getValueFromTracker:function(){var c,b=this.slider,a=this.tracker.getXY();if(a[0]+=this.pointerOffset[0],a[1]+=this.pointerOffset[1],void 0!==(c=b.getTrackpoint(a)))return b.reversePixelValue(c)},onDragEnd:function(d){var b=this,a=b.slider,c=b.value;a.onDragEnd(b,d),b.el.removeCls("x-slider-thumb-drag"),b.dragging=a.dragging=!1,a.fireEvent("dragend",a,d),b.dragStartValue!==c&&a.fireEvent("changecomplete",a,c,b)},destroy:function(){var a=this,b=this.anim;b&&b.end(),a.el=a.tracker=a.anim=Ext.destroy(a.el,a.tracker),a.callParent()}},1,0,0,0,0,0,[Ext.slider,"Thumb"],0),Ext.cmd.derive("Ext.slider.Tip",Ext.tip.Tip,{minWidth:10,offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(c){var d,a,b=this;switch(b.position||(b.position=c.vertical?b.defaultVerticalPosition:b.defaultHorizontalPosition),b.position){case"top":a=[0,-10],d="b-t?";break;case"bottom":a=[0,10],d="t-b?";break;case"left":a=[-10,0],d="r-l?";break;case"right":a=[10,0],d="l-r?"}b.align||(b.align=d),b.offsets||(b.offsets=a),c.on({scope:b,dragstart:b.onSlide,drag:b.onSlide,dragend:b.hide,destroy:b.destroy})},onSlide:function(c,d,a){var b=this;b.update(b.getText(a)),b.show(),b.el.alignTo(a.el,b.align,b.offsets)},getText:function(a){return String(a.value)}},0,["slidertip"],["component","box","container","panel","tip","slidertip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,slidertip:!0},["widget.slidertip"],0,[Ext.slider,"Tip"],0),Ext.cmd.derive("Ext.slider.Multi",Ext.form.field.Base,{alternateClassName:"Ext.slider.MultiSlider",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,pageSize:10,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,defaultBindProperty:"values",ariaRole:"slider",focusable:!0,needArrowKeys:!0,tabIndex:0,skipLabelForAttribute:!0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" {inputAttrTpl}',' class="',"x-","slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="x-slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="x-slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(g,e){for(var d,a,j=e.$comp,h=0,c=j.thumbs,b=c.length;h<b;h++)d=c[h],a=d.getElConfig(),a.id=j.id+"-thumb-"+h,Ext.DomHelper.generateMarkup(a,g)},disableFormats:!0}],horizontalProp:"left",initValue:function(){var e=this,b=Ext.valueFrom,c=b(e.values,[b(e.value,b(e.minValue,0))]),d=0,a=c.length;for(e.originalValue=c;d<a;d++)e.addThumb(e.normalizeValue(c[d]))},initComponent:function(){var d,e,h,b,a,g=this,c=g.tipText;if(g.thumbs=[],g.keyIncrement=Math.max(g.increment,g.keyIncrement),g.extraFieldBodyCls="x-slider-ct-"+(g.vertical?"vert":"horz"),Ext.form.field.Base.prototype.initComponent.call(this),g.useTips){for(d={},Ext.isObject(g.useTips)?Ext.apply(d,g.useTips):c&&(d.getText=c),"string"==typeof(c=d.getText)&&(d.getText=function(i){return Ext.callback(c,null,[i],0,g,g)}),a=g.plugins=g.plugins||[],b=a.length,h=0;h<b;h++)if(a[h].isSliderTip){e=!0;break}e||g.plugins.push(new Ext.slider.Tip(d))}},addThumb:function(c){var b=this,a=new Ext.slider.Thumb({ownerCt:b,value:c,slider:b,index:b.thumbs.length,constrain:b.constrainThumbs,disabled:!!b.readOnly});return b.thumbs.push(a),b.rendered&&a.render(),a},promoteThumb:function(b){var c,a=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),d=a.length,e=1e4;for(a[0]!==b&&(Ext.Array.remove(a,b),a.unshift(b)),c=0;c<d;c++)a[c].el.setStyle("zIndex",e),e-=1e3},getSubTplData:function(b){var d,a,c=this;return d=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,b),{$comp:c,vertical:c.vertical?"x-slider-vert":"x-slider-horz",minValue:c.minValue,maxValue:c.maxValue,value:c.value,tabIdx:c.tabIndex,childElCls:""}),a=d.inputElAriaAttributes,a&&(a["aria-labelledby"]||(a["aria-labelledby"]=c.id+"-labelEl"),a["aria-orientation"]=c.vertical?"vertical":"horizontal",a["aria-valuemin"]=c.minValue,a["aria-valuemax"]=c.maxValue,a["aria-valuenow"]=c.value),d},onRender:function(){var c,e=this,b=e.thumbs,a=b.length,d=0;for((arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).apply(this,arguments),d=0;d<a;d++)c=b[d],c.el=e.el.getById(e.id+"-thumb-"+d),c.onRender()},initEvents:function(){var a=this;Ext.form.field.Base.prototype.initEvents.call(this),a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(h){var b,a,e,g=this,d=g.vertical,c=g.innerEl;return d?(e="top",b=c.getHeight()):(e=g.horizontalProp,b=c.getWidth()),h=g.transformTrackPoints(c.translatePoints(h)),a=Ext.Number.constrain(h[e],0,b),d?b-a:a},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(j){var g,d=this,h=!1,c=0,b=d.thumbs,a=b.length;if(!d.disabled){for(;!h&&c<a;c++)h=h||j.target===b[c].el.dom;d.focus(),d.clickToChange&&!h&&void 0!==(g=d.getTrackpoint(j.getXY()))&&d.onClickChange(g)}},onClickChange:function(d){var a,b,c=this;a=c.getNearest(d),a.disabled||(b=a.index,c.setValue(b,Ext.util.Format.round(c.reversePixelValue(d),c.decimalPrecision),void 0,!0))},getNearest:function(j){for(var a,m,h,k=this,g=k.reversePixelValue(j),l=k.getRange()+5,b=null,e=k.thumbs,c=0,d=e.length;c<d;c++)if(a=k.thumbs[c],m=a.value,h=Math.abs(m-g),Math.abs(h)<=l){if(b&&b.value==m&&m>g&&a.index>b.index)continue;b=a,l=h}return b},onKeyDown:function(d){var b,g,c=this,a=c.ariaEl.dom;if(b=d.getKey(),c.disabled||1!==c.thumbs.length)return void(b!==d.TAB&&d.preventDefault());switch(b){case d.UP:case d.RIGHT:g=d.ctrlKey?c.maxValue:c.getValue(0)+c.keyIncrement;break;case d.DOWN:case d.LEFT:g=d.ctrlKey?c.minValue:c.getValue(0)-c.keyIncrement;break;case d.HOME:g=c.minValue;break;case d.END:g=c.maxValue;break;case d.PAGE_UP:g=c.getValue(0)+c.pageSize;break;case d.PAGE_DOWN:g=c.getValue(0)-c.pageSize}void 0!==g&&(d.stopEvent(),g=c.normalizeValue(g),c.setValue(0,g,void 0,!0),a&&a.setAttribute("aria-valuenow",g))},normalizeValue:function(b){var c=this,a=c.zeroBasedSnapping?"snap":"snapInRange";return b=Ext.Number[a](b,c.increment,c.minValue,c.maxValue),b=Ext.util.Format.round(b,c.decimalPrecision),b=Ext.Number.constrain(b,c.minValue,c.maxValue)},setMinValue:function(h){var d,e,g=this,c=g.thumbs,b=c.length,a=g.ariaEl.dom;for(g.minValue=h,e=0;e<b;++e)d=c[e],d.value<h&&g.setValue(e,h,!1);a&&a.setAttribute("aria-valuemin",h),g.syncThumbs()},setMaxValue:function(h){var d,e,g=this,c=g.thumbs,b=c.length,a=g.ariaEl.dom;for(g.maxValue=h,e=0;e<b;++e)d=c[e],d.value>h&&g.setValue(e,h,!1);a&&a.setAttribute("aria-valuemax",h),g.syncThumbs()},setValue:function(g,l,b,d){var a,e,c,m,k=this,j=k.thumbs,h=k.ariaEl.dom;if(Ext.isArray(g)){for(m=g,b=l,c=0,e=m.length;c<e;++c)(a=j[c])&&k.setValue(c,m[c],b);return k}return a=k.thumbs[g],l=k.normalizeValue(l),l!==a.value&&!1!==k.fireEvent("beforechange",k,l,a.value,a)&&(a.value=l,k.rendered&&(b=Ext.isDefined(b)?!1!==b&&b:k.animate,a.move(k.calculateThumbPosition(l),b),0===g&&h&&h.setAttribute("aria-valuenow",l),k.fireEvent("change",k,l,a),k.checkDirty(),d&&k.fireEvent("changecomplete",k,l,a))),k},calculateThumbPosition:function(a){var b=this,c=b.minValue,d=(a-c)/b.getRange()*100;return isNaN(d)&&(d=0),d},getRatio:function(){var b=this,d=b.innerEl,a=b.vertical?d.getHeight():d.getWidth(),c=b.getRange();return 0===c?a:a/c},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var c,e,h,g=this,d=0,b=g.thumbs,a=b.length;for(Ext.form.field.Base.prototype.onDisable.call(this);d<a;d++)c=b[d],e=c.el,c.disable(),Ext.isIE&&(h=e.getXY(),e.hide(),g.innerEl.addCls(g.disabledCls).dom.disabled=!0,g.thumbHolder||(g.thumbHolder=g.endEl.createChild({role:"presentation",cls:"x-slider-thumb "+g.disabledCls})),g.thumbHolder.show().setXY(h))},onEnable:function(){var c,e,g=this,d=0,b=g.thumbs,a=b.length;for(Ext.form.field.Base.prototype.onEnable.call(this);d<a;d++)c=b[d],e=c.el,c.enable(),Ext.isIE&&(g.innerEl.removeCls(g.disabledCls).dom.disabled=!1,g.thumbHolder&&g.thumbHolder.hide(),e.show(),g.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var a=this.thumbs,c=a.length,b=0;b<c;b++)a[b].move(this.calculateThumbPosition(a[b].value))},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){for(var c=[],d=0,b=this.thumbs,a=b.length;d<a;d++)c.push(b[d].value);return c},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){for(var g,e=this,b=[].concat(e.originalValue),c=0,d=b.length;c<d;c++)g=b[c],e.setValue(c,g);e.clearInvalid(),delete e.wasValid},setReadOnly:function(e){var d=this,b=d.thumbs,a=b.length,c=0;for(Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments),e=d.readOnly;c<a;++c)e?b[c].disable():b[c].enable()},doDestroy:function(){this.rendered&&Ext.destroy(this.thumbs),Ext.form.field.Base.prototype.doDestroy.call(this)}},0,["multislider"],["component","box","field","multislider"],{component:!0,box:!0,field:!0,multislider:!0},["widget.multislider"],0,[Ext.slider,"Multi",Ext.slider,"MultiSlider"],0),Ext.cmd.derive("Ext.slider.Single",Ext.slider.Multi,{alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],defaultBindProperty:"value",initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent="changecomplete"),Ext.slider.Multi.prototype.initComponent.call(this)},publishOnComplete:!0,getValue:function(){return Ext.slider.Multi.prototype.getValue.call(this,0)},setValue:function(d,b){var c=arguments,a=c.length;return(1===a||a<=3&&"number"!=typeof c[1])&&(c=Ext.toArray(c),c.unshift(0)),Ext.slider.Multi.prototype.setValue.apply(this,c)},getNearest:function(){return this.thumbs[0]}},0,["slider","sliderfield"],["component","box","field","multislider","slider","sliderfield"],{component:!0,box:!0,field:!0,multislider:!0,slider:!0,sliderfield:!0},["widget.slider","widget.sliderfield"],0,[Ext.slider,"Single",Ext,"Slider",Ext.form,"SliderField",Ext.slider,"SingleSlider",Ext.slider,"Slider"],0),Ext.cmd.derive("Ext.slider.Widget",Ext.Widget,{cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:"x-slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:"x-slider-end",children:[{reference:"innerEl",cls:"x-slider-inner"}]}]},thumbCls:"x-slider-thumb",horizontalProp:"left",animateOnSetValue:void 0,applyValue:function(e){var c,a,d=this,b=d.animateOnSetValue;if(Ext.isArray(e))for(e=Ext.Array.from(e),c=0,
a=e.length;c<a;++c)d.setThumbValue(c,e[c]=d.normalizeValue(e[c]),b,!0);else e=d.normalizeValue(e),d.setThumbValue(0,e,b,!0);return e},updateVertical:function(a,b){this.element.removeCls("x-slider-"+(b?"vert":"horz")),this.element.addCls("x-slider-"+(a?"vert":"horz"))},updateHeight:function(a,b){Ext.Widget.prototype.updateHeight.call(this,a,b),this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(a){a.stopPropagation()},getThumb:function(c){var b,e=this,a=(e.thumbs||(e.thumbs=[]))[c],d=e.getVertical()?"panY":"panX",g={};return a||(b={cls:e.thumbCls,style:{}},b["data-thumbIndex"]=c,a=e.thumbs[c]=e.innerEl.createChild(b),g[d]=!1,a.setTouchAction(g)),a},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.horizontalProp},update:function(){var c,d=this,b=d.getValue(),a=b.length;for(c=0;c<a;c++)this.thumbs[c].dom.style[d.getThumbPositionStyle()]=d.calculateThumbPosition(b[c])+"%"},updateMaxValue:function(a){this.onRangeAdjustment(a,"min")},updateMinValue:function(a){this.onRangeAdjustment(a,"max")},onRangeAdjustment:function(a,b){var d,c=this._value;isNaN(c)||(d=Math[b](c,a)),void 0!==d&&this.setValue(d)},onMouseDown:function(d){var a,g,b=this,c=d.getXY();b.disabled||0!==d.button||(Ext.getDoc().on({scope:b,capture:!0,selectstart:b.stopSelect}),a=d.getTarget("."+b.thumbCls,null,!0),a?(b.animateOnSetValue=!1,b.promoteThumb(a),b.captureMouse(b.onMouseMove,b.onMouseUp,[a],1),g=b.pointerOffset=a.getXY(),g[0]+=Math.floor(a.getWidth()/2)-c[0],g[1]+=Math.floor(a.getHeight()/2)-c[1]):b.getClickToChange()&&null!=(c=b.getTrackpoint(c))&&b.onClickChange(c))},onClickChange:function(e){var a,b,d,c=this;a=c.getNearest(e),b=parseInt(a.getAttribute("data-thumbIndex"),10),d=Ext.util.Format.round(c.reversePixelValue(e),c.decimalPrecision),b?c.setThumbValue(b,d,void 0,!0):c.setValue(d)},getNearest:function(j){for(var a,m,h,k=this,g=k.reversePixelValue(j),l=k.getRange()+5,b=null,e=k.thumbs,c=0,d=e.length;c<d;c++)a=e[c],m=k.reversePercentageValue(parseInt(a.dom.style[k.getThumbPositionStyle()],10)),h=Math.abs(m-g),Math.abs(h)<=l&&(b=a,l=h);return b},promoteThumb:function(b){var c,a=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),d=a.length,e=1e4;for(a[0]!==b&&(Ext.Array.remove(a,b),a.unshift(b)),c=0;c<d;c++)a[c].el.setStyle("zIndex",e),e-=1e3},doMouseMove:function(j,b,g){var i,c,h,d=this,a=j.getXY();a[0]+=d.pointerOffset[0],a[1]+=d.pointerOffset[1],(h=d.getTrackpoint(a))&&(i=d.reversePixelValue(h),c=parseInt(b.getAttribute("data-thumbIndex"),10),c||!g&&d.getPublishOnComplete()?d.setThumbValue(c,i,!1,g):d.setValue(i))},onMouseMove:function(b,a){this.doMouseMove(b,a,!1)},onMouseUp:function(c,a){var b=this;b.doMouseMove(c,a,!0),Ext.getDoc().un({scope:b,capture:!0,selectstart:b.stopSelect}),delete b.animateOnSetValue},stopSelect:function(a){return a.stopEvent(),!1},setThumbValue:function(g,k,b,d){var a,e,h,c,l,j=this;if(Ext.isArray(g)){for(l=g,b=k,c=0,h=l.length;c<h;++c)j.setThumbValue(c,l[c],b,d);return j}return a=j.getThumb(g),e=j.reversePercentageValue(parseInt(a.dom.style[j.getThumbPositionStyle()],10)),k=j.normalizeValue(k),k!==e&&!1!==j.fireEvent("beforechange",j,k,e,a)&&j.element.dom&&(j.element.set({"aria-valuenow":k,"aria-valuetext":k}),j.moveThumb(a,j.calculateThumbPosition(k),Ext.isDefined(b)?!1!==b:j.animate),j.fireEvent("change",j,k,a)),j},getValue:function(a){var c,b=this;return Ext.isNumber(a)?(c=b.thumbs[a].dom.style[b.getThumbPositionStyle()],c=b.reversePercentageValue(parseInt(c,10))):(c=b.getValues(),1===c.length&&(c=c[0])),c},getValues:function(){for(var e=this,c=[],d=0,b=e.thumbs,a=b.length;d<a;d++)c.push(e.reversePercentageValue(parseInt(e.thumbs[d].dom.style[e.getThumbPositionStyle()],10)));return c},moveThumb:function(d,c,b){var h,g,e=this,a=e.getThumbPositionStyle();c+="%",b?(h={},h[a]=c,Ext.supports.GetPositionPercentage||(g={},g[a]=d.dom.style[a]),new Ext.fx.Anim({target:d,duration:350,from:g,to:h})):d.dom.style[a]=c},normalizeValue:function(b){var c=this,a=c.zeroBasedSnapping?"snap":"snapInRange";return b=Ext.Number[a](b,c.increment,c.minValue,c.maxValue),b=Ext.util.Format.round(b,c.decimalPrecision),b=Ext.Number.constrain(b,c.minValue,c.maxValue)},getTrackpoint:function(h){var b,a,e,g=this,d=g.getVertical(),c=g.innerEl;return d?(e="top",b=c.getHeight()):(e=g.horizontalProp,b=c.getWidth()),h=g.transformTrackPoints(c.translatePoints(h)),a=Ext.Number.constrain(h[e],0,b),d?b-a:a},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(a){var b=this,c=(a-b.getMinValue())/b.getRange()*100;return isNaN(c)&&(c=0),c},getRatio:function(){var b=this,d=b.innerEl,a=b.getVertical()?d.getHeight():d.getWidth(),c=b.getRange();return 0===c?a:a/c},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(a){return this.getMinValue()+a/this.getRatio()},reversePercentageValue:function(a){return this.getMinValue()+this.getRange()*(a/100)},captureMouse:function(h,b,d,a){var c,e,g=this;h=h&&Ext.Function.bind(h,g,d,a),b=b&&Ext.Function.bind(b,g,d,a),c=function(){Ext.getDoc().un(e),b&&b.apply(g,arguments)},e={mousemove:h,mouseup:c},Ext.getDoc().on(e)}},0,["sliderwidget"],["widget","sliderwidget"],{widget:!0,sliderwidget:!0},["widget.sliderwidget"],0,[Ext.slider,"Widget"],0),Ext.cmd.derive("Ext.state.CookieProvider",Ext.state.Provider,{constructor:function(a){var b=this;b.path="/",b.expires=new Date(Ext.Date.now()+6048e5),b.domain=null,b.secure=!1,Ext.state.Provider.prototype.constructor.apply(this,arguments),b.state=b.readCookies()},set:function(a,c){var b=this;if(void 0===c||null===c)return void b.clear(a);b.setCookie(a,c),Ext.state.Provider.prototype.set.apply(this,arguments)},clear:function(a){this.clearCookie(a),Ext.state.Provider.prototype.clear.apply(this,arguments)},readCookies:function(){for(var h,b,g,e={},j=document.cookie+";",d=/\s?(.*?)=(.*?);/g,i=this.prefix,a=i.length;null!=(h=d.exec(j));)b=h[1],g=h[2],b&&b.substring(0,a)===i&&(e[b.substr(a)]=this.decodeValue(g));return e},setCookie:function(a,c){var b=this;document.cookie=b.prefix+a+"="+b.encodeValue(c)+(null==b.expires?"":"; expires="+b.expires.toUTCString())+(null==b.path?"":"; path="+b.path)+(null==b.domain?"":"; domain="+b.domain)+(b.secure?"; secure":"")},clearCookie:function(a){var b=this;document.cookie=b.prefix+a+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(null==b.path?"":"; path="+b.path)+(null==b.domain?"":"; domain="+b.domain)+(b.secure?"; secure":"")}},1,0,0,0,0,0,[Ext.state,"CookieProvider"],0),Ext.cmd.derive("Ext.state.LocalStorageProvider",Ext.state.Provider,{constructor:function(){var a=this;Ext.state.Provider.prototype.constructor.apply(this,arguments),a.store=a.getStorageObject(),a.store?a.state=a.readLocalStorage():a.state={}},readLocalStorage:function(){for(var b,a=this.store,e={},d=a.getKeys(),c=d.length;c--;)b=d[c],e[b]=this.decodeValue(a.getItem(b));return e},set:function(a,c){var b=this;b.clear(a),null!=c&&(b.store.setItem(a,b.encodeValue(c)),Ext.state.Provider.prototype.set.apply(this,arguments))},clear:function(a){this.store.removeItem(a),Ext.state.Provider.prototype.clear.apply(this,arguments)},getStorageObject:function(){var a=this.prefix,c=a,b=c.length-1;return"-"===c.charAt(b)&&(c=c.substring(0,b)),new Ext.util.LocalStorage({id:c,prefix:a})}},1,0,0,0,["state.localstorage"],0,[Ext.state,"LocalStorageProvider"],0),Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:!0,baseCls:"x-tab",closeElOverCls:"x-tab-close-btn-over",closeElPressedCls:"x-tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"removable",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",tabIndex:-1,keyMap:{scope:"this",DELETE:"onDeleteKey"},_btnWrapCls:"x-tab-wrap",_btnCls:"x-tab-button",_baseIconCls:"x-tab-icon-el",_glyphCls:"x-tab-glyph",_innerCls:"x-tab-inner",_textCls:"x-tab-text",_noTextCls:"x-tab-no-text",_hasIconCls:"x-tab-icon",_activeCls:"x-tab-active",_closableCls:"x-tab-closable",overCls:"x-tab-over",_pressedCls:"x-tab-pressed",_disabledCls:"x-tab-disabled",_rotateClasses:{1:"x-tab-rotate-right",2:"x-tab-rotate-left"},_positions:{top:{default:"top",0:"top",1:"left",2:"right"},right:{default:"top",0:"right",1:"top",2:"bottom"},bottom:{default:"bottom",0:"bottom",1:"right",2:"left"},left:{default:"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var a=this;a.card&&a.setCard(a.card),Ext.button.Button.prototype.initComponent.apply(this,arguments)},getActualRotation:function(){var a=this.getRotation();return"default"!==a?a:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var h=this,c=h._rotateClasses,b=h.getTabPosition(),g=h.getActualRotation(),e=h._rotateCls,i=h._rotateCls=c[g],d=h._positionCls,a=h._positionCls=h._positions[b][g];e!==i&&(e&&h.removeCls(e),i&&h.addCls(i)),d!==a&&(d&&h.removeClsWithUI(d),a&&h.addClsWithUI(a),h.rendered&&h.updateFrame()),h.rendered&&h.setElOrientation()},onAdded:function(b,c,a){Ext.button.Button.prototype.onAdded.call(this,b,c,a),this.syncRotationAndPosition()},getTemplateArgs:function(){var b=this,a=Ext.button.Button.prototype.getTemplateArgs.call(this);return a.closable=b.closable,a.closeText=b.closeText,a},beforeRender:function(){var b=this,a=b.up("tabbar"),c=b.up("tabpanel");Ext.button.Button.prototype.beforeRender.call(this),b.ariaRenderAttributes=b.ariaRenderAttributes||{},b.active?(b.ariaRenderAttributes["aria-selected"]=!0,b.addCls(b._activeCls)):b.ariaRenderAttributes["aria-selected"]=!1,b.syncClosableCls(),b.minWidth||(b.minWidth=a?a.minTabWidth:b.minWidth,!b.minWidth&&c&&(b.minWidth=c.minTabWidth),b.minWidth&&b.iconCls&&(b.minWidth+=25)),b.maxWidth||(b.maxWidth=a?a.maxTabWidth:b.maxWidth,!b.maxWidth&&c&&(b.maxWidth=c.maxTabWidth))},onRender:function(){var a=this;a.setElOrientation(),Ext.button.Button.prototype.onRender.apply(this,arguments),a.closable&&(a.closeEl.addClsOnOver(a.closeElOverCls),a.closeEl.addClsOnClick(a.closeElPressedCls))},setElOrientation:function(){var c=this,a=c.getActualRotation(),b=c.el;a?b.setVertical(1===a?90:270):b.setHorizontal()},enable:function(a){var b=this;return Ext.button.Button.prototype.enable.apply(this,arguments),b.removeCls(b._disabledCls),b},disable:function(a){var b=this;return Ext.button.Button.prototype.disable.apply(this,arguments),b.addCls(b._disabledCls),b},setClosable:function(a){var b=this;a=!arguments.length||!!a,b.closable!==a&&(b.closable=a,b.card&&(b.card.closable=a),b.syncClosableCls(),b.rendered&&(b.syncClosableElements(),b.updateLayout()))},syncClosableElements:function(){var a=this,b=a.closeEl;a.closable?(b||(b=a.closeEl=a.btnWrap.insertSibling({tag:"span",id:a.id+"-closeEl",cls:a.baseCls+"-close-btn",html:a.closeText},"after")),b.addClsOnOver(a.closeElOverCls),b.addClsOnClick(a.closeElPressedCls)):b&&(b.destroy(),delete a.closeEl)},syncClosableCls:function(){var b=this,a=b._closableCls;b.closable?b.addCls(a):b.removeCls(a)},setCard:function(a){var b=this;b.card=a,a.iconAlign&&b.setIconAlign(a.iconAlign),a.textAlign&&b.setTextAlign(a.textAlign),b.setText(b.title||a.title),b.setIconCls(b.iconCls||a.iconCls),b.setIcon(b.icon||a.icon),b.setGlyph(b.glyph||a.glyph)},onCloseClick:function(){var a=this;if(!1!==a.fireEvent("beforeclose",a))if(a.tabBar){if(!1===a.tabBar.closeTab(a))return}else a.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(b){var a=this;if(a.tabBar)return a.tabBar.onClick(b,a.el),b.stopEvent(),!1},onDeleteKey:function(a){if(this.closable)return this.onCloseClick(),a.stopEvent(),!1},beforeClick:function(a){a||this.focus()},activate:function(d){var c=this,b=c.card,a=c.ariaEl.dom;c.active=!0,c.addCls(c._activeCls),a?a.setAttribute("aria-selected",!0):(c.ariaRenderAttributes=c.ariaRenderAttributes||{},c.ariaRenderAttributes["aria-selected"]=!0),b&&(b.ariaEl.dom?b.ariaEl.dom.setAttribute("aria-expanded",!0):(b.ariaRenderAttributes=b.ariaRenderAttributes||{},b.ariaRenderAttributes["aria-expanded"]=!0)),!0!==d&&c.fireEvent("activate",c)},deactivate:function(d){var c=this,b=c.card,a=c.ariaEl.dom;c.active=!1,c.removeCls(c._activeCls),a?a.setAttribute("aria-selected",!1):(c.ariaRenderAttributes=c.ariaRenderAttributes||{},c.ariaRenderAttributes["aria-selected"]=!1),b&&(b.ariaEl.dom?b.ariaEl.dom.setAttribute("aria-expanded",!1):(b.ariaRenderAttributes=b.ariaRenderAttributes||{},b.ariaRenderAttributes["aria-expanded"]=!1)),!0!==d&&c.fireEvent("deactivate",c)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(a){Ext.Button.superclass.wrapPrimaryEl.call(this,a)}}},0,["tab"],["component","box","button","tab"],{component:!0,box:!0,button:!0,tab:!0},["widget.tab"],0,[Ext.tab,"Tab"],0),Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Bar,{baseCls:"x-tab-bar",componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0,activateOnFocus:!0},defaultType:"tab",plain:!1,ensureActiveVisibleOnChange:!0,ariaRole:"tablist",childEls:["body","strip"],_stripCls:"x-tab-bar-strip",_baseBodyCls:"x-tab-bar-body",renderTpl:'<tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'before\'); %}</tpl><div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'after\'); %}</tpl><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var d=this,a=d.initialConfig.layout,c=a&&a.align,b=a&&a.overflowHandler;d.plain&&d.addCls(d.baseCls+"-plain"),Ext.panel.Bar.prototype.initComponent.call(this),d.setLayout({align:c||(d.getTabStretchMax()?"stretchmax":d._layoutAlign[d.dock]),overflowHandler:b||"scroller"}),d.on({click:d.onClick,element:"el",scope:d})},ensureTabVisible:function(b){var c=this,d=c.tabPanel,a=c.layout.overflowHandler;c.rendered&&a&&c.tooNarrow&&a.scrollToItem&&((b||0===b)&&(b.isTab||(Ext.isNumber(b)?b=this.items.getAt(b):b.isComponent&&d&&d.items.contains(b)&&(b=b.tab))),b||(b=c.activeTab),b&&a.scrollToItem(b))},initRenderData:function(){var a=this;return Ext.apply(Ext.panel.Bar.prototype.initRenderData.call(this),{bodyCls:a.bodyCls,baseBodyCls:a._baseBodyCls,bodyTargetCls:a.bodyTargetCls,stripCls:a._stripCls,dock:a.dock})},setDock:function(h){var e,b,d,g=this,a=g.items,c=g.ownerCt;if(a=a&&a.items)for(b=0,d=a.length;b<d;b++)e=a[b],e.isTab&&e.setTabPosition(h);g.rendered&&(g.resetItemMargins(),c&&c.isHeader&&c.resetItemMargins(),g.needsScroll=!0),Ext.panel.Bar.prototype.setDock.call(this,h)},updateTabRotation:function(g){var b,d,c,e=this,a=e.items;if(a=a&&a.items)for(b=0,d=a.length;b<d;b++)c=a[b],c.isTab&&c.setRotation(g);e.rendered&&(e.resetItemMargins(),e.needsScroll=!0,e.updateLayout())},onRender:function(){var b=this,a=this.layout.overflowHandler;Ext.panel.Bar.prototype.onRender.call(this),Ext.isIE8&&b.vertical&&b.el.on({mousemove:b.onMouseMove,scope:b}),a&&"menu"===a.type&&a.menu.on("click","onOverflowMenuItemClick",b)},afterLayout:function(){this.adjustTabPositions(),Ext.panel.Bar.prototype.afterLayout.apply(this,arguments)},onAdd:function(b,c){var a=this.onTabContentChange;this.ensureActiveVisibleOnChange&&(b.barListeners=b.on({scope:this,destroyable:!0,glyphchange:a,iconchange:a,textchange:a})),Ext.panel.Bar.prototype.onAdd.call(this,b,c)},onAdded:function(b,c,a){b.isHeader&&this.addCls(b.baseCls+"-"+b.ui+"-tab-bar"),Ext.panel.Bar.prototype.onAdded.call(this,b,c,a)},onRemove:function(a,c){var b=this;b.ensureActiveVisibleOnChange&&(c||a.barListeners.destroy(),a.barListeners=null),a===b.previousTab&&(b.previousTab=null),Ext.panel.Bar.prototype.onRemove.call(this,a,c)},onRemoved:function(b){var a=this.ownerCt;a.isHeader&&this.removeCls(a.baseCls+"-"+a.ui+"-tab-bar"),Ext.panel.Bar.prototype.onRemoved.call(this,b)},onTabContentChange:function(a){a===this.activeTab&&this.ensureTabVisible(a)},afterComponentLayout:function(c){var d=this,b=d.needsScroll,a=d.layout.overflowHandler;Ext.panel.Bar.prototype.afterComponentLayout.apply(this,arguments),a&&b&&d.tooNarrow&&a.scrollToItem&&a.scrollToItem(d.activeTab),delete d.needsScroll},onMouseMove:function(g){var a,c,d=this,b=d._overTab;g.getTarget(".x-box-scroller")||(a=d.getTabInfoFromPoint(g.getXY()),(c=a.tab)!==b&&(b&&b.rendered&&(b.onMouseLeave(g),d._overTab=null),c?(c.onMouseEnter(g),d._overTab=c,c.disabled||d.el.setStyle("cursor","pointer")):d.el.setStyle("cursor","default")))},onMouseLeave:function(b){var a=this._overTab;a&&a.rendered&&a.onMouseLeave(b)},getTabInfoFromPoint:function(g){for(var x,b,a,p,y,j,h,d,r,l,k,n,m,s,q,z,c,A=this,w=A.items.items,e=w.length,o=A.layout.innerCt,u=o.getXY(),t=new Ext.util.Point(g[0],g[1]),v=0;v<e;v++)if(c=w[v],(x=c.lastBox)&&c.isTab&&(l=u[0]+x.x,k=u[1]-o.dom.scrollTop+x.y,n=x.width,m=x.height,b=new Ext.util.Region(k,l+n,k+m,l),b.contains(t))){(a=c.closeEl)&&(void 0===A._isTabReversed&&(A._isTabReversed=q=-1!==c.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),z=q?this._reverseDockNames[A.dock]:A.dock,d=a.getWidth(),r=a.getHeight(),y=A.getCloseXY(a,l,k,n,m,d,r,z),j=y[0],h=y[1],s=new Ext.util.Region(h,j+d,h+r,j),p=s.contains(t));break}return{tab:c,close:p}},getCloseXY:function(c,k,i,g,l,j,d,h){var b,a,e=c.getXY();return"right"===h?(b=k+g-(e[1]-i+d),a=i+(e[0]-k)):(b=k+(e[1]-i),a=i+k+l-e[0]-j),[b,a]},closeTab:function(c){var a,d=this,b=c.card,e=d.tabPanel;if(b&&!1===b.fireEvent("beforeclose",b))return!1;if(a=d.findNextActivatable(c),Ext.suspendLayouts(),a&&(e?e.setActiveTab(a.card):d.setActiveTab(a),a.focus()),e&&b){if(delete c.ownerCt,b.fireEvent("close",b),e.remove(b),b.ownerCt===e)return c.ownerCt=d,Ext.resumeLayouts(!0),!1;c.fireClose(),d.remove(c)}Ext.resumeLayouts(!0)},findNextActivatable:function(b){var a,c=this,d=c.previousTab;return b.active&&c.items.getCount()>1&&(a=d&&d!==b&&!d.disabled?d:b.next("tab[disabled=false]")||b.prev("tab[disabled=false]")),a||c.activeTab},setActiveTab:function(b,a){var c=this;b.disabled||b===c.activeTab||(c.activeTab&&(c.activeTab.destroyed?c.previousTab=null:(c.previousTab=c.activeTab,c.activeTab.deactivate(),c.deactivateFocusable(c.activeTab))),b.activate(),c.activateFocusable(b),c.activeTab=b,c.needsScroll=!0,a||(c.fireEvent("change",c,b,b.card),c.updateLayout()))},privates:{adjustTabPositions:function(){var g,b,e,c,j,h=this,a=h.items.items,d=a.length;if(!Ext.isIE8)for(j=h._getTabAdjustProp();d--;)g=a[d],e=g.el,b=g.lastBox,c=g.isTab?g.getActualRotation():0,1===c&&g.isVisible()?e.setStyle(j,b.x+b.width+"px"):2===c&&g.isVisible()&&e.setStyle(j,b.x-b.height+"px")},applyTargetCls:function(a){this.bodyTargetCls=a},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(h,g){var i,c,b,a,d=this;h.getTarget(".x-box-scroller")||(Ext.isIE8&&d.vertical?(a=d.getTabInfoFromPoint(h.getXY()),c=a.tab,b=a.close):(i=h.getTarget("."+Ext.tab.Tab.prototype.baseCls),c=i&&Ext.getCmp(i.id),b=c&&c.closeEl&&g===c.closeEl.dom),b&&h.preventDefault(),c&&c.isDisabled&&!c.isDisabled()&&(c.beforeClick(b),c.closable&&b?c.onCloseClick():d.doActivateTab(c)))},onOverflowMenuItemClick:function(h,d,g,b){var c=d&&d.masterComponent,a=this.layout.overflowHandler;c&&!c.isDisabled()&&(this.doActivateTab(c),a.menuTrigger&&a.menuTrigger.focus())},doActivateTab:function(a){var b=this.tabPanel;b?a.disabled||b.setActiveTab(a.card):this.setActiveTab(a)},onFocusableContainerFocus:function(c){var d,b=this;(d=b.mixins.focusablecontainer.onFocusableContainerFocus.call(b,c))&&d.isTab&&b.doActivateTab(d)},onFocusableContainerFocusEnter:function(c){var d,b=this;(d=b.mixins.focusablecontainer.onFocusableContainerFocusEnter.call(b,c))&&d.isTab&&b.doActivateTab(d)},focusChild:function(e,b){var d,c=this;d=c.mixins.focusablecontainer.focusChild.call(c,e,b),c.activateOnFocus&&d&&d.isTab&&c.doActivateTab(d)}}},0,["tabbar"],["component","box","container","tabbar"],{component:!0,box:!0,container:!0,tabbar:!0},["widget.tabbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.tab,"Bar"],0),Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],config:{tabBar:void 0,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:"x-tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var a,g=this,c=null!==g.activeTab?g.activeTab||0:null,e=g.dockedItems,h=g.header,d=g.tabBarHeaderPosition,b=g.getTabBar();g.layout=new Ext.layout.container.Card(Ext.apply({owner:g,deferredRender:g.deferredRender,itemCls:g.itemCls,activeItem:c},g.layout)),null!=d?(h=g.header=Ext.apply({},h),a=h.items=h.items?h.items.slice():[],h.itemPosition=d,a.push(b),h.hasTabBar=!0):(e=[].concat(g.dockedItems||[]),e.push(b),g.dockedItems=e),Ext.panel.Panel.prototype.initComponent.apply(this,arguments),(c=g.activeTab=g.getComponent(c))&&b.setActiveTab(c.tab,!0)},onRender:function(){var c,b=this.items.items,a=b.length;for(Ext.panel.Panel.prototype.onRender.apply(this,arguments),c=0;c<a;++c)b[c].getBind()},setActiveTab:function(a){var b,c=this;return Ext.isObject(a)&&!a.isComponent||(a=c.getComponent(a)),b=c.getActiveTab(),a?(Ext.suspendLayouts(),a.isComponent||(a=c.add(a)),b===a||!1===c.fireEvent("beforetabchange",c,a,b)?(Ext.resumeLayouts(!0),b):(c.activeTab=a,c.layout.setActiveItem(a),a=c.activeTab=c.layout.getActiveItem(),a&&a!==b?(c.tabBar.setActiveTab(a.tab),Ext.resumeLayouts(!0),b!==a&&c.fireEvent("tabchange",c,a,b)):Ext.resumeLayouts(!0),a)):b},setActiveItem:function(a){return this.setActiveTab(a)},getActiveTab:function(){var b=this,a=b.getComponent(b.activeTab);return a&&-1!==b.items.indexOf(a)?b.activeTab=a:b.activeTab=void 0,b.activeTab},applyTabBar:function(a){var c=this,b=null!=c.tabBarHeaderPosition?c.getHeaderPosition():c.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:c.ui,dock:b,tabRotation:c.getTabRotation(),vertical:"left"===b||"right"===b,plain:c.plain,tabStretchMax:c.getTabStretchMax(),tabPanel:c},a))},updateHeaderPosition:function(c,b){var a=this.getTabBar();a&&null!=this.tabBarHeaderPosition&&a.setDock(c),Ext.panel.Panel.prototype.updateHeaderPosition.call(this,c,b)},updateTabPosition:function(b){var a=this.getTabBar();a&&null==this.tabBarHeaderPosition&&a.setDock(b)},updateTabRotation:function(b){var a=this.getTabBar();a&&a.setTabRotation(b)},onAdd:function(h,e){var b,g=this,d=Ext.apply({},h.tabConfig),c=g.getTabBar(),a={xtype:"tab",title:h.title,icon:h.icon,iconCls:h.iconCls,glyph:h.glyph,ui:c.ui,card:h,disabled:h.disabled,closable:h.closable,hidden:h.hidden&&!h.hiddenByLayout,tooltip:h.tooltip,tabBar:c,tabPosition:c.dock,rotation:c.getTabRotation()};void 0!==h.closeText&&(a.closeText=h.closeText),d=Ext.applyIf(d,a),h.tab=g.tabBar.insert(e,d),h.ariaRole="tabpanel",b=h.ariaEl.dom,b?b.setAttribute("aria-labelledby",h.tab.id):(h.ariaRenderAttributes=h.ariaRenderAttributes||{},h.ariaRenderAttributes["aria-labelledby"]=h.tab.id),h.on({scope:g,enable:g.onItemEnable,disable:g.onItemDisable,beforeshow:g.onItemBeforeShow,iconchange:g.onItemIconChange,iconclschange:g.onItemIconClsChange,glyphchange:g.onItemGlyphChange,titlechange:g.onItemTitleChange}),h.isPanel&&(g.removePanelHeader&&(h.rendered?h.header&&h.header.hide():h.header=!1),h.isPanel&&g.border&&h.setBorder(!1)),g.rendered&&h.getBind(),g.rendered&&g.loader&&void 0===g.activeTab&&null!==g.layout.activeItem&&g.setActiveTab(0)},onMove:function(c,b,d){var a=this.getTabBar();Ext.panel.Panel.prototype.onMove.call(this,c,b,d),a.items.indexOf(c.tab)!==d&&a.move(c.tab,d)},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab)return this.setActiveTab(a),!1},onItemGlyphChange:function(a,b){a.tab.setGlyph(b)},onItemIconChange:function(b,a){b.tab.setIcon(a)},onItemIconClsChange:function(b,a){b.tab.setIconCls(a)},onItemTitleChange:function(a,b){a.tab.setText(b)},onRemove:function(b,c){var a=this;b.un({scope:a,enable:a.onItemEnable,disable:a.onItemDisable,beforeshow:a.onItemBeforeShow,iconchange:a.onItemIconChange,iconclschange:a.onItemIconClsChange,glyphchange:a.onItemGlyphChange,titlechange:a.onItemTitleChange}),b.tab&&!a.destroying&&b.tab.ownerCt===a.tabBar&&a.tabBar.remove(b.tab)},enable:function(){var c=this,a=null!==c.activeTab?c.activeTab||0:null,b=c.disabled;Ext.panel.Panel.prototype.enable.apply(this,arguments),b&&(a=a.isComponent?a:c.getComponent(a))&&c.getTabBar().setActiveTab(a.tab)},privates:{doRemove:function(d,b){var a,c=this;c.removingAll||c.destroying||1===c.items.getCount()?c.activeTab=null:d.tab&&-1!==(a=c.tabBar.items.indexOf(c.tabBar.findNextActivatable(d.tab)))&&c.setActiveTab(a),Ext.panel.Panel.prototype.doRemove.call(this,d,b),d.tab&&(delete d.tab.card,delete d.tab)}}},0,["tabpanel"],["component","box","container","panel","tabpanel"],{component:!0,box:!0,container:!0,panel:!0,tabpanel:!0},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0),Ext.cmd.derive("Ext.toolbar.Breadcrumb",Ext.Container,{isBreadcrumb:!0,baseCls:"x-breadcrumb",layout:{type:"hbox",align:"middle"},config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,showMenuIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:"x-breadcrumb",_btnCls:"x-breadcrumb-btn",_folderIconCls:"x-breadcrumb-icon-folder",_leafIconCls:"x-breadcrumb-icon-leaf",initComponent:function(){var c=this,b=c.layout,a=c.getOverflowHandler();"string"==typeof b&&(b={type:b}),a&&(b.overflowHandler=a),c.layout=b,c.defaultButtonUI=c.getButtonUI(),c._buttons=[],c.addCls([c._breadcrumbCls,c._breadcrumbCls+"-"+c.ui]),Ext.container.Container.prototype.initComponent.call(this)},doDestroy:function(){Ext.destroy(this._buttons),this.setStore(null),Ext.container.Container.prototype.doDestroy.call(this)},onRemove:function(a,b){Ext.container.Container.prototype.onRemove.call(this,a,b),delete a._breadcrumbNodeId},afterComponentLayout:function(){var b=this,a=b.layout.overflowHandler;Ext.container.Container.prototype.afterComponentLayout.apply(this,arguments),a&&b.tooNarrow&&a.scrollToItem&&a.scrollToItem(b.getSelection().get("depth"))},applySelection:function(b){return b=this.getStore()?"root"===b?this.getStore().getRoot():b:null},updateSelection:function(m,l){var d,e,b,q,t,c,g,a,j,u,o,s=this,p=s._buttons,h=[],r=Ext.ComponentQuery.query("[isCrumb]",s.getRefItems()).length,k=s._needsSync,n=s.getDisplayField();if(Ext.suspendLayouts(),m){for(c=m,u=m.get("depth"),t=u+1,o=u;c&&(j=c.getId(),a=p[o],k||!a||a._breadcrumbNodeId!==j);)g=c.get(n),a?a.setText(g):a=p[o]=Ext.create({isCrumb:!0,xtype:s.getUseSplitButtons()?"splitbutton":"button",ui:s.getButtonUI(),cls:s._btnCls+" "+s._btnCls+"-"+s.ui,text:g,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:s}),d=this.getShowIcons(),!1!==d&&(e=c.get("glyph"),q=c.get("icon"),b=c.get("iconCls"),e?(a.setGlyph(e),a.setIcon(null),a.setIconCls(b)):q?(a.setGlyph(null),a.setIconCls(null),a.setIcon(q)):b?(a.setGlyph(null),a.setIcon(null),a.setIconCls(b)):d?(a.setGlyph(null),a.setIcon(null),a.setIconCls((c.isLeaf()?s._leafIconCls:s._folderIconCls)+"-"+s.ui)):(a.setGlyph(null),a.setIcon(null),a.setIconCls(null))),a.setArrowVisible(c.hasChildNodes()),a._breadcrumbNodeId=c.getId(),c=c.parentNode,o--;if(t>r)h=p.slice(r,u+1),s.add(h);else for(o=r-1;o>=t;o--)s.remove(p[o],!1)}else for(o=0;o<p.length;o++)s.remove(p[o],!1);Ext.resumeLayouts(!0),s.fireEvent("selectionchange",s,m,l),s._shouldFireChangeEvent&&s.fireEvent("change",s,m,l),s._shouldFireChangeEvent=!0,s._needsSync=!1},applyUseSplitButtons:function(b,a){return this.rendered&&b!==a&&Ext.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render"),b},applyStore:function(a){return a&&(a=Ext.data.StoreManager.lookup(a)),a},updateStore:function(a,b){this._needsSync=!0,a&&!this.isConfiguring&&this.setSelection(a.getRoot())},privates:{_onButtonClick:function(a,b){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(a._breadcrumbNodeId))},_onMenuClick:function(c,a,b){a&&(a=this.getStore().getNodeById(a._breadcrumbNodeId),this.setSelection(a),(a=this._buttons[a.getDepth()])&&a.focus())},_onMenuBeforeShow:function(c){var o,b,l,j,e,m,n,h,p,k=this,d=k.getStore().getNodeById(c.ownerCmp._breadcrumbNodeId),g=k.getDisplayField(),a=k.getShowMenuIcons();if(!d.hasChildNodes())return!1;for(o=d.childNodes,j=[],e=0,h=o.length;e<h;e++)b=o[e],p={text:b.get(g),_breadcrumbNodeId:b.getId()},!1!==a&&(l=b.get("glyph"),m=b.get("icon"),n=b.get("iconCls"),l?(p.glyph=l,p.iconCls=n):m?p.icon=m:n?p.iconCls=n:a&&(p.iconCls=(b.isLeaf()?k._leafIconCls:k._folderIconCls)+"-"+k.ui)),j.push(p);c.removeAll(),c.add(j)}}},0,["breadcrumb"],["component","box","container","breadcrumb"],{component:!0,box:!0,container:!0,breadcrumb:!0},["widget.breadcrumb"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Breadcrumb"],0),Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1},0,["tbfill"],["component","box","tbfill"],{component:!0,box:!0,tbfill:!0},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0),Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:"x-toolbar-spacer",ariaRole:"presentation"},0,["tbspacer"],["component","box","tbspacer"],{component:!0,box:!0,tbspacer:!0},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0),Ext.cmd.derive("Ext.tree.Column",Ext.grid.column.Column,{tdCls:"x-grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:"x-tree-icon",checkboxCls:"x-tree-checkbox",elbowCls:"x-tree-elbow",expanderCls:"x-tree-expander",textCls:"x-tree-node-text",innerCls:"x-grid-cell-inner-treecolumn",customIconCls:"x-tree-icon-custom",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="glyph">','<span class="{baseIconCls}" ','<tpl if="glyphFontFamily">','style="font-family:{glyphFontFamily}"',"</tpl>",">{glyph}</span>","<tpl else>",'<tpl if="icon">','<img src="{blankUrl}"',"<tpl else>","<div","</tpl>",' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>',"</tpl>",'<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var a=this;a.rendererScope=a.scope,a.setupRenderer(),a.innerRenderer=a.renderer,a.renderer=a.treeRenderer,Ext.grid.column.Column.prototype.initComponent.call(this),a.scope=a,a.hasCustomRenderer=a.innerRenderer&&a.innerRenderer.length>1},
treeRenderer:function(i,a,e,b,c,j,h){var d,g=this,k=e.get("cls");return a&&k&&(a.tdCls+=" "+k),d=g.initTemplateRendererData(i,a,e,b,c,j,h),g.lookupTpl("cellTpl").apply(d)},initTemplateRendererData:function(n,a,g,b,e,o,l){for(var h,j,i,k=this,c=k.innerRenderer,d=g.data,m=g.parentNode,p=l.rootVisible,q=[];m&&(p||m.data.depth>0);)h=m.data,q[p?h.depth:h.depth-1]=m.isLastVisible()?0:1,m=m.parentNode;return a?a.iconCls=a.icon=a.glyph=null:a={},n=c?c.apply(k.rendererScope,arguments):n,j=a.glyph||d.glyph,j&&(j=Ext.Glyph.fly(j),i=j.fontFamily,j=j.character),{record:g,baseIconCls:k.iconCls,customIconCls:d.icon||d.iconCls?k.customIconCls:"",glyph:j,glyphFontFamily:i,iconCls:a.iconCls||d.iconCls,icon:a.icon||d.icon,checkboxCls:k.checkboxCls,checked:d.checked,elbowCls:k.elbowCls,expanderCls:k.expanderCls,textCls:k.textCls,leaf:d.leaf,expandable:g.isExpandable(),expanded:d.expanded,isLast:g.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:d.href,hrefTarget:d.hrefTarget,lines:q,metaData:a,childCls:k.getChildCls?k.getChildCls()+" ":"",value:n}},shouldUpdateCell:function(b,d){var a,g,e=this,c=0;if(e.hasCustomRenderer)return 1;if(d)for(a=d.length;c<a;++c){if(g=d[c],e.rowFields[g])return 1;if(e.uiFields[g])return 2}return Ext.grid.column.Column.prototype.shouldUpdateCell.call(this,b,d)}},0,["treecolumn"],["component","box","container","headercontainer","gridcolumn","treecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,treecolumn:!0},["widget.treecolumn"],0,[Ext.tree,"Column"],0),Ext.cmd.derive("Ext.tree.NavigationModel",Ext.grid.NavigationModel,{initKeyNav:function(a){var c=this,b=c.view.ownerGrid.columns;c.isTreeGrid=b&&b.length>1,Ext.grid.NavigationModel.prototype.initKeyNav.call(this,a),c.view.grid.on({columnschanged:c.onColumnsChanged,scope:c})},onKeyNavCreate:function(a){var b=this.onAsterisk;a.map.addBinding([{key:"8",shift:!0,handler:b,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:b,scope:this}])},onColumnsChanged:function(){this.isTreeGrid=this.view.ownerGrid.getVisibleColumnManager().getColumns().length>1},onCellClick:function(d,b,g,c,h,e,a){return Ext.grid.NavigationModel.prototype.onCellClick.call(this,d,b,g,c,h,e,a),!a.nodeToggled},onKeyLeft:function(d){var c=this,b=d.view,a=c.record;if(c.isTreeGrid&&!d.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyLeft.call(this,d);d.position.column.isTreeColumn&&a.isExpanded()?b.collapse(a):!(a=a.parentNode)||a.isRoot()&&!b.rootVisible||c.setPosition(a,null,d)},onKeyRight:function(c){var b=this,a=b.record;if(b.isTreeGrid&&!c.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyRight.call(this,c);a.isLeaf()||(c.position.column.isTreeColumn&&!a.isExpanded()?c.view.expand(a):a.isExpanded()&&(a=a.childNodes[0])&&b.setPosition(a))},onKeyEnter:function(a){null!=this.record.data.checked?this.toggleCheck(a):Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,a)},onKeySpace:function(a){null!=this.record.data.checked?this.toggleCheck(a):Ext.grid.NavigationModel.prototype.onKeySpace.call(this,a)},toggleCheck:function(a){this.view.onCheckChange(a)},onAsterisk:function(a){this.view.ownerGrid.expandAll()}},0,0,0,0,["view.navigation.tree"],0,[Ext.tree,"NavigationModel"],0),Ext.cmd.derive("Ext.tree.View",Ext.view.Table,{config:{selectionModel:{type:"treemodel"}},isTreeView:!0,loadingCls:"x-grid-tree-loading",expandedCls:"x-grid-tree-node-expanded",leafCls:"x-grid-tree-node-leaf",expanderSelector:".x-tree-expander",checkboxSelector:".x-tree-checkbox",expanderIconOverCls:"x-tree-expander-over",nodeAnimWrapCls:"x-tree-animator-wrap",ariaRole:"treegrid",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(c){var b=c.record,a=c.view;c.rowAttr["data-qtip"]=b.get("qtip")||"",c.rowAttr["data-qtitle"]=b.get("qtitle")||"",c.rowAttr["aria-level"]=b.getDepth()+1,b.isLeaf()?c.rowClasses.push(a.leafCls):b.isExpanded()?(c.rowClasses.push(a.expandedCls),c.rowAttr["aria-expanded"]=!0):c.rowAttr["aria-expanded"]=!1,b.isLoading()&&c.rowClasses.push(a.loadingCls)}}],initComponent:function(){var a=this;a.bufferedRenderer?a.animate=!1:void 0===a.initialConfig.animate&&(a.animate=Ext.enableFx),a.store=a.panel.getStore(),a.onRootChange(a.store.getRoot()),a.animQueue={},a.animWraps={},Ext.view.Table.prototype.initComponent.call(this),a.store.setRootVisible(a.rootVisible),a.addRowTpl(a.lookupTpl("treeRowTpl"))},onFillComplete:function(e,d,b){var c=this,a=c.store,g=a.indexOf(b[0]);d.triggerUIUpdate(),b.length&&-1!==g&&(c.onAdd(c.store,b,g),c.refreshPartner())},refreshPartner:function(){var a=this.lockingPartner;a&&a.refresh()},afterRender:function(){var a=this;Ext.view.Table.prototype.afterRender.call(this),a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut})},processUIEvent:function(a){return!a.getTarget("."+this.nodeAnimWrapCls,this.el)&&Ext.view.Table.prototype.processUIEvent.call(this,a)},setRootNode:function(a){this.node=a},getChecked:function(){var a=[];return this.node.cascade(function(b){b.get("checked")&&a.push(b)}),a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a,b){var c,e=this,d=e.getNode(a);return c=Ext.fly(d).insertSibling({role:"presentation",tag:"div",cls:e.nodeAnimWrapCls},"after"),{record:a,node:d,el:c,expanding:!1,collapsing:!1,animateEl:c,targetEl:c}},getAnimWrap:function(d,a){if(!this.animate)return null;var b=this.animWraps,c=b[d.internalId];if(!1!==a)for(;!c&&d;)(d=d.parentNode)&&(c=b[d.internalId]);return c},doAdd:function(b,g){var n,l,k,e,m,a,h=this,d=b[0],i=d.parentNode,j=h.all,c=h.getAnimWrap(i);return c&&c.expanding?(m=h.bufferRender(b,g,!0),a=m.children,i=c.record,l=c.targetEl,k=l.dom.childNodes,e=k.length,n=g-h.indexInStore(i)-1,!e||n>=e?l.appendChild(m.fragment,!0):Ext.fly(k[n]).insertSibling(a,"before",!0),j.insert(g,a),a):Ext.view.Table.prototype.doAdd.call(this,b,g)},onRemove:function(g,a,b){var e,c,h,d=this,j=d.hasListeners.remove;if(d.viewReady){if(e=0===d.store.getCount(),d.bufferedRenderer)return Ext.view.Table.prototype.onRemove.call(this,g,a,b);if(j&&(h=this.all.slice(b,b+a.length)),e)d.refresh();else{for(c=a.length-1,b+=c;c>=0;--c,--b)d.doRemove(a[c],b);d.refreshSizePending=!0}j&&d.fireItemMutationEvent("itemremove",a,b,h,d)}},doRemove:function(a,c){var h=this,d=h.all,b=h.getAnimWrap(a),g=d.item(c),e=g?g.dom:null;if(!e||!b||!b.collapsing)return Ext.view.Table.prototype.doRemove.call(this,a,c);b.targetEl.dom.insertBefore(e,b.targetEl.dom.firstChild),d.removeElement(c)},onBeforeExpand:function(d,b,c){var a,e=this;e.rendered&&e.all.getCount()&&e.animate&&e.getNode(d)&&(a=e.getAnimWrap(d,!1),a?a.collapsing&&a.targetEl.select(e.itemSelector).destroy():(a=e.animWraps[d.internalId]=e.createAnimWrap(d),a.animateEl.setHeight(0)),a.expanding=!0,a.collapsing=!1)},onExpand:function(i){var d,b,j,h=this,e=h.animQueue,a=i.getId(),c=h.getNode(i),g=c?h.indexOf(c):-1;if(h.singleExpand&&h.ensureSingleExpand(i),-1!==g){if(!(d=h.getAnimWrap(i,!1)))return i.isExpandingOrCollapsing=!1,void h.fireEvent("afteritemexpand",i,g,c);b=d.animateEl,j=d.targetEl,b.stopAnimation(),e[a]=!0,Ext.on("idle",function(){b.dom.style.height="0px"},null,{single:!0}),b.animate({from:{height:0},to:{height:j.dom.scrollHeight},duration:h.expandDuration,listeners:{afteranimate:function(){var k=j.dom.childNodes,l=Ext.Element.getActiveElement();k.length&&(j.contains(l)||(l=null),d.el.insertSibling(k,"before",!0),l&&Ext.fly(l).focus()),d.el.destroy(),h.animWraps[d.record.internalId]=e[a]=null}},callback:function(){i.isExpandingOrCollapsing=!1,h.destroyed||h.refreshSize(!0),h.fireEvent("afteritemexpand",i,g,c)}})}},onBeforeCollapse:function(e,b,c,h,d){var a,g=this;g.rendered&&g.all.getCount()&&(g.animate?e.isVisible()&&(a=g.getAnimWrap(e),a?a.expanding&&a.targetEl.select(this.itemSelector).destroy():a=g.animWraps[e.internalId]=g.createAnimWrap(e,c),a.expanding=!1,a.collapsing=!0,a.callback=h,a.scope=d):(g.onCollapseCallback=h,g.onCollapseScope=d))},onCollapse:function(d){var h,g=this,a=g.animQueue,i=d.getId(),e=g.getNode(d),c=e?g.indexOf(e):-1,b=g.getAnimWrap(d);if(g.all.getCount()&&d.isVisible()){if(!b)return d.isExpandingOrCollapsing=!1,g.fireEvent("afteritemcollapse",d,c,e),Ext.callback(g.onCollapseCallback,g.onCollapseScope),void(g.onCollapseCallback=g.onCollapseScope=null);h=b.animateEl,a[i]=!0,h.stopAnimation(),h.animate({to:{height:0},duration:g.collapseDuration,listeners:{afteranimate:function(){b.el.destroy(),g.animWraps[b.record.internalId]=a[i]=null}},callback:function(){d.isExpandingOrCollapsing=!1,g.destroyed||g.refreshSize(!0),g.fireEvent("afteritemcollapse",d,c,e),Ext.callback(b.callback,b.scope),b.callback=b.scope=null}})}},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(d,c,h,e){var a,g=this,b=!!g.animate;if(!b||!d.isExpandingOrCollapsing)return d.isLeaf()||(d.isExpandingOrCollapsing=b),Ext.suspendLayouts(),a=d.expand(c,h,e),Ext.resumeLayouts(!0),a},collapse:function(c,b,g,d){var e=this,a=!!e.animate;if(!a||!c.isExpandingOrCollapsing)return c.isLeaf()||(c.isExpandingOrCollapsing=a),c.collapse(b,g,d)},toggle:function(b,a,d,c){b.isExpanded()?this.collapse(b,a,d,c):this.expand(b,a,d,c)},onItemDblClick:function(a,g,c,h){var d=this,b=d.editingPlugin;Ext.view.Table.prototype.onItemDblClick.call(this,a,g,c,h),!d.toggleOnDblClick||!a.isExpandable()||b&&2===b.clicksToEdit||d.toggle(a)},onCellClick:function(a,c,b,i,j,h){var g=this,d=h.position.column;if(d.isTreeColumn)return h.getTarget(g.checkboxSelector,a)&&null!=b.get("checked")?(g.onCheckChange(h),d.stopSelection&&(h.stopSelection=!0)):h.getTarget(g.expanderSelector,a)&&b.isExpandable()&&(g.getNavigationModel().setPosition(h.position),g.toggle(b,h.ctrlKey),h.nodeToggled=!0),Ext.view.Table.prototype.onCellClick.call(this,a,c,b,i,j,h)},onCheckChange:function(g){var c,d=this,b=g.record,a=b.get("checked");c=1===a||!a,d.setChecked(b,c,g)},setChecked:function(c,p,s,d){var g,j,q,l,b,r,o,u=this,k=u.checkPropagationFlags[u.ownerGrid.checkPropagation.toLowerCase()],n=c.data.checked,h=!!u.ownerGrid.triStateCheckbox&&1,t=(!d||!1!==d.propagateCheck)&&1&k,a=(!d||!1!==d.checkParent)&&2&k,m=0;if(!1!==u.fireEvent("beforecheckchange",c,n,s)){if(1!==p&&t){for(b=c.childNodes,r=b.length,o=0;o<r;o++)u.setChecked(b[o],p,s,{checkParent:!1}),b[o].get("checked")===p&&m++;m!==r&&(p=!!m&&h)}if(c.get("data")!==p&&(c.set("checked",p,d),u.fireEvent("checkchange",c,p,s),a&&(g=c.parentNode)&&null!=(j=g.data.checked))){if(b=g.childNodes,r=b.length,p===h)j=h;else if(1===r)j=p;else{for(q=l=!1,o=0;!(q&&l)&o<r;o++)1===b[o].data.checked?q=l=!0:b[o].data.checked?q=!0:l=!0;j=q&&l?h:!!q}u.setChecked(g,j,s,{propagateCheck:!1})}}},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(a,c,d,e){var b=e&&e.getRootNode(),g=a&&a.getRootNode();Ext.view.Table.prototype.onBindStore.call(this,a,c,d,e),g!==b&&this.onRootChange(g,b)},onRootChange:function(d,a){var c=this,b=c.grid;a&&(c.rootListeners.destroy(),c.rootListeners=null),d&&(c.rootListeners=d.on({beforeexpand:c.onBeforeExpand,expand:c.onExpand,beforecollapse:c.onBeforeCollapse,collapse:c.onCollapse,destroyable:!0,scope:c}),b.addRelayers(d))},ensureSingleExpand:function(b){var a=b.parentNode;a&&a.eachChild(function(c){c!==b&&c.isExpanded()&&c.collapse()})},privates:{checkPropagationFlags:{none:0,down:1,up:2,both:3},deferRefreshForLoad:function(a){var b,d,c=Ext.view.Table.prototype.deferRefreshForLoad.call(this,a);return c&&(b=a.lastOptions,(d=b&&b.node)&&d!==a.getRoot()&&(c=!1)),c}}},0,["treeview"],["component","box","dataview","tableview","gridview","treeview"],{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0,treeview:!0},["widget.treeview"],0,[Ext.tree,"View"],0),Ext.cmd.derive("Ext.tree.Panel",Ext.panel.Table,{alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",treeCls:"x-tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,checkPropagation:"none",normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:"x-tree-arrows",linesCls:"x-tree-lines",noLinesCls:"x-tree-no-lines",autoWidthCls:"x-autowidth-table",constructor:function(a){a=a||{},void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=a.animate,delete a.animate,Ext.panel.Table.prototype.constructor.call(this,a)},initComponent:function(){var c,e,a,d=this,b=[d.treeCls];d.useArrows&&(b.push(d.arrowCls),d.lines=!1),d.lines?b.push(d.linesCls):d.useArrows||b.push(d.noLinesCls),c=d.applyStore(d.store),c.getRoot()||c.setRoot({}),c.setRootVisible(d.rootVisible),d.columns||(d.isAutoTree=e=!0),d.viewConfig=Ext.apply({rootVisible:d.rootVisible,animate:d.enableAnimations,singleExpand:d.singleExpand,node:c.getRoot(),navigationModel:"tree",isAutoTree:e},d.viewConfig),e&&(d.addCls(d.autoWidthCls),d.columns=[{xtype:"treecolumn",text:!0===d.hideHeaders?"Name":null,flex:1,dataIndex:d.displayField}]),d.cls&&b.push(d.cls),d.cls=b.join(" "),Ext.panel.Table.prototype.initComponent.call(this),a=d.getView(),d.relayEvents(a,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(a){var b=this;return Ext.isString(a)?a=b.store=Ext.StoreMgr.lookup(a):a&&a.isStore?b.root&&(a=b.store=Ext.data.StoreManager.lookup(a),a.setRoot(b.root),void 0!==b.folderSort&&(a.folderSort=b.folderSort,a.sort())):(a=Ext.apply({type:"tree",proxy:"memory"},a),b.root&&(a.root=b.root),b.fields?a.fields=b.fields:b.model&&(a.model=b.model),b.folderSort&&(a.folderSort=b.folderSort),a=b.store=Ext.StoreMgr.lookup(a)),a},setRoot:function(a){this.store.setRoot(a)},setStore:function(a){var b=this;a=b.applyStore(a),a.getRoot()||a.setRoot({}),a.setRootVisible(b.rootVisible),b.enableLocking?b.reconfigure(a):(b.view&&b.view.setRootNode(a.getRootNode()),b.bindStore(a))},bindStore:function(b,c){var d=this,a=b.getRoot();Ext.panel.Table.prototype.bindStore.apply(this,arguments),b.singleExpand=d.singleExpand,d.storeListeners=d.mon(b,{destroyable:!0,rootchange:d.onRootChange,scope:d}),d.storeRelayers=d.relayEvents(b,["beforeload","load"]),d.rootVisible||b.autoLoad||a.isExpanded()||a.isLoading()||(a.isLoaded()?(a.data.expanded=!0,b.onNodeExpand(a,a.childNodes)):!1===b.autoLoad||b.hasPendingLoad()||(a.data.expanded=!1,a.expand())),b.ownerTree=d,c||d.view.setRootNode(a)},addRelayers:function(b){var a=this;a.rootRelayers&&(a.rootRelayers.destroy(),a.rootRelayers=null),a.rootRelayers=a.mon(b,{destroyable:!0,append:a.createRelayer("itemappend"),remove:a.createRelayer("itemremove"),move:a.createRelayer("itemmove",[0,4]),insert:a.createRelayer("iteminsert"),beforeappend:a.createRelayer("beforeitemappend"),beforeremove:a.createRelayer("beforeitemremove"),beforemove:a.createRelayer("beforeitemmove"),beforeinsert:a.createRelayer("beforeiteminsert"),expand:a.createRelayer("itemexpand",[0,1]),collapse:a.createRelayer("itemcollapse",[0,1]),beforeexpand:a.createRelayer("beforeitemexpand",[0,1]),beforecollapse:a.createRelayer("beforeitemcollapse",[0,1]),scope:a})},unbindStore:function(){var b=this,a=b.store;a&&(Ext.panel.Table.prototype.unbindStore.call(this),Ext.destroy(b.storeListeners,b.storeRelayers,b.rootRelayers),delete a.ownerTree,a.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(b,a,d,c){return this.getView().expand(b,a,d,c||this)},collapseNode:function(b,a,d,c){return this.getView().collapse(b,a,d,c||this)},expandAll:function(d,b){var c=this,a=c.getRootNode();a&&(Ext.suspendLayouts(),a.expand(!0,d,b||c),Ext.resumeLayouts(!0))},collapseAll:function(e,c){var d=this,b=d.getRootNode(),a=d.getView();b&&(Ext.suspendLayouts(),c=c||d,a.rootVisible?b.collapse(!0,e,c):b.collapseChildren(!0,e,c),Ext.resumeLayouts(!0))},expandPath:function(o,q){var j,p,k,n,d,c,m,a,l,e=arguments,g=this,h=g.view,i=q&&q.field||g.store.model.idProperty,b=q&&q.separator||"/";return q&&"object"==typeof q?(i=q.field||g.store.model.idProperty,b=q.separator||"/",k=q.callback,n=q.scope,j=q.select,p=q.focus):(i=e[1]||g.store.model.idProperty,b=e[2]||"/",k=e[3],n=e[4]),Ext.isEmpty(o)?Ext.callback(k,n||g,[!1,null]):(m=o.split(b),a=!m[0],a?(d=g.getRootNode(),c=1):(d=g.store.findNode(i,m[0]),c=0),!d||a&&d.get(i)+""!==m[1]?Ext.callback(k,n||g,[!1,d]):(l=function(v){var r,s,u,t=this;if(++c===m.length)return j&&h.getSelectionModel().select(t),p&&h.getNavigationModel().setPosition(t,0),Ext.callback(k,n||g,[!0,t,h.getNode(t)]);for(s=0,r=v?v.length:0;s<r;s++)if(t=v[s],u=t.get(i),(u||0===u)&&(u=u.toString()),u===m[c])return t.expand(!1,l);t=this,Ext.callback(k,n||g,[!1,t,h.getNode(t)])},void d.expand(!1,l)))},ensureVisible:function(m,n){if(m.isEntity||"number"==typeof m)return Ext.panel.Table.prototype.ensureVisible.call(this,m,n);var j,l,k,a,i,b,d,g=this,h=n&&n.field||g.store.model.idProperty,e=n&&n.separator||"/",c=function(r,p,o,q){!q&&r&&p&&(q=p.findChild(h,i)),q?g.doEnsureVisible(q,n):Ext.callback(j,l||g,[!1,p])};n&&(j=n.callback,l=n.scope),k=m.split(e),a=!k[0],i=k.pop(),!k.length||a&&1===k.length?(b=g.store.findNode(h,i),b?(d=b.parentNode,d&&!d.isExpanded()&&d.expand(),c(!0,null,0,b)):Ext.callback(j,l||g,[!1,null])):g.expandPath(k.join(e),h,e,c)},selectPath:function(d,c,b,e,a){this.ensureVisible(d,{field:c,separator:b,select:!0,callback:e,scope:a})}},1,["treepanel"],["component","box","container","panel","tablepanel","treepanel"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,treepanel:!0},["widget.treepanel"],0,[Ext.tree,"Panel",Ext.tree,"TreePanel",Ext,"TreePanel"],0),Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:!1,constructor:function(b){var a,d,c,e=this;Ext.apply(e,b),e.ddGroup||(e.ddGroup="view-dd-zone-"+e.view.id),a=e.view,a.setItemsDraggable(!0),d=a.ownerCt,c=d?d.getTargetEl().dom:a.el.dom.parentNode,Ext.dd.DragZone.prototype.constructor.call(this,c),e.ddel=document.createElement("div"),e.ddel.className="x-grid-dd-wrap"},init:function(e,a,c){var d=this,b={itemmousedown:d.onItemMouseDown,scope:d};Ext.supports.Touch&&(b.itemlongpress=d.onItemLongPress,b.contextmenu={element:"el",fn:d.onViewContextMenu}),d.initTarget(e,a,c),d.view.mon(d.view,b)},onValidDrop:function(b,a,c){Ext.dd.DragZone.prototype.onValidDrop.call(this,b,a,c),b.el.contains(Ext.Element.getActiveElement())||b.el.focus()},onViewContextMenu:function(a){"mouse"!==a.pointerType&&a.preventDefault()},onItemMouseDown:function(b,a,d,c,g){"mouse"===g.pointerType&&this.onTriggerGesture(b,a,d,c,g)},onItemLongPress:function(b,a,d,c,g){"mouse"!==g.pointerType&&this.onTriggerGesture(b,a,d,c,g)},onTriggerGesture:function(b,a,g,c,h){var d;"touch"===h.pointerType&&"longpress"!==h.type||h.position&&h.position.isEqual(h.view.actionPosition)||this.isPreventDrag(h,a,g,c)||(d=b.getNavigationModel(),h.position?d.setPosition(h.position):d.setPosition(c),this.handleMouseDown(h))},isPreventDrag:function(d,a,c,b){return!!d.isInputFieldEvent},getDragData:function(c){var a=this.view,b=c.getTarget(a.getItemSelector());if(b)return{copy:a.copy||a.allowCopy&&c.ctrlKey,event:c,view:a,ddel:this.ddel,item:b,records:a.getSelectionModel().getSelection(),fromPosition:Ext.fly(b).getXY()}},onInitDrag:function(b,h){var e=this,g=e.dragData,d=g.view,a=d.getSelectionModel(),c=d.getRecord(g.item);return a.isSelected(c)||a.selectWithEvent(c,e.DDMInstance.mousedownEvent),g.records=a.getSelection(),Ext.fly(e.ddel).setHtml(e.getDragText()),e.proxy.update(e.ddel),e.onStartDrag(b,h),!0},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,1===a?"":"s")},getRepairXY:function(b,a){return!!a&&a.fromPosition}},1,0,0,0,0,0,[Ext.view,"DragZone"],0),Ext.cmd.derive("Ext.tree.ViewDragZone",Ext.view.DragZone,{isPreventDrag:function(b,a){return!1===a.get("allowDrag")||!!b.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,c=a.length,e=a[0].get(this.displayField),d="s",b=/\{\d+\}/,g=this.dragText;return b.test(g)&&1===c&&e?e:(e||(d=""),Ext.String.format(g,c,d))},afterRepair:function(){var g,d,h=this,a=h.view,i=a.selectedItemCls,b=h.dragData.records,e=b.length,c=Ext.fly;if(Ext.enableFx&&h.repairHighlight)for(g=0;g<e;g++)d=a.getNode(b[g]),c(d.firstChild).highlight(h.repairHighlightColor,{listeners:{beforeanimate:function(){a.isSelected(d)&&c(d).removeCls(i)},afteranimate:function(){a.isSelected(d)&&c(d).addCls(i)}}});h.dragging=!1}},0,0,0,0,0,0,[Ext.tree,"ViewDragZone"],0),Ext.cmd.derive("Ext.tree.ViewDropZone",Ext.view.DropZone,{allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:"x-tree-ddindicator",expandNode:function(b){var a=this.view;this.expandProcId=!1,b.isLeaf()||b.isExpanded()||(a.expand(b),this.expandProcId=!1)},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(g,b){var d,j=this.view,c=j.getRecord(b),h=g.getY(),k=c.isLeaf(),a=!1,i=Ext.fly(b).getRegion();return c.isRoot()?"append":this.appendOnly?!k&&"append":(this.allowParentInserts||(a=c.hasChildNodes()&&c.isExpanded()),d=(i.bottom-i.top)/(k?2:3),h>=i.top&&h<i.top+d?"before":!a&&(k||h>=i.bottom-d&&h<=i.bottom)?"after":"append")},isValidDropPoint:function(b,j,n,k,g){if(!b||!g.item)return!1;var c,h,o=this.view,l=o.getRecord(b),d=g.records,a=d.length,m=d.length;if(!(l&&j&&a))return!1;for(c=0;c<m;c++)if(h=d[c],h.isNode&&h.contains(l))return!1;return!("append"===j&&!1===l.get("allowDrop")||"append"!==j&&!1===l.parentNode.get("allowDrop")||Ext.Array.contains(d,l)||!1===o.fireEvent("nodedragover",l,j,g,k))},onNodeOver:function(a,i,g,c){var d=this.getPosition(g,a),b=this.dropNotAllowed,j=this.view,h=j.getRecord(a),k=this.getIndicator(),l=0;return this.cancelExpand(),"append"!==d||this.expandProcId||Ext.Array.contains(c.records,h)||h.isLeaf()||h.isExpanded()||this.queueExpand(h),this.isValidDropPoint(a,d,i,g,c)?(this.valid=!0,this.currentPosition=d,this.overRecord=h,k.setWidth(Ext.fly(a).getWidth()),l=Ext.fly(a).getY()-Ext.fly(j.el).getY()-1,"before"===d?(b=h.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between",k.showAt(0,l),i.proxy.show()):"after"===d?(b=h.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between",l+=Ext.fly(a).getHeight(),k.showAt(0,l),i.proxy.show()):(b="x-tree-drop-ok-append",k.hide())):this.valid=!1,this.currentCls=b,b},onNodeOut:function(d,a,c,b){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(a,c,b){return this.allowContainerDrops?this.dropAllowed:c.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(a,c,b){this.allowContainerDrops&&(this.valid=!0,this.currentPosition="append",this.overRecord=this.view.store.getRoot(),this.onNodeDrop(this.overRecord,a,c,b))},notifyOut:function(){Ext.view.DropZone.prototype.notifyOut.apply(this,arguments),this.cancelExpand()},handleNodeDrop:function(g,n,j){var c,e,m,h,d,l,o,q,p=this,a=p.view,k=n?n.parentNode:a.panel.getRootNode(),b=a.store.getModel();if(g.copy)for(c=g.records,g.records=[],e=0,m=c.length;e<m;e++)h=c[e],h.isNode?g.records.push(h.copy(void 0,!0)):g.records.push(new b(Ext.apply({},h.data)));p.cancelExpand(),"before"===j?(d=k.insertBefore,l=[null,n],n=k):"after"===j?(n.nextSibling?(d=k.insertBefore,l=[null,n.nextSibling]):(d=k.appendChild,l=[null]),n=k):(n.isExpanded()||n.isLoading()||(o=!0),d=n.appendChild,l=[null]),q=function(){var i,r;for(Ext.suspendLayouts(),e=0,m=g.records.length;e<m;e++)h=g.records[e],h.isNode||(h=h.isModel?new b(h.data,h.getId()):new b(h),g.records[e]=h),l[0]=h,d.apply(n,l);if(p.sortOnDrop&&n.sort(n.getTreeStore().getSorters().sortFn),Ext.resumeLayouts(!0),h=g.records[0],a.ownerGrid.ensureVisible(h),a.getNavigationModel().setPosition(h),Ext.enableFx&&p.dropHighlight)for(i=p.dropHighlightColor,e=0;e<m;e++)(r=a.getNode(g.records[e]))&&Ext.fly(r).highlight(i)},o?n.expand(!1,q):n.isLoading()?n.on({expand:q,delay:1,single:!0}):q()}},0,0,0,0,0,0,[Ext.tree,"ViewDropZone"],0),Ext.cmd.derive("Ext.tree.plugin.TreeViewDragDrop",Ext.plugin.Abstract,{dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(a){Ext.applyIf(a,{copy:this.copy,allowCopy:this.allowCopy}),a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){var a=this;a.dragZone=a.dropZone=Ext.destroy(a.dragZone,a.dropZone),Ext.plugin.Abstract.prototype.destroy.call(this)},onViewRender:function(a){var d,b=this;(a.ownerCt.ownerGrid||a.ownerCt).relayEvents(a,["beforedrop","drop"]),b.enableDrag&&(b.containerScroll&&(d=a.getEl()),b.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:a,ddGroup:b.dragGroup||b.ddGroup,dragText:b.dragText,displayField:b.displayField,repairHighlightColor:b.nodeHighlightColor,repairHighlight:b.nodeHighlightOnRepair,scrollEl:d},b.dragZone))),b.enableDrop&&(b.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:a,ddGroup:b.dropGroup||b.ddGroup,allowContainerDrops:b.allowContainerDrops,appendOnly:b.appendOnly,allowParentInserts:b.allowParentInserts,expandDelay:b.expandDelay,dropHighlightColor:b.nodeHighlightColor,dropHighlight:b.nodeHighlightOnDrop,sortOnDrop:b.sortOnDrop,containerScroll:b.containerScroll},b.dropZone)))}},0,0,0,0,["plugin.treeviewdragdrop"],0,[Ext.tree.plugin,"TreeViewDragDrop"],function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx}),Ext.cmd.derive("Ext.util.Cookies",Ext.Base,{singleton:!0,set:function(c,e){var a=arguments,i=arguments.length,b=i>2?a[2]:null,h=i>3?a[3]:"/",d=i>4?a[4]:null,g=i>5&&a[5];document.cookie=c+"="+escape(e)+(null===b?"":"; expires="+b.toUTCString())+(null===h?"":"; path="+h)+(null===d?"":"; domain="+d)+(!0===g?"; secure":"")},get:function(c){var e,d,b,g=document.cookie.split("; "),a=g.length;for(d=0;d<a;++d)if(e=g[d].split("="),e[0]===c)return b=e[1],b?unescape(b):"";return null},clear:function(a,b){this.get(a)&&(b=b||"/",document.cookie=a+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+b)}},0,0,0,0,0,0,[Ext.util,"Cookies"],0),Ext.cmd.derive("Ext.view.MultiSelectorSearch",Ext.panel.Panel,{layout:"fit",floating:!0,alignOnScroll:!1,minWidth:200,minHeight:200,border:!0,keyMap:{scope:"this",ESC:"hide"},platformConfig:{desktop:{resizable:!0},"tablet && rtl":{resizable:{handles:"sw"}},"tablet && !rtl":{resizable:{handles:"se"}}},defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var e,g,c,b,h=this,a=h.owner,d=h.makeItems();for(h.dockedItems=h.makeDockedItems(),h.items=d,b=Ext.data.StoreManager.lookup(h.store),e=d.length;e--;)if("grid"===(g=d[e]).xtype){g.store=b,g.isSearchGrid=!0,g.selModel=g.selModel||{type:"checkboxmodel",pruneRemoved:!1,listeners:{selectionchange:"onSelectionChange"}},Ext.merge(g,h.grid),g.columns||(g.hideHeaders=!0,g.columns=[{flex:1,dataIndex:h.field}]);break}if(Ext.panel.Panel.prototype.initComponent.call(this),c=h.getOwnerStore().getRange(),!a.convertSelectionRecord.$nullFn)for(e=c.length;e--;)c[e]=a.convertSelectionRecord(c[e]);b.isLoading()||0===b.loadCount&&!b.getCount()?b.on("load",function(){h.destroyed||h.selectRecords(c)},null,{single:!0}):h.selectRecords(c)},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){if(Ext.panel.Panel.prototype.afterShow.apply(this,arguments),!this.invocationEvent||"touch"!==this.invocationEvent.pointerType){var a=this.lookupReference("searchField");a&&a.focus()}this.invocationEvent=null},getSearchStore:function(){return this.lookupReference("searchGrid").getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:"x-form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{specialKey:"onSpecialKey",change:{fn:"onSearchChange",buffer:300}}}]},onSpecialKey:function(b,a){a.getKey()===a.TAB&&a.shiftKey&&(a.preventDefault(),this.owner.searchTool.focus())},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},getMatchingRecords:function(e){var g,b,a,d=this.lookupReference("searchGrid"),c=d.getStore(),h=[];for(e=Ext.isArray(e)?e:[e],g=0,a=e.length;g<a;g++)(b=c.getById(e[g].getId()))&&h.push(b);return h},selectRecords:function(b){var a=this.lookupReference("searchGrid");return b=this.getMatchingRecords(b),a.getSelectionModel().select(b)},deselectRecords:function(b){var a=this.lookupReference("searchGrid");return b=this.getMatchingRecords(b),a.getSelectionModel().deselect(b)},search:function(d){var c=this,a=c.searchFilter,b=c.getSearchStore().getFilters();d?(b.beginUpdate(),a?a.setValue(d):c.searchFilter=a=new Ext.util.Filter({id:"search",property:c.field,value:d}),b.add(a),b.endUpdate()):a&&b.remove(a)},privates:{onClearSearch:function(){var a=this.lookupReference("searchField");a.setValue(null),a.focus()},onSearchChange:function(c){var b=c.getValue();c.getTrigger("clear").setHidden(!b),this.search(b)},onSelectionChange:function(j,k){var m,d,b,h,c=this.owner,l=c.getStore(),e=l.data,g=0,a={};for(d=k.length;d--;)h=k[d],b=h.id,a[b]=h,e.containsKey(b)||(m||(m=[])).push(c.convertSearchRecord(h));for(d=e.length;d--;)h=e.getAt(d),a[h.id]||(g||(g=[])).push(h);(m||g)&&e.splice(e.length,g,m)}}},0,["multiselector-search"],["component","box","container","panel","multiselector-search"],{component:!0,box:!0,container:!0,panel:!0,"multiselector-search":!0},["widget.multiselector-search"],0,[Ext.view,"MultiSelectorSearch"],0),Ext.cmd.derive("Ext.view.MultiSelector",Ext.grid.Panel,{config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"✖",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var b,d,g=this,a=g.emptyText,c=g.getStore(),e=g.getSearch(),h=g.fieldTitle;b=e.store,d=b.isStore?b.getModel():b.model,c||(g.store={model:d}),a&&!g.viewConfig&&(g.viewConfig={deferEmptyText:!1,emptyText:a}),g.columns||(g.hideHeaders=!h,g.columns=[{text:h,dataIndex:g.fieldName,flex:1},g.makeRemoveRowColumn()]),Ext.grid.Panel.prototype.initComponent.call(this)},addTools:function(){var a=this;a.addTool({type:"plus",tooltip:a.addToolText,callback:"onShowSearch",scope:a}),a.searchTool=a.tools[a.tools.length-1]},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){var a=this;return{width:32,align:"center",menuDisabled:!0,tdCls:"x-multiselector-remove",processEvent:a.processRowEvent.bind(a),renderer:a.renderRemoveRow,updater:Ext.emptyFn,scope:a}},processRowEvent:function(g,i,j,a,h,d,b,k){var c=Ext.getBody();"click"!==d.type&&("keydown"!==d.type||d.keyCode!==d.SPACE&&d.keyCode!==d.ENTER)||(c.suspendFocusEvents(),this.store.remove(b),c.resumeFocusEvents(),this.searchPopup&&this.searchPopup.deselectRecords(b))},renderRemoveRow:function(){return'<span data-qtip="'+this.removeRowTip+'" role="button" tabIndex="0">'+this.removeRowText+"</span>"},onFocusLeave:function(a){this.onDismissSearch(),
Ext.grid.Panel.prototype.onFocusLeave.call(this,a)},afterComponentLayout:function(c,a,e,g){var d=this,b=d.searchPopup;Ext.grid.Panel.prototype.afterComponentLayout.call(this,c,a,e,g),b&&b.isVisible()&&b.showBy(d,d.popupAlign)},privates:{popupAlign:"tl-tr?",onGlobalScroll:function(a){this.owns(a.getElement())||this.onDismissSearch()},onDismissSearch:function(b){var a=this.searchPopup;!a||b&&(a.owns(b.getTarget())||this.owns(b.getTarget()))||(this.scrollListeners.destroy(),this.touchListeners.destroy(),a.hide())},onShowSearch:function(b,d,g){var e=this,a=e.searchPopup,c=e.getStore();a||(a=Ext.merge({owner:e,field:e.fieldName,floating:!0,alignOnScroll:!1},e.getSearch()),e.searchPopup=a=e.add(a),c.getCount()&&a.selectRecords(c.getRange())),a.invocationEvent=g,a.showBy(e,e.popupAlign),g&&"touch"===g.pointerType||a.lookupReference("searchField").focus(),e.scrollListeners=Ext.on({scroll:"onGlobalScroll",scope:e,destroyable:!0}),e.touchListeners=Ext.getDoc().on({translate:!1,touchstart:e.onDismissSearch,scope:e,delegated:!1,destroyable:!0})}}},0,["multiselector"],["component","box","container","panel","tablepanel","gridpanel","grid","multiselector"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0,multiselector:!0},["widget.multiselector"],0,[Ext.view,"MultiSelector"],0),Ext.cmd.derive("Ext.window.Toast",Ext.window.Window,{isToast:!0,cls:"x-toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"t",alwaysOnTop:!0,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3e3,stickOnClick:!1,stickWhileHover:!0,closeOnMouseDown:!1,closable:!1,focusable:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,constructor:function(a){a=a||{},void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=a.animate,delete a.animate,Ext.window.Window.prototype.constructor.call(this,a)},initComponent:function(){var a=this;a.autoClose&&null==a.closable&&(a.closable=!1),a.updateAlignment(a.align),a.setAnchor(a.anchor),Ext.window.Window.prototype.initComponent.call(this)},onRender:function(){var a=this;Ext.window.Window.prototype.onRender.apply(this,arguments),a.el.hover(a.onMouseEnter,a.onMouseLeave,a),a.closeOnMouseDown&&Ext.getDoc().on("mousedown",a.onDocumentMousedown,a)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(e){var c=this,a=c.alignmentProps,b=a[e],d=a.x[e];d&&c.useXAxis&&Ext.applyIf(c,d),Ext.applyIf(c,b)},getXposAlignedToAnchor:function(){var c=this,g=c.align,a=c.anchor,d=a&&a.el,b=c.el,e=0;return d&&d.dom&&(c.useXAxis?"br"===g||"tr"===g||"r"===g?(e+=d.getAnchorXY("r")[0],e-=b.getWidth()+c.paddingX):(e+=d.getAnchorXY("l")[0],e+=c.paddingX):e=b.getLeft()),e},getYposAlignedToAnchor:function(){var d=this,g=d.align,a=d.anchor,e=a&&a.el,b=d.el,c=0;return e&&e.dom&&(d.useXAxis?c=b.getTop():"br"===g||"bl"===g||"b"===g?(c+=e.getAnchorXY("b")[1],c-=b.getHeight()+d.paddingY):(c+=e.getAnchorXY("t")[1],c+=d.paddingY)),c},getXposAlignedToSibling:function(b){var c=this,e=c.align,a=c.el;return c.useXAxis?"tl"===e||"bl"===e||"l"===e?b.xPos+b.el.getWidth()+b.spacing:b.xPos-a.getWidth()-c.spacing:a.getLeft()},getYposAlignedToSibling:function(b){var d=this,e=d.align,a=d.el;return d.useXAxis?a.getTop():"tr"===e||"tl"===e||"t"===e?b.yPos+b.el.getHeight()+b.spacing:b.yPos-a.getHeight()-b.spacing},getToasts:function(){var a=this.anchor,c=this.anchorAlign,b=a.activeToasts||(a.activeToasts={});return b[c]||(b[c]=[])},setAnchor:function(a){var b,c=this;c.anchor=a="string"==typeof a?Ext.getCmp(a):a,a||(b=Ext.window.Toast,c.anchor=b.bodyAnchor||(b.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var a=this;a.stickOnClick&&a.body.on("click",function(){a.cancelAutoClose()}),a.autoClose&&(a.closeTask||(a.closeTask=new Ext.util.DelayedTask(a.doAutoClose,a))),a.el.setX(-1e4),a.el.setOpacity(1)},afterShow:function(){var d,a,c,g,e=this,b=e.el;Ext.window.Window.prototype.afterShow.apply(this,arguments),d=e.getToasts(),c=d.length,a=c&&d[c-1],a?(b.alignTo(a.el,e.siblingAlignment,[0,0]),e.xPos=e.getXposAlignedToSibling(a),e.yPos=e.getYposAlignedToSibling(a)):(b.alignTo(e.anchor.el,e.anchorAlign,[e.paddingX*e.paddingFactorX,e.paddingY*e.paddingFactorY],!1),e.xPos=e.getXposAlignedToAnchor(),e.yPos=e.getYposAlignedToAnchor()),Ext.Array.include(d,e),e.enableAnimations?(g=b.getXY(),b.animate({from:{x:g[0],y:g[1]},to:{x:e.xPos,y:e.yPos,opacity:1},easing:e.slideInAnimation,duration:e.slideInDuration,dynamic:!0,callback:e.afterPositioned,scope:e})):(e.setLocalXY(e.xPos,e.yPos),e.afterPositioned())},afterPositioned:function(){var a=this;a.destroying||a.destroyed||!a.autoClose||a.closeTask.delay(a.autoCloseDelay)},onDocumentMousedown:function(a){this.isVisible()&&!this.owns(a.getTarget())&&this.hide()},slideBack:function(){var e=this,b=e.anchor,g=b&&b.el,c=e.el,d=e.getToasts(),a=Ext.Array.indexOf(d,e);!e.isHiding&&c&&c.dom&&g&&g.isVisible()&&(a?(e.xPos=e.getXposAlignedToSibling(d[a-1]),e.yPos=e.getYposAlignedToSibling(d[a-1])):(e.xPos=e.getXposAlignedToAnchor(),e.yPos=e.getYposAlignedToAnchor()),e.stopAnimation(),e.enableAnimations&&c.animate({to:{x:e.xPos,y:e.yPos},easing:e.slideBackAnimation,duration:e.slideBackDuration,dynamic:!0}))},update:function(){var a=this;a.isVisible()&&(a.isHiding=!0,a.hide()),Ext.window.Window.prototype.update.apply(this,arguments),a.show()},cancelAutoClose:function(){var a=this.closeTask;a&&a.cancel()},doAutoClose:function(){var a=this;a.stickWhileHover&&a.mouseIsOver?a.closeOnMouseOut=!0:a.close()},doDestroy:function(){this.removeFromAnchor(),this.cancelAutoClose(),Ext.window.Window.prototype.doDestroy.call(this)},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){var a=this;a.mouseIsOver=!1,a.closeOnMouseOut&&(a.closeOnMouseOut=!1,a.close())},removeFromAnchor:function(){var b,a,c=this;if(c.anchor&&(b=c.getToasts(),-1!==(a=Ext.Array.indexOf(b,c))))for(Ext.Array.erase(b,a,1);a<b.length;a++)b[a].slideBack()},getFocusEl:Ext.emptyFn,hide:function(){var b=this,a=b.el;return b.cancelAutoClose(),b.isHiding?b.isFading||(Ext.window.Window.prototype.hide.apply(this,arguments),b.isHiding=!1):(b.isHiding=!0,b.isFading=!0,b.cancelAutoClose(),a&&(!b.enableAnimations||b.destroying||b.destroyed?(b.isFading=!1,b.hide(b.animateTarget,b.doClose,b)):a.fadeOut({opacity:0,easing:"easeIn",duration:b.hideDuration,listeners:{scope:b,afteranimate:function(){var c=this;c.isFading=!1,c.destroying||c.destroyed||c.hide(c.animateTarget,c.doClose,c)}}}))),b}},1,["toast"],["component","box","container","panel","window","toast"],{component:!0,box:!0,container:!0,panel:!0,window:!0,toast:!0},["widget.toast"],0,[Ext.window,"Toast"],function(a){Ext.toast=function(e,g,h,d){var b,c=e;return Ext.isString(e)&&(c={title:g,html:e,iconCls:d},h&&(c.align=h)),b=new a(c),b.show(),b}});
